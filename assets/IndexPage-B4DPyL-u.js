import{Q as Oa,_ as Aa,b as qd,a as Wd,h as Xd,c as Yd,s as $d,g as Zd}from"./_plugin-vue_export-helper-qdHrCMUH.js";import{a as er,g as qt,x as On,y as kr,m as Is,r as pt,e as Pe,w as _t,b as Hr,z as Nu,k as He,A as Fu,B as xr,i as Ia,j as Bu,p as Uu,C as zu,D as Ra,E as fs,o as An,F as Zr,G as Kd,H as Qd,I as _a,J as Vu,K as ws,L as Lr,s as Nt,M as Jd,N as Gu,O as jo,Q as Fr,R as qo,n as Hu,S as Vn,T as Oo,U as Zn,V as Cn,W as qu,X as Fn,Y as ef,Z as oa,_ as Ss,$ as Pa,a0 as tf,a1 as Mi,a2 as Ol,a3 as Oi,a4 as gs,a5 as rf,a6 as sa,h as nf,a7 as Ai,a8 as of,a9 as sf,aa as af,l as zn,ab as lf,ac as Ao,ad as Wu,ae as Xu,af as uf,ag as cf,ah as df,ai as Yu,aj as Dr,ak as $u,al as Ii,q as Br,am as Go,an as vt,t as at,v as Ke,ao as tn,ap as qn,aq as Gn,ar as Sn,as as Tr,at as Wn,au as ff,av as hf,aw as zr,ax as Eo,ay as pf,az as mf,aA as yf,aB as Zu,aC as gf,aD as vf,aE as bf,aF as _f,aG as xf,aH as vs,aI as Jn,aJ as Gr,aK as Ws,aL as La,aM as wf,aN as Ku,aO as fo,aP as Sf,aQ as Qu,aR as jf,aS as Kn,aT as Ju,aU as Al,aV as Ef,aW as Tf,aX as kf,aY as Cf,aZ as Mf,a_ as Ri,a$ as Of,b0 as Af,b1 as If,b2 as Rf}from"./index-DrcUBpde.js";const Pf=er({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(f,{slots:w,emit:T}){const{proxy:{$q:t}}=qt(),S=On(Is,kr);if(S===kr)return console.error("QHeader needs to be child of QLayout"),kr;const b=pt(parseInt(f.heightHint,10)),o=pt(!0),d=Pe(()=>f.reveal===!0||S.view.value.indexOf("H")!==-1||t.platform.is.ios&&S.isContainer.value===!0),s=Pe(()=>{if(f.modelValue!==!0)return 0;if(d.value===!0)return o.value===!0?b.value:0;const l=b.value-S.scroll.value.position;return l>0?l:0}),p=Pe(()=>f.modelValue!==!0||d.value===!0&&o.value!==!0),y=Pe(()=>f.modelValue===!0&&p.value===!0&&f.reveal===!0),m=Pe(()=>"q-header q-layout__section--marginal "+(d.value===!0?"fixed":"absolute")+"-top"+(f.bordered===!0?" q-header--bordered":"")+(p.value===!0?" q-header--hidden":"")+(f.modelValue!==!0?" q-layout--prevent-focus":"")),n=Pe(()=>{const l=S.rows.value.top,g={};return l[0]==="l"&&S.left.space===!0&&(g[t.lang.rtl===!0?"right":"left"]=`${S.left.size}px`),l[2]==="r"&&S.right.space===!0&&(g[t.lang.rtl===!0?"left":"right"]=`${S.right.size}px`),g});function r(l,g){S.update("header",l,g)}function c(l,g){l.value!==g&&(l.value=g)}function a({height:l}){c(b,l),r("size",l)}function h(l){y.value===!0&&c(o,!0),T("focusin",l)}_t(()=>f.modelValue,l=>{r("space",l),c(o,!0),S.animate()}),_t(s,l=>{r("offset",l)}),_t(()=>f.reveal,l=>{l===!1&&c(o,f.modelValue)}),_t(o,l=>{S.animate(),T("reveal",l)}),_t(S.scroll,l=>{f.reveal===!0&&c(o,l.direction==="up"||l.position<=f.revealOffset||l.position-l.inflectionPoint<100)});const u={};return S.instances.header=u,f.modelValue===!0&&r("size",b.value),r("space",f.modelValue),r("offset",s.value),Hr(()=>{S.instances.header===u&&(S.instances.header=void 0,r("size",0),r("offset",0),r("space",!1))}),()=>{const l=Nu(w.default,[]);return f.elevated===!0&&l.push(He("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),l.push(He(Oa,{debounce:0,onResize:a})),He("header",{class:m.value,style:n.value,onFocusin:h},l)}}}),Lf=er({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(f,{slots:w}){const{proxy:{$q:T}}=qt(),t=On(Is,kr);if(t===kr)return console.error("QPage needs to be a deep child of QLayout"),kr;if(On(Fu,kr)===kr)return console.error("QPage needs to be child of QPageContainer"),kr;const b=Pe(()=>{const d=(t.header.space===!0?t.header.size:0)+(t.footer.space===!0?t.footer.size:0);if(typeof f.styleFn=="function"){const s=t.isContainer.value===!0?t.containerHeight.value:T.screen.height;return f.styleFn(d,s)}return{minHeight:t.isContainer.value===!0?t.containerHeight.value-d+"px":T.screen.height===0?d!==0?`calc(100vh - ${d}px)`:"100vh":T.screen.height-d+"px"}}),o=Pe(()=>`q-page${f.padding===!0?" q-layout-padding":""}`);return()=>He("main",{class:o.value,style:b.value},xr(w.default))}}),Df=er({name:"QFooter",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(f,{slots:w,emit:T}){const{proxy:{$q:t}}=qt(),S=On(Is,kr);if(S===kr)return console.error("QFooter needs to be child of QLayout"),kr;const b=pt(parseInt(f.heightHint,10)),o=pt(!0),d=pt(Ia.value===!0||S.isContainer.value===!0?0:window.innerHeight),s=Pe(()=>f.reveal===!0||S.view.value.indexOf("F")!==-1||t.platform.is.ios&&S.isContainer.value===!0),p=Pe(()=>S.isContainer.value===!0?S.containerHeight.value:d.value),y=Pe(()=>{if(f.modelValue!==!0)return 0;if(s.value===!0)return o.value===!0?b.value:0;const x=S.scroll.value.position+p.value+b.value-S.height.value;return x>0?x:0}),m=Pe(()=>f.modelValue!==!0||s.value===!0&&o.value!==!0),n=Pe(()=>f.modelValue===!0&&m.value===!0&&f.reveal===!0),r=Pe(()=>"q-footer q-layout__section--marginal "+(s.value===!0?"fixed":"absolute")+"-bottom"+(f.bordered===!0?" q-footer--bordered":"")+(m.value===!0?" q-footer--hidden":"")+(f.modelValue!==!0?" q-layout--prevent-focus"+(s.value!==!0?" hidden":""):"")),c=Pe(()=>{const x=S.rows.value.bottom,k={};return x[0]==="l"&&S.left.space===!0&&(k[t.lang.rtl===!0?"right":"left"]=`${S.left.size}px`),x[2]==="r"&&S.right.space===!0&&(k[t.lang.rtl===!0?"left":"right"]=`${S.right.size}px`),k});function a(x,k){S.update("footer",x,k)}function h(x,k){x.value!==k&&(x.value=k)}function u({height:x}){h(b,x),a("size",x)}function l(){if(f.reveal!==!0)return;const{direction:x,position:k,inflectionPoint:E}=S.scroll.value;h(o,x==="up"||k-E<100||S.height.value-p.value-k-b.value<300)}function g(x){n.value===!0&&h(o,!0),T("focusin",x)}_t(()=>f.modelValue,x=>{a("space",x),h(o,!0),S.animate()}),_t(y,x=>{a("offset",x)}),_t(()=>f.reveal,x=>{x===!1&&h(o,f.modelValue)}),_t(o,x=>{S.animate(),T("reveal",x)}),_t([b,S.scroll,S.height],l),_t(()=>t.screen.height,x=>{S.isContainer.value!==!0&&h(d,x)});const v={};return S.instances.footer=v,f.modelValue===!0&&a("size",b.value),a("space",f.modelValue),a("offset",y.value),Hr(()=>{S.instances.footer===v&&(S.instances.footer=void 0,a("size",0),a("offset",0),a("space",!1))}),()=>{const x=Bu(w.default,[He(Oa,{debounce:0,onResize:u})]);return f.elevated===!0&&x.push(He("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),He("footer",{class:r.value,style:c.value,onFocusin:g},x)}}}),Nf=er({name:"QPageContainer",setup(f,{slots:w}){const{proxy:{$q:T}}=qt(),t=On(Is,kr);if(t===kr)return console.error("QPageContainer needs to be child of QLayout"),kr;Uu(Fu,!0);const S=Pe(()=>{const b={};return t.header.space===!0&&(b.paddingTop=`${t.header.size}px`),t.right.space===!0&&(b[`padding${T.lang.rtl===!0?"Left":"Right"}`]=`${t.right.size}px`),t.footer.space===!0&&(b.paddingBottom=`${t.footer.size}px`),t.left.space===!0&&(b[`padding${T.lang.rtl===!0?"Right":"Left"}`]=`${t.left.size}px`),b});return()=>He("div",{class:"q-page-container",style:S.value},xr(w.default))}}),ts=zu("app",()=>{const f=pt("pen"),w=pt("#ff0000"),T=pt(50),t=pt(50),S=pt(new URL("/card-generator/assets/default-avatar-rT1zdTCV.png",import.meta.url).href),b=pt(20),o=pt(100),d=pt("KENTO");return{tool:f,bgColor:w,penSize:T,eraserSize:t,avatarImage:S,avatarBorderSize:b,avatarSize:o,name:d}}),Rs=zu("tools",()=>{const{t:f}=Ra(),w=Pe(()=>[{value:"pen",icon:"mdi-pencil",label:f("tools.pen.title")},{value:"eraser",icon:"mdi-eraser",label:f("tools.eraser.title")},{value:"avatar",icon:"mdi-image",label:f("tools.avatar.title")},{value:"bg",icon:"mdi-format-color-fill",label:f("tools.color.title")},{value:"name",icon:"mdi-account",label:f("tools.name.title")}]),T=Pe(()=>[{value:"download",icon:"mdi-download",label:f("actions.download"),action:()=>fs.emit("download")},{value:"downloadLayer",icon:"mdi-download-multiple",label:f("actions.downloadLayer"),action:()=>fs.emit("downloadLayer")}]),t=Pe(()=>[{value:"undo",icon:"mdi-undo",label:f("actions.undo"),action:()=>fs.emit("undo")},{value:"redo",icon:"mdi-redo",label:f("actions.redo"),action:()=>fs.emit("redo")},{value:"clear",icon:"mdi-delete",label:f("actions.clear"),action:()=>fs.emit("clear")}]),S=10,b=50,o=10,d=50,s=1,p=50,y=10,m=200,n=new URL("/card-generator/assets/avatar-OMfVv9Hn.png",import.meta.url).href;return{tools:w,actions:T,penActions:t,PEN_SIZE_MIN:S,PEN_SIZE_MAX:b,ERASER_SIZE_MIN:o,ERASER_SIZE_MAX:d,AVATAR_BORDER_SIZE_MIN:s,AVATAR_BORDER_SIZE_MAX:p,AVATAR_SIZE_MIN:y,AVATAR_SIZE_MAX:m,DEFAULT_AVATAR:n}});function Ff(f){return Kd()?(Qd(f),!0):!1}const Bf=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;function Uf(f){return Array.isArray(f)?f:[f]}function zf(f){return qt()}function Vf(f,w=!0,T){zf()?An(f,T):w?f():Zr(f)}const ec=Bf?window:void 0;function Ho(f){var w;const T=Vu(f);return(w=T?.$el)!=null?w:T}function Gf(){const f=_a(!1),w=qt();return w&&An(()=>{f.value=!0},w),f}function Hf(f){const w=Gf();return Pe(()=>(w.value,!!f()))}function qf(f,w,T={}){const{window:t=ec,...S}=T;let b;const o=Hf(()=>t&&"ResizeObserver"in t),d=()=>{b&&(b.disconnect(),b=void 0)},s=Pe(()=>{const m=Vu(f);return Array.isArray(m)?m.map(n=>Ho(n)):[Ho(m)]}),p=_t(s,m=>{if(d(),o.value&&t){b=new ResizeObserver(w);for(const n of m)n&&b.observe(n,S)}},{immediate:!0,flush:"post"}),y=()=>{d(),p()};return Ff(y),{isSupported:o,stop:y}}function Wf(f,w={width:0,height:0},T={}){const{window:t=ec,box:S="content-box"}=T,b=Pe(()=>{var m,n;return(n=(m=Ho(f))==null?void 0:m.namespaceURI)==null?void 0:n.includes("svg")}),o=_a(w.width),d=_a(w.height),{stop:s}=qf(f,([m])=>{const n=S==="border-box"?m.borderBoxSize:S==="content-box"?m.contentBoxSize:m.devicePixelContentBoxSize;if(t&&b.value){const r=Ho(f);if(r){const c=r.getBoundingClientRect();o.value=c.width,d.value=c.height}}else if(n){const r=Uf(n);o.value=r.reduce((c,{inlineSize:a})=>c+a,0),d.value=r.reduce((c,{blockSize:a})=>c+a,0)}else o.value=m.contentRect.width,d.value=m.contentRect.height},T);Vf(()=>{const m=Ho(f);m&&(o.value="offsetWidth"in m?m.offsetWidth:w.width,d.value="offsetHeight"in m?m.offsetHeight:w.height)});const p=_t(()=>Ho(f),m=>{o.value=m?w.width:0,d.value=m?w.height:0});function y(){s(),p()}return{width:o,height:d,stop:y}}class Xf{constructor(w=10,T,t){this.images=new Yf(w,T,t)}undo(){this.images.prev(),this.images.show()}redo(){this.images.next(),this.images.show()}capture(){this.images.capture()}}class Yf{constructor(w,T,t){this.amount=w,this.layer=T,this.center=t,this.img=[],this.current=0,this.img[0]=this.layer.get()}capture(){this.img.splice(this.current+1),this.img[this.img.length]=this.layer.get(),this.img.length>this.amount&&this.img.shift(),this.current=this.img.length-1}prev(){this.current>0&&this.current--}next(){this.current<this.img.length-1&&this.current++}show(){this.layer.clear(),this.layer.image(this.img[this.current],-this.center.x,-this.center.y),this.layer.redraw()}}var Xs=function(f,w){return f<w?-1:f>w?1:0},Il=function(f){return f.reduce(function(w,T){return w+T},0)},$f=function(){function f(T){this.colors=T}var w=f.prototype;return w.palette=function(){return this.colors},w.map=function(T){return T},f}(),Zf=function(){function f(b,o,d){return(b<<10)+(o<<5)+d}function w(b){var o=[],d=!1;function s(){o.sort(b),d=!0}return{push:function(p){o.push(p),d=!1},peek:function(p){return d||s(),p===void 0&&(p=o.length-1),o[p]},pop:function(){return d||s(),o.pop()},size:function(){return o.length},map:function(p){return o.map(p)},debug:function(){return d||s(),o}}}function T(b,o,d,s,p,y,m){var n=this;n.r1=b,n.r2=o,n.g1=d,n.g2=s,n.b1=p,n.b2=y,n.histo=m}function t(){this.vboxes=new w(function(b,o){return Xs(b.vbox.count()*b.vbox.volume(),o.vbox.count()*o.vbox.volume())})}function S(b,o){if(o.count()){var d=o.r2-o.r1+1,s=o.g2-o.g1+1,p=Math.max.apply(null,[d,s,o.b2-o.b1+1]);if(o.count()==1)return[o.copy()];var y,m,n,r,c=0,a=[],h=[];if(p==d)for(y=o.r1;y<=o.r2;y++){for(r=0,m=o.g1;m<=o.g2;m++)for(n=o.b1;n<=o.b2;n++)r+=b[f(y,m,n)]||0;a[y]=c+=r}else if(p==s)for(y=o.g1;y<=o.g2;y++){for(r=0,m=o.r1;m<=o.r2;m++)for(n=o.b1;n<=o.b2;n++)r+=b[f(m,y,n)]||0;a[y]=c+=r}else for(y=o.b1;y<=o.b2;y++){for(r=0,m=o.r1;m<=o.r2;m++)for(n=o.g1;n<=o.g2;n++)r+=b[f(m,n,y)]||0;a[y]=c+=r}return a.forEach(function(u,l){h[l]=c-u}),function(u){var l,g,v,x,k,E=u+"1",j=u+"2",C=0;for(y=o[E];y<=o[j];y++)if(a[y]>c/2){for(v=o.copy(),x=o.copy(),k=(l=y-o[E])<=(g=o[j]-y)?Math.min(o[j]-1,~~(y+g/2)):Math.max(o[E],~~(y-1-l/2));!a[k];)k++;for(C=h[k];!C&&a[k-1];)C=h[--k];return v[j]=k,x[E]=v[j]+1,[v,x]}}(p==d?"r":p==s?"g":"b")}}return T.prototype={volume:function(b){var o=this;return o._volume&&!b||(o._volume=(o.r2-o.r1+1)*(o.g2-o.g1+1)*(o.b2-o.b1+1)),o._volume},count:function(b){var o=this,d=o.histo;if(!o._count_set||b){var s,p,y,m=0;for(s=o.r1;s<=o.r2;s++)for(p=o.g1;p<=o.g2;p++)for(y=o.b1;y<=o.b2;y++)m+=d[f(s,p,y)]||0;o._count=m,o._count_set=!0}return o._count},copy:function(){var b=this;return new T(b.r1,b.r2,b.g1,b.g2,b.b1,b.b2,b.histo)},avg:function(b){var o=this,d=o.histo;if(!o._avg||b){var s,p,y,m,n=0,r=0,c=0,a=0;if(o.r1===o.r2&&o.g1===o.g2&&o.b1===o.b2)o._avg=[o.r1<<3,o.g1<<3,o.b1<<3];else{for(p=o.r1;p<=o.r2;p++)for(y=o.g1;y<=o.g2;y++)for(m=o.b1;m<=o.b2;m++)n+=s=d[f(p,y,m)]||0,r+=s*(p+.5)*8,c+=s*(y+.5)*8,a+=s*(m+.5)*8;o._avg=n?[~~(r/n),~~(c/n),~~(a/n)]:[~~(8*(o.r1+o.r2+1)/2),~~(8*(o.g1+o.g2+1)/2),~~(8*(o.b1+o.b2+1)/2)]}}return o._avg},contains:function(b){var o=this,d=b[0]>>3;return gval=b[1]>>3,bval=b[2]>>3,d>=o.r1&&d<=o.r2&&gval>=o.g1&&gval<=o.g2&&bval>=o.b1&&bval<=o.b2}},t.prototype={push:function(b){this.vboxes.push({vbox:b,color:b.avg()})},palette:function(){return this.vboxes.map(function(b){return b.color})},size:function(){return this.vboxes.size()},map:function(b){for(var o=this.vboxes,d=0;d<o.size();d++)if(o.peek(d).vbox.contains(b))return o.peek(d).color;return this.nearest(b)},nearest:function(b){for(var o,d,s,p=this.vboxes,y=0;y<p.size();y++)((d=Math.sqrt(Math.pow(b[0]-p.peek(y).color[0],2)+Math.pow(b[1]-p.peek(y).color[1],2)+Math.pow(b[2]-p.peek(y).color[2],2)))<o||o===void 0)&&(o=d,s=p.peek(y).color);return s},forcebw:function(){var b=this.vboxes;b.sort(function(p,y){return Xs(Il(p.color),Il(y.color))});var o=b[0].color;o[0]<5&&o[1]<5&&o[2]<5&&(b[0].color=[0,0,0]);var d=b.length-1,s=b[d].color;s[0]>251&&s[1]>251&&s[2]>251&&(b[d].color=[255,255,255])}},{quantize:function(b,o){if(!Number.isInteger(o)||o<1||o>256)throw new Error("Invalid maximum color count. It must be an integer between 1 and 256.");if(!b.length||o<2||o>256||!b.length||o<2||o>256)return!1;for(var d=[],s=new Set,p=0;p<b.length;p++){var y=b[p],m=y.join(",");s.has(m)||(s.add(m),d.push(y))}if(d.length<=o)return new $f(d);var n=function(l){var g,v=new Array(32768);return l.forEach(function(x){g=f(x[0]>>3,x[1]>>3,x[2]>>3),v[g]=(v[g]||0)+1}),v}(b);n.forEach(function(){});var r=function(l,g){var v,x,k,E=1e6,j=0,C=1e6,L=0,A=1e6,P=0;return l.forEach(function(R){(v=R[0]>>3)<E?E=v:v>j&&(j=v),(x=R[1]>>3)<C?C=x:x>L&&(L=x),(k=R[2]>>3)<A?A=k:k>P&&(P=k)}),new T(E,j,C,L,A,P,g)}(b,n),c=new w(function(l,g){return Xs(l.count(),g.count())});function a(l,g){for(var v,x=l.size(),k=0;k<1e3;){if(x>=g||k++>1e3)return;if((v=l.pop()).count()){var E=S(n,v),j=E[0],C=E[1];if(!j)return;l.push(j),C&&(l.push(C),x++)}else l.push(v),k++}}c.push(r),a(c,.75*o);for(var h=new w(function(l,g){return Xs(l.count()*l.volume(),g.count()*g.volume())});c.size();)h.push(c.pop());a(h,o);for(var u=new t;h.size();)u.push(h.pop());return u}}}().quantize,tc=function(f){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.width=this.canvas.width=f.naturalWidth,this.height=this.canvas.height=f.naturalHeight,this.context.drawImage(f,0,0,this.width,this.height)};tc.prototype.getImageData=function(){return this.context.getImageData(0,0,this.width,this.height)};var Vo=function(){};Vo.prototype.getColor=function(f,w){return w===void 0&&(w=10),this.getPalette(f,5,w)[0]},Vo.prototype.getPalette=function(f,w,T){var t=function(d){var s=d.colorCount,p=d.quality;if(s!==void 0&&Number.isInteger(s)){if(s===1)throw new Error("colorCount should be between 2 and 20. To get one color, call getColor() instead of getPalette()");s=Math.max(s,2),s=Math.min(s,20)}else s=10;return(p===void 0||!Number.isInteger(p)||p<1)&&(p=10),{colorCount:s,quality:p}}({colorCount:w,quality:T}),S=new tc(f),b=function(d,s,p){for(var y,m,n,r,c,a=d,h=[],u=0;u<s;u+=p)m=a[0+(y=4*u)],n=a[y+1],r=a[y+2],((c=a[y+3])===void 0||c>=125)&&(m>250&&n>250&&r>250||h.push([m,n,r]));return h}(S.getImageData().data,S.width*S.height,t.quality),o=Zf(b,t.colorCount);return o?o.palette():null},Vo.prototype.getColorFromUrl=function(f,w,T){var t=this,S=document.createElement("img");S.addEventListener("load",function(){var b=t.getPalette(S,5,T);w(b[0],f)}),S.src=f},Vo.prototype.getImageData=function(f,w){var T=new XMLHttpRequest;T.open("GET",f,!0),T.responseType="arraybuffer",T.onload=function(){if(this.status==200){var t=new Uint8Array(this.response);i=t.length;for(var S=new Array(i),b=0;b<t.length;b++)S[b]=String.fromCharCode(t[b]);var o=S.join(""),d=window.btoa(o);w("data:image/png;base64,"+d)}},T.send()},Vo.prototype.getColorAsync=function(f,w,T){var t=this;this.getImageData(f,function(S){var b=document.createElement("img");b.addEventListener("load",function(){var o=t.getPalette(b,5,T);w(o[0],this)}),b.src=S})};class Kf{constructor(w,T,t){this.layer=w,this.ctx=this.layer.canvas.getContext("2d"),this.x=0,this.y=0,this.ratio=0,this.image=null,this.borderSize=20,this.size=1,this.color=null,this.colorPalette=null,this.dragging=!1,this.dragOffsetX=0,this.dragOffsetY=0,this.borderCache=null,this.lastBorderSize=-1,this.lastSize=-1,this.layer.imageMode(t.CENTER),this.CANVAS_SIZE=T,this.x=this.CANVAS_SIZE.WIDTH/2,this.y=this.CANVAS_SIZE.HEIGHT/2,this.scale=1,this.p5=t}set(){const w=new Vo;this.color=w.getColor(this.image.elt),this.colorPalette=w.getPalette(this.image.elt),this.ratio=Math.min(this.CANVAS_SIZE.WIDTH/this.image.width,this.CANVAS_SIZE.HEIGHT/this.image.height),this.borderCache=null,this.lastBorderSize=-1,this.lastSize=-1,this.draw()}createBorderCache(){if(!this.image||this.borderCache&&this.lastBorderSize===this.borderSize&&this.lastSize===this.size)return;const w=this.image.width*this.ratio*this.size,T=this.image.height*this.ratio*this.size;this.borderCache=this.p5.createGraphics(Math.ceil(w+this.borderSize*2),Math.ceil(T+this.borderSize*2));const t=this.borderSize,S=36,b=this.borderCache.width/2,o=this.borderCache.height/2;for(let s=0;s<360;s+=360/S){const p=t*Math.sin(Math.PI*2*s/360),y=t*Math.cos(Math.PI*2*s/360);this.borderCache.push(),this.borderCache.imageMode(this.p5.CENTER),this.borderCache.image(this.image,b+p,o+y,w,T),this.borderCache.pop()}const d=this.borderCache.canvas.getContext("2d").globalCompositeOperation;this.borderCache.canvas.getContext("2d").globalCompositeOperation="source-in",this.borderCache.fill("white"),this.borderCache.noStroke(),this.borderCache.rect(0,0,this.borderCache.width,this.borderCache.height),this.borderCache.canvas.getContext("2d").globalCompositeOperation="source-over",this.borderCache.push(),this.borderCache.imageMode(this.p5.CENTER),this.borderCache.image(this.image,b,o,w,T),this.borderCache.pop(),this.borderCache.canvas.getContext("2d").globalCompositeOperation=d,this.lastBorderSize=this.borderSize,this.lastSize=this.size}draw(){this.layer.clear(),this.image&&(this.createBorderCache(),this.borderCache&&(this.layer.imageMode(this.p5.CENTER),this.layer.image(this.borderCache,this.x,this.y)))}drag(w,T){this.x=w+this.dragOffsetX,this.y=T+this.dragOffsetY}}var lo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Da(f){return f&&f.__esModule&&Object.prototype.hasOwnProperty.call(f,"default")?f.default:f}function Na(f){if(Object.prototype.hasOwnProperty.call(f,"__esModule"))return f;var w=f.default;if(typeof w=="function"){var T=function t(){return this instanceof t?Reflect.construct(w,arguments,this.constructor):w.apply(this,arguments)};T.prototype=w.prototype}else T={};return Object.defineProperty(T,"__esModule",{value:!0}),Object.keys(f).forEach(function(t){var S=Object.getOwnPropertyDescriptor(f,t);Object.defineProperty(T,t,S.get?S:{enumerable:!0,get:function(){return f[t]}})}),T}function uo(f){throw new Error('Could not dynamically require "'+f+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ia={exports:{}};/*! p5.js v1.11.8 June 05, 2025 */var Rl;function Qf(){return Rl||(Rl=1,function(f,w){(function(T){f.exports=T()})(function(){var T;return function t(S,b,o){function d(y,m){if(!b[y]){if(!S[y]){var n=typeof uo=="function"&&uo;if(!m&&n)return n(y,!0);if(s)return s(y,!0);throw(m=new Error("Cannot find module '"+y+"'")).code="MODULE_NOT_FOUND",m}n=b[y]={exports:{}},S[y][0].call(n.exports,function(r){return d(S[y][1][r]||r)},n,n.exports,t,S,b,o)}return b[y].exports}for(var s=typeof uo=="function"&&uo,p=0;p<o.length;p++)d(o[p]);return d}({1:[function(t,S,b){b.byteLength=function(a){var a=n(a),c=a[0],a=a[1];return 3*(c+a)/4-a},b.toByteArray=function(r){var c,a,u=n(r),h=u[0],u=u[1],l=new s(function(x,k){return 3*(x+k)/4-k}(h,u)),g=0,v=0<u?h-4:h;for(a=0;a<v;a+=4)c=d[r.charCodeAt(a)]<<18|d[r.charCodeAt(a+1)]<<12|d[r.charCodeAt(a+2)]<<6|d[r.charCodeAt(a+3)],l[g++]=c>>16&255,l[g++]=c>>8&255,l[g++]=255&c;return u===2&&(c=d[r.charCodeAt(a)]<<2|d[r.charCodeAt(a+1)]>>4,l[g++]=255&c),u===1&&(c=d[r.charCodeAt(a)]<<10|d[r.charCodeAt(a+1)]<<4|d[r.charCodeAt(a+2)]>>2,l[g++]=c>>8&255,l[g++]=255&c),l},b.fromByteArray=function(r){for(var c,a=r.length,h=a%3,u=[],l=0,g=a-h;l<g;l+=16383)u.push(function(v,x,k){for(var E,j=[],C=x;C<k;C+=3)E=(v[C]<<16&16711680)+(v[C+1]<<8&65280)+(255&v[C+2]),j.push(function(L){return o[L>>18&63]+o[L>>12&63]+o[L>>6&63]+o[63&L]}(E));return j.join("")}(r,l,g<l+16383?g:l+16383));return h==1?(c=r[a-1],u.push(o[c>>2]+o[c<<4&63]+"==")):h==2&&(c=(r[a-2]<<8)+r[a-1],u.push(o[c>>10]+o[c>>4&63]+o[c<<2&63]+"=")),u.join("")};for(var o=[],d=[],s=typeof Uint8Array<"u"?Uint8Array:Array,p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",y=0,m=p.length;y<m;++y)o[y]=p[y],d[p.charCodeAt(y)]=y;function n(r){var c=r.length;if(0<c%4)throw new Error("Invalid string. Length must be a multiple of 4");return r=r.indexOf("="),c=(r=r===-1?c:r)===c?0:4-r%4,[r,c]}d[45]=62,d[95]=63},{}],2:[function(t,S,b){},{}],3:[function(t,S,b){},{}],4:[function(t,S,b){(function(n){var d=t("base64-js"),s=t("ieee754"),p=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null,y=(b.Buffer=n,b.SlowBuffer=function(M){return+M!=M&&(M=0),n.alloc(+M)},b.INSPECT_MAX_BYTES=50,2147483647);function m(M){if(y<M)throw new RangeError('The value "'+M+'" is invalid for option "size"');return M=new Uint8Array(M),Object.setPrototypeOf(M,n.prototype),M}function n(M,B,V){if(typeof M!="number")return r(M,B,V);if(typeof B=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return a(M)}function r(M,B,V){if(typeof M=="string"){var X=M,re=B;if(n.isEncoding(re=typeof re=="string"&&re!==""?re:"utf8"))return ne=0|l(X,re),ce=m(ne),ce=(X=ce.write(X,re))!==ne?ce.slice(0,X):ce;throw new TypeError("Unknown encoding: "+re)}if(ArrayBuffer.isView(M))return h(M);if(M!=null){if(Z(M,ArrayBuffer)||M&&Z(M.buffer,ArrayBuffer)){var ne=M,X=B,ce=V;if(X<0||ne.byteLength<X)throw new RangeError('"offset" is outside of buffer bounds');if(ne.byteLength<X+(ce||0))throw new RangeError('"length" is outside of buffer bounds');return ne=X===void 0&&ce===void 0?new Uint8Array(ne):ce===void 0?new Uint8Array(ne,X):new Uint8Array(ne,X,ce),Object.setPrototypeOf(ne,n.prototype),ne}if(typeof M=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');if(re=M.valueOf&&M.valueOf(),re!=null&&re!==M)return n.from(re,B,V);var be=function(he){{var le,ge;if(n.isBuffer(he))return le=0|u(he.length),(ge=m(le)).length!==0&&he.copy(ge,0,0,le),ge}if(he.length!==void 0)return typeof he.length!="number"||Y(he.length)?m(0):h(he);if(he.type==="Buffer"&&Array.isArray(he.data))return h(he.data)}(M);if(be)return be;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof M[Symbol.toPrimitive]=="function")return n.from(M[Symbol.toPrimitive]("string"),B,V)}throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof M)}function c(M){if(typeof M!="number")throw new TypeError('"size" argument must be of type number');if(M<0)throw new RangeError('The value "'+M+'" is invalid for option "size"')}function a(M){return c(M),m(M<0?0:0|u(M))}function h(M){for(var B=M.length<0?0:0|u(M.length),V=m(B),X=0;X<B;X+=1)V[X]=255&M[X];return V}function u(M){if(y<=M)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+y.toString(16)+" bytes");return 0|M}function l(M,B){if(n.isBuffer(M))return M.length;if(ArrayBuffer.isView(M)||Z(M,ArrayBuffer))return M.byteLength;if(typeof M!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof M);var V=M.length,X=2<arguments.length&&arguments[2]===!0;if(!X&&V===0)return 0;for(var re=!1;;)switch(B){case"ascii":case"latin1":case"binary":return V;case"utf8":case"utf-8":return G(M).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*V;case"hex":return V>>>1;case"base64":return W(M).length;default:if(re)return X?-1:G(M).length;B=(""+B).toLowerCase(),re=!0}}function g(M,B,V){var X,re=!1;if((B=B===void 0||B<0?0:B)>this.length||(V=V===void 0||V>this.length?this.length:V)<=0||(V>>>=0)<=(B>>>=0))return"";for(M=M||"utf8";;)switch(M){case"hex":var ne=this,ee=B,ce=V,ge=ne.length;(!ce||ce<0||ge<ce)&&(ce=ge);for(var be="",he=ee=!ee||ee<0?0:ee;he<ce;++he)be+=Q[ne[he]];return be;case"utf8":case"utf-8":return C(this,B,V);case"ascii":var le=this,ge=B,U=V,oe="";U=Math.min(le.length,U);for(var fe=ge;fe<U;++fe)oe+=String.fromCharCode(127&le[fe]);return oe;case"latin1":case"binary":var te=this,ee=B,ae=V,_e="";ae=Math.min(te.length,ae);for(var Oe=ee;Oe<ae;++Oe)_e+=String.fromCharCode(te[Oe]);return _e;case"base64":return ue=this,X=V,(je=B)===0&&X===ue.length?d.fromByteArray(ue):d.fromByteArray(ue.slice(je,X));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var ue=B,je=V,Me=this.slice(ue,je),Le="",qe=0;qe<Me.length;qe+=2)Le+=String.fromCharCode(Me[qe]+256*Me[qe+1]);return Le;default:if(re)throw new TypeError("Unknown encoding: "+M);M=(M+"").toLowerCase(),re=!0}}function v(M,B,V){var X=M[B];M[B]=M[V],M[V]=X}function x(M,B,V,X,re){if(M.length===0)return-1;if(typeof V=="string"?(X=V,V=0):2147483647<V?V=2147483647:V<-2147483648&&(V=-2147483648),(V=(V=Y(V=+V)?re?0:M.length-1:V)<0?M.length+V:V)>=M.length){if(re)return-1;V=M.length-1}else if(V<0){if(!re)return-1;V=0}if(typeof B=="string"&&(B=n.from(B,X)),n.isBuffer(B))return B.length===0?-1:k(M,B,V,X,re);if(typeof B=="number")return B&=255,typeof Uint8Array.prototype.indexOf=="function"?(re?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(M,B,V):k(M,[B],V,X,re);throw new TypeError("val must be string, number or Buffer")}function k(M,B,V,X,re){var ne=1,ce=M.length,be=B.length;if(X!==void 0&&((X=String(X).toLowerCase())==="ucs2"||X==="ucs-2"||X==="utf16le"||X==="utf-16le")){if(M.length<2||B.length<2)return-1;ce/=ne=2,be/=2,V/=2}function he(fe,te){return ne===1?fe[te]:fe.readUInt16BE(te*ne)}if(re)for(var le=-1,ge=V;ge<ce;ge++)if(he(M,ge)===he(B,le===-1?0:ge-le)){if(ge-(le=le===-1?ge:le)+1===be)return le*ne}else le!==-1&&(ge-=ge-le),le=-1;else for(ge=V=ce<V+be?ce-be:V;0<=ge;ge--){for(var U=!0,oe=0;oe<be;oe++)if(he(M,ge+oe)!==he(B,oe)){U=!1;break}if(U)return ge}return-1}function E(M,B,V,X){return H(function(re){for(var ne=[],ce=0;ce<re.length;++ce)ne.push(255&re.charCodeAt(ce));return ne}(B),M,V,X)}function j(M,B,V,X){return H(function(re,ne){for(var ce,be,he=[],le=0;le<re.length&&!((ne-=2)<0);++le)be=re.charCodeAt(le),ce=be>>8,be=be%256,he.push(be),he.push(ce);return he}(B,M.length-V),M,V,X)}function C(M,B,V){V=Math.min(M.length,V);for(var X=[],re=B;re<V;){var ne,ce,be,he,le=M[re],ge=null,U=239<le?4:223<le?3:191<le?2:1;if(re+U<=V)switch(U){case 1:le<128&&(ge=le);break;case 2:(192&(ne=M[re+1]))==128&&127<(he=(31&le)<<6|63&ne)&&(ge=he);break;case 3:ne=M[re+1],ce=M[re+2],(192&ne)==128&&(192&ce)==128&&2047<(he=(15&le)<<12|(63&ne)<<6|63&ce)&&(he<55296||57343<he)&&(ge=he);break;case 4:ne=M[re+1],ce=M[re+2],be=M[re+3],(192&ne)==128&&(192&ce)==128&&(192&be)==128&&65535<(he=(15&le)<<18|(63&ne)<<12|(63&ce)<<6|63&be)&&he<1114112&&(ge=he)}ge===null?(ge=65533,U=1):65535<ge&&(ge-=65536,X.push(ge>>>10&1023|55296),ge=56320|1023&ge),X.push(ge),re+=U}var oe=X,fe=oe.length;if(fe<=L)return String.fromCharCode.apply(String,oe);for(var te="",ee=0;ee<fe;)te+=String.fromCharCode.apply(String,oe.slice(ee,ee+=L));return te}b.kMaxLength=y,(n.TYPED_ARRAY_SUPPORT=function(){try{var M=new Uint8Array(1),B={foo:function(){return 42}};return Object.setPrototypeOf(B,Uint8Array.prototype),Object.setPrototypeOf(M,B),M.foo()===42}catch{return!1}}())||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(n.prototype,"parent",{enumerable:!0,get:function(){if(n.isBuffer(this))return this.buffer}}),Object.defineProperty(n.prototype,"offset",{enumerable:!0,get:function(){if(n.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&n[Symbol.species]===n&&Object.defineProperty(n,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),n.poolSize=8192,n.from=r,Object.setPrototypeOf(n.prototype,Uint8Array.prototype),Object.setPrototypeOf(n,Uint8Array),n.alloc=function(M,B,V){return B=B,V=V,c(M=M),!(M<=0)&&B!==void 0?typeof V=="string"?m(M).fill(B,V):m(M).fill(B):m(M)},n.allocUnsafe=a,n.allocUnsafeSlow=a,n.isBuffer=function(M){return M!=null&&M._isBuffer===!0&&M!==n.prototype},n.compare=function(M,B){if(Z(M,Uint8Array)&&(M=n.from(M,M.offset,M.byteLength)),Z(B,Uint8Array)&&(B=n.from(B,B.offset,B.byteLength)),!n.isBuffer(M)||!n.isBuffer(B))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(M===B)return 0;for(var V=M.length,X=B.length,re=0,ne=Math.min(V,X);re<ne;++re)if(M[re]!==B[re]){V=M[re],X=B[re];break}return V<X?-1:X<V?1:0},n.isEncoding=function(M){switch(String(M).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},n.concat=function(M,B){if(!Array.isArray(M))throw new TypeError('"list" argument must be an Array of Buffers');if(M.length===0)return n.alloc(0);if(B===void 0)for(re=B=0;re<M.length;++re)B+=M[re].length;for(var V=n.allocUnsafe(B),X=0,re=0;re<M.length;++re){var ne=M[re];if(Z(ne,Uint8Array)&&(ne=n.from(ne)),!n.isBuffer(ne))throw new TypeError('"list" argument must be an Array of Buffers');ne.copy(V,X),X+=ne.length}return V},n.byteLength=l,n.prototype._isBuffer=!0,n.prototype.swap16=function(){var M=this.length;if(M%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var B=0;B<M;B+=2)v(this,B,B+1);return this},n.prototype.swap32=function(){var M=this.length;if(M%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var B=0;B<M;B+=4)v(this,B,B+3),v(this,B+1,B+2);return this},n.prototype.swap64=function(){var M=this.length;if(M%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var B=0;B<M;B+=8)v(this,B,B+7),v(this,B+1,B+6),v(this,B+2,B+5),v(this,B+3,B+4);return this},n.prototype.toLocaleString=n.prototype.toString=function(){var M=this.length;return M===0?"":arguments.length===0?C(this,0,M):g.apply(this,arguments)},n.prototype.equals=function(M){if(n.isBuffer(M))return this===M||n.compare(this,M)===0;throw new TypeError("Argument must be a Buffer")},n.prototype.inspect=function(){var B="",M=b.INSPECT_MAX_BYTES,B=this.toString("hex",0,M).replace(/(.{2})/g,"$1 ").trim();return this.length>M&&(B+=" ... "),"<Buffer "+B+">"},p&&(n.prototype[p]=n.prototype.inspect),n.prototype.compare=function(M,B,V,X,re){if(Z(M,Uint8Array)&&(M=n.from(M,M.offset,M.byteLength)),!n.isBuffer(M))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof M);if(V===void 0&&(V=M?M.length:0),X===void 0&&(X=0),re===void 0&&(re=this.length),(B=B===void 0?0:B)<0||V>M.length||X<0||re>this.length)throw new RangeError("out of range index");if(re<=X&&V<=B)return 0;if(re<=X)return-1;if(V<=B)return 1;if(this===M)return 0;for(var ne=(re>>>=0)-(X>>>=0),ce=(V>>>=0)-(B>>>=0),be=Math.min(ne,ce),he=this.slice(X,re),le=M.slice(B,V),ge=0;ge<be;++ge)if(he[ge]!==le[ge]){ne=he[ge],ce=le[ge];break}return ne<ce?-1:ce<ne?1:0},n.prototype.includes=function(M,B,V){return this.indexOf(M,B,V)!==-1},n.prototype.indexOf=function(M,B,V){return x(this,M,B,V,!0)},n.prototype.lastIndexOf=function(M,B,V){return x(this,M,B,V,!1)},n.prototype.write=function(M,B,V,X){if(B===void 0)X="utf8",V=this.length,B=0;else if(V===void 0&&typeof B=="string")X=B,V=this.length,B=0;else{if(!isFinite(B))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");B>>>=0,isFinite(V)?(V>>>=0,X===void 0&&(X="utf8")):(X=V,V=void 0)}var re=this.length-B;if((V===void 0||re<V)&&(V=re),0<M.length&&(V<0||B<0)||B>this.length)throw new RangeError("Attempt to write outside buffer bounds");X=X||"utf8";for(var ne,ce,be,he=!1;;)switch(X){case"hex":var le=this,ge=M,U=B,oe=V,fe=(U=Number(U)||0,le.length-U);(!oe||fe<(oe=Number(oe)))&&(oe=fe),(fe=ge.length)/2<oe&&(oe=fe/2);for(var te=0;te<oe;++te){var ee=parseInt(ge.substr(2*te,2),16);if(Y(ee))return te;le[U+te]=ee}return te;case"utf8":case"utf-8":return fe=B,be=V,H(G(M,(ce=this).length-fe),ce,fe,be);case"ascii":return E(this,M,B,V);case"latin1":case"binary":return E(this,M,B,V);case"base64":return ce=this,be=B,ne=V,H(W(M),ce,be,ne);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,M,B,V);default:if(he)throw new TypeError("Unknown encoding: "+X);X=(""+X).toLowerCase(),he=!0}},n.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var L=4096;function A(M,B,V){if(M%1!=0||M<0)throw new RangeError("offset is not uint");if(V<M+B)throw new RangeError("Trying to access beyond buffer length")}function P(M,B,V,X,re,ne){if(!n.isBuffer(M))throw new TypeError('"buffer" argument must be a Buffer instance');if(re<B||B<ne)throw new RangeError('"value" argument is out of bounds');if(V+X>M.length)throw new RangeError("Index out of range")}function R(M,B,V,X){if(V+X>M.length)throw new RangeError("Index out of range");if(V<0)throw new RangeError("Index out of range")}function I(M,B,V,X,re){return B=+B,V>>>=0,re||R(M,0,V,4),s.write(M,B,V,X,23,4),V+4}function N(M,B,V,X,re){return B=+B,V>>>=0,re||R(M,0,V,8),s.write(M,B,V,X,52,8),V+8}n.prototype.slice=function(M,B){var V=this.length,V=((M=~~M)<0?(M+=V)<0&&(M=0):V<M&&(M=V),(B=B===void 0?V:~~B)<0?(B+=V)<0&&(B=0):V<B&&(B=V),B<M&&(B=M),this.subarray(M,B));return Object.setPrototypeOf(V,n.prototype),V},n.prototype.readUIntLE=function(M,B,V){M>>>=0,B>>>=0,V||A(M,B,this.length);for(var X=this[M],re=1,ne=0;++ne<B&&(re*=256);)X+=this[M+ne]*re;return X},n.prototype.readUIntBE=function(M,B,V){M>>>=0,B>>>=0,V||A(M,B,this.length);for(var X=this[M+--B],re=1;0<B&&(re*=256);)X+=this[M+--B]*re;return X},n.prototype.readUInt8=function(M,B){return M>>>=0,B||A(M,1,this.length),this[M]},n.prototype.readUInt16LE=function(M,B){return M>>>=0,B||A(M,2,this.length),this[M]|this[M+1]<<8},n.prototype.readUInt16BE=function(M,B){return M>>>=0,B||A(M,2,this.length),this[M]<<8|this[M+1]},n.prototype.readUInt32LE=function(M,B){return M>>>=0,B||A(M,4,this.length),(this[M]|this[M+1]<<8|this[M+2]<<16)+16777216*this[M+3]},n.prototype.readUInt32BE=function(M,B){return M>>>=0,B||A(M,4,this.length),16777216*this[M]+(this[M+1]<<16|this[M+2]<<8|this[M+3])},n.prototype.readIntLE=function(M,B,V){M>>>=0,B>>>=0,V||A(M,B,this.length);for(var X=this[M],re=1,ne=0;++ne<B&&(re*=256);)X+=this[M+ne]*re;return(re*=128)<=X&&(X-=Math.pow(2,8*B)),X},n.prototype.readIntBE=function(M,B,V){M>>>=0,B>>>=0,V||A(M,B,this.length);for(var X=B,re=1,ne=this[M+--X];0<X&&(re*=256);)ne+=this[M+--X]*re;return(re*=128)<=ne&&(ne-=Math.pow(2,8*B)),ne},n.prototype.readInt8=function(M,B){return M>>>=0,B||A(M,1,this.length),128&this[M]?-1*(255-this[M]+1):this[M]},n.prototype.readInt16LE=function(M,B){return M>>>=0,B||A(M,2,this.length),B=this[M]|this[M+1]<<8,32768&B?4294901760|B:B},n.prototype.readInt16BE=function(M,B){return M>>>=0,B||A(M,2,this.length),B=this[M+1]|this[M]<<8,32768&B?4294901760|B:B},n.prototype.readInt32LE=function(M,B){return M>>>=0,B||A(M,4,this.length),this[M]|this[M+1]<<8|this[M+2]<<16|this[M+3]<<24},n.prototype.readInt32BE=function(M,B){return M>>>=0,B||A(M,4,this.length),this[M]<<24|this[M+1]<<16|this[M+2]<<8|this[M+3]},n.prototype.readFloatLE=function(M,B){return M>>>=0,B||A(M,4,this.length),s.read(this,M,!0,23,4)},n.prototype.readFloatBE=function(M,B){return M>>>=0,B||A(M,4,this.length),s.read(this,M,!1,23,4)},n.prototype.readDoubleLE=function(M,B){return M>>>=0,B||A(M,8,this.length),s.read(this,M,!0,52,8)},n.prototype.readDoubleBE=function(M,B){return M>>>=0,B||A(M,8,this.length),s.read(this,M,!1,52,8)},n.prototype.writeUIntLE=function(M,B,V,X){M=+M,B>>>=0,V>>>=0,X||P(this,M,B,V,Math.pow(2,8*V)-1,0);var re=1,ne=0;for(this[B]=255&M;++ne<V&&(re*=256);)this[B+ne]=M/re&255;return B+V},n.prototype.writeUIntBE=function(M,B,V,X){M=+M,B>>>=0,V>>>=0,X||P(this,M,B,V,Math.pow(2,8*V)-1,0);var re=V-1,ne=1;for(this[B+re]=255&M;0<=--re&&(ne*=256);)this[B+re]=M/ne&255;return B+V},n.prototype.writeUInt8=function(M,B,V){return M=+M,B>>>=0,V||P(this,M,B,1,255,0),this[B]=255&M,B+1},n.prototype.writeUInt16LE=function(M,B,V){return M=+M,B>>>=0,V||P(this,M,B,2,65535,0),this[B]=255&M,this[B+1]=M>>>8,B+2},n.prototype.writeUInt16BE=function(M,B,V){return M=+M,B>>>=0,V||P(this,M,B,2,65535,0),this[B]=M>>>8,this[B+1]=255&M,B+2},n.prototype.writeUInt32LE=function(M,B,V){return M=+M,B>>>=0,V||P(this,M,B,4,4294967295,0),this[B+3]=M>>>24,this[B+2]=M>>>16,this[B+1]=M>>>8,this[B]=255&M,B+4},n.prototype.writeUInt32BE=function(M,B,V){return M=+M,B>>>=0,V||P(this,M,B,4,4294967295,0),this[B]=M>>>24,this[B+1]=M>>>16,this[B+2]=M>>>8,this[B+3]=255&M,B+4},n.prototype.writeIntLE=function(M,B,V,X){M=+M,B>>>=0,X||P(this,M,B,V,(X=Math.pow(2,8*V-1))-1,-X);var re=0,ne=1,ce=0;for(this[B]=255&M;++re<V&&(ne*=256);)M<0&&ce===0&&this[B+re-1]!==0&&(ce=1),this[B+re]=(M/ne>>0)-ce&255;return B+V},n.prototype.writeIntBE=function(M,B,V,X){M=+M,B>>>=0,X||P(this,M,B,V,(X=Math.pow(2,8*V-1))-1,-X);var re=V-1,ne=1,ce=0;for(this[B+re]=255&M;0<=--re&&(ne*=256);)M<0&&ce===0&&this[B+re+1]!==0&&(ce=1),this[B+re]=(M/ne>>0)-ce&255;return B+V},n.prototype.writeInt8=function(M,B,V){return M=+M,B>>>=0,V||P(this,M,B,1,127,-128),this[B]=255&(M=M<0?255+M+1:M),B+1},n.prototype.writeInt16LE=function(M,B,V){return M=+M,B>>>=0,V||P(this,M,B,2,32767,-32768),this[B]=255&M,this[B+1]=M>>>8,B+2},n.prototype.writeInt16BE=function(M,B,V){return M=+M,B>>>=0,V||P(this,M,B,2,32767,-32768),this[B]=M>>>8,this[B+1]=255&M,B+2},n.prototype.writeInt32LE=function(M,B,V){return M=+M,B>>>=0,V||P(this,M,B,4,2147483647,-2147483648),this[B]=255&M,this[B+1]=M>>>8,this[B+2]=M>>>16,this[B+3]=M>>>24,B+4},n.prototype.writeInt32BE=function(M,B,V){return M=+M,B>>>=0,V||P(this,M,B,4,2147483647,-2147483648),this[B]=(M=M<0?4294967295+M+1:M)>>>24,this[B+1]=M>>>16,this[B+2]=M>>>8,this[B+3]=255&M,B+4},n.prototype.writeFloatLE=function(M,B,V){return I(this,M,B,!0,V)},n.prototype.writeFloatBE=function(M,B,V){return I(this,M,B,!1,V)},n.prototype.writeDoubleLE=function(M,B,V){return N(this,M,B,!0,V)},n.prototype.writeDoubleBE=function(M,B,V){return N(this,M,B,!1,V)},n.prototype.copy=function(M,B,V,X){if(!n.isBuffer(M))throw new TypeError("argument should be a Buffer");if(V=V||0,X||X===0||(X=this.length),B>=M.length&&(B=M.length),(X=0<X&&X<V?V:X)===V||M.length===0||this.length===0)return 0;if((B=B||0)<0)throw new RangeError("targetStart out of bounds");if(V<0||V>=this.length)throw new RangeError("Index out of range");if(X<0)throw new RangeError("sourceEnd out of bounds");X>this.length&&(X=this.length);var re=(X=M.length-B<X-V?M.length-B+V:X)-V;if(this===M&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(B,V,X);else if(this===M&&V<B&&B<X)for(var ne=re-1;0<=ne;--ne)M[ne+B]=this[ne+V];else Uint8Array.prototype.set.call(M,this.subarray(V,X),B);return re},n.prototype.fill=function(M,B,V,X){if(typeof M=="string"){if(typeof B=="string"?(X=B,B=0,V=this.length):typeof V=="string"&&(X=V,V=this.length),X!==void 0&&typeof X!="string")throw new TypeError("encoding must be a string");if(typeof X=="string"&&!n.isEncoding(X))throw new TypeError("Unknown encoding: "+X);var re;M.length===1&&(re=M.charCodeAt(0),(X==="utf8"&&re<128||X==="latin1")&&(M=re))}else typeof M=="number"?M&=255:typeof M=="boolean"&&(M=Number(M));if(B<0||this.length<B||this.length<V)throw new RangeError("Out of range index");var ne;if(!(V<=B))if(B>>>=0,V=V===void 0?this.length:V>>>0,typeof(M=M||0)=="number")for(ne=B;ne<V;++ne)this[ne]=M;else{var ce=n.isBuffer(M)?M:n.from(M,X),be=ce.length;if(be===0)throw new TypeError('The value "'+M+'" is invalid for argument "value"');for(ne=0;ne<V-B;++ne)this[ne+B]=ce[ne%be]}return this};var z=/[^+/0-9A-Za-z-_]/g;function G(M,B){B=B||1/0;for(var V,X=M.length,re=null,ne=[],ce=0;ce<X;++ce){if(55295<(V=M.charCodeAt(ce))&&V<57344){if(!re){if(56319<V){-1<(B-=3)&&ne.push(239,191,189);continue}if(ce+1===X){-1<(B-=3)&&ne.push(239,191,189);continue}re=V;continue}if(V<56320){-1<(B-=3)&&ne.push(239,191,189),re=V;continue}V=65536+(re-55296<<10|V-56320)}else re&&-1<(B-=3)&&ne.push(239,191,189);if(re=null,V<128){if(--B<0)break;ne.push(V)}else if(V<2048){if((B-=2)<0)break;ne.push(V>>6|192,63&V|128)}else if(V<65536){if((B-=3)<0)break;ne.push(V>>12|224,V>>6&63|128,63&V|128)}else{if(!(V<1114112))throw new Error("Invalid code point");if((B-=4)<0)break;ne.push(V>>18|240,V>>12&63|128,V>>6&63|128,63&V|128)}}return ne}function W(M){return d.toByteArray(function(B){if((B=(B=B.split("=")[0]).trim().replace(z,"")).length<2)return"";for(;B.length%4!=0;)B+="=";return B}(M))}function H(M,B,V,X){for(var re=0;re<X&&!(re+V>=B.length||re>=M.length);++re)B[re+V]=M[re];return re}function Z(M,B){return M instanceof B||M!=null&&M.constructor!=null&&M.constructor.name!=null&&M.constructor.name===B.name}function Y(M){return M!=M}var Q=function(){for(var M="0123456789abcdef",B=new Array(256),V=0;V<16;++V)for(var X=16*V,re=0;re<16;++re)B[X+re]=M[V]+M[re];return B}()}).call(this,t("buffer").Buffer)},{"base64-js":1,buffer:4,ieee754:254}],5:[function(t,S,b){S.exports=function(o){if(typeof o!="function")throw TypeError(String(o)+" is not a function");return o}},{}],6:[function(t,S,b){var o=t("../internals/is-object");S.exports=function(d){if(o(d)||d===null)return d;throw TypeError("Can't set "+String(d)+" as a prototype")}},{"../internals/is-object":75}],7:[function(s,S,b){var o=s("../internals/well-known-symbol"),d=s("../internals/object-create"),s=s("../internals/object-define-property"),p=o("unscopables"),y=Array.prototype;y[p]==null&&s.f(y,p,{configurable:!0,value:d(null)}),S.exports=function(m){y[p][m]=!0}},{"../internals/object-create":91,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],8:[function(t,S,b){var o=t("../internals/string-multibyte").charAt;S.exports=function(d,s,p){return s+(p?o(d,s).length:1)}},{"../internals/string-multibyte":125}],9:[function(t,S,b){S.exports=function(o,d,s){if(o instanceof d)return o;throw TypeError("Incorrect "+(s?s+" ":"")+"invocation")}},{}],10:[function(t,S,b){var o=t("../internals/is-object");S.exports=function(d){if(o(d))return d;throw TypeError(String(d)+" is not an object")}},{"../internals/is-object":75}],11:[function(t,S,b){S.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},{}],12:[function(R,S,b){function o(N){return m(N)&&n(I,r(N))}var d,s=R("../internals/array-buffer-native"),p=R("../internals/descriptors"),y=R("../internals/global"),m=R("../internals/is-object"),n=R("../internals/has"),r=R("../internals/classof"),c=R("../internals/create-non-enumerable-property"),a=R("../internals/redefine"),h=R("../internals/object-define-property").f,u=R("../internals/object-get-prototype-of"),l=R("../internals/object-set-prototype-of"),L=R("../internals/well-known-symbol"),R=R("../internals/uid"),g=y.Int8Array,v=g&&g.prototype,x=y.Uint8ClampedArray,x=x&&x.prototype,k=g&&u(g),E=v&&u(v),j=Object.prototype,C=j.isPrototypeOf,L=L("toStringTag"),A=R("TYPED_ARRAY_TAG"),P=s&&!!l&&r(y.opera)!=="Opera",R=!1,I={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8};for(d in I)y[d]||(P=!1);if((!P||typeof k!="function"||k===Function.prototype)&&(k=function(){throw TypeError("Incorrect invocation")},P))for(d in I)y[d]&&l(y[d],k);if((!P||!E||E===j)&&(E=k.prototype,P))for(d in I)y[d]&&l(y[d].prototype,E);if(P&&u(x)!==E&&l(x,E),p&&!n(E,L))for(d in R=!0,h(E,L,{get:function(){return m(this)?this[A]:void 0}}),I)y[d]&&c(y[d],A,d);S.exports={NATIVE_ARRAY_BUFFER_VIEWS:P,TYPED_ARRAY_TAG:R&&A,aTypedArray:function(N){if(o(N))return N;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(N){if(l){if(C.call(k,N))return N}else for(var z in I)if(n(I,d)&&(z=y[z],z&&(N===z||C.call(z,N))))return N;throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(N,z,G){if(p){if(G)for(var W in I)W=y[W],W&&n(W.prototype,N)&&delete W.prototype[N];E[N]&&!G||a(E,N,!G&&P&&v[N]||z)}},exportTypedArrayStaticMethod:function(N,z,G){var W,H;if(p){if(l){if(G)for(W in I)(H=y[W])&&n(H,N)&&delete H[N];if(k[N]&&!G)return;try{return a(k,N,!G&&P&&g[N]||z)}catch{}}for(W in I)!(H=y[W])||H[N]&&!G||a(H,N,z)}},isView:function(N){return N=r(N),N==="DataView"||n(I,N)},isTypedArray:o,TypedArray:k,TypedArrayPrototype:E}},{"../internals/array-buffer-native":11,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/global":60,"../internals/has":61,"../internals/is-object":75,"../internals/object-define-property":93,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine":110,"../internals/uid":147,"../internals/well-known-symbol":150}],13:[function(V,S,b){function o(U){return[255&U]}function d(U){return[255&U,U>>8&255]}function s(U){return[255&U,U>>8&255,U>>16&255,U>>24&255]}function p(U){return U[3]<<24|U[2]<<16|U[1]<<8|U[0]}function y(U){return ne(U,23,4)}function m(U){return ne(U,52,8)}function n(U,oe){R(U[Z],oe,{get:function(){return z(this)[oe]}})}function r(_e,oe,ae,te){if(ae=j(ae),_e=z(_e),ae+oe>_e.byteLength)throw re(Y);var ee=z(_e.buffer).bytes,ae=ae+_e.byteOffset,_e=ee.slice(ae,ae+oe);return te?_e:_e.reverse()}function c(U,oe,fe,te,ee,ae){if(fe=j(fe),U=z(U),fe+oe>U.byteLength)throw re(Y);for(var _e=z(U.buffer).bytes,Oe=fe+U.byteOffset,ue=te(+ee),je=0;je<oe;je++)_e[Oe+je]=ue[ae?je:oe-je-1]}var a=V("../internals/global"),h=V("../internals/descriptors"),u=V("../internals/array-buffer-native"),l=V("../internals/create-non-enumerable-property"),g=V("../internals/redefine-all"),v=V("../internals/fails"),x=V("../internals/an-instance"),k=V("../internals/to-integer"),E=V("../internals/to-length"),j=V("../internals/to-index"),C=V("../internals/ieee754"),L=V("../internals/object-get-prototype-of"),A=V("../internals/object-set-prototype-of"),P=V("../internals/object-get-own-property-names").f,R=V("../internals/object-define-property").f,I=V("../internals/array-fill"),N=V("../internals/set-to-string-tag"),V=V("../internals/internal-state"),z=V.get,G=V.set,W="ArrayBuffer",H="DataView",Z="prototype",Y="Wrong index",Q=a[W],M=Q,B=a[H],V=B&&B[Z],X=Object.prototype,re=a.RangeError,ne=C.pack,ce=C.unpack;if(u){if(!v(function(){Q(1)})||!v(function(){new Q(-1)})||v(function(){return new Q,new Q(1.5),new Q(NaN),Q.name!=W})){for(var be,a=(M=function(fe){return x(this,M),new Q(j(fe))})[Z]=Q[Z],he=P(Q),le=0;he.length>le;)(be=he[le++])in M||l(M,be,Q[be]);a.constructor=M}A&&L(V)!==X&&A(V,X);var C=new B(new M(2)),ge=V.setInt8;C.setInt8(0,2147483648),C.setInt8(1,2147483649),!C.getInt8(0)&&C.getInt8(1)||g(V,{setInt8:function(oe,fe){ge.call(this,oe,fe<<24>>24)},setUint8:function(oe,fe){ge.call(this,oe,fe<<24>>24)}},{unsafe:!0})}else M=function(U){x(this,M,W),U=j(U),G(this,{bytes:I.call(new Array(U),0),byteLength:U}),h||(this.byteLength=U)},B=function(U,ee,fe){x(this,B,H),x(U,M,H);var te=z(U).byteLength,ee=k(ee);if(ee<0||te<ee)throw re("Wrong offset");if(te<ee+(fe=fe===void 0?te-ee:E(fe)))throw re("Wrong length");G(this,{buffer:U,byteLength:fe,byteOffset:ee}),h||(this.buffer=U,this.byteLength=fe,this.byteOffset=ee)},h&&(n(M,"byteLength"),n(B,"buffer"),n(B,"byteLength"),n(B,"byteOffset")),g(B[Z],{getInt8:function(U){return r(this,1,U)[0]<<24>>24},getUint8:function(U){return r(this,1,U)[0]},getInt16:function(U){return U=r(this,2,U,1<arguments.length?arguments[1]:void 0),(U[1]<<8|U[0])<<16>>16},getUint16:function(U){return U=r(this,2,U,1<arguments.length?arguments[1]:void 0),U[1]<<8|U[0]},getInt32:function(U){return p(r(this,4,U,1<arguments.length?arguments[1]:void 0))},getUint32:function(U){return p(r(this,4,U,1<arguments.length?arguments[1]:void 0))>>>0},getFloat32:function(U){return ce(r(this,4,U,1<arguments.length?arguments[1]:void 0),23)},getFloat64:function(U){return ce(r(this,8,U,1<arguments.length?arguments[1]:void 0),52)},setInt8:function(U,oe){c(this,1,U,o,oe)},setUint8:function(U,oe){c(this,1,U,o,oe)},setInt16:function(U,oe){c(this,2,U,d,oe,2<arguments.length?arguments[2]:void 0)},setUint16:function(U,oe){c(this,2,U,d,oe,2<arguments.length?arguments[2]:void 0)},setInt32:function(U,oe){c(this,4,U,s,oe,2<arguments.length?arguments[2]:void 0)},setUint32:function(U,oe){c(this,4,U,s,oe,2<arguments.length?arguments[2]:void 0)},setFloat32:function(U,oe){c(this,4,U,y,oe,2<arguments.length?arguments[2]:void 0)},setFloat64:function(U,oe){c(this,8,U,m,oe,2<arguments.length?arguments[2]:void 0)}});N(M,W),N(B,H),S.exports={ArrayBuffer:M,DataView:B}},{"../internals/an-instance":9,"../internals/array-buffer-native":11,"../internals/array-fill":15,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/ieee754":66,"../internals/internal-state":71,"../internals/object-define-property":93,"../internals/object-get-own-property-names":96,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine-all":109,"../internals/set-to-string-tag":119,"../internals/to-index":135,"../internals/to-integer":137,"../internals/to-length":138}],14:[function(t,S,b){var o=t("../internals/to-object"),d=t("../internals/to-absolute-index"),s=t("../internals/to-length"),p=Math.min;S.exports=[].copyWithin||function(h,m){var n=o(this),r=s(n.length),c=d(h,r),a=d(m,r),h=2<arguments.length?arguments[2]:void 0,u=p((h===void 0?r:d(h,r))-a,r-c),l=1;for(a<c&&c<a+u&&(l=-1,a+=u-1,c+=u-1);0<u--;)a in n?n[c]=n[a]:delete n[c],c+=l,a+=l;return n}},{"../internals/to-absolute-index":134,"../internals/to-length":138,"../internals/to-object":139}],15:[function(t,S,b){var o=t("../internals/to-object"),d=t("../internals/to-absolute-index"),s=t("../internals/to-length");S.exports=function(p){for(var y=o(this),m=s(y.length),r=arguments.length,n=d(1<r?arguments[1]:void 0,m),r=2<r?arguments[2]:void 0,c=r===void 0?m:d(r,m);n<c;)y[n++]=p;return y}},{"../internals/to-absolute-index":134,"../internals/to-length":138,"../internals/to-object":139}],16:[function(s,S,b){var o=s("../internals/array-iteration").forEach,d=s("../internals/array-method-is-strict"),s=s("../internals/array-method-uses-to-length"),d=d("forEach"),s=s("forEach");S.exports=d&&s?[].forEach:function(p){return o(this,p,1<arguments.length?arguments[1]:void 0)}},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23}],17:[function(t,S,b){var o=t("../internals/function-bind-context"),d=t("../internals/to-object"),s=t("../internals/call-with-safe-iteration-closing"),p=t("../internals/is-array-iterator-method"),y=t("../internals/to-length"),m=t("../internals/create-property"),n=t("../internals/get-iterator-method");S.exports=function(x){var c,a,h,u,l,g,v=d(x),x=typeof this=="function"?this:Array,k=arguments.length,E=1<k?arguments[1]:void 0,j=E!==void 0,C=n(v),L=0;if(j&&(E=o(E,2<k?arguments[2]:void 0,2)),C==null||x==Array&&p(C))for(a=new x(c=y(v.length));L<c;L++)g=j?E(v[L],L):v[L],m(a,L,g);else for(l=(u=C.call(v)).next,a=new x;!(h=l.call(u)).done;L++)g=j?s(u,E,[h.value,L],!0):h.value,m(a,L,g);return a.length=L,a}},{"../internals/call-with-safe-iteration-closing":26,"../internals/create-property":40,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138,"../internals/to-object":139}],18:[function(t,S,b){function o(y){return function(m,n,r){var c,a=d(m),h=s(a.length),u=p(r,h);if(y&&n!=n){for(;u<h;)if((c=a[u++])!=c)return!0}else for(;u<h;u++)if((y||u in a)&&a[u]===n)return y||u||0;return!y&&-1}}var d=t("../internals/to-indexed-object"),s=t("../internals/to-length"),p=t("../internals/to-absolute-index");S.exports={includes:o(!0),indexOf:o(!1)}},{"../internals/to-absolute-index":134,"../internals/to-indexed-object":136,"../internals/to-length":138}],19:[function(t,S,b){function o(r){var c=r==1,a=r==2,h=r==3,u=r==4,l=r==6,g=r==5||l;return function(v,x,k,E){for(var j,C,L=p(v),A=s(L),P=d(x,k,3),R=y(A.length),I=0,x=E||m,N=c?x(v,R):a?x(v,0):void 0;I<R;I++)if((g||I in A)&&(C=P(j=A[I],I,L),r)){if(c)N[I]=C;else if(C)switch(r){case 3:return!0;case 5:return j;case 6:return I;case 2:n.call(N,j)}else if(u)return!1}return l?-1:h||u?u:N}}var d=t("../internals/function-bind-context"),s=t("../internals/indexed-object"),p=t("../internals/to-object"),y=t("../internals/to-length"),m=t("../internals/array-species-create"),n=[].push;S.exports={forEach:o(0),map:o(1),filter:o(2),some:o(3),every:o(4),find:o(5),findIndex:o(6)}},{"../internals/array-species-create":25,"../internals/function-bind-context":55,"../internals/indexed-object":67,"../internals/to-length":138,"../internals/to-object":139}],20:[function(r,S,b){var o=r("../internals/to-indexed-object"),d=r("../internals/to-integer"),s=r("../internals/to-length"),n=r("../internals/array-method-is-strict"),r=r("../internals/array-method-uses-to-length"),p=Math.min,y=[].lastIndexOf,m=!!y&&1/[1].lastIndexOf(1,-0)<0,n=n("lastIndexOf"),r=r("indexOf",{ACCESSORS:!0,1:0});S.exports=m||!n||!r?function(c){if(m)return y.apply(this,arguments)||0;var a=o(this),h=s(a.length),u=h-1;for((u=1<arguments.length?p(u,d(arguments[1])):u)<0&&(u=h+u);0<=u;u--)if(u in a&&a[u]===c)return u||0;return-1}:y},{"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/to-indexed-object":136,"../internals/to-integer":137,"../internals/to-length":138}],21:[function(t,S,b){var o=t("../internals/fails"),d=t("../internals/well-known-symbol"),s=t("../internals/engine-v8-version"),p=d("species");S.exports=function(y){return 51<=s||!o(function(){var m=[];return(m.constructor={})[p]=function(){return{foo:1}},m[y](Boolean).foo!==1})}},{"../internals/engine-v8-version":48,"../internals/fails":51,"../internals/well-known-symbol":150}],22:[function(t,S,b){var o=t("../internals/fails");S.exports=function(d,s){var p=[][d];return!!p&&o(function(){p.call(null,s||function(){throw 1},1)})}},{"../internals/fails":51}],23:[function(t,S,b){function o(n){throw n}var d=t("../internals/descriptors"),s=t("../internals/fails"),p=t("../internals/has"),y=Object.defineProperty,m={};S.exports=function(n,r){var c,a,h,u;return p(m,n)?m[n]:(c=[][n],a=!!p(r=r||{},"ACCESSORS")&&r.ACCESSORS,h=p(r,0)?r[0]:o,u=p(r,1)?r[1]:void 0,m[n]=!!c&&!s(function(){if(a&&!d)return!0;var l={length:-1};a?y(l,1,{enumerable:!0,get:o}):l[1]=1,c.call(l,h,u)}))}},{"../internals/descriptors":43,"../internals/fails":51,"../internals/has":61}],24:[function(t,S,b){function o(m){return function(n,r,c,a){d(r);var h=s(n),u=p(h),l=y(h.length),g=m?l-1:0,v=m?-1:1;if(c<2)for(;;){if(g in u){a=u[g],g+=v;break}if(g+=v,m?g<0:l<=g)throw TypeError("Reduce of empty array with no initial value")}for(;m?0<=g:g<l;g+=v)g in u&&(a=r(a,u[g],g,h));return a}}var d=t("../internals/a-function"),s=t("../internals/to-object"),p=t("../internals/indexed-object"),y=t("../internals/to-length");S.exports={left:o(!1),right:o(!0)}},{"../internals/a-function":5,"../internals/indexed-object":67,"../internals/to-length":138,"../internals/to-object":139}],25:[function(t,S,b){var o=t("../internals/is-object"),d=t("../internals/is-array"),s=t("../internals/well-known-symbol")("species");S.exports=function(p,y){var m;return new((m=d(p)&&(typeof(m=p.constructor)=="function"&&(m===Array||d(m.prototype))||o(m)&&(m=m[s])===null)?void 0:m)===void 0?Array:m)(y===0?0:y)}},{"../internals/is-array":73,"../internals/is-object":75,"../internals/well-known-symbol":150}],26:[function(t,S,b){var o=t("../internals/an-object");S.exports=function(d,s,p,y){try{return y?s(o(p)[0],p[1]):s(p)}catch(m){throw y=d.return,y!==void 0&&o(y.call(d)),m}}},{"../internals/an-object":10}],27:[function(t,S,b){var o=t("../internals/well-known-symbol")("iterator"),d=!1;try{var s=0,p={next:function(){return{done:!!s++}},return:function(){d=!0}};p[o]=function(){return this},Array.from(p,function(){throw 2})}catch{}S.exports=function(y,m){if(!m&&!d)return!1;var n=!1;try{var r={};r[o]=function(){return{next:function(){return{done:n=!0}}}},y(r)}catch{}return n}},{"../internals/well-known-symbol":150}],28:[function(t,S,b){var o={}.toString;S.exports=function(d){return o.call(d).slice(8,-1)}},{}],29:[function(t,S,b){var o=t("../internals/to-string-tag-support"),d=t("../internals/classof-raw"),s=t("../internals/well-known-symbol")("toStringTag"),p=d(function(){return arguments}())=="Arguments";S.exports=o?d:function(y){var m;return y===void 0?"Undefined":y===null?"Null":typeof(m=function(n,r){try{return n[r]}catch{}}(y=Object(y),s))=="string"?m:p?d(y):(m=d(y))=="Object"&&typeof y.callee=="function"?"Arguments":m}},{"../internals/classof-raw":28,"../internals/to-string-tag-support":143,"../internals/well-known-symbol":150}],30:[function(h,S,b){var o=h("../internals/object-define-property").f,d=h("../internals/object-create"),s=h("../internals/redefine-all"),p=h("../internals/function-bind-context"),y=h("../internals/an-instance"),m=h("../internals/iterate"),n=h("../internals/define-iterator"),r=h("../internals/set-species"),c=h("../internals/descriptors"),a=h("../internals/internal-metadata").fastKey,h=h("../internals/internal-state"),u=h.set,l=h.getterFor;S.exports={getConstructor:function(g,v,x,k){function E(A,P,R){var I,N=L(A),z=j(A,P);return z?z.value=R:(N.last=z={index:I=a(P,!0),key:P,value:R,previous:P=N.last,next:void 0,removed:!1},N.first||(N.first=z),P&&(P.next=z),c?N.size++:A.size++,I!=="F"&&(N.index[I]=z)),A}function j(I,P){var R,I=L(I),N=a(P);if(N!=="F")return I.index[N];for(R=I.first;R;R=R.next)if(R.key==P)return R}var C=g(function(A,P){y(A,C,v),u(A,{type:v,index:d(null),first:void 0,last:void 0,size:0}),c||(A.size=0),P!=null&&m(P,A[k],A,x)}),L=l(v);return s(C.prototype,{clear:function(){for(var A=L(this),P=A.index,R=A.first;R;)R.removed=!0,R.previous&&(R.previous=R.previous.next=void 0),delete P[R.index],R=R.next;A.first=A.last=void 0,c?A.size=0:this.size=0},delete:function(N){var P,R,I=L(this),N=j(this,N);return N&&(P=N.next,R=N.previous,delete I.index[N.index],N.removed=!0,R&&(R.next=P),P&&(P.previous=R),I.first==N&&(I.first=P),I.last==N&&(I.last=R),c?I.size--:this.size--),!!N},forEach:function(A){for(var P,R=L(this),I=p(A,1<arguments.length?arguments[1]:void 0,3);P=P?P.next:R.first;)for(I(P.value,P.key,this);P&&P.removed;)P=P.previous},has:function(A){return!!j(this,A)}}),s(C.prototype,x?{get:function(A){return A=j(this,A),A&&A.value},set:function(A,P){return E(this,A===0?0:A,P)}}:{add:function(A){return E(this,A=A===0?0:A,A)}}),c&&o(C.prototype,"size",{get:function(){return L(this).size}}),C},setStrong:function(g,v,x){var k=v+" Iterator",E=l(v),j=l(k);n(g,v,function(C,L){u(this,{type:k,target:C,state:E(C),kind:L,last:void 0})},function(){for(var C=j(this),L=C.kind,A=C.last;A&&A.removed;)A=A.previous;return C.target&&(C.last=A=A?A.next:C.state.first)?L=="keys"?{value:A.key,done:!1}:L=="values"?{value:A.value,done:!1}:{value:[A.key,A.value],done:!1}:{value:C.target=void 0,done:!0}},x?"entries":"values",!x,!0),r(v)}}},{"../internals/an-instance":9,"../internals/define-iterator":41,"../internals/descriptors":43,"../internals/function-bind-context":55,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/iterate":78,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/redefine-all":109,"../internals/set-species":118}],31:[function(u,S,b){function o(E){return E.frozen||(E.frozen=new d)}function d(){this.entries=[]}function s(E,j){return v(E.entries,function(C){return C[0]===j})}var p=u("../internals/redefine-all"),y=u("../internals/internal-metadata").getWeakData,m=u("../internals/an-object"),n=u("../internals/is-object"),r=u("../internals/an-instance"),c=u("../internals/iterate"),a=u("../internals/array-iteration"),h=u("../internals/has"),u=u("../internals/internal-state"),l=u.set,g=u.getterFor,v=a.find,x=a.findIndex,k=0;d.prototype={get:function(E){if(E=s(this,E),E)return E[1]},has:function(E){return!!s(this,E)},set:function(E,j){var C=s(this,E);C?C[1]=j:this.entries.push([E,j])},delete:function(E){var j=x(this.entries,function(C){return C[0]===E});return~j&&this.entries.splice(j,1),!!~j}},S.exports={getConstructor:function(E,j,C,L){function A(I,N,z){var G=R(I),W=y(m(N),!0);return W===!0?o(G).set(N,z):W[G.id]=z,I}var P=E(function(I,N){r(I,P,j),l(I,{type:j,id:k++,frozen:void 0}),N!=null&&c(N,I[L],I,C)}),R=g(j);return p(P.prototype,{delete:function(I){var N,z=R(this);return!!n(I)&&((N=y(I))===!0?o(z).delete(I):N&&h(N,z.id)&&delete N[z.id])},has:function(I){var N,z=R(this);return!!n(I)&&((N=y(I))===!0?o(z).has(I):N&&h(N,z.id))}}),p(P.prototype,C?{get:function(I){var N,z=R(this);if(n(I))return(N=y(I))===!0?o(z).get(I):N?N[z.id]:void 0},set:function(I,N){return A(this,I,N)}}:{add:function(I){return A(this,I,!0)}}),P}}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/array-iteration":19,"../internals/has":61,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/is-object":75,"../internals/iterate":78,"../internals/redefine-all":109}],32:[function(t,S,b){var o=t("../internals/export"),d=t("../internals/global"),s=t("../internals/is-forced"),p=t("../internals/redefine"),y=t("../internals/internal-metadata"),m=t("../internals/iterate"),n=t("../internals/an-instance"),r=t("../internals/is-object"),c=t("../internals/fails"),a=t("../internals/check-correctness-of-iteration"),h=t("../internals/set-to-string-tag"),u=t("../internals/inherit-if-required");S.exports=function(l,g,v){function x(W){var H=N[W];p(N,W,W=="add"?function(Z){return H.call(this,Z===0?0:Z),this}:W=="delete"?function(Z){return!(P&&!r(Z))&&H.call(this,Z===0?0:Z)}:W=="get"?function(Z){return P&&!r(Z)?void 0:H.call(this,Z===0?0:Z)}:W=="has"?function(Z){return!(P&&!r(Z))&&H.call(this,Z===0?0:Z)}:function(Z,Y){return H.call(this,Z===0?0:Z,Y),this})}var k,E,j,C,L,A=l.indexOf("Map")!==-1,P=l.indexOf("Weak")!==-1,R=A?"set":"add",I=d[l],N=I&&I.prototype,z=I,G={};return s(l,typeof I!="function"||!(P||N.forEach&&!c(function(){new I().entries().next()})))?(z=v.getConstructor(g,l,A,R),y.REQUIRED=!0):s(l,!0)&&(E=(k=new z)[R](P?{}:-0,1)!=k,j=c(function(){k.has(1)}),C=a(function(W){new I(W)}),L=!P&&c(function(){for(var W=new I,H=5;H--;)W[R](H,H);return!W.has(-0)}),C||(((z=g(function(W,H){return n(W,z,l),W=u(new I,W,z),H!=null&&m(H,W[R],W,A),W})).prototype=N).constructor=z),(j||L)&&(x("delete"),x("has"),A&&x("get")),(L||E)&&x(R),P&&N.clear&&delete N.clear),G[l]=z,o({global:!0,forced:z!=I},G),h(z,l),P||v.setStrong(z,l,A),z}},{"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/export":50,"../internals/fails":51,"../internals/global":60,"../internals/inherit-if-required":68,"../internals/internal-metadata":70,"../internals/is-forced":74,"../internals/is-object":75,"../internals/iterate":78,"../internals/redefine":110,"../internals/set-to-string-tag":119}],33:[function(t,S,b){var o=t("../internals/has"),d=t("../internals/own-keys"),s=t("../internals/object-get-own-property-descriptor"),p=t("../internals/object-define-property");S.exports=function(y,m){for(var n=d(m),r=p.f,c=s.f,a=0;a<n.length;a++){var h=n[a];o(y,h)||r(y,h,c(m,h))}}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/own-keys":105}],34:[function(t,S,b){var o=t("../internals/well-known-symbol")("match");S.exports=function(d){var s=/./;try{"/./"[d](s)}catch{try{return s[o]=!1,"/./"[d](s)}catch{}}return!1}},{"../internals/well-known-symbol":150}],35:[function(t,S,b){t=t("../internals/fails"),S.exports=!t(function(){function o(){}return o.prototype.constructor=null,Object.getPrototypeOf(new o)!==o.prototype})},{"../internals/fails":51}],36:[function(t,S,b){var o=t("../internals/require-object-coercible"),d=/"/g;S.exports=function(n,p,y,m){var n=String(o(n)),r="<"+p;return y!==""&&(r+=" "+y+'="'+String(m).replace(d,"&quot;")+'"'),r+">"+n+"</"+p+">"}},{"../internals/require-object-coercible":115}],37:[function(t,S,b){function o(){return this}var d=t("../internals/iterators-core").IteratorPrototype,s=t("../internals/object-create"),p=t("../internals/create-property-descriptor"),y=t("../internals/set-to-string-tag"),m=t("../internals/iterators");S.exports=function(n,r,c){return r+=" Iterator",n.prototype=s(d,{next:p(1,c)}),y(n,r,!1,!0),m[r]=o,n}},{"../internals/create-property-descriptor":39,"../internals/iterators":80,"../internals/iterators-core":79,"../internals/object-create":91,"../internals/set-to-string-tag":119}],38:[function(t,S,b){var o=t("../internals/descriptors"),d=t("../internals/object-define-property"),s=t("../internals/create-property-descriptor");S.exports=o?function(p,y,m){return d.f(p,y,s(1,m))}:function(p,y,m){return p[y]=m,p}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/object-define-property":93}],39:[function(t,S,b){S.exports=function(o,d){return{enumerable:!(1&o),configurable:!(2&o),writable:!(4&o),value:d}}},{}],40:[function(t,S,b){var o=t("../internals/to-primitive"),d=t("../internals/object-define-property"),s=t("../internals/create-property-descriptor");S.exports=function(p,y,m){y=o(y),y in p?d.f(p,y,s(0,m)):p[y]=m}},{"../internals/create-property-descriptor":39,"../internals/object-define-property":93,"../internals/to-primitive":142}],41:[function(u,S,b){function o(){return this}var d=u("../internals/export"),s=u("../internals/create-iterator-constructor"),p=u("../internals/object-get-prototype-of"),y=u("../internals/object-set-prototype-of"),m=u("../internals/set-to-string-tag"),n=u("../internals/create-non-enumerable-property"),r=u("../internals/redefine"),c=u("../internals/well-known-symbol"),a=u("../internals/is-pure"),h=u("../internals/iterators"),u=u("../internals/iterators-core"),l=u.IteratorPrototype,g=u.BUGGY_SAFARI_ITERATORS,v=c("iterator"),x="values",k="entries";S.exports=function(E,j,C,G,A,P,R){s(C,j,G);function I(M){if(M===A&&Y)return Y;if(!g&&M in H)return H[M];switch(M){case"keys":case x:case k:return function(){return new C(this,M)}}return function(){return new C(this)}}var N,z,G=j+" Iterator",W=!1,H=E.prototype,Z=H[v]||H["@@iterator"]||A&&H[A],Y=!g&&Z||I(A),Q=j=="Array"&&H.entries||Z;if(Q&&(Q=p(Q.call(new E)),l!==Object.prototype&&Q.next&&(a||p(Q)===l||(y?y(Q,l):typeof Q[v]!="function"&&n(Q,v,o)),m(Q,G,!0,!0),a&&(h[G]=o))),A==x&&Z&&Z.name!==x&&(W=!0,Y=function(){return Z.call(this)}),a&&!R||H[v]===Y||n(H,v,Y),h[j]=Y,A)if(N={values:I(x),keys:P?Y:I("keys"),entries:I(k)},R)for(z in N)!g&&!W&&z in H||r(H,z,N[z]);else d({target:j,proto:!0,forced:g||W},N);return N}},{"../internals/create-iterator-constructor":37,"../internals/create-non-enumerable-property":38,"../internals/export":50,"../internals/is-pure":76,"../internals/iterators":80,"../internals/iterators-core":79,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/well-known-symbol":150}],42:[function(t,S,b){var o=t("../internals/path"),d=t("../internals/has"),s=t("../internals/well-known-symbol-wrapped"),p=t("../internals/object-define-property").f;S.exports=function(y){var m=o.Symbol||(o.Symbol={});d(m,y)||p(m,y,{value:s.f(y)})}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/path":106,"../internals/well-known-symbol-wrapped":149}],43:[function(t,S,b){t=t("../internals/fails"),S.exports=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},{"../internals/fails":51}],44:[function(d,S,b){var o=d("../internals/global"),d=d("../internals/is-object"),s=o.document,p=d(s)&&d(s.createElement);S.exports=function(y){return p?s.createElement(y):{}}},{"../internals/global":60,"../internals/is-object":75}],45:[function(t,S,b){S.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],46:[function(t,S,b){t=t("../internals/engine-user-agent"),S.exports=/(iphone|ipod|ipad).*applewebkit/i.test(t)},{"../internals/engine-user-agent":47}],47:[function(t,S,b){t=t("../internals/get-built-in"),S.exports=t("navigator","userAgent")||""},{"../internals/get-built-in":57}],48:[function(s,S,b){var o,d,p=s("../internals/global"),s=s("../internals/engine-user-agent"),p=p.process,p=p&&p.versions,p=p&&p.v8;p?d=(o=p.split("."))[0]+o[1]:s&&(!(o=s.match(/Edge\/(\d+)/))||74<=o[1])&&(o=s.match(/Chrome\/(\d+)/))&&(d=o[1]),S.exports=d&&+d},{"../internals/engine-user-agent":47,"../internals/global":60}],49:[function(t,S,b){S.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],50:[function(t,S,b){var o=t("../internals/global"),d=t("../internals/object-get-own-property-descriptor").f,s=t("../internals/create-non-enumerable-property"),p=t("../internals/redefine"),y=t("../internals/set-global"),m=t("../internals/copy-constructor-properties"),n=t("../internals/is-forced");S.exports=function(r,c){var a,h,u,l=r.target,g=r.global,v=r.stat,x=g?o:v?o[l]||y(l,{}):(o[l]||{}).prototype;if(x)for(a in c){if(h=c[a],u=r.noTargetGet?(u=d(x,a))&&u.value:x[a],!n(g?a:l+(v?".":"#")+a,r.forced)&&u!==void 0){if(typeof h==typeof u)continue;m(h,u)}(r.sham||u&&u.sham)&&s(h,"sham",!0),p(x,a,h,r)}}},{"../internals/copy-constructor-properties":33,"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/is-forced":74,"../internals/object-get-own-property-descriptor":94,"../internals/redefine":110,"../internals/set-global":117}],51:[function(t,S,b){S.exports=function(o){try{return!!o()}catch{return!0}}},{}],52:[function(c,S,b){c("../modules/es.regexp.exec");var o=c("../internals/redefine"),d=c("../internals/fails"),s=c("../internals/well-known-symbol"),p=c("../internals/regexp-exec"),y=c("../internals/create-non-enumerable-property"),m=s("species"),n=!d(function(){var u=/./;return u.exec=function(){var l=[];return l.groups={a:"7"},l},"".replace(u,"$<a>")!=="7"}),r="a".replace(/./,"$0")==="$0",c=s("replace"),a=!!/./[c]&&/./[c]("a","$0")==="",h=!d(function(){var l=/(?:)/,u=l.exec,l=(l.exec=function(){return u.apply(this,arguments)},"ab".split(l));return l.length!==2||l[0]!=="a"||l[1]!=="b"});S.exports=function(u,l,g,v){var x,k,E=s(u),j=!d(function(){var L={};return L[E]=function(){return 7},""[u](L)!=7}),C=j&&!d(function(){var L=!1,A=/a/;return u==="split"&&((A={constructor:{}}).constructor[m]=function(){return A},A.flags="",A[E]=/./[E]),A.exec=function(){return L=!0,null},A[E](""),!L});j&&C&&(u!=="replace"||n&&r&&!a)&&(u!=="split"||h)||(x=/./[E],g=(C=g(E,""[u],function(L,A,P,R,I){return A.exec===p?j&&!I?{done:!0,value:x.call(A,P,R)}:{done:!0,value:L.call(P,A,R)}:{done:!1}},{REPLACE_KEEPS_$0:r,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:a}))[0],k=C[1],o(String.prototype,u,g),o(RegExp.prototype,E,l==2?function(L,A){return k.call(L,this,A)}:function(L){return k.call(L,this)})),v&&y(RegExp.prototype[E],"sham",!0)}},{"../internals/create-non-enumerable-property":38,"../internals/fails":51,"../internals/redefine":110,"../internals/regexp-exec":112,"../internals/well-known-symbol":150,"../modules/es.regexp.exec":195}],53:[function(t,S,b){function o(y,m,n,r,c,a,h,u){for(var l,g=c,v=0,x=!!h&&p(h,u,3);v<r;){if(v in n){if(l=x?x(n[v],v,m):n[v],0<a&&d(l))g=o(y,m,l,s(l.length),g,a-1)-1;else{if(9007199254740991<=g)throw TypeError("Exceed the acceptable array length");y[g]=l}g++}v++}return g}var d=t("../internals/is-array"),s=t("../internals/to-length"),p=t("../internals/function-bind-context");S.exports=o},{"../internals/function-bind-context":55,"../internals/is-array":73,"../internals/to-length":138}],54:[function(t,S,b){t=t("../internals/fails"),S.exports=!t(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":51}],55:[function(t,S,b){var o=t("../internals/a-function");S.exports=function(d,s,p){if(o(d),s===void 0)return d;switch(p){case 0:return function(){return d.call(s)};case 1:return function(y){return d.call(s,y)};case 2:return function(y,m){return d.call(s,y,m)};case 3:return function(y,m,n){return d.call(s,y,m,n)}}return function(){return d.apply(s,arguments)}}},{"../internals/a-function":5}],56:[function(t,S,b){var o=t("../internals/a-function"),d=t("../internals/is-object"),s=[].slice,p={};S.exports=Function.bind||function(y){var m=o(this),n=s.call(arguments,1),r=function(){var c=n.concat(s.call(arguments));if(this instanceof r){var a=m,h=c.length,u=c;if(!(h in p)){for(var l=[],g=0;g<h;g++)l[g]="a["+g+"]";p[h]=Function("C,a","return new C("+l.join(",")+")")}return p[h](a,u)}return m.apply(y,c)};return d(m.prototype)&&(r.prototype=m.prototype),r}},{"../internals/a-function":5,"../internals/is-object":75}],57:[function(t,S,b){function o(p){return typeof p=="function"?p:void 0}var d=t("../internals/path"),s=t("../internals/global");S.exports=function(p,y){return arguments.length<2?o(d[p])||o(s[p]):d[p]&&d[p][y]||s[p]&&s[p][y]}},{"../internals/global":60,"../internals/path":106}],58:[function(t,S,b){var o=t("../internals/classof"),d=t("../internals/iterators"),s=t("../internals/well-known-symbol")("iterator");S.exports=function(p){if(p!=null)return p[s]||p["@@iterator"]||d[o(p)]}},{"../internals/classof":29,"../internals/iterators":80,"../internals/well-known-symbol":150}],59:[function(t,S,b){var o=t("../internals/an-object"),d=t("../internals/get-iterator-method");S.exports=function(s){var p=d(s);if(typeof p!="function")throw TypeError(String(s)+" is not iterable");return o(p.call(s))}},{"../internals/an-object":10,"../internals/get-iterator-method":58}],60:[function(t,S,b){(function(o){function d(s){return s&&s.Math==Math&&s}S.exports=d(typeof globalThis=="object"&&globalThis)||d(typeof window=="object"&&window)||d(typeof self=="object"&&self)||d(typeof o=="object"&&o)||Function("return this")()}).call(this,typeof lo<"u"?lo:typeof self<"u"?self:typeof window<"u"?window:{})},{}],61:[function(t,S,b){var o={}.hasOwnProperty;S.exports=function(d,s){return o.call(d,s)}},{}],62:[function(t,S,b){S.exports={}},{}],63:[function(t,S,b){var o=t("../internals/global");S.exports=function(d,s){var p=o.console;p&&p.error&&(arguments.length===1?p.error(d):p.error(d,s))}},{"../internals/global":60}],64:[function(t,S,b){t=t("../internals/get-built-in"),S.exports=t("document","documentElement")},{"../internals/get-built-in":57}],65:[function(t,S,b){var o=t("../internals/descriptors"),d=t("../internals/fails"),s=t("../internals/document-create-element");S.exports=!o&&!d(function(){return Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a!=7})},{"../internals/descriptors":43,"../internals/document-create-element":44,"../internals/fails":51}],66:[function(t,S,b){var o=Math.abs,d=Math.pow,s=Math.floor,p=Math.log,y=Math.LN2;S.exports={pack:function(m,n,g){var c,a,h,u=new Array(g),l=8*g-n-1,g=(1<<l)-1,v=g>>1,x=n===23?d(2,-24)-d(2,-77):0,k=m<0||m===0&&1/m<0?1:0,E=0;for((m=o(m))!=m||m===1/0?(a=m!=m?1:0,c=g):(c=s(p(m)/y),m*(h=d(2,-c))<1&&(c--,h*=2),2<=(m+=1<=c+v?x/h:x*d(2,1-v))*h&&(c++,h/=2),g<=c+v?(a=0,c=g):1<=c+v?(a=(m*h-1)*d(2,n),c+=v):(a=m*d(2,v-1)*d(2,n),c=0));8<=n;u[E++]=255&a,a/=256,n-=8);for(c=c<<n|a,l+=n;0<l;u[E++]=255&c,c/=256,l-=8);return u[--E]|=128*k,u},unpack:function(m,n){var r,c=m.length,g=8*c-n-1,a=(1<<g)-1,h=a>>1,u=g-7,l=c-1,g=m[l--],v=127&g;for(g>>=7;0<u;v=256*v+m[l],l--,u-=8);for(r=v&(1<<-u)-1,v>>=-u,u+=n;0<u;r=256*r+m[l],l--,u-=8);if(v===0)v=1-h;else{if(v===a)return r?NaN:g?-1/0:1/0;r+=d(2,n),v-=h}return(g?-1:1)*r*d(2,v-n)}}},{}],67:[function(t,S,b){var o=t("../internals/fails"),d=t("../internals/classof-raw"),s="".split;S.exports=o(function(){return!Object("z").propertyIsEnumerable(0)})?function(p){return d(p)=="String"?s.call(p,""):Object(p)}:Object},{"../internals/classof-raw":28,"../internals/fails":51}],68:[function(t,S,b){var o=t("../internals/is-object"),d=t("../internals/object-set-prototype-of");S.exports=function(s,p,y){return d&&typeof(p=p.constructor)=="function"&&p!==y&&o(p=p.prototype)&&p!==y.prototype&&d(s,p),s}},{"../internals/is-object":75,"../internals/object-set-prototype-of":102}],69:[function(o,S,b){var o=o("../internals/shared-store"),d=Function.toString;typeof o.inspectSource!="function"&&(o.inspectSource=function(s){return d.call(s)}),S.exports=o.inspectSource},{"../internals/shared-store":121}],70:[function(t,S,b){function o(u){y(u,r,{value:{objectID:"O"+ ++c,weakData:{}}})}var d=t("../internals/hidden-keys"),s=t("../internals/is-object"),p=t("../internals/has"),y=t("../internals/object-define-property").f,m=t("../internals/uid"),n=t("../internals/freezing"),r=m("meta"),c=0,a=Object.isExtensible||function(){return!0},h=S.exports={REQUIRED:!1,fastKey:function(u,l){if(!s(u))return typeof u=="symbol"?u:(typeof u=="string"?"S":"P")+u;if(!p(u,r)){if(!a(u))return"F";if(!l)return"E";o(u)}return u[r].objectID},getWeakData:function(u,l){if(!p(u,r)){if(!a(u))return!0;if(!l)return!1;o(u)}return u[r].weakData},onFreeze:function(u){return n&&h.REQUIRED&&a(u)&&!p(u,r)&&o(u),u}};d[r]=!0},{"../internals/freezing":54,"../internals/has":61,"../internals/hidden-keys":62,"../internals/is-object":75,"../internals/object-define-property":93,"../internals/uid":147}],71:[function(g,S,b){var o,d,s,p,y,m,n,r,c=g("../internals/native-weak-map"),v=g("../internals/global"),a=g("../internals/is-object"),h=g("../internals/create-non-enumerable-property"),u=g("../internals/has"),l=g("../internals/shared-key"),g=g("../internals/hidden-keys"),v=v.WeakMap;n=c?(o=new v,d=o.get,s=o.has,p=o.set,y=function(x,k){return p.call(o,x,k),k},m=function(x){return d.call(o,x)||{}},function(x){return s.call(o,x)}):(g[r=l("state")]=!0,y=function(x,k){return h(x,r,k),k},m=function(x){return u(x,r)?x[r]:{}},function(x){return u(x,r)}),S.exports={set:y,get:m,has:n,enforce:function(x){return n(x)?m(x):y(x,{})},getterFor:function(x){return function(k){if(a(k)&&(k=m(k)).type===x)return k;throw TypeError("Incompatible receiver, "+x+" required")}}}},{"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/has":61,"../internals/hidden-keys":62,"../internals/is-object":75,"../internals/native-weak-map":86,"../internals/shared-key":120}],72:[function(t,S,b){var o=t("../internals/well-known-symbol"),d=t("../internals/iterators"),s=o("iterator"),p=Array.prototype;S.exports=function(y){return y!==void 0&&(d.Array===y||p[s]===y)}},{"../internals/iterators":80,"../internals/well-known-symbol":150}],73:[function(t,S,b){var o=t("../internals/classof-raw");S.exports=Array.isArray||function(d){return o(d)=="Array"}},{"../internals/classof-raw":28}],74:[function(t,S,b){function o(r,c){return(r=y[p(r)])==n||r!=m&&(typeof c=="function"?d(c):!!c)}var d=t("../internals/fails"),s=/#|\.prototype\./,p=o.normalize=function(r){return String(r).replace(s,".").toLowerCase()},y=o.data={},m=o.NATIVE="N",n=o.POLYFILL="P";S.exports=o},{"../internals/fails":51}],75:[function(t,S,b){S.exports=function(o){return typeof o=="object"?o!==null:typeof o=="function"}},{}],76:[function(t,S,b){S.exports=!1},{}],77:[function(t,S,b){var o=t("../internals/is-object"),d=t("../internals/classof-raw"),s=t("../internals/well-known-symbol")("match");S.exports=function(p){var y;return o(p)&&((y=p[s])!==void 0?!!y:d(p)=="RegExp")}},{"../internals/classof-raw":28,"../internals/is-object":75,"../internals/well-known-symbol":150}],78:[function(t,S,b){function o(r,c){this.stopped=r,this.result=c}var d=t("../internals/an-object"),s=t("../internals/is-array-iterator-method"),p=t("../internals/to-length"),y=t("../internals/function-bind-context"),m=t("../internals/get-iterator-method"),n=t("../internals/call-with-safe-iteration-closing");(S.exports=function(r,c,a,h,u){var l,g,v,x,k,E,j=y(c,a,h?2:1);if(u)l=r;else{if(typeof(c=m(r))!="function")throw TypeError("Target is not iterable");if(s(c)){for(g=0,v=p(r.length);g<v;g++)if((x=h?j(d(E=r[g])[0],E[1]):j(r[g]))&&x instanceof o)return x;return new o(!1)}l=c.call(r)}for(k=l.next;!(E=k.call(l)).done;)if(typeof(x=n(l,j,E.value,h))=="object"&&x&&x instanceof o)return x;return new o(!1)}).stop=function(r){return new o(!0,r)}},{"../internals/an-object":10,"../internals/call-with-safe-iteration-closing":26,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138}],79:[function(m,S,b){var o,d,s=m("../internals/object-get-prototype-of"),p=m("../internals/create-non-enumerable-property"),y=m("../internals/has"),n=m("../internals/well-known-symbol"),m=m("../internals/is-pure"),n=n("iterator"),r=!1;[].keys&&("next"in(d=[].keys())?(s=s(s(d)))!==Object.prototype&&(o=s):r=!0),o==null&&(o={}),m||y(o,n)||p(o,n,function(){return this}),S.exports={IteratorPrototype:o,BUGGY_SAFARI_ITERATORS:r}},{"../internals/create-non-enumerable-property":38,"../internals/has":61,"../internals/is-pure":76,"../internals/object-get-prototype-of":98,"../internals/well-known-symbol":150}],80:[function(t,S,b){S.exports={}},{}],81:[function(t,S,b){S.exports=Math.sign||function(o){return(o=+o)==0||o!=o?o:o<0?-1:1}},{}],82:[function(h,S,b){var o,d,s,p,y,m,n,r,c=h("../internals/global"),k=h("../internals/object-get-own-property-descriptor").f,x=h("../internals/classof-raw"),a=h("../internals/task").set,h=h("../internals/engine-is-ios"),u=c.MutationObserver||c.WebKitMutationObserver,l=c.process,g=c.Promise,v=x(l)=="process",x=k(c,"queueMicrotask"),k=x&&x.value;k||(o=function(){var E,j;for(v&&(E=l.domain)&&E.exit();d;){j=d.fn,d=d.next;try{j()}catch(C){throw d?p():s=void 0,C}}s=void 0,E&&E.enter()},p=v?function(){l.nextTick(o)}:u&&!h?(y=!0,m=document.createTextNode(""),new u(o).observe(m,{characterData:!0}),function(){m.data=y=!y}):g&&g.resolve?(n=g.resolve(void 0),r=n.then,function(){r.call(n,o)}):function(){a.call(c,o)}),S.exports=k||function(E){E={fn:E,next:void 0},s&&(s.next=E),d||(d=E,p()),s=E}},{"../internals/classof-raw":28,"../internals/engine-is-ios":46,"../internals/global":60,"../internals/object-get-own-property-descriptor":94,"../internals/task":132}],83:[function(t,S,b){t=t("../internals/global"),S.exports=t.Promise},{"../internals/global":60}],84:[function(t,S,b){t=t("../internals/fails"),S.exports=!!Object.getOwnPropertySymbols&&!t(function(){return!String(Symbol())})},{"../internals/fails":51}],85:[function(t,S,b){var o=t("../internals/fails"),d=t("../internals/well-known-symbol"),s=t("../internals/is-pure"),p=d("iterator");S.exports=!o(function(){var y=new URL("b?a=1&b=2&c=3","http://a"),m=y.searchParams,n="";return y.pathname="c%20d",m.forEach(function(r,c){m.delete("b"),n+=c+r}),s&&!y.toJSON||!m.sort||y.href!=="http://a/c%20d?a=1&c=3"||m.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!m[p]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://").host!=="xn--e1aybc"||new URL("http://a#").hash!=="#%D0%B1"||n!=="a1c3"||new URL("http://x",void 0).host!=="x"})},{"../internals/fails":51,"../internals/is-pure":76,"../internals/well-known-symbol":150}],86:[function(o,S,b){var d=o("../internals/global"),o=o("../internals/inspect-source"),d=d.WeakMap;S.exports=typeof d=="function"&&/native code/.test(o(d))},{"../internals/global":60,"../internals/inspect-source":69}],87:[function(t,S,b){function o(s){var p,y;this.promise=new s(function(m,n){if(p!==void 0||y!==void 0)throw TypeError("Bad Promise constructor");p=m,y=n}),this.resolve=d(p),this.reject=d(y)}var d=t("../internals/a-function");S.exports.f=function(s){return new o(s)}},{"../internals/a-function":5}],88:[function(t,S,b){var o=t("../internals/is-regexp");S.exports=function(d){if(o(d))throw TypeError("The method doesn't accept regular expressions");return d}},{"../internals/is-regexp":77}],89:[function(t,S,b){var o=t("../internals/global").isFinite;S.exports=Number.isFinite||function(d){return typeof d=="number"&&o(d)}},{"../internals/global":60}],90:[function(t,S,b){var o=t("../internals/descriptors"),d=t("../internals/fails"),s=t("../internals/object-keys"),p=t("../internals/object-get-own-property-symbols"),y=t("../internals/object-property-is-enumerable"),m=t("../internals/to-object"),n=t("../internals/indexed-object"),r=Object.assign,c=Object.defineProperty;S.exports=!r||d(function(){var a,h,u,l;return!(!o||r({b:1},r(c({},"a",{enumerable:!0,get:function(){c(this,"b",{value:3,enumerable:!1})}}),{b:2})).b===1)||(h={},l="abcdefghijklmnopqrst",(a={})[u=Symbol()]=7,l.split("").forEach(function(g){h[g]=g}),r({},a)[u]!=7||s(r({},h)).join("")!=l)})?function(a,h){for(var u=m(a),l=arguments.length,g=1,v=p.f,x=y.f;g<l;)for(var k,E=n(arguments[g++]),j=v?s(E).concat(v(E)):s(E),C=j.length,L=0;L<C;)k=j[L++],o&&!x.call(E,k)||(u[k]=E[k]);return u}:r},{"../internals/descriptors":43,"../internals/fails":51,"../internals/indexed-object":67,"../internals/object-get-own-property-symbols":97,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/to-object":139}],91:[function(c,S,b){function o(){}var d,s=c("../internals/an-object"),p=c("../internals/object-define-properties"),y=c("../internals/enum-bug-keys"),m=c("../internals/hidden-keys"),n=c("../internals/html"),r=c("../internals/document-create-element"),c=c("../internals/shared-key"),a="prototype",h="script",u=c("IE_PROTO"),l=function(v){return"<"+h+">"+v+"</"+h+">"},g=function(){try{d=document.domain&&new ActiveXObject("htmlfile")}catch{}g=d?((v=d).write(l("")),v.close(),x=v.parentWindow.Object,v=null,x):(v=r("iframe"),x="java"+h+":",v.style.display="none",n.appendChild(v),v.src=String(x),(x=v.contentWindow.document).open(),x.write(l("document.F=Object")),x.close(),x.F);for(var v,x,k=y.length;k--;)delete g[a][y[k]];return g()};m[u]=!0,S.exports=Object.create||function(v,x){var k;return v!==null?(o[a]=s(v),k=new o,o[a]=null,k[u]=v):k=g(),x===void 0?k:p(k,x)}},{"../internals/an-object":10,"../internals/document-create-element":44,"../internals/enum-bug-keys":49,"../internals/hidden-keys":62,"../internals/html":64,"../internals/object-define-properties":92,"../internals/shared-key":120}],92:[function(t,S,b){var o=t("../internals/descriptors"),d=t("../internals/object-define-property"),s=t("../internals/an-object"),p=t("../internals/object-keys");S.exports=o?Object.defineProperties:function(y,m){s(y);for(var n,r=p(m),c=r.length,a=0;a<c;)d.f(y,n=r[a++],m[n]);return y}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/object-define-property":93,"../internals/object-keys":100}],93:[function(t,S,b){var o=t("../internals/descriptors"),d=t("../internals/ie8-dom-define"),s=t("../internals/an-object"),p=t("../internals/to-primitive"),y=Object.defineProperty;b.f=o?y:function(m,n,r){if(s(m),n=p(n,!0),s(r),d)try{return y(m,n,r)}catch{}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(m[n]=r.value),m}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/ie8-dom-define":65,"../internals/to-primitive":142}],94:[function(t,S,b){var o=t("../internals/descriptors"),d=t("../internals/object-property-is-enumerable"),s=t("../internals/create-property-descriptor"),p=t("../internals/to-indexed-object"),y=t("../internals/to-primitive"),m=t("../internals/has"),n=t("../internals/ie8-dom-define"),r=Object.getOwnPropertyDescriptor;b.f=o?r:function(c,a){if(c=p(c),a=y(a,!0),n)try{return r(c,a)}catch{}if(m(c,a))return s(!d.f.call(c,a),c[a])}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/has":61,"../internals/ie8-dom-define":65,"../internals/object-property-is-enumerable":101,"../internals/to-indexed-object":136,"../internals/to-primitive":142}],95:[function(t,S,b){var o=t("../internals/to-indexed-object"),d=t("../internals/object-get-own-property-names").f,s={}.toString,p=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];S.exports.f=function(y){if(!p||s.call(y)!="[object Window]")return d(o(y));try{return d(y)}catch{return p.slice()}}},{"../internals/object-get-own-property-names":96,"../internals/to-indexed-object":136}],96:[function(t,S,b){var o=t("../internals/object-keys-internal"),d=t("../internals/enum-bug-keys").concat("length","prototype");b.f=Object.getOwnPropertyNames||function(s){return o(s,d)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":99}],97:[function(t,S,b){b.f=Object.getOwnPropertySymbols},{}],98:[function(p,S,b){var o=p("../internals/has"),d=p("../internals/to-object"),s=p("../internals/shared-key"),p=p("../internals/correct-prototype-getter"),y=s("IE_PROTO"),m=Object.prototype;S.exports=p?Object.getPrototypeOf:function(n){return n=d(n),o(n,y)?n[y]:typeof n.constructor=="function"&&n instanceof n.constructor?n.constructor.prototype:n instanceof Object?m:null}},{"../internals/correct-prototype-getter":35,"../internals/has":61,"../internals/shared-key":120,"../internals/to-object":139}],99:[function(t,S,b){var o=t("../internals/has"),d=t("../internals/to-indexed-object"),s=t("../internals/array-includes").indexOf,p=t("../internals/hidden-keys");S.exports=function(y,m){var n,r=d(y),c=0,a=[];for(n in r)!o(p,n)&&o(r,n)&&a.push(n);for(;m.length>c;)!o(r,n=m[c++])||~s(a,n)||a.push(n);return a}},{"../internals/array-includes":18,"../internals/has":61,"../internals/hidden-keys":62,"../internals/to-indexed-object":136}],100:[function(t,S,b){var o=t("../internals/object-keys-internal"),d=t("../internals/enum-bug-keys");S.exports=Object.keys||function(s){return o(s,d)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":99}],101:[function(t,S,b){var o={}.propertyIsEnumerable,d=Object.getOwnPropertyDescriptor,s=d&&!o.call({1:2},1);b.f=s?function(p){return p=d(this,p),!!p&&p.enumerable}:o},{}],102:[function(t,S,b){var o=t("../internals/an-object"),d=t("../internals/a-possible-prototype");S.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var s,p=!1,y={};try{(s=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(y,[]),p=y instanceof Array}catch{}return function(m,n){return o(m),d(n),p?s.call(m,n):m.__proto__=n,m}}():void 0)},{"../internals/a-possible-prototype":6,"../internals/an-object":10}],103:[function(t,S,b){function o(m){return function(n){for(var r,c=p(n),a=s(c),h=a.length,u=0,l=[];u<h;)r=a[u++],d&&!y.call(c,r)||l.push(m?[r,c[r]]:c[r]);return l}}var d=t("../internals/descriptors"),s=t("../internals/object-keys"),p=t("../internals/to-indexed-object"),y=t("../internals/object-property-is-enumerable").f;S.exports={entries:o(!0),values:o(!1)}},{"../internals/descriptors":43,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/to-indexed-object":136}],104:[function(t,S,b){var o=t("../internals/to-string-tag-support"),d=t("../internals/classof");S.exports=o?{}.toString:function(){return"[object "+d(this)+"]"}},{"../internals/classof":29,"../internals/to-string-tag-support":143}],105:[function(t,S,b){var o=t("../internals/get-built-in"),d=t("../internals/object-get-own-property-names"),s=t("../internals/object-get-own-property-symbols"),p=t("../internals/an-object");S.exports=o("Reflect","ownKeys")||function(y){var m=d.f(p(y)),n=s.f;return n?m.concat(n(y)):m}},{"../internals/an-object":10,"../internals/get-built-in":57,"../internals/object-get-own-property-names":96,"../internals/object-get-own-property-symbols":97}],106:[function(t,S,b){t=t("../internals/global"),S.exports=t},{"../internals/global":60}],107:[function(t,S,b){S.exports=function(o){try{return{error:!1,value:o()}}catch(d){return{error:!0,value:d}}}},{}],108:[function(t,S,b){var o=t("../internals/an-object"),d=t("../internals/is-object"),s=t("../internals/new-promise-capability");S.exports=function(p,y){return o(p),d(y)&&y.constructor===p?y:((0,(p=s.f(p)).resolve)(y),p.promise)}},{"../internals/an-object":10,"../internals/is-object":75,"../internals/new-promise-capability":87}],109:[function(t,S,b){var o=t("../internals/redefine");S.exports=function(d,s,p){for(var y in s)o(d,y,s[y],p);return d}},{"../internals/redefine":110}],110:[function(m,S,b){var o=m("../internals/global"),d=m("../internals/create-non-enumerable-property"),s=m("../internals/has"),p=m("../internals/set-global"),y=m("../internals/inspect-source"),m=m("../internals/internal-state"),n=m.get,r=m.enforce,c=String(String).split("String");(S.exports=function(a,h,u,x){var g=!!x&&!!x.unsafe,v=!!x&&!!x.enumerable,x=!!x&&!!x.noTargetGet;typeof u=="function"&&(typeof h!="string"||s(u,"name")||d(u,"name",h),r(u).source=c.join(typeof h=="string"?h:"")),a===o?v?a[h]=u:p(h,u):(g?!x&&a[h]&&(v=!0):delete a[h],v?a[h]=u:d(a,h,u))})(Function.prototype,"toString",function(){return typeof this=="function"&&n(this).source||y(this)})},{"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/has":61,"../internals/inspect-source":69,"../internals/internal-state":71,"../internals/set-global":117}],111:[function(t,S,b){var o=t("./classof-raw"),d=t("./regexp-exec");S.exports=function(s,p){var y=s.exec;if(typeof y=="function"){if(y=y.call(s,p),typeof y!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return y}if(o(s)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return d.call(s,p)}},{"./classof-raw":28,"./regexp-exec":112}],112:[function(p,S,b){var o,d,s=p("./regexp-flags"),p=p("./regexp-sticky-helpers"),y=RegExp.prototype.exec,m=String.prototype.replace,n=y,r=(o=/a/,d=/b*/g,y.call(o,"a"),y.call(d,"a"),o.lastIndex!==0||d.lastIndex!==0),c=p.UNSUPPORTED_Y||p.BROKEN_CARET,a=/()??/.exec("")[1]!==void 0;S.exports=n=r||a||c?function(h){var u,l,g,v,x=this,k=c&&x.sticky,E=s.call(x),j=x.source,C=0,L=h;return k&&((E=E.replace("y","")).indexOf("g")===-1&&(E+="g"),L=String(h).slice(x.lastIndex),0<x.lastIndex&&(!x.multiline||x.multiline&&h[x.lastIndex-1]!==`
`)&&(j="(?: "+j+")",L=" "+L,C++),l=new RegExp("^(?:"+j+")",E)),a&&(l=new RegExp("^"+j+"$(?!\\s)",E)),r&&(u=x.lastIndex),g=y.call(k?l:x,L),k?g?(g.input=g.input.slice(C),g[0]=g[0].slice(C),g.index=x.lastIndex,x.lastIndex+=g[0].length):x.lastIndex=0:r&&g&&(x.lastIndex=x.global?g.index+g[0].length:u),a&&g&&1<g.length&&m.call(g[0],l,function(){for(v=1;v<arguments.length-2;v++)arguments[v]===void 0&&(g[v]=void 0)}),g}:n},{"./regexp-flags":113,"./regexp-sticky-helpers":114}],113:[function(t,S,b){var o=t("../internals/an-object");S.exports=function(){var d=o(this),s="";return d.global&&(s+="g"),d.ignoreCase&&(s+="i"),d.multiline&&(s+="m"),d.dotAll&&(s+="s"),d.unicode&&(s+="u"),d.sticky&&(s+="y"),s}},{"../internals/an-object":10}],114:[function(t,S,b){t=t("./fails");function o(d,s){return RegExp(d,s)}b.UNSUPPORTED_Y=t(function(){var d=o("a","y");return d.lastIndex=2,d.exec("abcd")!=null}),b.BROKEN_CARET=t(function(){var d=o("^r","gy");return d.lastIndex=2,d.exec("str")!=null})},{"./fails":51}],115:[function(t,S,b){S.exports=function(o){if(o==null)throw TypeError("Can't call method on "+o);return o}},{}],116:[function(t,S,b){S.exports=Object.is||function(o,d){return o===d?o!==0||1/o==1/d:o!=o&&d!=d}},{}],117:[function(t,S,b){var o=t("../internals/global"),d=t("../internals/create-non-enumerable-property");S.exports=function(s,p){try{d(o,s,p)}catch{o[s]=p}return p}},{"../internals/create-non-enumerable-property":38,"../internals/global":60}],118:[function(t,S,b){var o=t("../internals/get-built-in"),d=t("../internals/object-define-property"),s=t("../internals/well-known-symbol"),p=t("../internals/descriptors"),y=s("species");S.exports=function(n){var n=o(n),r=d.f;p&&n&&!n[y]&&r(n,y,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":43,"../internals/get-built-in":57,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],119:[function(t,S,b){var o=t("../internals/object-define-property").f,d=t("../internals/has"),s=t("../internals/well-known-symbol")("toStringTag");S.exports=function(p,y,m){p&&!d(p=m?p:p.prototype,s)&&o(p,s,{configurable:!0,value:y})}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],120:[function(t,S,b){var o=t("../internals/shared"),d=t("../internals/uid"),s=o("keys");S.exports=function(p){return s[p]||(s[p]=d(p))}},{"../internals/shared":122,"../internals/uid":147}],121:[function(o,S,b){var s=o("../internals/global"),o=o("../internals/set-global"),d="__core-js_shared__",s=s[d]||o(d,{});S.exports=s},{"../internals/global":60,"../internals/set-global":117}],122:[function(t,S,b){var o=t("../internals/is-pure"),d=t("../internals/shared-store");(S.exports=function(s,p){return d[s]||(d[s]=p!==void 0?p:{})})("versions",[]).push({version:"3.6.5",mode:o?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":76,"../internals/shared-store":121}],123:[function(t,S,b){var o=t("../internals/an-object"),d=t("../internals/a-function"),s=t("../internals/well-known-symbol")("species");S.exports=function(m,y){var m=o(m).constructor;return m===void 0||(m=o(m)[s])==null?y:d(m)}},{"../internals/a-function":5,"../internals/an-object":10,"../internals/well-known-symbol":150}],124:[function(t,S,b){var o=t("../internals/fails");S.exports=function(d){return o(function(){var s=""[d]('"');return s!==s.toLowerCase()||3<s.split('"').length})}},{"../internals/fails":51}],125:[function(t,S,b){function o(p){return function(r,c){var n,r=String(s(r)),c=d(c),a=r.length;return c<0||a<=c?p?"":void 0:(n=r.charCodeAt(c))<55296||56319<n||c+1===a||(a=r.charCodeAt(c+1))<56320||57343<a?p?r.charAt(c):n:p?r.slice(c,c+2):a-56320+(n-55296<<10)+65536}}var d=t("../internals/to-integer"),s=t("../internals/require-object-coercible");S.exports={codeAt:o(!1),charAt:o(!0)}},{"../internals/require-object-coercible":115,"../internals/to-integer":137}],126:[function(t,S,b){t=t("../internals/engine-user-agent"),S.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(t)},{"../internals/engine-user-agent":47}],127:[function(t,S,b){function o(m){return function(a,l,u){var a=String(p(a)),h=a.length,u=u===void 0?" ":String(u),l=d(l);return l<=h||u==""?a:((h=s.call(u,y((l=l-h)/u.length))).length>l&&(h=h.slice(0,l)),m?a+h:h+a)}}var d=t("../internals/to-length"),s=t("../internals/string-repeat"),p=t("../internals/require-object-coercible"),y=Math.ceil;S.exports={start:o(!1),end:o(!0)}},{"../internals/require-object-coercible":115,"../internals/string-repeat":129,"../internals/to-length":138}],128:[function(t,S,b){function o(g){return g+22+75*(g<26)}function d(g){var v,x=[],k=(g=function(Z){for(var Y=[],Q=0,M=Z.length;Q<M;){var B,V=Z.charCodeAt(Q++);55296<=V&&V<=56319&&Q<M?(64512&(B=Z.charCodeAt(Q++)))==56320?Y.push(((1023&V)<<10)+(1023&B)+65536):(Y.push(V),Q--):Y.push(V)}return Y}(g)).length,E=128,j=0,C=72;for(R=0;R<g.length;R++)(v=g[R])<128&&x.push(l(v));var L=x.length,A=L;for(L&&x.push("-");A<k;){for(var P=s,R=0;R<g.length;R++)E<=(v=g[R])&&v<P&&(P=v);var I=A+1;if(P-E>u((s-j)/I))throw RangeError(a);for(j+=(P-E)*I,E=P,R=0;R<g.length;R++){if((v=g[R])<E&&++j>s)throw RangeError(a);if(v==E){for(var N=j,z=p;;z+=p){var G=z<=C?1:C+y<=z?y:z-C;if(N<G)break;var W=N-G,H=p-G;x.push(l(o(G+W%H))),N=u(W/H)}x.push(l(o(N))),C=function(Z,Y,Q){var M=0;for(Z=Q?u(Z/n):Z>>1,Z+=u(Z/Y);h*y>>1<Z;M+=p)Z=u(Z/h);return u(M+(h+1)*Z/(Z+m))}(j,I,A==L),j=0,++A}}++j,++E}return x.join("")}var s=2147483647,p=36,y=26,m=38,n=700,r=/[^\0-\u007E]/,c=/[.\u3002\uFF0E\uFF61]/g,a="Overflow: input needs wider integers to process",h=p-1,u=Math.floor,l=String.fromCharCode;S.exports=function(g){for(var v,x=[],k=g.toLowerCase().replace(c,".").split("."),E=0;E<k.length;E++)v=k[E],x.push(r.test(v)?"xn--"+d(v):v);return x.join(".")}},{}],129:[function(t,S,b){var o=t("../internals/to-integer"),d=t("../internals/require-object-coercible");S.exports="".repeat||function(s){var p=String(d(this)),y="",m=o(s);if(m<0||m==1/0)throw RangeError("Wrong number of repetitions");for(;0<m;(m>>>=1)&&(p+=p))1&m&&(y+=p);return y}},{"../internals/require-object-coercible":115,"../internals/to-integer":137}],130:[function(t,S,b){var o=t("../internals/fails"),d=t("../internals/whitespaces");S.exports=function(s){return o(function(){return!!d[s]()||""[s]()!=""||d[s].name!==s})}},{"../internals/fails":51,"../internals/whitespaces":151}],131:[function(s,S,b){function o(m){return function(n){return n=String(d(n)),1&m&&(n=n.replace(p,"")),n=2&m?n.replace(y,""):n}}var d=s("../internals/require-object-coercible"),s="["+s("../internals/whitespaces")+"]",p=RegExp("^"+s+s+"*"),y=RegExp(s+s+"*$");S.exports={start:o(1),end:o(2),trim:o(3)}},{"../internals/require-object-coercible":115,"../internals/whitespaces":151}],132:[function(h,S,b){function o(A){return function(){L(A)}}function d(A){L(A.data)}function s(A){y.postMessage(A+"",u.protocol+"//"+u.host)}var p,y=h("../internals/global"),m=h("../internals/fails"),n=h("../internals/classof-raw"),r=h("../internals/function-bind-context"),c=h("../internals/html"),a=h("../internals/document-create-element"),h=h("../internals/engine-is-ios"),u=y.location,l=y.setImmediate,g=y.clearImmediate,v=y.process,x=y.MessageChannel,k=y.Dispatch,E=0,j={},C="onreadystatechange",L=function(A){var P;j.hasOwnProperty(A)&&(P=j[A],delete j[A],P())};l&&g||(l=function(A){for(var P=[],R=1;R<arguments.length;)P.push(arguments[R++]);return j[++E]=function(){(typeof A=="function"?A:Function(A)).apply(void 0,P)},p(E),E},g=function(A){delete j[A]},n(v)=="process"?p=function(A){v.nextTick(o(A))}:k&&k.now?p=function(A){k.now(o(A))}:x&&!h?(h=(n=new x).port2,n.port1.onmessage=d,p=r(h.postMessage,h,1)):!y.addEventListener||typeof postMessage!="function"||y.importScripts||m(s)||u.protocol==="file:"?p=C in a("script")?function(A){c.appendChild(a("script"))[C]=function(){c.removeChild(this),L(A)}}:function(A){setTimeout(o(A),0)}:(p=s,y.addEventListener("message",d,!1))),S.exports={set:l,clear:g}},{"../internals/classof-raw":28,"../internals/document-create-element":44,"../internals/engine-is-ios":46,"../internals/fails":51,"../internals/function-bind-context":55,"../internals/global":60,"../internals/html":64}],133:[function(t,S,b){var o=t("../internals/classof-raw");S.exports=function(d){if(typeof d!="number"&&o(d)!="Number")throw TypeError("Incorrect invocation");return+d}},{"../internals/classof-raw":28}],134:[function(t,S,b){var o=t("../internals/to-integer"),d=Math.max,s=Math.min;S.exports=function(p,y){return p=o(p),p<0?d(p+y,0):s(p,y)}},{"../internals/to-integer":137}],135:[function(t,S,b){var o=t("../internals/to-integer"),d=t("../internals/to-length");S.exports=function(p){if(p===void 0)return 0;var p=o(p),y=d(p);if(p!==y)throw RangeError("Wrong length or index");return y}},{"../internals/to-integer":137,"../internals/to-length":138}],136:[function(t,S,b){var o=t("../internals/indexed-object"),d=t("../internals/require-object-coercible");S.exports=function(s){return o(d(s))}},{"../internals/indexed-object":67,"../internals/require-object-coercible":115}],137:[function(t,S,b){var o=Math.ceil,d=Math.floor;S.exports=function(s){return isNaN(s=+s)?0:(0<s?d:o)(s)}},{}],138:[function(t,S,b){var o=t("../internals/to-integer"),d=Math.min;S.exports=function(s){return 0<s?d(o(s),9007199254740991):0}},{"../internals/to-integer":137}],139:[function(t,S,b){var o=t("../internals/require-object-coercible");S.exports=function(d){return Object(o(d))}},{"../internals/require-object-coercible":115}],140:[function(t,S,b){var o=t("../internals/to-positive-integer");S.exports=function(d,s){if(d=o(d),d%s)throw RangeError("Wrong offset");return d}},{"../internals/to-positive-integer":141}],141:[function(t,S,b){var o=t("../internals/to-integer");S.exports=function(d){if(d=o(d),d<0)throw RangeError("The argument can't be less than 0");return d}},{"../internals/to-integer":137}],142:[function(t,S,b){var o=t("../internals/is-object");S.exports=function(d,s){if(!o(d))return d;var p,y;if(s&&typeof(p=d.toString)=="function"&&!o(y=p.call(d))||typeof(p=d.valueOf)=="function"&&!o(y=p.call(d))||!s&&typeof(p=d.toString)=="function"&&!o(y=p.call(d)))return y;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":75}],143:[function(t,S,b){var o={};o[t("../internals/well-known-symbol")("toStringTag")]="z",S.exports=String(o)==="[object z]"},{"../internals/well-known-symbol":150}],144:[function(t,S,b){function o(ee,ae){for(var _e=0,Oe=ae.length,ue=new(U(ee))(Oe);_e<Oe;)ue[_e]=ae[_e++];return ue}function d(ee,ae){B(ee,ae,{get:function(){return Q(this)[ae]}})}function s(ee){return ee instanceof ne||(ee=L(ee))=="ArrayBuffer"||ee=="SharedArrayBuffer"}function p(ee,ae){return oe(ee)&&typeof ae!="symbol"&&ae in ee&&String(+ae)==String(ae)}function y(ee,ae){return p(ee,ae=j(ae,!0))?g(2,ee[ae]):V(ee,ae)}function m(ee,ae,_e){return!(p(ee,ae=j(ae,!0))&&A(_e)&&C(_e,"value"))||C(_e,"get")||C(_e,"set")||_e.configurable||C(_e,"writable")&&!_e.writable||C(_e,"enumerable")&&!_e.enumerable?B(ee,ae,_e):(ee[ae]=_e.value,ee)}var n=t("../internals/export"),r=t("../internals/global"),c=t("../internals/descriptors"),a=t("../internals/typed-array-constructors-require-wrappers"),h=t("../internals/array-buffer-view-core"),u=t("../internals/array-buffer"),l=t("../internals/an-instance"),g=t("../internals/create-property-descriptor"),v=t("../internals/create-non-enumerable-property"),x=t("../internals/to-length"),k=t("../internals/to-index"),E=t("../internals/to-offset"),j=t("../internals/to-primitive"),C=t("../internals/has"),L=t("../internals/classof"),A=t("../internals/is-object"),P=t("../internals/object-create"),R=t("../internals/object-set-prototype-of"),I=t("../internals/object-get-own-property-names").f,N=t("../internals/typed-array-from"),z=t("../internals/array-iteration").forEach,G=t("../internals/set-species"),W=t("../internals/object-define-property"),H=t("../internals/object-get-own-property-descriptor"),Z=t("../internals/internal-state"),Y=t("../internals/inherit-if-required"),Q=Z.get,M=Z.set,B=W.f,V=H.f,X=Math.round,re=r.RangeError,ne=u.ArrayBuffer,ce=u.DataView,be=h.NATIVE_ARRAY_BUFFER_VIEWS,he=h.TYPED_ARRAY_TAG,le=h.TypedArray,ge=h.TypedArrayPrototype,U=h.aTypedArrayConstructor,oe=h.isTypedArray,fe="BYTES_PER_ELEMENT",te="Wrong length";c?(be||(H.f=y,W.f=m,d(ge,"buffer"),d(ge,"byteOffset"),d(ge,"byteLength"),d(ge,"length")),n({target:"Object",stat:!0,forced:!be},{getOwnPropertyDescriptor:y,defineProperty:m}),S.exports=function(Ee,ae,_e){function Oe(De,ie){B(De,ie,{get:function(){var pe=this,$=ie;return(pe=Q(pe)).view[Me]($*ue+pe.byteOffset,!0)},set:function(pe){var $=this,de=ie;$=Q($),_e&&(pe=(pe=X(pe))<0?0:255<pe?255:255&pe),$.view[Le](de*ue+$.byteOffset,pe,!0)},enumerable:!0})}var ue=Ee.match(/\d+$/)[0]/8,je=Ee+(_e?"Clamped":"")+"Array",Me="get"+Ee,Le="set"+Ee,qe=r[je],Ye=qe,Ee=Ye&&Ye.prototype,Xe={};be?a&&(Ye=ae(function(De,ie,pe,$){return l(De,Ye,je),Y(A(ie)?s(ie)?$!==void 0?new qe(ie,E(pe,ue),$):pe!==void 0?new qe(ie,E(pe,ue)):new qe(ie):oe(ie)?o(Ye,ie):N.call(Ye,ie):new qe(k(ie)),De,Ye)}),R&&R(Ye,le),z(I(qe),function(De){De in Ye||v(Ye,De,qe[De])}),Ye.prototype=Ee):(Ye=ae(function(De,ie,pe,$){l(De,Ye,je);var de,Se,Ie=0,Ue=0;if(A(ie)){if(!s(ie))return oe(ie)?o(Ye,ie):N.call(Ye,ie);var et=ie,Ue=E(pe,ue),pe=ie.byteLength;if($===void 0){if(pe%ue||(de=pe-Ue)<0)throw re(te)}else if(pe<(de=x($)*ue)+Ue)throw re(te);Se=de/ue}else Se=k(ie),et=new ne(de=Se*ue);for(M(De,{buffer:et,byteOffset:Ue,byteLength:de,length:Se,view:new ce(et)});Ie<Se;)Oe(De,Ie++)}),R&&R(Ye,le),Ee=Ye.prototype=P(ge)),Ee.constructor!==Ye&&v(Ee,"constructor",Ye),he&&v(Ee,he,je),Xe[je]=Ye,n({global:!0,forced:Ye!=qe,sham:!be},Xe),fe in Ye||v(Ye,fe,ue),fe in Ee||v(Ee,fe,ue),G(je)}):S.exports=function(){}},{"../internals/an-instance":9,"../internals/array-buffer":13,"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/inherit-if-required":68,"../internals/internal-state":71,"../internals/is-object":75,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/object-set-prototype-of":102,"../internals/set-species":118,"../internals/to-index":135,"../internals/to-length":138,"../internals/to-offset":140,"../internals/to-primitive":142,"../internals/typed-array-constructors-require-wrappers":145,"../internals/typed-array-from":146}],145:[function(p,S,b){var o=p("../internals/global"),d=p("../internals/fails"),s=p("../internals/check-correctness-of-iteration"),p=p("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,y=o.ArrayBuffer,m=o.Int8Array;S.exports=!p||!d(function(){m(1)})||!d(function(){new m(-1)})||!s(function(n){new m,new m(null),new m(1.5),new m(n)},!0)||d(function(){return new m(new y(2),1,void 0).length!==1})},{"../internals/array-buffer-view-core":12,"../internals/check-correctness-of-iteration":27,"../internals/fails":51,"../internals/global":60}],146:[function(t,S,b){var o=t("../internals/to-object"),d=t("../internals/to-length"),s=t("../internals/get-iterator-method"),p=t("../internals/is-array-iterator-method"),y=t("../internals/function-bind-context"),m=t("../internals/array-buffer-view-core").aTypedArrayConstructor;S.exports=function(n){var r,c,a,h,u,l,g=o(n),v=arguments.length,x=1<v?arguments[1]:void 0,k=x!==void 0,E=s(g);if(E!=null&&!p(E))for(l=(u=E.call(g)).next,g=[];!(h=l.call(u)).done;)g.push(h.value);for(k&&2<v&&(x=y(x,arguments[2],2)),c=d(g.length),a=new(m(this))(c),r=0;r<c;r++)a[r]=k?x(g[r],r):g[r];return a}},{"../internals/array-buffer-view-core":12,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138,"../internals/to-object":139}],147:[function(t,S,b){var o=0,d=Math.random();S.exports=function(s){return"Symbol("+String(s===void 0?"":s)+")_"+(++o+d).toString(36)}},{}],148:[function(t,S,b){t=t("../internals/native-symbol"),S.exports=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/native-symbol":84}],149:[function(t,S,b){t=t("../internals/well-known-symbol"),b.f=t},{"../internals/well-known-symbol":150}],150:[function(m,S,b){var o=m("../internals/global"),d=m("../internals/shared"),s=m("../internals/has"),p=m("../internals/uid"),y=m("../internals/native-symbol"),m=m("../internals/use-symbol-as-uid"),n=d("wks"),r=o.Symbol,c=m?r:r&&r.withoutSetter||p;S.exports=function(a){return s(n,a)||(y&&s(r,a)?n[a]=r[a]:n[a]=c("Symbol."+a)),n[a]}},{"../internals/global":60,"../internals/has":61,"../internals/native-symbol":84,"../internals/shared":122,"../internals/uid":147,"../internals/use-symbol-as-uid":148}],151:[function(t,S,b){S.exports=`	
\v\f\r \u2028\u2029\uFEFF`},{}],152:[function(s,S,b){var o=s("../internals/export"),d=s("../internals/global"),y=s("../internals/array-buffer"),s=s("../internals/set-species"),p="ArrayBuffer",y=y[p];o({global:!0,forced:d[p]!==y},{ArrayBuffer:y}),s(p)},{"../internals/array-buffer":13,"../internals/export":50,"../internals/global":60,"../internals/set-species":118}],153:[function(g,S,b){var o=g("../internals/export"),d=g("../internals/fails"),s=g("../internals/is-array"),p=g("../internals/is-object"),y=g("../internals/to-object"),m=g("../internals/to-length"),n=g("../internals/create-property"),r=g("../internals/array-species-create"),c=g("../internals/array-method-has-species-support"),l=g("../internals/well-known-symbol"),g=g("../internals/engine-v8-version"),a=l("isConcatSpreadable"),h=9007199254740991,u="Maximum allowed index exceeded",l=51<=g||!d(function(){var v=[];return v[a]=!1,v.concat()[0]!==v}),g=c("concat");o({target:"Array",proto:!0,forced:!l||!g},{concat:function(v){for(var x,k,E,j,C,L=y(this),A=r(L,0),P=0,R=-1,I=arguments.length;R<I;R++)if(C=void 0,!p(j=E=R===-1?L:arguments[R])||((C=j[a])!==void 0?!C:!s(j))){if(h<=P)throw TypeError(u);n(A,P++,E)}else{if(k=m(E.length),h<P+k)throw TypeError(u);for(x=0;x<k;x++,P++)x in E&&n(A,P,E[x])}return A.length=P,A}})},{"../internals/array-method-has-species-support":21,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/fails":51,"../internals/is-array":73,"../internals/is-object":75,"../internals/to-length":138,"../internals/to-object":139,"../internals/well-known-symbol":150}],154:[function(s,S,b){var o=s("../internals/export"),d=s("../internals/array-copy-within"),s=s("../internals/add-to-unscopables");o({target:"Array",proto:!0},{copyWithin:d}),s("copyWithin")},{"../internals/add-to-unscopables":7,"../internals/array-copy-within":14,"../internals/export":50}],155:[function(p,S,b){var o=p("../internals/export"),d=p("../internals/array-iteration").every,s=p("../internals/array-method-is-strict"),p=p("../internals/array-method-uses-to-length"),s=s("every"),p=p("every");o({target:"Array",proto:!0,forced:!s||!p},{every:function(y){return d(this,y,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],156:[function(s,S,b){var o=s("../internals/export"),d=s("../internals/array-fill"),s=s("../internals/add-to-unscopables");o({target:"Array",proto:!0},{fill:d}),s("fill")},{"../internals/add-to-unscopables":7,"../internals/array-fill":15,"../internals/export":50}],157:[function(p,S,b){var o=p("../internals/export"),d=p("../internals/array-iteration").filter,s=p("../internals/array-method-has-species-support"),p=p("../internals/array-method-uses-to-length"),s=s("filter"),p=p("filter");o({target:"Array",proto:!0,forced:!s||!p},{filter:function(y){return d(this,y,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],158:[function(m,S,b){var o=m("../internals/export"),d=m("../internals/array-iteration").findIndex,s=m("../internals/add-to-unscopables"),m=m("../internals/array-method-uses-to-length"),p="findIndex",y=!0,m=m(p);p in[]&&Array(1)[p](function(){y=!1}),o({target:"Array",proto:!0,forced:y||!m},{findIndex:function(n){return d(this,n,1<arguments.length?arguments[1]:void 0)}}),s(p)},{"../internals/add-to-unscopables":7,"../internals/array-iteration":19,"../internals/array-method-uses-to-length":23,"../internals/export":50}],159:[function(t,S,b){var o=t("../internals/export"),d=t("../internals/flatten-into-array"),s=t("../internals/to-object"),p=t("../internals/to-length"),y=t("../internals/a-function"),m=t("../internals/array-species-create");o({target:"Array",proto:!0},{flatMap:function(n){var r,c=s(this),a=p(c.length);return y(n),(r=m(c,0)).length=d(r,c,c,a,0,1,n,1<arguments.length?arguments[1]:void 0),r}})},{"../internals/a-function":5,"../internals/array-species-create":25,"../internals/export":50,"../internals/flatten-into-array":53,"../internals/to-length":138,"../internals/to-object":139}],160:[function(t,S,b){var o=t("../internals/export"),d=t("../internals/flatten-into-array"),s=t("../internals/to-object"),p=t("../internals/to-length"),y=t("../internals/to-integer"),m=t("../internals/array-species-create");o({target:"Array",proto:!0},{flat:function(){var n=arguments.length?arguments[0]:void 0,r=s(this),c=p(r.length),a=m(r,0);return a.length=d(a,r,r,c,0,n===void 0?1:y(n)),a}})},{"../internals/array-species-create":25,"../internals/export":50,"../internals/flatten-into-array":53,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],161:[function(d,S,b){var o=d("../internals/export"),d=d("../internals/array-for-each");o({target:"Array",proto:!0,forced:[].forEach!=d},{forEach:d})},{"../internals/array-for-each":16,"../internals/export":50}],162:[function(t,S,b){var o=t("../internals/export"),d=t("../internals/array-from");o({target:"Array",stat:!0,forced:!t("../internals/check-correctness-of-iteration")(function(s){Array.from(s)})},{from:d})},{"../internals/array-from":17,"../internals/check-correctness-of-iteration":27,"../internals/export":50}],163:[function(t,S,b){var o=t("../internals/export"),d=t("../internals/array-includes").includes,s=t("../internals/add-to-unscopables");o({target:"Array",proto:!0,forced:!t("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(p){return d(this,p,1<arguments.length?arguments[1]:void 0)}}),s("includes")},{"../internals/add-to-unscopables":7,"../internals/array-includes":18,"../internals/array-method-uses-to-length":23,"../internals/export":50}],164:[function(m,S,b){var o=m("../internals/export"),d=m("../internals/array-includes").indexOf,y=m("../internals/array-method-is-strict"),m=m("../internals/array-method-uses-to-length"),s=[].indexOf,p=!!s&&1/[1].indexOf(1,-0)<0,y=y("indexOf"),m=m("indexOf",{ACCESSORS:!0,1:0});o({target:"Array",proto:!0,forced:p||!y||!m},{indexOf:function(n){return p?s.apply(this,arguments)||0:d(this,n,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-includes":18,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],165:[function(y,S,b){var o=y("../internals/to-indexed-object"),d=y("../internals/add-to-unscopables"),s=y("../internals/iterators"),p=y("../internals/internal-state"),y=y("../internals/define-iterator"),m="Array Iterator",n=p.set,r=p.getterFor(m);S.exports=y(Array,"Array",function(c,a){n(this,{type:m,target:o(c),index:0,kind:a})},function(){var c=r(this),a=c.target,h=c.kind,u=c.index++;return!a||u>=a.length?{value:c.target=void 0,done:!0}:h=="keys"?{value:u,done:!1}:h=="values"?{value:a[u],done:!1}:{value:[u,a[u]],done:!1}},"values"),s.Arguments=s.Array,d("keys"),d("values"),d("entries")},{"../internals/add-to-unscopables":7,"../internals/define-iterator":41,"../internals/internal-state":71,"../internals/iterators":80,"../internals/to-indexed-object":136}],166:[function(y,S,b){var o=y("../internals/export"),p=y("../internals/indexed-object"),d=y("../internals/to-indexed-object"),y=y("../internals/array-method-is-strict"),s=[].join,p=p!=Object,y=y("join",",");o({target:"Array",proto:!0,forced:p||!y},{join:function(m){return s.call(d(this),m===void 0?",":m)}})},{"../internals/array-method-is-strict":22,"../internals/export":50,"../internals/indexed-object":67,"../internals/to-indexed-object":136}],167:[function(d,S,b){var o=d("../internals/export"),d=d("../internals/array-last-index-of");o({target:"Array",proto:!0,forced:d!==[].lastIndexOf},{lastIndexOf:d})},{"../internals/array-last-index-of":20,"../internals/export":50}],168:[function(p,S,b){var o=p("../internals/export"),d=p("../internals/array-iteration").map,s=p("../internals/array-method-has-species-support"),p=p("../internals/array-method-uses-to-length"),s=s("map"),p=p("map");o({target:"Array",proto:!0,forced:!s||!p},{map:function(y){return d(this,y,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],169:[function(a,S,b){var o=a("../internals/export"),d=a("../internals/is-object"),s=a("../internals/is-array"),p=a("../internals/to-absolute-index"),y=a("../internals/to-length"),m=a("../internals/to-indexed-object"),n=a("../internals/create-property"),r=a("../internals/well-known-symbol"),c=a("../internals/array-method-has-species-support"),a=a("../internals/array-method-uses-to-length"),c=c("slice"),a=a("slice",{ACCESSORS:!0,0:0,1:2}),h=r("species"),u=[].slice,l=Math.max;o({target:"Array",proto:!0,forced:!c||!a},{slice:function(g,v){var x,k,E,j=m(this),C=y(j.length),L=p(g,C),A=p(v===void 0?C:v,C);if(s(j)&&((x=typeof(x=j.constructor)=="function"&&(x===Array||s(x.prototype))||d(x)&&(x=x[h])===null?void 0:x)===Array||x===void 0))return u.call(j,L,A);for(k=new(x===void 0?Array:x)(l(A-L,0)),E=0;L<A;L++,E++)L in j&&n(k,E,j[L]);return k.length=E,k}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/create-property":40,"../internals/export":50,"../internals/is-array":73,"../internals/is-object":75,"../internals/to-absolute-index":134,"../internals/to-indexed-object":136,"../internals/to-length":138,"../internals/well-known-symbol":150}],170:[function(p,S,b){var o=p("../internals/export"),d=p("../internals/array-iteration").some,s=p("../internals/array-method-is-strict"),p=p("../internals/array-method-uses-to-length"),s=s("some"),p=p("some");o({target:"Array",proto:!0,forced:!s||!p},{some:function(y){return d(this,y,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],171:[function(c,S,b){var o=c("../internals/export"),d=c("../internals/to-absolute-index"),s=c("../internals/to-integer"),p=c("../internals/to-length"),y=c("../internals/to-object"),m=c("../internals/array-species-create"),n=c("../internals/create-property"),r=c("../internals/array-method-has-species-support"),c=c("../internals/array-method-uses-to-length"),r=r("splice"),c=c("splice",{ACCESSORS:!0,0:0,1:2}),a=Math.max,h=Math.min;o({target:"Array",proto:!0,forced:!r||!c},{splice:function(P,l){var g,v,x,k,E,j,C=y(this),L=p(C.length),A=d(P,L),P=arguments.length;if(P===0?g=v=0:v=P===1?(g=0,L-A):(g=P-2,h(a(s(l),0),L-A)),9007199254740991<L+g-v)throw TypeError("Maximum allowed length exceeded");for(x=m(C,v),k=0;k<v;k++)(E=A+k)in C&&n(x,k,C[E]);if(g<(x.length=v)){for(k=A;k<L-v;k++)j=k+g,(E=k+v)in C?C[j]=C[E]:delete C[j];for(k=L;L-v+g<k;k--)delete C[k-1]}else if(v<g)for(k=L-v;A<k;k--)j=k+g-1,(E=k+v-1)in C?C[j]=C[E]:delete C[j];for(k=0;k<g;k++)C[k+A]=arguments[k+2];return C.length=L-v+g,x}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/export":50,"../internals/to-absolute-index":134,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],172:[function(t,S,b){t("../internals/add-to-unscopables")("flatMap")},{"../internals/add-to-unscopables":7}],173:[function(t,S,b){t("../internals/add-to-unscopables")("flat")},{"../internals/add-to-unscopables":7}],174:[function(d,S,b){var o=d("../internals/descriptors"),d=d("../internals/object-define-property").f,s=Function.prototype,p=s.toString,y=/^\s*function ([^ (]*)/;!o||"name"in s||d(s,"name",{configurable:!0,get:function(){try{return p.call(this).match(y)[1]}catch{return""}}})},{"../internals/descriptors":43,"../internals/object-define-property":93}],175:[function(d,S,b){var o=d("../internals/collection"),d=d("../internals/collection-strong");S.exports=o("Map",function(s){return function(){return s(this,arguments.length?arguments[0]:void 0)}},d)},{"../internals/collection":32,"../internals/collection-strong":30}],176:[function(o,S,b){var o=o("../internals/export"),d=Math.hypot,s=Math.abs,p=Math.sqrt;o({target:"Math",stat:!0,forced:!!d&&d(1/0,NaN)!==1/0},{hypot:function(y,m){for(var n,r,c=0,a=0,h=arguments.length,u=0;a<h;)u<(n=s(arguments[a++]))?(c=c*(r=u/n)*r+1,u=n):c+=0<n?(r=n/u)*r:n;return u===1/0?1/0:u*p(c)}})},{"../internals/export":50}],177:[function(o,S,b){var o=o("../internals/export"),d=Math.log,s=Math.LN2;o({target:"Math",stat:!0},{log2:function(p){return d(p)/s}})},{"../internals/export":50}],178:[function(t,S,b){t("../internals/export")({target:"Math",stat:!0},{sign:t("../internals/math-sign")})},{"../internals/export":50,"../internals/math-sign":81}],179:[function(t,S,b){function o(R){var I,N,z,G,W,H,Z,Y=c(R,!1);if(typeof Y=="string"&&2<Y.length){if((R=(Y=v(Y)).charCodeAt(0))===43||R===45){if((I=Y.charCodeAt(2))===88||I===120)return NaN}else if(R===48){switch(Y.charCodeAt(1)){case 66:case 98:N=2,z=49;break;case 79:case 111:N=8,z=55;break;default:return+Y}for(W=(G=Y.slice(2)).length,H=0;H<W;H++)if((Z=G.charCodeAt(H))<48||z<Z)return NaN;return parseInt(G,N)}}return+Y}var d=t("../internals/descriptors"),s=t("../internals/global"),p=t("../internals/is-forced"),y=t("../internals/redefine"),m=t("../internals/has"),n=t("../internals/classof-raw"),r=t("../internals/inherit-if-required"),c=t("../internals/to-primitive"),a=t("../internals/fails"),h=t("../internals/object-create"),u=t("../internals/object-get-own-property-names").f,l=t("../internals/object-get-own-property-descriptor").f,g=t("../internals/object-define-property").f,v=t("../internals/string-trim").trim,x="Number",k=s[x],E=k.prototype,j=n(h(E))==x;if(p(x,!k(" 0o1")||!k("0b1")||k("+0x1"))){for(var C,L=function(I){var I=arguments.length<1?0:I,N=this;return N instanceof L&&(j?a(function(){E.valueOf.call(N)}):n(N)!=x)?r(new k(o(I)),N,L):o(I)},A=d?u(k):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),P=0;A.length>P;P++)m(k,C=A[P])&&!m(L,C)&&g(L,C,l(k,C));(L.prototype=E).constructor=L,y(s,x,L)}},{"../internals/classof-raw":28,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/has":61,"../internals/inherit-if-required":68,"../internals/is-forced":74,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/redefine":110,"../internals/string-trim":131,"../internals/to-primitive":142}],180:[function(t,S,b){t("../internals/export")({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})},{"../internals/export":50}],181:[function(t,S,b){t("../internals/export")({target:"Number",stat:!0},{isFinite:t("../internals/number-is-finite")})},{"../internals/export":50,"../internals/number-is-finite":89}],182:[function(m,S,b){function o(c,a,h){return a===0?h:a%2==1?o(c,a-1,h*c):o(c*c,a/2,h)}var d=m("../internals/export"),s=m("../internals/to-integer"),p=m("../internals/this-number-value"),y=m("../internals/string-repeat"),m=m("../internals/fails"),n=1 .toFixed,r=Math.floor;d({target:"Number",proto:!0,forced:n&&(8e-5.toFixed(3)!=="0.000"||.9.toFixed(0)!=="1"||1.255.toFixed(2)!=="1.25"||0xde0b6b3a7640080.toFixed(0)!=="1000000000000000128")||!m(function(){n.call({})})},{toFixed:function(x){function a(C,L){for(var A=-1,P=L;++A<6;)P+=C*k[A],k[A]=P%1e7,P=r(P/1e7)}function h(C){for(var L=6,A=0;0<=--L;)A+=k[L],k[L]=r(A/C),A=A%C*1e7}function u(){for(var C,L=6,A="";0<=--L;)A===""&&L!==0&&k[L]===0||(C=String(k[L]),A=A===""?C:A+y.call("0",7-C.length)+C);return A}var l,g,v=p(this),x=s(x),k=[0,0,0,0,0,0],E="",j="0";if(x<0||20<x)throw RangeError("Incorrect fraction digits");if(v!=v)return"NaN";if(v<=-1e21||1e21<=v)return String(v);if(v<0&&(E="-",v=-v),1e-21<v)if(v=(l=function(C){for(var L=0,A=C;4096<=A;)L+=12,A/=4096;for(;2<=A;)L+=1,A/=2;return L}(v*o(2,69,1))-69)<0?v*o(2,-l,1):v/o(2,l,1),v*=4503599627370496,0<(l=52-l)){for(a(0,v),g=x;7<=g;)a(1e7,0),g-=7;for(a(o(10,g,1),0),g=l-1;23<=g;)h(1<<23),g-=23;h(1<<g),a(1,1),h(2),j=u()}else a(0,v),a(1<<-l,0),j=u()+y.call("0",x);return j=0<x?E+((v=j.length)<=x?"0."+y.call("0",x-v)+j:j.slice(0,v-x)+"."+j.slice(v-x)):E+j}})},{"../internals/export":50,"../internals/fails":51,"../internals/string-repeat":129,"../internals/this-number-value":133,"../internals/to-integer":137}],183:[function(d,S,b){var o=d("../internals/export"),d=d("../internals/object-assign");o({target:"Object",stat:!0,forced:Object.assign!==d},{assign:d})},{"../internals/export":50,"../internals/object-assign":90}],184:[function(t,S,b){var o=t("../internals/export"),d=t("../internals/object-to-array").entries;o({target:"Object",stat:!0},{entries:function(s){return d(s)}})},{"../internals/export":50,"../internals/object-to-array":103}],185:[function(t,S,b){var o=t("../internals/export"),d=t("../internals/iterate"),s=t("../internals/create-property");o({target:"Object",stat:!0},{fromEntries:function(p){var y={};return d(p,function(m,n){s(y,m,n)},void 0,!0),y}})},{"../internals/create-property":40,"../internals/export":50,"../internals/iterate":78}],186:[function(p,S,b){var o=p("../internals/export"),y=p("../internals/fails"),d=p("../internals/to-indexed-object"),s=p("../internals/object-get-own-property-descriptor").f,p=p("../internals/descriptors"),y=y(function(){s(1)});o({target:"Object",stat:!0,forced:!p||y,sham:!p},{getOwnPropertyDescriptor:function(m,n){return s(d(m),n)}})},{"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-descriptor":94,"../internals/to-indexed-object":136}],187:[function(s,S,b){var o=s("../internals/export"),d=s("../internals/fails"),s=s("../internals/object-get-own-property-names-external").f;o({target:"Object",stat:!0,forced:d(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:s})},{"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-names-external":95}],188:[function(y,S,b){var o=y("../internals/export"),d=y("../internals/fails"),s=y("../internals/to-object"),p=y("../internals/object-get-prototype-of"),y=y("../internals/correct-prototype-getter");o({target:"Object",stat:!0,forced:d(function(){p(1)}),sham:!y},{getPrototypeOf:function(m){return p(s(m))}})},{"../internals/correct-prototype-getter":35,"../internals/export":50,"../internals/fails":51,"../internals/object-get-prototype-of":98,"../internals/to-object":139}],189:[function(t,S,b){var o=t("../internals/export"),d=t("../internals/to-object"),s=t("../internals/object-keys");o({target:"Object",stat:!0,forced:t("../internals/fails")(function(){s(1)})},{keys:function(p){return s(d(p))}})},{"../internals/export":50,"../internals/fails":51,"../internals/object-keys":100,"../internals/to-object":139}],190:[function(s,S,b){var o=s("../internals/to-string-tag-support"),d=s("../internals/redefine"),s=s("../internals/object-to-string");o||d(Object.prototype,"toString",s,{unsafe:!0})},{"../internals/object-to-string":104,"../internals/redefine":110,"../internals/to-string-tag-support":143}],191:[function(_e,S,b){var o,d,s,p,y=_e("../internals/export"),m=_e("../internals/is-pure"),n=_e("../internals/global"),r=_e("../internals/get-built-in"),c=_e("../internals/native-promise-constructor"),a=_e("../internals/redefine"),h=_e("../internals/redefine-all"),u=_e("../internals/set-to-string-tag"),l=_e("../internals/set-species"),g=_e("../internals/is-object"),v=_e("../internals/a-function"),x=_e("../internals/an-instance"),k=_e("../internals/classof-raw"),E=_e("../internals/inspect-source"),j=_e("../internals/iterate"),C=_e("../internals/check-correctness-of-iteration"),L=_e("../internals/species-constructor"),A=_e("../internals/task").set,P=_e("../internals/microtask"),R=_e("../internals/promise-resolve"),I=_e("../internals/host-report-errors"),N=_e("../internals/new-promise-capability"),z=_e("../internals/perform"),G=_e("../internals/internal-state"),W=_e("../internals/is-forced"),Oe=_e("../internals/well-known-symbol"),H=_e("../internals/engine-v8-version"),Z=Oe("species"),Y="Promise",Q=G.get,M=G.set,B=G.getterFor(Y),V=c,X=n.TypeError,re=n.document,ne=n.process,ce=r("fetch"),be=N.f,he=be,le=k(ne)=="process",ge=!!(re&&re.createEvent&&n.dispatchEvent),U="unhandledrejection",oe="rejectionhandled",fe=1,te=2,ee=1,ae=2,_e=W(Y,function(){var Xe,De;return E(V)===String(V)&&(H===66||!le&&typeof PromiseRejectionEvent!="function")?!0:!(!m||V.prototype.finally)||!(51<=H&&/native code/.test(V))&&(De=function(ie){ie(function(){},function(){})},((Xe=V.resolve(1)).constructor={})[Z]=De,!(Xe.then(function(){})instanceof De))}),Oe=_e||!C(function(Xe){V.all(Xe).catch(function(){})}),ue=function(Xe){var De;return!(!g(Xe)||typeof(De=Xe.then)!="function")&&De},je=function(Xe,De,ie){var pe;De.notified||(De.notified=!0,pe=De.reactions,P(function(){for(var $,de,Se=De.value,Ie=De.state==fe,Ue=0;pe.length>Ue;){var et,lt,it,ct=pe[Ue++],Ct=Ie?ct.ok:ct.fail,wt=ct.resolve,ht=ct.reject,bt=ct.domain;try{Ct?(Ie||(De.rejection===ae&&function(kt,Gt){A.call(n,function(){le?ne.emit("rejectionHandled",kt):Me(oe,kt,Gt.value)})}(Xe,De),De.rejection=ee),Ct===!0?et=Se:(bt&&bt.enter(),et=Ct(Se),bt&&(bt.exit(),it=!0)),et===ct.promise?ht(X("Promise-chain cycle")):(lt=ue(et))?lt.call(et,wt,ht):wt(et)):ht(Se)}catch(kt){bt&&!it&&bt.exit(),ht(kt)}}De.reactions=[],De.notified=!1,ie&&!De.rejection&&($=Xe,de=De,A.call(n,function(){var kt=de.value,Gt=Le(de);if(Gt&&(Gt=z(function(){le?ne.emit("unhandledRejection",kt,$):Me(U,$,kt)}),de.rejection=le||Le(de)?ae:ee,Gt.error))throw Gt.value}))}))},Me=function(Xe,De,ie){var pe;ge?((pe=re.createEvent("Event")).promise=De,pe.reason=ie,pe.initEvent(Xe,!1,!0),n.dispatchEvent(pe)):pe={promise:De,reason:ie},(De=n["on"+Xe])?De(pe):Xe===U&&I("Unhandled promise rejection",ie)},Le=function(Xe){return Xe.rejection!==ee&&!Xe.parent},qe=function(Xe,De,ie,pe){return function($){Xe(De,ie,$,pe)}},Ye=function(Xe,De,ie,pe){De.done||(De.done=!0,(De=pe||De).value=ie,De.state=te,je(Xe,De,!0))},Ee=function(Xe,De,ie,pe){if(!De.done){De.done=!0,pe&&(De=pe);try{if(Xe===ie)throw X("Promise can't be resolved itself");var $=ue(ie);$?P(function(){var de={done:!1};try{$.call(ie,qe(Ee,Xe,de,De),qe(Ye,Xe,de,De))}catch(Se){Ye(Xe,de,Se,De)}}):(De.value=ie,De.state=fe,je(Xe,De,!1))}catch(de){Ye(Xe,{done:!1},de,De)}}};_e&&(V=function(Xe){x(this,V,Y),v(Xe),o.call(this);var De=Q(this);try{Xe(qe(Ee,this,De),qe(Ye,this,De))}catch(ie){Ye(this,De,ie)}},(o=function(Xe){M(this,{type:Y,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=h(V.prototype,{then:function(Xe,De){var ie=B(this),pe=be(L(this,V));return pe.ok=typeof Xe!="function"||Xe,pe.fail=typeof De=="function"&&De,pe.domain=le?ne.domain:void 0,ie.parent=!0,ie.reactions.push(pe),ie.state!=0&&je(this,ie,!1),pe.promise},catch:function(Xe){return this.then(void 0,Xe)}}),d=function(){var Xe=new o,De=Q(Xe);this.promise=Xe,this.resolve=qe(Ee,Xe,De),this.reject=qe(Ye,Xe,De)},N.f=be=function(Xe){return Xe===V||Xe===s?new d:he(Xe)},m||typeof c!="function"||(p=c.prototype.then,a(c.prototype,"then",function(Xe,De){var ie=this;return new V(function(pe,$){p.call(ie,pe,$)}).then(Xe,De)},{unsafe:!0}),typeof ce=="function"&&y({global:!0,enumerable:!0,forced:!0},{fetch:function(Xe){return R(V,ce.apply(n,arguments))}}))),y({global:!0,wrap:!0,forced:_e},{Promise:V}),u(V,Y,!1,!0),l(Y),s=r(Y),y({target:Y,stat:!0,forced:_e},{reject:function(Xe){var De=be(this);return De.reject.call(void 0,Xe),De.promise}}),y({target:Y,stat:!0,forced:m||_e},{resolve:function(Xe){return R(m&&this===s?V:this,Xe)}}),y({target:Y,stat:!0,forced:Oe},{all:function(Xe){var De=this,ie=be(De),pe=ie.resolve,$=ie.reject,de=z(function(){var Se=v(De.resolve),Ie=[],Ue=0,et=1;j(Xe,function(lt){var it=Ue++,ct=!1;Ie.push(void 0),et++,Se.call(De,lt).then(function(Ct){ct||(ct=!0,Ie[it]=Ct,--et||pe(Ie))},$)}),--et||pe(Ie)});return de.error&&$(de.value),ie.promise},race:function(Xe){var De=this,ie=be(De),pe=ie.reject,$=z(function(){var de=v(De.resolve);j(Xe,function(Se){de.call(De,Se).then(ie.resolve,pe)})});return $.error&&pe($.value),ie.promise}})},{"../internals/a-function":5,"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/classof-raw":28,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/get-built-in":57,"../internals/global":60,"../internals/host-report-errors":63,"../internals/inspect-source":69,"../internals/internal-state":71,"../internals/is-forced":74,"../internals/is-object":75,"../internals/is-pure":76,"../internals/iterate":78,"../internals/microtask":82,"../internals/native-promise-constructor":83,"../internals/new-promise-capability":87,"../internals/perform":107,"../internals/promise-resolve":108,"../internals/redefine":110,"../internals/redefine-all":109,"../internals/set-species":118,"../internals/set-to-string-tag":119,"../internals/species-constructor":123,"../internals/task":132,"../internals/well-known-symbol":150}],192:[function(n,S,b){var o=n("../internals/export"),h=n("../internals/get-built-in"),d=n("../internals/a-function"),s=n("../internals/an-object"),p=n("../internals/is-object"),y=n("../internals/object-create"),m=n("../internals/function-bind"),n=n("../internals/fails"),r=h("Reflect","construct"),c=n(function(){function u(){}return!(r(function(){},[],u)instanceof u)}),a=!n(function(){r(function(){})}),h=c||a;o({target:"Reflect",stat:!0,forced:h,sham:h},{construct:function(u,l){d(u),s(l);var g=arguments.length<3?u:d(arguments[2]);if(a&&!c)return r(u,l,g);if(u==g){switch(l.length){case 0:return new u;case 1:return new u(l[0]);case 2:return new u(l[0],l[1]);case 3:return new u(l[0],l[1],l[2]);case 4:return new u(l[0],l[1],l[2],l[3])}var v=[null];return v.push.apply(v,l),new(m.apply(u,v))}return v=g.prototype,g=y(p(v)?v:Object.prototype),v=Function.apply.call(u,g,l),p(v)?v:g}})},{"../internals/a-function":5,"../internals/an-object":10,"../internals/export":50,"../internals/fails":51,"../internals/function-bind":56,"../internals/get-built-in":57,"../internals/is-object":75,"../internals/object-create":91}],193:[function(t,S,b){var o=t("../internals/export"),d=t("../internals/is-object"),s=t("../internals/an-object"),p=t("../internals/has"),y=t("../internals/object-get-own-property-descriptor"),m=t("../internals/object-get-prototype-of");o({target:"Reflect",stat:!0},{get:function n(r,c){var a,h=arguments.length<3?r:arguments[2];return s(r)===h?r[c]:(a=y.f(r,c))?p(a,"value")?a.value:a.get===void 0?void 0:a.get.call(h):d(a=m(r))?n(a,c,h):void 0}})},{"../internals/an-object":10,"../internals/export":50,"../internals/has":61,"../internals/is-object":75,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-prototype-of":98}],194:[function(t,S,b){var o=t("../internals/descriptors"),d=t("../internals/global"),s=t("../internals/is-forced"),p=t("../internals/inherit-if-required"),y=t("../internals/object-define-property").f,m=t("../internals/object-get-own-property-names").f,n=t("../internals/is-regexp"),r=t("../internals/regexp-flags"),c=t("../internals/regexp-sticky-helpers"),a=t("../internals/redefine"),h=t("../internals/fails"),u=t("../internals/internal-state").set,l=t("../internals/set-species"),g=t("../internals/well-known-symbol")("match"),v=d.RegExp,x=v.prototype,k=/a/g,E=/a/g,j=new v(k)!==k,C=c.UNSUPPORTED_Y;if(o&&s("RegExp",!j||C||h(function(){return E[g]=!1,v(k)!=k||v(E)==E||v(k,"i")!="/a/i"}))){for(var L=function(R,I){var N,z=this instanceof L,G=n(R),W=I===void 0;return!z&&G&&R.constructor===L&&W?R:(j?G&&!W&&(R=R.source):R instanceof L&&(W&&(I=r.call(R)),R=R.source),C&&(N=!!I&&-1<I.indexOf("y"))&&(I=I.replace(/y/g,"")),G=p(j?new v(R,I):v(R,I),z?this:x,L),C&&N&&u(G,{sticky:N}),G)},A=m(v),P=0;A.length>P;)(function(R){R in L||y(L,R,{configurable:!0,get:function(){return v[R]},set:function(I){v[R]=I}})})(A[P++]);(x.constructor=L).prototype=x,a(d,"RegExp",L)}l("RegExp")},{"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/inherit-if-required":68,"../internals/internal-state":71,"../internals/is-forced":74,"../internals/is-regexp":77,"../internals/object-define-property":93,"../internals/object-get-own-property-names":96,"../internals/redefine":110,"../internals/regexp-flags":113,"../internals/regexp-sticky-helpers":114,"../internals/set-species":118,"../internals/well-known-symbol":150}],195:[function(d,S,b){var o=d("../internals/export"),d=d("../internals/regexp-exec");o({target:"RegExp",proto:!0,forced:/./.exec!==d},{exec:d})},{"../internals/export":50,"../internals/regexp-exec":112}],196:[function(p,S,b){var o=p("../internals/redefine"),d=p("../internals/an-object"),n=p("../internals/fails"),s=p("../internals/regexp-flags"),p="toString",y=RegExp.prototype,m=y[p],n=n(function(){return m.call({source:"a",flags:"b"})!="/a/b"}),r=m.name!=p;(n||r)&&o(RegExp.prototype,p,function(){var c=d(this),a=String(c.source),h=c.flags;return"/"+a+"/"+String(h===void 0&&c instanceof RegExp&&!("flags"in y)?s.call(c):h)},{unsafe:!0})},{"../internals/an-object":10,"../internals/fails":51,"../internals/redefine":110,"../internals/regexp-flags":113}],197:[function(d,S,b){var o=d("../internals/collection"),d=d("../internals/collection-strong");S.exports=o("Set",function(s){return function(){return s(this,arguments.length?arguments[0]:void 0)}},d)},{"../internals/collection":32,"../internals/collection-strong":30}],198:[function(m,S,b){var o=m("../internals/export"),d=m("../internals/object-get-own-property-descriptor").f,s=m("../internals/to-length"),p=m("../internals/not-a-regexp"),y=m("../internals/require-object-coercible"),c=m("../internals/correct-is-regexp-logic"),m=m("../internals/is-pure"),n="".endsWith,r=Math.min,c=c("endsWith");o({target:"String",proto:!0,forced:!!(m||c||!(o=d(String.prototype,"endsWith"))||o.writable)&&!c},{endsWith:function(a){var h=String(y(this)),u=(p(a),1<arguments.length?arguments[1]:void 0),l=s(h.length),u=u===void 0?l:r(s(u),l),l=String(a);return n?n.call(h,l,u):h.slice(u-l.length,u)===l}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":76,"../internals/not-a-regexp":88,"../internals/object-get-own-property-descriptor":94,"../internals/require-object-coercible":115,"../internals/to-length":138}],199:[function(t,S,b){var o=t("../internals/export"),d=t("../internals/not-a-regexp"),s=t("../internals/require-object-coercible");o({target:"String",proto:!0,forced:!t("../internals/correct-is-regexp-logic")("includes")},{includes:function(p){return!!~String(s(this)).indexOf(d(p),1<arguments.length?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/not-a-regexp":88,"../internals/require-object-coercible":115}],200:[function(s,S,b){var o=s("../internals/string-multibyte").charAt,d=s("../internals/internal-state"),s=s("../internals/define-iterator"),p="String Iterator",y=d.set,m=d.getterFor(p);s(String,"String",function(n){y(this,{type:p,string:String(n),index:0})},function(){var n=m(this),r=n.string,c=n.index;return c>=r.length?{value:void 0,done:!0}:(r=o(r,c),n.index+=r.length,{value:r,done:!1})})},{"../internals/define-iterator":41,"../internals/internal-state":71,"../internals/string-multibyte":125}],201:[function(t,S,b){var o=t("../internals/fix-regexp-well-known-symbol-logic"),d=t("../internals/an-object"),s=t("../internals/to-length"),p=t("../internals/require-object-coercible"),y=t("../internals/advance-string-index"),m=t("../internals/regexp-exec-abstract");o("match",1,function(n,r,c){return[function(a){var h=p(this),u=a?.[n];return u!==void 0?u.call(a,h):new RegExp(a)[n](String(h))},function(a){var h=c(r,a,this);if(h.done)return h.value;var u=d(a),l=String(this);if(!u.global)return m(u,l);for(var g=u.unicode,v=[],x=u.lastIndex=0;(k=m(u,l))!==null;){var k=String(k[0]);(v[x]=k)===""&&(u.lastIndex=y(l,s(u.lastIndex),g)),x++}return x===0?null:v}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/to-length":138}],202:[function(t,S,b){var o=t("../internals/export"),d=t("../internals/string-pad").start;o({target:"String",proto:!0,forced:t("../internals/string-pad-webkit-bug")},{padStart:function(s){return d(this,s,1<arguments.length?arguments[1]:void 0)}})},{"../internals/export":50,"../internals/string-pad":127,"../internals/string-pad-webkit-bug":126}],203:[function(t,S,b){t("../internals/export")({target:"String",proto:!0},{repeat:t("../internals/string-repeat")})},{"../internals/export":50,"../internals/string-repeat":129}],204:[function(t,S,b){var o=t("../internals/fix-regexp-well-known-symbol-logic"),d=t("../internals/an-object"),s=t("../internals/to-object"),p=t("../internals/to-length"),y=t("../internals/to-integer"),m=t("../internals/require-object-coercible"),n=t("../internals/advance-string-index"),r=t("../internals/regexp-exec-abstract"),c=Math.max,a=Math.min,h=Math.floor,u=/\$([$&'`]|\d\d?|<[^>]*>)/g,l=/\$([$&'`]|\d\d?)/g;o("replace",2,function(g,v,x,k){var E=k.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,j=k.REPLACE_KEEPS_$0,C=E?"$":"$0";return[function(L,A){var P=m(this),R=L?.[g];return R!==void 0?R.call(L,P,A):v.call(String(P),L,A)},function(L,A){if(!E&&j||typeof A=="string"&&A.indexOf(C)===-1){var P=x(v,L,this,A);if(P.done)return P.value}for(var R,I=d(L),N=String(this),z=typeof A=="function",G=(z||(A=String(A)),I.global),W=(G&&(R=I.unicode,I.lastIndex=0),[]);(M=r(I,N))!==null&&(W.push(M),G);)String(M[0])===""&&(I.lastIndex=n(N,p(I.lastIndex),R));for(var H,Z="",Y=0,Q=0;Q<W.length;Q++){for(var M=W[Q],B=String(M[0]),V=c(a(y(M.index),N.length),0),X=[],re=1;re<M.length;re++)X.push((H=M[re])===void 0?H:String(H));var ne=M.groups,ce=z?(ce=[B].concat(X,V,N),ne!==void 0&&ce.push(ne),String(A.apply(void 0,ce))):function(be,he,le,ge,U,oe){var fe=le+be.length,te=ge.length,ee=l;return U!==void 0&&(U=s(U),ee=u),v.call(oe,ee,function(ae,_e){var Oe;switch(_e.charAt(0)){case"$":return"$";case"&":return be;case"`":return he.slice(0,le);case"'":return he.slice(fe);case"<":Oe=U[_e.slice(1,-1)];break;default:var ue,je=+_e;if(je==0)return ae;if(te<je)return(ue=h(je/10))!==0&&ue<=te?ge[ue-1]===void 0?_e.charAt(1):ge[ue-1]+_e.charAt(1):ae;Oe=ge[je-1]}return Oe===void 0?"":Oe})}(B,N,V,X,ne,A);Y<=V&&(Z+=N.slice(Y,V)+ce,Y=V+B.length)}return Z+N.slice(Y)}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],205:[function(t,S,b){var o=t("../internals/fix-regexp-well-known-symbol-logic"),d=t("../internals/an-object"),s=t("../internals/require-object-coercible"),p=t("../internals/same-value"),y=t("../internals/regexp-exec-abstract");o("search",1,function(m,n,r){return[function(c){var a=s(this),h=c?.[m];return h!==void 0?h.call(c,a):new RegExp(c)[m](String(a))},function(c){var a,h=r(n,c,this);return h.done?h.value:(h=d(c),c=String(this),a=h.lastIndex,p(a,0)||(h.lastIndex=0),c=y(h,c),p(h.lastIndex,a)||(h.lastIndex=a),c===null?-1:c.index)}]})},{"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/same-value":116}],206:[function(a,S,b){var o=a("../internals/fix-regexp-well-known-symbol-logic"),d=a("../internals/is-regexp"),s=a("../internals/an-object"),p=a("../internals/require-object-coercible"),y=a("../internals/species-constructor"),m=a("../internals/advance-string-index"),n=a("../internals/to-length"),r=a("../internals/regexp-exec-abstract"),c=a("../internals/regexp-exec"),a=a("../internals/fails"),h=[].push,u=Math.min,l=4294967295,g=!a(function(){return!RegExp(l,"y")});o("split",2,function(v,x,k){var E="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||1<".".split(/()()/).length||"".split(/.?/).length?function(j,C){var L=String(p(this)),A=C===void 0?l:C>>>0;if(A==0)return[];if(j===void 0)return[L];if(!d(j))return x.call(L,j,A);for(var P,R,I,N=[],C=(j.ignoreCase?"i":"")+(j.multiline?"m":"")+(j.unicode?"u":"")+(j.sticky?"y":""),z=0,G=new RegExp(j.source,C+"g");(P=c.call(G,L))&&!(z<(R=G.lastIndex)&&(N.push(L.slice(z,P.index)),1<P.length&&P.index<L.length&&h.apply(N,P.slice(1)),I=P[0].length,z=R,N.length>=A));)G.lastIndex===P.index&&G.lastIndex++;return z===L.length?!I&&G.test("")||N.push(""):N.push(L.slice(z)),N.length>A?N.slice(0,A):N}:"0".split(void 0,0).length?function(j,C){return j===void 0&&C===0?[]:x.call(this,j,C)}:x;return[function(j,C){var L=p(this),A=j?.[v];return A!==void 0?A.call(j,L,C):E.call(String(L),j,C)},function(P,C){var L=k(E,P,this,C,E!==x);if(L.done)return L.value;var L=s(P),A=String(this),P=y(L,RegExp),R=L.unicode,I=(L.ignoreCase?"i":"")+(L.multiline?"m":"")+(L.unicode?"u":"")+(g?"y":"g"),N=new P(g?L:"^(?:"+L.source+")",I),z=C===void 0?l:C>>>0;if(z==0)return[];if(A.length===0)return r(N,A)===null?[A]:[];for(var G=0,W=0,H=[];W<A.length;){N.lastIndex=g?W:0;var Z,Y=r(N,g?A:A.slice(W));if(Y===null||(Z=u(n(N.lastIndex+(g?0:W)),A.length))===G)W=m(A,W,R);else{if(H.push(A.slice(G,W)),H.length===z)return H;for(var Q=1;Q<=Y.length-1;Q++)if(H.push(Y[Q]),H.length===z)return H;W=G=Z}}return H.push(A.slice(G)),H}]},!g)},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fails":51,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/is-regexp":77,"../internals/regexp-exec":112,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/species-constructor":123,"../internals/to-length":138}],207:[function(m,S,b){var o=m("../internals/export"),d=m("../internals/object-get-own-property-descriptor").f,s=m("../internals/to-length"),p=m("../internals/not-a-regexp"),y=m("../internals/require-object-coercible"),c=m("../internals/correct-is-regexp-logic"),m=m("../internals/is-pure"),n="".startsWith,r=Math.min,c=c("startsWith");o({target:"String",proto:!0,forced:!!(m||c||!(o=d(String.prototype,"startsWith"))||o.writable)&&!c},{startsWith:function(l){var h=String(y(this)),u=(p(l),s(r(1<arguments.length?arguments[1]:void 0,h.length))),l=String(l);return n?n.call(h,l,u):h.slice(u,u+l.length)===l}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":76,"../internals/not-a-regexp":88,"../internals/object-get-own-property-descriptor":94,"../internals/require-object-coercible":115,"../internals/to-length":138}],208:[function(t,S,b){var o=t("../internals/export"),d=t("../internals/create-html");o({target:"String",proto:!0,forced:t("../internals/string-html-forced")("sub")},{sub:function(){return d(this,"sub","","")}})},{"../internals/create-html":36,"../internals/export":50,"../internals/string-html-forced":124}],209:[function(t,S,b){var o=t("../internals/export"),d=t("../internals/string-trim").trim;o({target:"String",proto:!0,forced:t("../internals/string-trim-forced")("trim")},{trim:function(){return d(this)}})},{"../internals/export":50,"../internals/string-trim":131,"../internals/string-trim-forced":130}],210:[function(u,S,b){var o,d,s,p,y,m=u("../internals/export"),n=u("../internals/descriptors"),r=u("../internals/global"),c=u("../internals/has"),a=u("../internals/is-object"),h=u("../internals/object-define-property").f,u=u("../internals/copy-constructor-properties"),l=r.Symbol;!n||typeof l!="function"||"description"in l.prototype&&l().description===void 0||(o={},u(d=function(){var g=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),v=this instanceof d?new l(g):g===void 0?l():l(g);return g===""&&(o[v]=!0),v},l),(r=d.prototype=l.prototype).constructor=d,s=r.toString,p=String(l("test"))=="Symbol(test)",y=/^Symbol\((.*)\)[^)]+$/,h(r,"description",{configurable:!0,get:function(){var g=a(this)?this.valueOf():this,v=s.call(g);return c(o,g)?"":(g=p?v.slice(7,-1):v.replace(y,"$1"))===""?void 0:g}}),m({global:!0,forced:!0},{Symbol:d}))},{"../internals/copy-constructor-properties":33,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/is-object":75,"../internals/object-define-property":93}],211:[function(t,S,b){t("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":42}],212:[function(he,S,b){function o($,de){var Se=Oe[$]=L(oe[be]);return le(Se,{type:ce,tag:$,description:de}),c||(Se.description=de),Se}function d($,Ie){x($);var Se=E(Ie),Ie=A(Se).concat(pe(Se));return re(Ie,function(Ue){c&&!ie.call(Se,Ue)||De($,Ue,Se[Ue])}),$}function s(Ie,Ue){var Se,Ie=E(Ie),Ue=j(Ue,!0);if(Ie!==U||!l(Oe,Ue)||l(ue,Ue))return!(Se=te(Ie,Ue))||!l(Oe,Ue)||l(Ie,ne)&&Ie[ne][Ue]||(Se.enumerable=!0),Se}function p(de){var de=ae(E(de)),Se=[];return re(de,function(Ie){l(Oe,Ie)||l(Y,Ie)||Se.push(Ie)}),Se}var y=he("../internals/export"),m=he("../internals/global"),n=he("../internals/get-built-in"),r=he("../internals/is-pure"),c=he("../internals/descriptors"),a=he("../internals/native-symbol"),h=he("../internals/use-symbol-as-uid"),u=he("../internals/fails"),l=he("../internals/has"),g=he("../internals/is-array"),v=he("../internals/is-object"),x=he("../internals/an-object"),k=he("../internals/to-object"),E=he("../internals/to-indexed-object"),j=he("../internals/to-primitive"),C=he("../internals/create-property-descriptor"),L=he("../internals/object-create"),A=he("../internals/object-keys"),P=he("../internals/object-get-own-property-names"),R=he("../internals/object-get-own-property-names-external"),I=he("../internals/object-get-own-property-symbols"),N=he("../internals/object-get-own-property-descriptor"),z=he("../internals/object-define-property"),G=he("../internals/object-property-is-enumerable"),W=he("../internals/create-non-enumerable-property"),H=he("../internals/redefine"),Z=he("../internals/shared"),Le=he("../internals/shared-key"),Y=he("../internals/hidden-keys"),Q=he("../internals/uid"),M=he("../internals/well-known-symbol"),B=he("../internals/well-known-symbol-wrapped"),V=he("../internals/define-well-known-symbol"),X=he("../internals/set-to-string-tag"),qe=he("../internals/internal-state"),re=he("../internals/array-iteration").forEach,ne=Le("hidden"),ce="Symbol",be="prototype",he=M("toPrimitive"),le=qe.set,ge=qe.getterFor(ce),U=Object[be],oe=m.Symbol,fe=n("JSON","stringify"),te=N.f,ee=z.f,ae=R.f,_e=G.f,Oe=Z("symbols"),ue=Z("op-symbols"),je=Z("string-to-symbol-registry"),Me=Z("symbol-to-string-registry"),Le=Z("wks"),qe=m.QObject,Ye=!qe||!qe[be]||!qe[be].findChild,Ee=c&&u(function(){return L(ee({},"a",{get:function(){return ee(this,"a",{value:7}).a}})).a!=7})?function($,de,Se){var Ie=te(U,de);Ie&&delete U[de],ee($,de,Se),Ie&&$!==U&&ee(U,de,Ie)}:ee,Xe=h?function($){return typeof $=="symbol"}:function($){return Object($)instanceof oe},De=function($,de,Se){return $===U&&De(ue,de,Se),x($),de=j(de,!0),x(Se),(l(Oe,de)?(Se.enumerable?(l($,ne)&&$[ne][de]&&($[ne][de]=!1),Se=L(Se,{enumerable:C(0,!1)})):(l($,ne)||ee($,ne,C(1,{})),$[ne][de]=!0),Ee):ee)($,de,Se)},ie=function(de){var de=j(de,!0),Se=_e.call(this,de);return!(this===U&&l(Oe,de)&&!l(ue,de))&&(!(Se||!l(this,de)||!l(Oe,de)||l(this,ne)&&this[ne][de])||Se)},pe=function(Se){var de=Se===U,Se=ae(de?ue:E(Se)),Ie=[];return re(Se,function(Ue){!l(Oe,Ue)||de&&!l(U,Ue)||Ie.push(Oe[Ue])}),Ie};a||(H((oe=function(){if(this instanceof oe)throw TypeError("Symbol is not a constructor");var $=arguments.length&&arguments[0]!==void 0?String(arguments[0]):void 0,de=Q($),Se=function(Ie){this===U&&Se.call(ue,Ie),l(this,ne)&&l(this[ne],de)&&(this[ne][de]=!1),Ee(this,de,C(1,Ie))};return c&&Ye&&Ee(U,de,{configurable:!0,set:Se}),o(de,$)})[be],"toString",function(){return ge(this).tag}),H(oe,"withoutSetter",function($){return o(Q($),$)}),G.f=ie,z.f=De,N.f=s,P.f=R.f=p,I.f=pe,B.f=function($){return o(M($),$)},c&&(ee(oe[be],"description",{configurable:!0,get:function(){return ge(this).description}}),r||H(U,"propertyIsEnumerable",ie,{unsafe:!0}))),y({global:!0,wrap:!0,forced:!a,sham:!a},{Symbol:oe}),re(A(Le),function($){V($)}),y({target:ce,stat:!0,forced:!a},{for:function(Se){var de,Se=String(Se);return l(je,Se)?je[Se]:(de=oe(Se),je[Se]=de,Me[de]=Se,de)},keyFor:function($){if(!Xe($))throw TypeError($+" is not a symbol");if(l(Me,$))return Me[$]},useSetter:function(){Ye=!0},useSimple:function(){Ye=!1}}),y({target:"Object",stat:!0,forced:!a,sham:!c},{create:function($,de){return de===void 0?L($):d(L($),de)},defineProperty:De,defineProperties:d,getOwnPropertyDescriptor:s}),y({target:"Object",stat:!0,forced:!a},{getOwnPropertyNames:p,getOwnPropertySymbols:pe}),y({target:"Object",stat:!0,forced:u(function(){I.f(1)})},{getOwnPropertySymbols:function($){return I.f(k($))}}),fe&&y({target:"JSON",stat:!0,forced:!a||u(function(){var $=oe();return fe([$])!="[null]"||fe({a:$})!="{}"||fe(Object($))!="{}"})},{stringify:function($,de,Se){for(var Ie,Ue=[$],et=1;et<arguments.length;)Ue.push(arguments[et++]);if((v(Ie=de)||$!==void 0)&&!Xe($))return g(de)||(de=function(lt,it){if(typeof Ie=="function"&&(it=Ie.call(this,lt,it)),!Xe(it))return it}),Ue[1]=de,fe.apply(null,Ue)}}),oe[be][he]||W(oe[be],he,oe[be].valueOf),X(oe,ce),Y[ne]=!0},{"../internals/an-object":10,"../internals/array-iteration":19,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/define-well-known-symbol":42,"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/get-built-in":57,"../internals/global":60,"../internals/has":61,"../internals/hidden-keys":62,"../internals/internal-state":71,"../internals/is-array":73,"../internals/is-object":75,"../internals/is-pure":76,"../internals/native-symbol":84,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/object-get-own-property-names-external":95,"../internals/object-get-own-property-symbols":97,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/shared":122,"../internals/shared-key":120,"../internals/to-indexed-object":136,"../internals/to-object":139,"../internals/to-primitive":142,"../internals/uid":147,"../internals/use-symbol-as-uid":148,"../internals/well-known-symbol":150,"../internals/well-known-symbol-wrapped":149}],213:[function(t,S,b){var o=t("../internals/array-buffer-view-core"),d=t("../internals/array-copy-within"),s=o.aTypedArray;(0,o.exportTypedArrayMethod)("copyWithin",function(p,y){return d.call(s(this),p,y,2<arguments.length?arguments[2]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-copy-within":14}],214:[function(t,S,b){var o=t("../internals/array-buffer-view-core"),d=t("../internals/array-iteration").every,s=o.aTypedArray;(0,o.exportTypedArrayMethod)("every",function(p){return d(s(this),p,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],215:[function(t,S,b){var o=t("../internals/array-buffer-view-core"),d=t("../internals/array-fill"),s=o.aTypedArray;(0,o.exportTypedArrayMethod)("fill",function(p){return d.apply(s(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-fill":15}],216:[function(t,S,b){var o=t("../internals/array-buffer-view-core"),d=t("../internals/array-iteration").filter,s=t("../internals/species-constructor"),p=o.aTypedArray,y=o.aTypedArrayConstructor;(0,o.exportTypedArrayMethod)("filter",function(m){for(var n=d(p(this),m,1<arguments.length?arguments[1]:void 0),m=s(this,this.constructor),r=0,c=n.length,a=new(y(m))(c);r<c;)a[r]=n[r++];return a})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":123}],217:[function(t,S,b){var o=t("../internals/array-buffer-view-core"),d=t("../internals/array-iteration").findIndex,s=o.aTypedArray;(0,o.exportTypedArrayMethod)("findIndex",function(p){return d(s(this),p,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],218:[function(t,S,b){var o=t("../internals/array-buffer-view-core"),d=t("../internals/array-iteration").find,s=o.aTypedArray;(0,o.exportTypedArrayMethod)("find",function(p){return d(s(this),p,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],219:[function(t,S,b){t("../internals/typed-array-constructor")("Float32",function(o){return function(d,s,p){return o(this,d,s,p)}})},{"../internals/typed-array-constructor":144}],220:[function(t,S,b){t("../internals/typed-array-constructor")("Float64",function(o){return function(d,s,p){return o(this,d,s,p)}})},{"../internals/typed-array-constructor":144}],221:[function(t,S,b){var o=t("../internals/array-buffer-view-core"),d=t("../internals/array-iteration").forEach,s=o.aTypedArray;(0,o.exportTypedArrayMethod)("forEach",function(p){d(s(this),p,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],222:[function(t,S,b){var o=t("../internals/array-buffer-view-core"),d=t("../internals/array-includes").includes,s=o.aTypedArray;(0,o.exportTypedArrayMethod)("includes",function(p){return d(s(this),p,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],223:[function(t,S,b){var o=t("../internals/array-buffer-view-core"),d=t("../internals/array-includes").indexOf,s=o.aTypedArray;(0,o.exportTypedArrayMethod)("indexOf",function(p){return d(s(this),p,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],224:[function(t,S,b){t("../internals/typed-array-constructor")("Int16",function(o){return function(d,s,p){return o(this,d,s,p)}})},{"../internals/typed-array-constructor":144}],225:[function(t,S,b){t("../internals/typed-array-constructor")("Int32",function(o){return function(d,s,p){return o(this,d,s,p)}})},{"../internals/typed-array-constructor":144}],226:[function(d,S,b){function o(){return s.call(m(this))}var c=d("../internals/global"),r=d("../internals/array-buffer-view-core"),n=d("../modules/es.array.iterator"),d=d("../internals/well-known-symbol")("iterator"),c=c.Uint8Array,s=n.values,p=n.keys,y=n.entries,m=r.aTypedArray,n=r.exportTypedArrayMethod,r=c&&c.prototype[d],c=!!r&&(r.name=="values"||r.name==null);n("entries",function(){return y.call(m(this))}),n("keys",function(){return p.call(m(this))}),n("values",o,!c),n(d,o,!c)},{"../internals/array-buffer-view-core":12,"../internals/global":60,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],227:[function(d,S,b){var d=d("../internals/array-buffer-view-core"),o=d.aTypedArray,d=d.exportTypedArrayMethod,s=[].join;d("join",function(p){return s.apply(o(this),arguments)})},{"../internals/array-buffer-view-core":12}],228:[function(t,S,b){var o=t("../internals/array-buffer-view-core"),d=t("../internals/array-last-index-of"),s=o.aTypedArray;(0,o.exportTypedArrayMethod)("lastIndexOf",function(p){return d.apply(s(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-last-index-of":20}],229:[function(t,S,b){var o=t("../internals/array-buffer-view-core"),d=t("../internals/array-iteration").map,s=t("../internals/species-constructor"),p=o.aTypedArray,y=o.aTypedArrayConstructor;(0,o.exportTypedArrayMethod)("map",function(m){return d(p(this),m,1<arguments.length?arguments[1]:void 0,function(n,r){return new(y(s(n,n.constructor)))(r)})})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":123}],230:[function(t,S,b){var o=t("../internals/array-buffer-view-core"),d=t("../internals/array-reduce").right,s=o.aTypedArray;(0,o.exportTypedArrayMethod)("reduceRight",function(p){return d(s(this),p,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],231:[function(t,S,b){var o=t("../internals/array-buffer-view-core"),d=t("../internals/array-reduce").left,s=o.aTypedArray;(0,o.exportTypedArrayMethod)("reduce",function(p){return d(s(this),p,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],232:[function(d,S,b){var d=d("../internals/array-buffer-view-core"),o=d.aTypedArray,d=d.exportTypedArrayMethod,s=Math.floor;d("reverse",function(){for(var p,y=o(this).length,m=s(y/2),n=0;n<m;)p=this[n],this[n++]=this[--y],this[y]=p;return this})},{"../internals/array-buffer-view-core":12}],233:[function(y,S,b){var o=y("../internals/array-buffer-view-core"),d=y("../internals/to-length"),s=y("../internals/to-offset"),p=y("../internals/to-object"),y=y("../internals/fails"),m=o.aTypedArray;(0,o.exportTypedArrayMethod)("set",function(n){m(this);var r=s(1<arguments.length?arguments[1]:void 0,1),c=this.length,a=p(n),h=d(a.length),u=0;if(c<h+r)throw RangeError("Wrong length");for(;u<h;)this[r+u]=a[u++]},y(function(){new Int8Array(1).set({})}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/to-length":138,"../internals/to-object":139,"../internals/to-offset":140}],234:[function(d,S,b){var y=d("../internals/array-buffer-view-core"),o=d("../internals/species-constructor"),d=d("../internals/fails"),s=y.aTypedArray,p=y.aTypedArrayConstructor,y=y.exportTypedArrayMethod,m=[].slice;y("slice",function(n,r){for(var c=m.call(s(this),n,r),n=o(this,this.constructor),a=0,h=c.length,u=new(p(n))(h);a<h;)u[a]=c[a++];return u},d(function(){new Int8Array(1).slice()}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/species-constructor":123}],235:[function(t,S,b){var o=t("../internals/array-buffer-view-core"),d=t("../internals/array-iteration").some,s=o.aTypedArray;(0,o.exportTypedArrayMethod)("some",function(p){return d(s(this),p,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],236:[function(d,S,b){var d=d("../internals/array-buffer-view-core"),o=d.aTypedArray,d=d.exportTypedArrayMethod,s=[].sort;d("sort",function(p){return s.call(o(this),p)})},{"../internals/array-buffer-view-core":12}],237:[function(t,S,b){var o=t("../internals/array-buffer-view-core"),d=t("../internals/to-length"),s=t("../internals/to-absolute-index"),p=t("../internals/species-constructor"),y=o.aTypedArray;(0,o.exportTypedArrayMethod)("subarray",function(a,n){var r=y(this),c=r.length,a=s(a,c);return new(p(r,r.constructor))(r.buffer,r.byteOffset+a*r.BYTES_PER_ELEMENT,d((n===void 0?c:s(n,c))-a))})},{"../internals/array-buffer-view-core":12,"../internals/species-constructor":123,"../internals/to-absolute-index":134,"../internals/to-length":138}],238:[function(d,S,b){var y=d("../internals/global"),o=d("../internals/array-buffer-view-core"),d=d("../internals/fails"),s=y.Int8Array,p=o.aTypedArray,y=o.exportTypedArrayMethod,m=[].toLocaleString,n=[].slice,r=!!s&&d(function(){m.call(new s(1))});y("toLocaleString",function(){return m.apply(r?n.call(p(this)):p(this),arguments)},d(function(){return[1,2].toLocaleString()!=new s([1,2]).toLocaleString()})||!d(function(){s.prototype.toLocaleString.call([1,2])}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":60}],239:[function(d,S,b){var o=d("../internals/array-buffer-view-core").exportTypedArrayMethod,y=d("../internals/fails"),d=d("../internals/global").Uint8Array,d=d&&d.prototype||{},s=[].toString,p=[].join,y=(y(function(){s.call({})})&&(s=function(){return p.call(this)}),d.toString!=s);o("toString",s,y)},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":60}],240:[function(t,S,b){t("../internals/typed-array-constructor")("Uint16",function(o){return function(d,s,p){return o(this,d,s,p)}})},{"../internals/typed-array-constructor":144}],241:[function(t,S,b){t("../internals/typed-array-constructor")("Uint32",function(o){return function(d,s,p){return o(this,d,s,p)}})},{"../internals/typed-array-constructor":144}],242:[function(t,S,b){t("../internals/typed-array-constructor")("Uint8",function(o){return function(d,s,p){return o(this,d,s,p)}})},{"../internals/typed-array-constructor":144}],243:[function(t,S,b){t("../internals/typed-array-constructor")("Uint8",function(o){return function(d,s,p){return o(this,d,s,p)}},!0)},{"../internals/typed-array-constructor":144}],244:[function(l,x,b){function o(k){return function(){return k(this,arguments.length?arguments[0]:void 0)}}var d,s,p,y,m,g=l("../internals/global"),n=l("../internals/redefine-all"),r=l("../internals/internal-metadata"),c=l("../internals/collection"),a=l("../internals/collection-weak"),h=l("../internals/is-object"),u=l("../internals/internal-state").enforce,l=l("../internals/native-weak-map"),g=!g.ActiveXObject&&"ActiveXObject"in g,v=Object.isExtensible,x=x.exports=c("WeakMap",o,a);l&&g&&(d=a.getConstructor(o,"WeakMap",!0),r.REQUIRED=!0,c=x.prototype,s=c.delete,p=c.has,y=c.get,m=c.set,n(c,{delete:function(k){var E;return h(k)&&!v(k)?((E=u(this)).frozen||(E.frozen=new d),s.call(this,k)||E.frozen.delete(k)):s.call(this,k)},has:function(k){var E;return h(k)&&!v(k)?((E=u(this)).frozen||(E.frozen=new d),p.call(this,k)||E.frozen.has(k)):p.call(this,k)},get:function(k){var E;return!h(k)||v(k)||((E=u(this)).frozen||(E.frozen=new d),p.call(this,k))?y.call(this,k):E.frozen.get(k)},set:function(k,E){var j;return!h(k)||v(k)||((j=u(this)).frozen||(j.frozen=new d),p.call(this,k))?m.call(this,k,E):j.frozen.set(k,E),this}}))},{"../internals/collection":32,"../internals/collection-weak":31,"../internals/global":60,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/is-object":75,"../internals/native-weak-map":86,"../internals/redefine-all":109}],245:[function(t,S,b){var o,d=t("../internals/global"),s=t("../internals/dom-iterables"),p=t("../internals/array-for-each"),y=t("../internals/create-non-enumerable-property");for(o in s){var m=d[o],m=m&&m.prototype;if(m&&m.forEach!==p)try{y(m,"forEach",p)}catch{m.forEach=p}}},{"../internals/array-for-each":16,"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":60}],246:[function(m,S,b){var o,d=m("../internals/global"),s=m("../internals/dom-iterables"),p=m("../modules/es.array.iterator"),y=m("../internals/create-non-enumerable-property"),m=m("../internals/well-known-symbol"),n=m("iterator"),r=m("toStringTag"),c=p.values;for(o in s){var a=d[o],h=a&&a.prototype;if(h){if(h[n]!==c)try{y(h,n,c)}catch{h[n]=c}if(h[r]||y(h,r,o),s[o]){for(var u in p)if(h[u]!==p[u])try{y(h,u,p[u])}catch{h[u]=p[u]}}}}},{"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":60,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],247:[function(ne,S,b){ne("../modules/es.array.iterator");function o(ce){try{return decodeURIComponent(ce)}catch{return ce}}function d(ce){return V[ce]}function s(ce){return encodeURIComponent(ce).replace(B,d)}function p(ce){this.entries.length=0,X(this.entries,ce)}function y(ce,be){if(ce<be)throw TypeError("Not enough arguments")}function m(){g(this,m,z);var ce,be,he,le,ge,U,oe,fe,te=0<arguments.length?arguments[0]:void 0,ee=[];if(W(this,{type:z,entries:ee,updateURL:function(){},updateSearchParams:p}),te!==void 0)if(j(te))if(typeof(ce=P(te))=="function")for(he=(be=ce.call(te)).next;!(le=he.call(be)).done;){if((U=(ge=(le=A(E(le.value))).next).call(le)).done||(oe=ge.call(le)).done||!ge.call(le).done)throw TypeError("Expected sequence with length 2");ee.push({key:U.value+"",value:oe.value+""})}else for(fe in te)v(te,fe)&&ee.push({key:fe,value:te[fe]+""});else X(ee,typeof te=="string"?te.charAt(0)==="?"?te.slice(1):te:te+"")}var n=ne("../internals/export"),N=ne("../internals/get-built-in"),r=ne("../internals/native-url"),c=ne("../internals/redefine"),a=ne("../internals/redefine-all"),h=ne("../internals/set-to-string-tag"),u=ne("../internals/create-iterator-constructor"),l=ne("../internals/internal-state"),g=ne("../internals/an-instance"),v=ne("../internals/has"),x=ne("../internals/function-bind-context"),k=ne("../internals/classof"),E=ne("../internals/an-object"),j=ne("../internals/is-object"),C=ne("../internals/object-create"),L=ne("../internals/create-property-descriptor"),A=ne("../internals/get-iterator"),P=ne("../internals/get-iterator-method"),ne=ne("../internals/well-known-symbol"),R=N("fetch"),I=N("Headers"),N=ne("iterator"),z="URLSearchParams",G=z+"Iterator",W=l.set,H=l.getterFor(z),Z=l.getterFor(G),Y=/\+/g,Q=Array(4),M=function(ce){var be,he=ce.replace(Y," "),le=4;try{return decodeURIComponent(he)}catch{for(;le;)he=he.replace((be=le--,Q[be-1]||(Q[be-1]=RegExp("((?:%[\\da-f]{2}){"+be+"})","gi"))),o);return he}},B=/[!'()~]|%20/g,V={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},X=function(ce,be){if(be)for(var he,le=be.split("&"),ge=0;ge<le.length;)(he=le[ge++]).length&&(he=he.split("="),ce.push({key:M(he.shift()),value:M(he.join("="))}))},re=u(function(ce,be){W(this,{type:G,iterator:A(H(ce).entries),kind:be})},"Iterator",function(){var be=Z(this),ce=be.kind,be=be.iterator.next(),he=be.value;return be.done||(be.value=ce==="keys"?he.key:ce==="values"?he.value:[he.key,he.value]),be}),ne=m.prototype;a(ne,{append:function(ce,be){y(arguments.length,2);var he=H(this);he.entries.push({key:ce+"",value:be+""}),he.updateURL()},delete:function(ce){y(arguments.length,1);for(var be=H(this),he=be.entries,le=ce+"",ge=0;ge<he.length;)he[ge].key===le?he.splice(ge,1):ge++;be.updateURL()},get:function(ce){y(arguments.length,1);for(var be=H(this).entries,he=ce+"",le=0;le<be.length;le++)if(be[le].key===he)return be[le].value;return null},getAll:function(ce){y(arguments.length,1);for(var be=H(this).entries,he=ce+"",le=[],ge=0;ge<be.length;ge++)be[ge].key===he&&le.push(be[ge].value);return le},has:function(ce){y(arguments.length,1);for(var be=H(this).entries,he=ce+"",le=0;le<be.length;)if(be[le++].key===he)return!0;return!1},set:function(ce,be){y(arguments.length,1);for(var he,le=H(this),ge=le.entries,U=!1,oe=ce+"",fe=be+"",te=0;te<ge.length;te++)(he=ge[te]).key===oe&&(U?ge.splice(te--,1):(U=!0,he.value=fe));U||ge.push({key:oe,value:fe}),le.updateURL()},sort:function(){for(var ce,be,he=H(this),le=he.entries,ge=le.slice(),U=le.length=0;U<ge.length;U++){for(ce=ge[U],be=0;be<U;be++)if(le[be].key>ce.key){le.splice(be,0,ce);break}be===U&&le.push(ce)}he.updateURL()},forEach:function(ce){for(var be,he=H(this).entries,le=x(ce,1<arguments.length?arguments[1]:void 0,3),ge=0;ge<he.length;)le((be=he[ge++]).value,be.key,this)},keys:function(){return new re(this,"keys")},values:function(){return new re(this,"values")},entries:function(){return new re(this,"entries")}},{enumerable:!0}),c(ne,N,ne.entries),c(ne,"toString",function(){for(var ce,be=H(this).entries,he=[],le=0;le<be.length;)ce=be[le++],he.push(s(ce.key)+"="+s(ce.value));return he.join("&")},{enumerable:!0}),h(m,z),n({global:!0,forced:!r},{URLSearchParams:m}),r||typeof R!="function"||typeof I!="function"||n({global:!0,enumerable:!0,forced:!0},{fetch:function(ge){var be,he,le,ge=[ge];return 1<arguments.length&&(j(be=arguments[1])&&(he=be.body,k(he)===z&&((le=be.headers?new I(be.headers):new I).has("content-type")||le.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),be=C(be,{body:L(0,String(he)),headers:L(0,le)}))),ge.push(be)),R.apply(this,ge)}}),S.exports={URLSearchParams:m,getState:H}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/classof":29,"../internals/create-iterator-constructor":37,"../internals/create-property-descriptor":39,"../internals/export":50,"../internals/function-bind-context":55,"../internals/get-built-in":57,"../internals/get-iterator":59,"../internals/get-iterator-method":58,"../internals/has":61,"../internals/internal-state":71,"../internals/is-object":75,"../internals/native-url":85,"../internals/object-create":91,"../internals/redefine":110,"../internals/redefine-all":109,"../internals/set-to-string-tag":119,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],248:[function(A,S,b){A("../modules/es.string.iterator");function o(Te){var st,yt,nt,Pt;if(typeof Te=="number"){for(st=[],yt=0;yt<4;yt++)st.unshift(Te%256),Te=G(Te/256);return st.join(".")}if(typeof Te!="object")return Te;for(st="",nt=oe(Te),yt=0;yt<8;yt++)Pt&&Te[yt]===0||(Pt=Pt&&!1,nt===yt?(st+=yt?":":"::",Pt=!0):(st+=Te[yt].toString(16),yt<7&&(st+=":")));return"["+st+"]"}function d(Te){return!Te.host||Te.cannotBeABaseURL||Te.scheme=="file"}function s(Te,st,yt,nt){var Pt,tt,Ft,mt=yt||Xe,Lt=0,gt="",Zt=!1,Sr=!1,cr=!1;for(yt||(Te.scheme="",Te.username="",Te.password="",Te.host=null,Te.port=null,Te.path=[],Te.query=null,Te.fragment=null,Te.cannotBeABaseURL=!1,st=st.replace(le,"")),st=st.replace(ge,""),Pt=k(st);Lt<=Pt.length;){switch(tt=Pt[Lt],mt){case Xe:if(!tt||!M.test(tt)){if(yt)return Z;mt=ie;continue}gt+=tt.toLowerCase(),mt=De;break;case De:if(tt&&(B.test(tt)||tt=="+"||tt=="-"||tt=="."))gt+=tt.toLowerCase();else{if(tt!=":"){if(yt)return Z;gt="",mt=ie,Lt=0;continue}if(yt&&(ue(Te)!=v(Oe,gt)||gt=="file"&&(je(Te)||Te.port!==null)||Te.scheme=="file"&&!Te.host))return;if(Te.scheme=gt,yt)return void(ue(Te)&&Oe[Te.scheme]==Te.port&&(Te.port=null));gt="",Te.scheme=="file"?mt=Ct:ue(Te)&&nt&&nt.scheme==Te.scheme?mt=pe:ue(Te)?mt=Ie:Pt[Lt+1]=="/"?(mt=$,Lt++):(Te.cannotBeABaseURL=!0,Te.path.push(""),mt=Gt)}break;case ie:if(!nt||nt.cannotBeABaseURL&&tt!="#")return Z;if(nt.cannotBeABaseURL&&tt=="#"){Te.scheme=nt.scheme,Te.path=nt.path.slice(),Te.query=nt.query,Te.fragment="",Te.cannotBeABaseURL=!0,mt=Qt;break}mt=nt.scheme=="file"?Ct:de;continue;case pe:if(tt!="/"||Pt[Lt+1]!="/"){mt=de;continue}mt=Ue,Lt++;break;case $:if(tt=="/"){mt=et;break}mt=kt;continue;case de:if(Te.scheme=nt.scheme,tt==m)Te.username=nt.username,Te.password=nt.password,Te.host=nt.host,Te.port=nt.port,Te.path=nt.path.slice(),Te.query=nt.query;else if(tt=="/"||tt=="\\"&&ue(Te))mt=Se;else if(tt=="?")Te.username=nt.username,Te.password=nt.password,Te.host=nt.host,Te.port=nt.port,Te.path=nt.path.slice(),Te.query="",mt=Wr;else{if(tt!="#"){Te.username=nt.username,Te.password=nt.password,Te.host=nt.host,Te.port=nt.port,Te.path=nt.path.slice(),Te.path.pop(),mt=kt;continue}Te.username=nt.username,Te.password=nt.password,Te.host=nt.host,Te.port=nt.port,Te.path=nt.path.slice(),Te.query=nt.query,Te.fragment="",mt=Qt}break;case Se:if(!ue(Te)||tt!="/"&&tt!="\\"){if(tt!="/"){Te.username=nt.username,Te.password=nt.password,Te.host=nt.host,Te.port=nt.port,mt=kt;continue}mt=et}else mt=Ue;break;case Ie:if(mt=Ue,tt!="/"||gt.charAt(Lt+1)!="/")continue;Lt++;break;case Ue:if(tt=="/"||tt=="\\")break;mt=et;continue;case et:if(tt=="@"){Zt&&(gt="%40"+gt);for(var Zt=!0,jr=k(gt),Tn=0;Tn<jr.length;Tn++){var fn=jr[Tn];fn!=":"||cr?(fn=_e(fn,ae),cr?Te.password+=fn:Te.username+=fn):cr=!0}gt=""}else if(tt==m||tt=="/"||tt=="?"||tt=="#"||tt=="\\"&&ue(Te)){if(Zt&&gt=="")return H;Lt-=k(gt).length+1,gt="",mt=lt}else gt+=tt;break;case lt:case it:if(yt&&Te.scheme=="file"){mt=ht;continue}if(tt!=":"||Sr){if(tt==m||tt=="/"||tt=="?"||tt=="#"||tt=="\\"&&ue(Te)){if(ue(Te)&&gt=="")return Y;if(yt&&gt==""&&(je(Te)||Te.port!==null))return;if(Ft=U(Te,gt))return Ft;if(gt="",mt=bt,yt)return;continue}tt=="["?Sr=!0:tt=="]"&&(Sr=!1),gt+=tt}else{if(gt=="")return Y;if(Ft=U(Te,gt))return Ft;if(gt="",mt=ct,yt==it)return}break;case ct:if(!V.test(tt)){if(tt==m||tt=="/"||tt=="?"||tt=="#"||tt=="\\"&&ue(Te)||yt){if(gt!=""){var kn=parseInt(gt,10);if(65535<kn)return Q;Te.port=ue(Te)&&kn===Oe[Te.scheme]?null:kn,gt=""}if(yt)return;mt=bt;continue}return Q}gt+=tt;break;case Ct:if(Te.scheme="file",tt=="/"||tt=="\\")mt=wt;else{if(!nt||nt.scheme!="file"){mt=kt;continue}if(tt==m)Te.host=nt.host,Te.path=nt.path.slice(),Te.query=nt.query;else if(tt=="?")Te.host=nt.host,Te.path=nt.path.slice(),Te.query="",mt=Wr;else{if(tt!="#"){Le(Pt.slice(Lt).join(""))||(Te.host=nt.host,Te.path=nt.path.slice(),qe(Te)),mt=kt;continue}Te.host=nt.host,Te.path=nt.path.slice(),Te.query=nt.query,Te.fragment="",mt=Qt}}break;case wt:if(tt=="/"||tt=="\\"){mt=ht;break}nt&&nt.scheme=="file"&&!Le(Pt.slice(Lt).join(""))&&(Me(nt.path[0],!0)?Te.path.push(nt.path[0]):Te.host=nt.host),mt=kt;continue;case ht:if(tt==m||tt=="/"||tt=="\\"||tt=="?"||tt=="#"){if(!yt&&Me(gt))mt=kt;else{if(gt==""){if(Te.host="",yt)return}else{if(Ft=U(Te,gt))return Ft;if(Te.host=="localhost"&&(Te.host=""),yt)return;gt=""}mt=bt}continue}gt+=tt;break;case bt:if(ue(Te)){if(mt=kt,tt!="/"&&tt!="\\")continue}else if(yt||tt!="?")if(yt||tt!="#"){if(tt!=m&&(mt=kt,tt!="/"))continue}else Te.fragment="",mt=Qt;else Te.query="",mt=Wr;break;case kt:if(tt==m||tt=="/"||tt=="\\"&&ue(Te)||!yt&&(tt=="?"||tt=="#")){if(Ee(gt)?(qe(Te),tt=="/"||tt=="\\"&&ue(Te)||Te.path.push("")):Ye(gt)?tt=="/"||tt=="\\"&&ue(Te)||Te.path.push(""):(Te.scheme=="file"&&!Te.path.length&&Me(gt)&&(Te.host&&(Te.host=""),gt=gt.charAt(0)+":"),Te.path.push(gt)),gt="",Te.scheme=="file"&&(tt==m||tt=="?"||tt=="#"))for(;1<Te.path.length&&Te.path[0]==="";)Te.path.shift();tt=="?"?(Te.query="",mt=Wr):tt=="#"&&(Te.fragment="",mt=Qt)}else gt+=_e(tt,ee);break;case Gt:tt=="?"?(Te.query="",mt=Wr):tt=="#"?(Te.fragment="",mt=Qt):tt!=m&&(Te.path[0]+=_e(tt,fe));break;case Wr:yt||tt!="#"?tt!=m&&(tt=="'"&&ue(Te)?Te.query+="%27":Te.query+=tt=="#"?"%23":_e(tt,fe)):(Te.fragment="",mt=Qt);break;case Qt:tt!=m&&(Te.fragment+=_e(tt,te))}Lt++}}function p(tt){var st,yt,nt=g(this,p,"URL"),Pt=1<arguments.length?arguments[1]:void 0,tt=String(tt),Ft=N(nt,{type:"URL"});if(Pt!==void 0){if(Pt instanceof p)st=z(Pt);else if(yt=s(st={},String(Pt)))throw TypeError(yt)}if(yt=s(Ft,tt,null,st))throw TypeError(yt);var mt=Ft.searchParams=new R;(Pt=I(mt)).updateSearchParams(Ft.query),Pt.updateURL=function(){Ft.query=String(mt)||null},a||(nt.href=It.call(nt),nt.origin=Rt.call(nt),nt.protocol=ur.call(nt),nt.username=Mr.call(nt),nt.password=Xt.call(nt),nt.host=wr.call(nt),nt.hostname=In.call(nt),nt.port=yo.call(nt),nt.pathname=ro.call(nt),nt.search=go.call(nt),nt.searchParams=Kr.call(nt),nt.hash=Xr.call(nt))}function y(Te,st){return{get:Te,set:st,configurable:!0,enumerable:!0}}var m,n,r,c=A("../internals/export"),a=A("../internals/descriptors"),h=A("../internals/native-url"),Wt=A("../internals/global"),u=A("../internals/object-define-properties"),l=A("../internals/redefine"),g=A("../internals/an-instance"),v=A("../internals/has"),x=A("../internals/object-assign"),k=A("../internals/array-from"),E=A("../internals/string-multibyte").codeAt,j=A("../internals/string-punycode-to-ascii"),C=A("../internals/set-to-string-tag"),L=A("../modules/web.url-search-params"),A=A("../internals/internal-state"),P=Wt.URL,R=L.URLSearchParams,I=L.getState,N=A.set,z=A.getterFor("URL"),G=Math.floor,W=Math.pow,H="Invalid authority",Z="Invalid scheme",Y="Invalid host",Q="Invalid port",M=/[A-Za-z]/,B=/[\d+-.A-Za-z]/,V=/\d/,X=/^(0x|0X)/,re=/^[0-7]+$/,ne=/^\d+$/,ce=/^[\dA-Fa-f]+$/,be=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,he=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,le=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,ge=/[\u0009\u000A\u000D]/g,U=function(Te,st){var yt,nt,Pt;if(st.charAt(0)=="[")return st.charAt(st.length-1)=="]"&&(yt=function(tt){var Ft=[0,0,0,0,0,0,0,0],mt=0,Lt=null,gt=0,Zt,Sr,cr,jr,Tn,fn,kn,Or=function(){return tt.charAt(gt)};if(Or()==":"){if(tt.charAt(1)!=":")return;gt+=2,mt++,Lt=mt}for(;Or();){if(mt==8)return;if(Or()==":"){if(Lt!==null)return;gt++,mt++,Lt=mt;continue}for(Zt=Sr=0;Sr<4&&ce.test(Or());)Zt=Zt*16+parseInt(Or(),16),gt++,Sr++;if(Or()=="."){if(Sr==0||(gt-=Sr,mt>6))return;for(cr=0;Or();){if(jr=null,cr>0)if(Or()=="."&&cr<4)gt++;else return;if(!V.test(Or()))return;for(;V.test(Or());){if(Tn=parseInt(Or(),10),jr===null)jr=Tn;else{if(jr==0)return;jr=jr*10+Tn}if(jr>255)return;gt++}Ft[mt]=Ft[mt]*256+jr,cr++,(cr==2||cr==4)&&mt++}if(cr!=4)return;break}else if(Or()==":"){if(gt++,!Or())return}else if(Or())return;Ft[mt++]=Zt}if(Lt!==null)for(fn=mt-Lt,mt=7;mt!=0&&fn>0;)kn=Ft[mt],Ft[mt--]=Ft[Lt+fn-1],Ft[Lt+--fn]=kn;else if(mt!=8)return;return Ft}(st.slice(1,-1)))?void(Te.host=yt):Y;if(ue(Te))return st=j(st),be.test(st)||(yt=function(tt){var Ft=tt.split("."),mt,Lt,gt,Zt,Sr,cr,jr;if(Ft.length&&Ft[Ft.length-1]==""&&Ft.pop(),(mt=Ft.length)>4)return tt;for(Lt=[],gt=0;gt<mt;gt++){if(Zt=Ft[gt],Zt=="")return tt;if(Sr=10,Zt.length>1&&Zt.charAt(0)=="0"&&(Sr=X.test(Zt)?16:8,Zt=Zt.slice(Sr==8?1:2)),Zt==="")cr=0;else{if(!(Sr==10?ne:Sr==8?re:ce).test(Zt))return tt;cr=parseInt(Zt,Sr)}Lt.push(cr)}for(gt=0;gt<mt;gt++)if(cr=Lt[gt],gt==mt-1){if(cr>=W(256,5-mt))return null}else if(cr>255)return null;for(jr=Lt.pop(),gt=0;gt<Lt.length;gt++)jr+=Lt[gt]*W(256,3-gt);return jr}(st))===null?Y:void(Te.host=yt);if(he.test(st))return Y;for(yt="",nt=k(st),Pt=0;Pt<nt.length;Pt++)yt+=_e(nt[Pt],fe);Te.host=yt},oe=function(Te){for(var st=null,yt=1,nt=null,Pt=0,tt=0;tt<8;tt++)Te[tt]!==0?(yt<Pt&&(st=nt,yt=Pt),nt=null,Pt=0):(nt===null&&(nt=tt),++Pt);return yt<Pt&&(st=nt,yt=Pt),st},fe={},te=x({},fe,{" ":1,'"':1,"<":1,">":1,"`":1}),ee=x({},te,{"#":1,"?":1,"{":1,"}":1}),ae=x({},ee,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),_e=function(Te,st){var yt=E(Te,0);return 32<yt&&yt<127&&!v(st,Te)?Te:encodeURIComponent(Te)},Oe={ftp:21,file:null,http:80,https:443,ws:80,wss:443},ue=function(Te){return v(Oe,Te.scheme)},je=function(Te){return Te.username!=""||Te.password!=""},Me=function(Te,st){return Te.length==2&&M.test(Te.charAt(0))&&((Te=Te.charAt(1))==":"||!st&&Te=="|")},Le=function(Te){return 1<Te.length&&Me(Te.slice(0,2))&&(Te.length==2||(Te=Te.charAt(2))==="/"||Te==="\\"||Te==="?"||Te==="#")},qe=function(Te){var st=Te.path,yt=st.length;!yt||Te.scheme=="file"&&yt==1&&Me(st[0],!0)||st.pop()},Ye=function(Te){return Te==="."||Te.toLowerCase()==="%2e"},Ee=function(Te){return(Te=Te.toLowerCase())===".."||Te==="%2e."||Te===".%2e"||Te==="%2e%2e"},Xe={},De={},ie={},pe={},$={},de={},Se={},Ie={},Ue={},et={},lt={},it={},ct={},Ct={},wt={},ht={},bt={},kt={},Gt={},Wr={},Qt={},Wt=p.prototype,It=function(){var Te=z(this),st=Te.scheme,yt=Te.username,nt=Te.password,Pt=Te.host,tt=Te.port,Ft=Te.path,mt=Te.query,Lt=Te.fragment,gt=st+":";return Pt!==null?(gt+="//",je(Te)&&(gt+=yt+(nt?":"+nt:"")+"@"),gt+=o(Pt),tt!==null&&(gt+=":"+tt)):st=="file"&&(gt+="//"),gt+=Te.cannotBeABaseURL?Ft[0]:Ft.length?"/"+Ft.join("/"):"",mt!==null&&(gt+="?"+mt),Lt!==null&&(gt+="#"+Lt),gt},Rt=function(){var Te=z(this),st=Te.scheme,yt=Te.port;if(st=="blob")try{return new URL(st.path[0]).origin}catch{return"null"}return st!="file"&&ue(Te)?st+"://"+o(Te.host)+(yt!==null?":"+yt:""):"null"},ur=function(){return z(this).scheme+":"},Mr=function(){return z(this).username},Xt=function(){return z(this).password},wr=function(){var st=z(this),Te=st.host,st=st.port;return Te===null?"":st===null?o(Te):o(Te)+":"+st},In=function(){var Te=z(this).host;return Te===null?"":o(Te)},yo=function(){var Te=z(this).port;return Te===null?"":String(Te)},ro=function(){var Te=z(this),st=Te.path;return Te.cannotBeABaseURL?st[0]:st.length?"/"+st.join("/"):""},go=function(){var Te=z(this).query;return Te?"?"+Te:""},Kr=function(){return z(this).searchParams},Xr=function(){var Te=z(this).fragment;return Te?"#"+Te:""};a&&u(Wt,{href:y(It,function(yt){var st=z(this),yt=String(yt),yt=s(st,yt);if(yt)throw TypeError(yt);I(st.searchParams).updateSearchParams(st.query)}),origin:y(Rt),protocol:y(ur,function(Te){var st=z(this);s(st,String(Te)+":",Xe)}),username:y(Mr,function(Te){var st=z(this),yt=k(String(Te));if(!d(st)){st.username="";for(var nt=0;nt<yt.length;nt++)st.username+=_e(yt[nt],ae)}}),password:y(Xt,function(Te){var st=z(this),yt=k(String(Te));if(!d(st)){st.password="";for(var nt=0;nt<yt.length;nt++)st.password+=_e(yt[nt],ae)}}),host:y(wr,function(Te){var st=z(this);st.cannotBeABaseURL||s(st,String(Te),lt)}),hostname:y(In,function(Te){var st=z(this);st.cannotBeABaseURL||s(st,String(Te),it)}),port:y(yo,function(Te){var st=z(this);d(st)||((Te=String(Te))==""?st.port=null:s(st,Te,ct))}),pathname:y(ro,function(Te){var st=z(this);st.cannotBeABaseURL||(st.path=[],s(st,Te+"",bt))}),search:y(go,function(Te){var st=z(this);(Te=String(Te))==""?st.query=null:(Te.charAt(0)=="?"&&(Te=Te.slice(1)),st.query="",s(st,Te,Wr)),I(st.searchParams).updateSearchParams(st.query)}),searchParams:y(Kr),hash:y(Xr,function(Te){var st=z(this);(Te=String(Te))==""?st.fragment=null:(Te.charAt(0)=="#"&&(Te=Te.slice(1)),st.fragment="",s(st,Te,Qt))})}),l(Wt,"toJSON",function(){return It.call(this)},{enumerable:!0}),l(Wt,"toString",function(){return It.call(this)},{enumerable:!0}),P&&(n=P.createObjectURL,r=P.revokeObjectURL,n&&l(p,"createObjectURL",function(Te){return n.apply(P,arguments)}),r&&l(p,"revokeObjectURL",function(Te){return r.apply(P,arguments)})),C(p,"URL"),c({global:!0,forced:!h,sham:!a},{URL:p})},{"../internals/an-instance":9,"../internals/array-from":17,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/internal-state":71,"../internals/native-url":85,"../internals/object-assign":90,"../internals/object-define-properties":92,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/string-multibyte":125,"../internals/string-punycode-to-ascii":128,"../modules/es.string.iterator":200,"../modules/web.url-search-params":247}],249:[function(t,S,b){S.exports=t("./").polyfill()},{"./":250}],250:[function(t,S,b){(function(o,d){var s,p;s=this,p=function(){function y(U){return typeof U=="function"}var m=Array.isArray||function(U){return Object.prototype.toString.call(U)==="[object Array]"},n=0,r=void 0,c=void 0,a=function(U,oe){x[n]=U,x[n+1]=oe,(n+=2)===2&&(c?c(k):R())},h=typeof window<"u"?window:void 0,u=h||{},u=u.MutationObserver||u.WebKitMutationObserver,l=typeof self>"u"&&o!==void 0&&{}.toString.call(o)==="[object process]",g=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function v(){var U=setTimeout;return function(){return U(k,1)}}var x=new Array(1e3);function k(){for(var U=0;U<n;U+=2)(0,x[U])(x[U+1]),x[U]=void 0,x[U+1]=void 0;n=0}function E(){try{var U=Function("return this")().require("vertx");return(r=U.runOnLoop||U.runOnContext)!==void 0?function(){r(k)}:v()}catch{return v()}}var j,C,L,R=void 0;function A(U,oe){var fe,te=this,ee=new this.constructor(N),ae=(ee[I]===void 0&&ce(ee),te._state);return ae?(fe=arguments[ae-1],a(function(){return re(ae,ee,fe,te._result)})):V(te,ee,U,oe),ee}function P(U){var oe;return U&&typeof U=="object"&&U.constructor===this?U:(Y(oe=new this(N),U),oe)}var R=l?function(){return o.nextTick(k)}:u?(C=0,l=new u(k),L=document.createTextNode(""),l.observe(L,{characterData:!0}),function(){L.data=C=++C%2}):g?((j=new MessageChannel).port1.onmessage=k,function(){return j.port2.postMessage(0)}):(h===void 0&&typeof t=="function"?E:v)(),I=Math.random().toString(36).substring(2);function N(){}var z=void 0,G=1,W=2;function H(U,oe,fe){a(function(te){var ee=!1,ae=function(_e,Oe,ue,je){try{_e.call(Oe,ue,je)}catch(Me){return Me}}(fe,oe,function(_e){ee||(ee=!0,(oe!==_e?Y:M)(te,_e))},function(_e){ee||(ee=!0,B(te,_e))},te._label);!ee&&ae&&(ee=!0,B(te,ae))},U)}function Z(U,oe,fe){var te,ee;oe.constructor===U.constructor&&fe===A&&oe.constructor.resolve===P?(te=U,(ee=oe)._state===G?M(te,ee._result):ee._state===W?B(te,ee._result):V(ee,void 0,function(ae){return Y(te,ae)},function(ae){return B(te,ae)})):fe!==void 0&&y(fe)?H(U,oe,fe):M(U,oe)}function Y(U,oe){if(U===oe)B(U,new TypeError("You cannot resolve a promise with itself"));else if(fe=typeof oe,oe===null||fe!="object"&&fe!="function")M(U,oe);else{fe=void 0;try{fe=oe.then}catch(te){return void B(U,te)}Z(U,oe,fe)}var fe}function Q(U){U._onerror&&U._onerror(U._result),X(U)}function M(U,oe){U._state===z&&(U._result=oe,U._state=G,U._subscribers.length!==0&&a(X,U))}function B(U,oe){U._state===z&&(U._state=W,U._result=oe,a(Q,U))}function V(U,oe,fe,te){var ee=U._subscribers,ae=ee.length;U._onerror=null,ee[ae]=oe,ee[ae+G]=fe,ee[ae+W]=te,ae===0&&U._state&&a(X,U)}function X(U){var oe=U._subscribers,fe=U._state;if(oe.length!==0){for(var te,ee=void 0,ae=U._result,_e=0;_e<oe.length;_e+=3)te=oe[_e],ee=oe[_e+fe],te?re(fe,te,ee,ae):ee(ae);U._subscribers.length=0}}function re(U,oe,fe,te){var ee=y(fe),ae=void 0,_e=void 0,Oe=!0;if(ee){try{ae=fe(te)}catch(ue){Oe=!1,_e=ue}if(oe===ae)return void B(oe,new TypeError("A promises callback cannot return that same promise."))}else ae=te;oe._state===z&&(ee&&Oe?Y(oe,ae):Oe===!1?B(oe,_e):U===G?M(oe,ae):U===W&&B(oe,ae))}var ne=0;function ce(U){U[I]=ne++,U._state=void 0,U._result=void 0,U._subscribers=[]}he.prototype._enumerate=function(U){for(var oe=0;this._state===z&&oe<U.length;oe++)this._eachEntry(U[oe],oe)},he.prototype._eachEntry=function(U,oe){var fe=this._instanceConstructor,te=fe.resolve;if(te===P){var ee,ae=void 0,_e=void 0,Oe=!1;try{ae=U.then}catch(ue){Oe=!0,_e=ue}ae===A&&U._state!==z?this._settledAt(U._state,oe,U._result):typeof ae!="function"?(this._remaining--,this._result[oe]=U):fe===le?(ee=new fe(N),Oe?B(ee,_e):Z(ee,U,ae),this._willSettleAt(ee,oe)):this._willSettleAt(new fe(function(ue){return ue(U)}),oe)}else this._willSettleAt(te(U),oe)},he.prototype._settledAt=function(U,oe,fe){var te=this.promise;te._state===z&&(this._remaining--,U===W?B(te,fe):this._result[oe]=fe),this._remaining===0&&M(te,this._result)},he.prototype._willSettleAt=function(U,oe){var fe=this;V(U,void 0,function(te){return fe._settledAt(G,oe,te)},function(te){return fe._settledAt(W,oe,te)})};var be=he;function he(U,oe){this._instanceConstructor=U,this.promise=new U(N),this.promise[I]||ce(this.promise),m(oe)?(this.length=oe.length,this._remaining=oe.length,this._result=new Array(this.length),this.length!==0&&(this.length=this.length||0,this._enumerate(oe),this._remaining!==0)||M(this.promise,this._result)):B(this.promise,new Error("Array Methods must be provided an Array"))}ge.prototype.catch=function(U){return this.then(null,U)},ge.prototype.finally=function(U){var oe=this.constructor;return y(U)?this.then(function(fe){return oe.resolve(U()).then(function(){return fe})},function(fe){return oe.resolve(U()).then(function(){throw fe})}):this.then(U,U)};var le=ge;function ge(U){if(this[I]=ne++,this._result=this._state=void 0,this._subscribers=[],N!==U){if(typeof U!="function")throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof ge))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");var oe=this;try{U(function(fe){Y(oe,fe)},function(fe){B(oe,fe)})}catch(fe){B(oe,fe)}}}return le.prototype.then=A,le.all=function(U){return new be(this,U).promise},le.race=function(U){var oe=this;return m(U)?new oe(function(fe,te){for(var ee=U.length,ae=0;ae<ee;ae++)oe.resolve(U[ae]).then(fe,te)}):new oe(function(fe,te){return te(new TypeError("You must pass an array to race."))})},le.resolve=P,le.reject=function(U){var oe=new this(N);return B(oe,U),oe},le._setScheduler=function(U){c=U},le._setAsap=function(U){a=U},le._asap=a,le.polyfill=function(){var U=void 0;if(d!==void 0)U=d;else if(typeof self<"u")U=self;else try{U=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var oe=U.Promise;if(oe){var fe=null;try{fe=Object.prototype.toString.call(oe.resolve())}catch{}if(fe==="[object Promise]"&&!oe.cast)return}U.Promise=le},le.Promise=le},typeof b=="object"&&S!==void 0?S.exports=p():s.ES6Promise=p()}).call(this,t("_process"),typeof lo<"u"?lo:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:259}],251:[function(t,S,b){var o,d;o=this,d=function(s,p){var y=5e3,m="callback";function n(c){try{delete window[c]}catch{window[c]=void 0}}function r(c){c=document.getElementById(c),c&&document.getElementsByTagName("head")[0].removeChild(c)}p.exports=function(c){var a=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],h=c,u=a.timeout||y,l=a.jsonpCallback||m,g=void 0;return new Promise(function(v,x){var k=a.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),E=l+"_"+k,j=(window[k]=function(C){v({ok:!0,json:function(){return Promise.resolve(C)}}),g&&clearTimeout(g),r(E),n(k)},h+=h.indexOf("?")===-1?"?":"&",document.createElement("script"));j.setAttribute("src",""+h+l+"="+k),a.charset&&j.setAttribute("charset",a.charset),j.id=E,document.getElementsByTagName("head")[0].appendChild(j),g=setTimeout(function(){x(new Error("JSONP request to "+c+" timed out")),n(k),r(E),window[k]=function(){n(k)}},u),j.onerror=function(){x(new Error("JSONP request to "+c+" failed")),n(k),r(E),g&&clearTimeout(g)}})}},b!==void 0&&S!==void 0?d(0,S):(d(d={exports:{}},d),o.fetchJsonp=d.exports)},{}],252:[function(t,S,b){var o=function(d){var s,p,y,m,n,r,c,a,h,u,l;if(!(d===void 0||typeof navigator<"u"&&/MSIE [1-9]\./.test(navigator.userAgent)))return l=d.document,s=function(){return d.URL||d.webkitURL||d},p=l.createElementNS("http://www.w3.org/1999/xhtml","a"),y="download"in p,m=/constructor/i.test(d.HTMLElement)||d.safari,n=/CriOS\/[\d]+/.test(navigator.userAgent),r=function(g){(d.setImmediate||d.setTimeout)(function(){throw g},0)},c=4e4,a=function(g){setTimeout(function(){typeof g=="string"?s().revokeObjectURL(g):g.remove()},c)},h=function(g){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(g.type)?new Blob(["\uFEFF",g],{type:g.type}):g},l=(u=function(g,v,C){C||(g=h(g));var k,E,j=this,C=g.type==="application/octet-stream",L=function(){for(var A=j,P="writestart progress write writeend".split(" "),R=void 0,I=(P=[].concat(P)).length;I--;){var N=A["on"+P[I]];if(typeof N=="function")try{N.call(A,R||A)}catch(z){r(z)}}};j.readyState=j.INIT,y?(k=s().createObjectURL(g),setTimeout(function(){var A,P;p.href=k,p.download=v,A=p,P=new MouseEvent("click"),A.dispatchEvent(P),L(),a(k),j.readyState=j.DONE})):(n||C&&m)&&d.FileReader?((E=new FileReader).onloadend=function(){var A=n?E.result:E.result.replace(/^data:[^;]*;/,"data:attachment/file;");d.open(A,"_blank")||(d.location.href=A),A=void 0,j.readyState=j.DONE,L()},E.readAsDataURL(g),j.readyState=j.INIT):(k=k||s().createObjectURL(g),!C&&d.open(k,"_blank")||(d.location.href=k),j.readyState=j.DONE,L(),a(k))}).prototype,typeof navigator<"u"&&navigator.msSaveOrOpenBlob?function(g,v,x){return v=v||g.name||"download",x||(g=h(g)),navigator.msSaveOrOpenBlob(g,v)}:(l.abort=function(){},l.readyState=l.INIT=0,l.WRITING=1,l.DONE=2,l.error=l.onwritestart=l.onprogress=l.onwrite=l.onabort=l.onerror=l.onwriteend=null,function(g,v,x){return new u(g,v||g.name||"download",x)})}(typeof self<"u"&&self||typeof window<"u"&&window||this.content);S!==void 0&&S.exports?S.exports.saveAs=o:T!=null},{}],253:[function(t,S,b){var o,d=Object.defineProperty,s=(d(b,"__esModule",{value:!0}),b),p={GIFEncoder:()=>L,applyPalette:()=>function(z,G,W="rgb565"){if(!z||!z.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(z instanceof Uint8Array||z instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");if(256<G.length)throw new Error("applyPalette() only works with 256 colors or less");const H=new Uint32Array(z.buffer),Z=H.length,Y=W==="rgb444"?4096:65536,Q=new Uint8Array(Z),M=new Array(Y);if(W==="rgba4444")for(let ge=0;ge<Z;ge++){var re=H[ge],B=re>>24&255,V=re>>16&255,X=re>>8&255,re=255&re,ne=a(re,X,V,B),ne=ne in M?M[ne]:M[ne]=function(U,oe,fe,te,ee){let ae=0,_e=1e100;for(let Me=0;Me<ee.length;Me++){var Oe,ue=ee[Me],je=E(ue[3]-te);je>_e||(Oe=ue[0],(je+=E(Oe-U))>_e||(Oe=ue[1],(je+=E(Oe-oe))>_e||(Oe=ue[2],(je+=E(Oe-fe))>_e||(_e=je,ae=Me))))}return ae}(re,X,V,B,G);Q[ge]=ne}else{const ge=W==="rgb444"?h:c;for(let U=0;U<Z;U++){var he=H[U],ce=he>>16&255,be=he>>8&255,he=255&he,le=ge(he,be,ce),le=le in M?M[le]:M[le]=function(oe,fe,te,ee){let ae=0,_e=1e100;for(let Me=0;Me<ee.length;Me++){var Oe,ue=ee[Me],je=E(ue[0]-oe);je>_e||(Oe=ue[1],(je+=E(Oe-fe))>_e||(Oe=ue[2],(je+=E(Oe-te))>_e||(_e=je,ae=Me)))}return ae}(he,be,ce,G);Q[U]=le}}return Q},default:()=>N,nearestColor:()=>function(z,G,W=x){return z[j(z,G,W)]},nearestColorIndex:()=>j,nearestColorIndexWithDistance:()=>C,prequantize:()=>function(z,{roundRGB:G=5,roundAlpha:W=10,oneBitAlpha:H=null}={}){const Z=new Uint32Array(z.buffer);for(let V=0;V<Z.length;V++){var B=Z[V];let X=B>>24&255;var Y,Q=B>>16&255,M=B>>8&255,B=255&B;X=k(X,W),H&&(Y=typeof H=="number"?H:127,X=X<=Y?0:255),B=k(B,G),M=k(M,G),Q=k(Q,G),Z[V]=X<<24|Q<<16|M<<8|B<<0}},quantize:()=>function(z,G,W={}){var{format:H="rgb565",clearAlpha:Z=!0,clearAlphaColor:Y=0,clearAlphaThreshold:Q=0,oneBitAlpha:M=!1}=W;if(!z||!z.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(z instanceof Uint8Array||z instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");z=new Uint32Array(z.buffer);let B=W.useSqrt!==!1;const V=H==="rgba4444",X=function(Le,qe){const Ye=qe==="rgb444"?4096:65536,Ee=new Array(Ye),Xe=Le.length;if(qe==="rgba4444")for(let wt=0;wt<Xe;++wt){var $=Le[wt],De=$>>24&255,ie=$>>16&255,pe=$>>8&255,$=255&$,de=a($,pe,ie,De);let ht=de in Ee?Ee[de]:Ee[de]=v();ht.rc+=$,ht.gc+=pe,ht.bc+=ie,ht.ac+=De,ht.cnt++}else if(qe==="rgb444")for(let wt=0;wt<Xe;++wt){var Ue=Le[wt],Se=Ue>>16&255,Ie=Ue>>8&255,Ue=255&Ue,et=h(Ue,Ie,Se);let ht=et in Ee?Ee[et]:Ee[et]=v();ht.rc+=Ue,ht.gc+=Ie,ht.bc+=Se,ht.cnt++}else for(let wt=0;wt<Xe;++wt){var ct=Le[wt],lt=ct>>16&255,it=ct>>8&255,ct=255&ct,Ct=c(ct,it,lt);let ht=Ct in Ee?Ee[Ct]:Ee[Ct]=v();ht.rc+=ct,ht.gc+=it,ht.bc+=lt,ht.cnt++}return Ee}(z,H),re=X.length,ne=re-1,ce=new Uint32Array(re+1);for(var be=0,he=0;he<re;++he){const Le=X[he];Le!=null&&(ue=1/Le.cnt,V&&(Le.ac*=ue),Le.rc*=ue,Le.gc*=ue,Le.bc*=ue,X[be++]=Le)}l(G)/be<.022&&(B=!1);for(var le,ge,U,he=0;he<be-1;++he)X[he].fw=he+1,X[he+1].bk=he,B&&(X[he].cnt=Math.sqrt(X[he].cnt));for(B&&(X[he].cnt=Math.sqrt(X[he].cnt)),he=0;he<be;++he){g(X,he);var oe=X[he].err;for(ge=++ce[0];1<ge&&(U=ge>>1,!(X[le=ce[U]].err<=oe));ge=U)ce[ge]=le;ce[ge]=he}var fe,te=be-G;for(he=0;he<te;){for(;;){var ee=ce[1];if((fe=X[ee]).tm>=fe.mtm&&X[fe.nn].mtm<=fe.tm)break;for(fe.mtm==ne?ee=ce[1]=ce[ce[0]--]:(g(X,ee),fe.tm=he),oe=X[ee].err,ge=1;(U=ge+ge)<=ce[0]&&(U<ce[0]&&X[ce[U]].err>X[ce[U+1]].err&&U++,!(oe<=X[le=ce[U]].err));ge=U)ce[ge]=le;ce[ge]=ee}var ae=X[fe.nn],_e=fe.cnt,Oe=ae.cnt,ue=1/(_e+Oe);V&&(fe.ac=ue*(_e*fe.ac+Oe*ae.ac)),fe.rc=ue*(_e*fe.rc+Oe*ae.rc),fe.gc=ue*(_e*fe.gc+Oe*ae.gc),fe.bc=ue*(_e*fe.bc+Oe*ae.bc),fe.cnt+=ae.cnt,fe.mtm=++he,X[ae.bk].fw=ae.fw,X[ae.fw].bk=ae.bk,ae.mtm=ne}let je=[];for(he=0;;0){let Le=u(Math.round(X[he].rc),0,255),qe=u(Math.round(X[he].gc),0,255),Ye=u(Math.round(X[he].bc),0,255),Ee=255;V&&(Ee=u(Math.round(X[he].ac),0,255),M&&(Me=typeof M=="number"?M:127,Ee=Ee<=Me?0:255),Z&&Ee<=Q&&(Le=qe=Ye=Y,Ee=0));var Me=V?[Le,qe,Ye,Ee]:[Le,qe,Ye];if(function(Xe,De){for(let $=0;$<Xe.length;$++){var pe=Xe[$],ie=pe[0]===De[0]&&pe[1]===De[1]&&pe[2]===De[2],pe=!(4<=pe.length&&4<=De.length)||pe[3]===De[3];if(ie&&pe)return!0}return!1}(je,Me)||je.push(Me),(he=X[he].fw)==0)break}return je},snapColorsToPalette:()=>function(z,G,W=5){if(z.length&&G.length){var H=z.map(B=>B.slice(0,3)),Z=W*W,Y=z[0].length;for(let B=0;B<G.length;B++){let V=G[B];V=V.length<Y?[V[0],V[1],V[2],255]:V.length>Y?V.slice(0,3):V.slice();var M=C(H,V.slice(0,3),x),Q=M[0],M=M[1];0<M&&M<=Z&&(z[Q]=V)}}}};for(o in p)d(s,o,{get:p[o],enumerable:!0});var y={trailer:59};function m(z=256){let G=0,W=new Uint8Array(z);return{get buffer(){return W.buffer},reset(){G=0},bytesView(){return W.subarray(0,G)},bytes(){return W.slice(0,G)},writeByte(Z){H(G+1),W[G]=Z,G++},writeBytes(Z,Y=0,Q=Z.length){H(G+Q);for(let M=0;M<Q;M++)W[G++]=Z[M+Y]},writeBytesView(Z,Y=0,Q=Z.byteLength){H(G+Q),W.set(Z.subarray(Y,Y+Q),G),G+=Q}};function H(Z){var Y=W.length;if(!(Z<=Y)){Z=Math.max(Z,Y*(Y<1048576?2:1.125)>>>0),Y!=0&&(Z=Math.max(Z,256));const Q=W;W=new Uint8Array(Z),0<G&&W.set(Q.subarray(0,G),0)}}}var n=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],r=function(z,G,W,V,Z=m(512),Y=new Uint8Array(256),Q=new Int32Array(5003),M=new Int32Array(5003)){var B=Q.length,V=Math.max(2,V);Y.fill(0),M.fill(0),Q.fill(-1);let X=0,re=0;var ne=V+1;const ce=ne;let be=!1,he=ce,le=(1<<he)-1;var ge=1<<ne-1;const U=1+ge;let oe=2+ge,fe=0,te=W[0],ee=0;for(let Me=B;Me<65536;Me*=2)++ee;ee=8-ee,Z.writeByte(V),je(ge);var ae=W.length;for(let Me=1;Me<ae;Me++)e:{var _e=W[Me],Oe=(_e<<12)+te;let Le=_e<<ee^te;if(Q[Le]===Oe)te=M[Le];else{for(var ue=Le===0?1:B-Le;0<=Q[Le];)if((Le-=ue)<0&&(Le+=B),Q[Le]===Oe){te=M[Le];break e}je(te),te=_e,oe<4096?(M[Le]=oe++,Q[Le]=Oe):(Q.fill(-1),oe=2+ge,be=!0,je(ge))}}return je(te),je(U),Z.writeByte(0),Z.bytesView();function je(Me){for(X&=n[re],0<re?X|=Me<<re:X=Me,re+=he;8<=re;)Y[fe++]=255&X,254<=fe&&(Z.writeByte(fe),Z.writeBytesView(Y,0,fe),fe=0),X>>=8,re-=8;if((oe>le||be)&&(be?(he=ce,le=(1<<he)-1,be=!1):(++he,le=he===12?1<<he:(1<<he)-1)),Me==U){for(;0<re;)Y[fe++]=255&X,254<=fe&&(Z.writeByte(fe),Z.writeBytesView(Y,0,fe),fe=0),X>>=8,re-=8;0<fe&&(Z.writeByte(fe),Z.writeBytesView(Y,0,fe),fe=0)}}};function c(z,G,W){return z<<8&63488|G<<2&992|W>>3}function a(z,G,W,H){return z>>4|240&G|(240&W)<<4|(240&H)<<8}function h(z,G,W){return z>>4<<8|240&G|W>>4}function u(z,G,W){return z<G?G:W<z?W:z}function l(z){return z*z}function g(z,G,W){var H=0,Z=1e100;const Y=z[G];for(var Q=Y.cnt,M=Y.ac,B=Y.rc,V=Y.gc,X=Y.bc,re=Y.fw;re!=0;re=z[re].fw){var ne,ce=z[re],be=ce.cnt,be=Q*be/(Q+be);Z<=be||(ne=0,Z<=(ne+=be*l(ce.rc-B))||Z<=(ne+=be*l(ce.gc-V))||Z<=(ne+=be*l(ce.bc-X))||(Z=ne,H=re))}Y.err=Z,Y.nn=H}function v(){return{ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0}}function x(z,G){for(var W=0,H=0;H<z.length;H++){var Z=z[H]-G[H];W+=Z*Z}return W}function k(z,G){return 1<G?Math.round(z/G)*G:z}function E(z){return z*z}function j(z,G,W=x){let H=1/0,Z=-1;for(let Q=0;Q<z.length;Q++){var Y=W(G,z[Q]);Y<H&&(H=Y,Z=Q)}return Z}function C(z,G,W=x){let H=1/0,Z=-1;for(let Q=0;Q<z.length;Q++){var Y=W(G,z[Q]);Y<H&&(H=Y,Z=Q)}return[Z,H]}function L(z={}){const{initialCapacity:G=4096,auto:W=!0}=z,H=m(G),Z=new Uint8Array(256),Y=new Int32Array(5003),Q=new Int32Array(5003);let M=!1;return{reset(){H.reset(),M=!1},finish(){H.writeByte(y.trailer)},bytes(){return H.bytes()},bytesView(){return H.bytesView()},get buffer(){return H.buffer},get stream(){return H},writeHeader:B,writeFrame(V,X,re,te={}){var{transparent:ce=!1,transparentIndex:be=0,delay:ue=0,palette:he=null,repeat:ae=0,colorDepth:le=8,dispose:ge=-1}=te;let U=!1;if(W?M||(U=!0,B(),M=!0):U=!!te.first,X=Math.max(0,Math.floor(X)),re=Math.max(0,Math.floor(re)),U){if(!he)throw new Error("First frame must include a { palette } option");var[te,_e,fe,Oe,ee=8]=[H,X,re,he,le];Oe=I(Oe.length)-1,ee=128|ee-1<<4|Oe,P(te,_e),P(te,fe),te.writeBytes([ee,0,0]),A(H,he),0<=ae&&(Oe=H,_e=ae,Oe.writeByte(33),Oe.writeByte(255),Oe.writeByte(11),R(Oe,"NETSCAPE2.0"),Oe.writeByte(3),Oe.writeByte(1),P(Oe,_e),Oe.writeByte(0))}var oe,fe=Math.round(ue/10),te=H,ee=ge,ae=fe,_e=ce,Oe=be,ue=(te.writeByte(33),te.writeByte(249),te.writeByte(4),Oe<0&&(Oe=0,_e=!1),_e=_e?(oe=1,2):oe=0,0<=ee&&(_e=7&ee),_e<<=2,te.writeByte(0|_e|oe),P(te,ae),te.writeByte(Oe||0),te.writeByte(0),!!he&&!U);ge=H,ce=X,be=re,oe=ue?he:null,ge.writeByte(44),P(ge,0),P(ge,0),P(ge,ce),P(ge,be),oe?(ce=I(oe.length)-1,ge.writeByte(128|ce)):ge.writeByte(0),ue&&A(H,he),[ae,te,be,ce,ge=8,ue,he,V]=[H,V,X,re,le,Z,Y,Q],r(be,ce,te,ge,ae,ue,he,V)}};function B(){R(H,"GIF89a")}}function A(z,G){var W=1<<I(G.length);for(let H=0;H<W;H++){let Z=[0,0,0];H<G.length&&(Z=G[H]),z.writeByte(Z[0]),z.writeByte(Z[1]),z.writeByte(Z[2])}}function P(z,G){z.writeByte(255&G),z.writeByte(G>>8&255)}function R(z,G){for(var W=0;W<G.length;W++)z.writeByte(G.charCodeAt(W))}function I(z){return Math.max(Math.ceil(Math.log2(z)),1)}var N=L},{}],254:[function(t,S,b){b.read=function(o,d,s,p,g){var m,n,r=8*g-p-1,c=(1<<r)-1,a=c>>1,h=-7,u=s?g-1:0,l=s?-1:1,g=o[d+u];for(u+=l,m=g&(1<<-h)-1,g>>=-h,h+=r;0<h;m=256*m+o[d+u],u+=l,h-=8);for(n=m&(1<<-h)-1,m>>=-h,h+=p;0<h;n=256*n+o[d+u],u+=l,h-=8);if(m===0)m=1-a;else{if(m===c)return n?NaN:1/0*(g?-1:1);n+=Math.pow(2,p),m-=a}return(g?-1:1)*n*Math.pow(2,m-p)},b.write=function(o,d,s,p,y,v){var n,r,c=8*v-y-1,a=(1<<c)-1,h=a>>1,u=y===23?Math.pow(2,-24)-Math.pow(2,-77):0,l=p?0:v-1,g=p?1:-1,v=d<0||d===0&&1/d<0?1:0;for(d=Math.abs(d),isNaN(d)||d===1/0?(r=isNaN(d)?1:0,n=a):(n=Math.floor(Math.log(d)/Math.LN2),d*(p=Math.pow(2,-n))<1&&(n--,p*=2),2<=(d+=1<=n+h?u/p:u*Math.pow(2,1-h))*p&&(n++,p/=2),a<=n+h?(r=0,n=a):1<=n+h?(r=(d*p-1)*Math.pow(2,y),n+=h):(r=d*Math.pow(2,h-1)*Math.pow(2,y),n=0));8<=y;o[s+l]=255&r,l+=g,r/=256,y-=8);for(n=n<<y|r,c+=y;0<c;o[s+l]=255&n,l+=g,n/=256,c-=8);o[s+l-g]|=128*v}},{}],255:[function(t,S,b){var o;function d(ie,pe){return ie.b===pe.b&&ie.a===pe.a}function s(ie,pe){return ie.b<pe.b||ie.b===pe.b&&ie.a<=pe.a}function p(ie,pe,$){var de=pe.b-ie.b,Se=$.b-pe.b;return 0<de+Se?de<Se?pe.a-ie.a+de/(de+Se)*(ie.a-$.a):pe.a-$.a+Se/(de+Se)*($.a-ie.a):0}function y(ie,pe,$){var de=pe.b-ie.b,Se=$.b-pe.b;return 0<de+Se?(pe.a-$.a)*de+(pe.a-ie.a)*Se:0}function m(ie,pe){return ie.a<pe.a||ie.a===pe.a&&ie.b<=pe.b}function n(ie,pe,$){var de=pe.a-ie.a,Se=$.a-pe.a;return 0<de+Se?de<Se?pe.b-ie.b+de/(de+Se)*(ie.b-$.b):pe.b-$.b+Se/(de+Se)*($.b-ie.b):0}function r(ie,pe,$){var de=pe.a-ie.a,Se=$.a-pe.a;return 0<de+Se?(pe.b-$.b)*de+(pe.b-ie.b)*Se:0}function c(ie,pe,$,de){return(ie=ie<0?0:ie)<=($=$<0?0:$)?$===0?(pe+de)/2:pe+ie/(ie+$)*(de-pe):de+$/(ie+$)*(pe-de)}function a(ie){var pe=v(ie.b);return k(pe,ie.c),k(pe.b,ie.c),E(pe,ie.a),pe}function h(ie,pe){var $=!1,de=!1;ie!==pe&&(pe.a!==ie.a&&(de=!0,C(pe.a,ie.a)),pe.d!==ie.d&&($=!0,L(pe.d,ie.d)),x(pe,ie),de||(k(pe,ie.a),ie.a.c=ie),$||(E(pe,ie.d),ie.d.a=ie))}function u(ie){var pe=ie.b,$=!1;ie.d!==ie.b.d&&($=!0,L(ie.d,ie.b.d)),ie.c===ie?C(ie.a,null):(ie.b.d.a=ie.b.e,ie.a.c=ie.c,x(ie,ie.b.e),$||E(ie,ie.d)),pe.c===pe?(C(pe.a,null),L(pe.d,null)):(ie.d.a=pe.b.e,pe.a.c=pe.c,x(pe,pe.b.e)),j(ie)}function l(ie){var pe=v(ie),$=pe.b;return x(pe,ie.e),pe.a=ie.b.a,k($,pe.a),pe.d=$.d=ie.d,pe=pe.b,x(ie.b,ie.b.b.e),x(ie.b,pe),ie.b.a=pe.a,pe.b.a.c=pe.b,pe.b.d=ie.b.d,pe.f=ie.f,pe.b.f=ie.b.f,pe}function g(ie,pe){var $=!1,de=v(ie),Se=de.b;return pe.d!==ie.d&&($=!0,L(pe.d,ie.d)),x(de,ie.e),x(Se,pe),de.a=ie.b.a,Se.a=pe.a,de.d=Se.d=ie.d,ie.d.a=Se,$||E(de,ie.d),de}function v(ie){var pe=new fe,$=new fe,de=ie.b.h;return((($.h=de).b.h=pe).h=ie).b.h=$,pe.b=$,((pe.c=pe).e=$).b=pe,($.c=$).e=pe}function x(ie,pe){var $=ie.c,de=pe.c;$.b.e=pe,(de.b.e=ie).c=de,pe.c=$}function k(ie,pe){var $=pe.f,de=new ee(pe,$);for($.e=de,$=(pe.f=de).c=ie;$.a=de,($=$.c)!==ie;);}function E(ie,pe){var $=pe.d,de=new oe(pe,$);for($.b=de,(pe.d=de).a=ie,de.c=pe.c,$=ie;$.d=de,($=$.e)!==ie;);}function j(ie){var pe=ie.h;ie=ie.b.h,(pe.b.h=ie).b.h=pe}function C(ie,pe){for(var $=ie.c,de=$;de.a=pe,(de=de.c)!==$;);$=ie.f,((de=ie.e).f=$).e=de}function L(ie,pe){for(var $=ie.a,de=$;de.d=pe,(de=de.e)!==$;);$=ie.d,((de=ie.b).d=$).b=de}function A(ie){var pe=0;return Math.abs(ie[1])>Math.abs(ie[0])&&(pe=1),pe=Math.abs(ie[2])>Math.abs(ie[pe])?2:pe}function P(ie,pe){ie.f+=pe.f,ie.b.f+=pe.b.f}function R(ie,pe,$){return ie=ie.a,pe=pe.a,$=$.a,pe.b.a===ie?$.b.a===ie?s(pe.a,$.a)?y($.b.a,pe.a,$.a)<=0:0<=y(pe.b.a,$.a,pe.a):y($.b.a,ie,$.a)<=0:$.b.a===ie?0<=y(pe.b.a,ie,pe.a):(pe=p(pe.b.a,ie,pe.a),(ie=p($.b.a,ie,$.a))<=pe)}function I(ie){ie.a.i=null;var pe=ie.e;pe.a.c=pe.c,pe.c.a=pe.a,ie.e=null}function N(ie,pe){u(ie.a),ie.c=!1,(ie.a=pe).i=ie}function z(ie){for(var pe=ie.a.a;(ie=De(ie)).a.a===pe;);return ie.c&&(N(ie,pe=g(Xe(ie).a.b,ie.a.e)),ie=De(ie)),ie}function G(ie,pe,$){var de=new Ee;return de.a=$,de.e=be(ie.f,pe.e,de),$.i=de}function W(ie,pe){switch(ie.s){case 100130:return(1&pe)!=0;case 100131:return pe!==0;case 100132:return 0<pe;case 100133:return pe<0;case 100134:return 2<=pe||pe<=-2}return!1}function H(ie){var pe=ie.a,$=pe.d;$.c=ie.d,$.a=pe,I(ie)}function Z(ie,pe,$){for(pe=(ie=pe).a;ie!==$;){ie.c=!1;var de=Xe(ie),Se=de.a;if(Se.a!==pe.a){if(!de.c){H(ie);break}N(de,Se=g(pe.c.b,Se.b))}pe.c!==Se&&(h(Se.b.e,Se),h(pe,Se)),H(ie),pe=de.a,ie=de}return pe}function Y(ie,pe,$,de,Se,Ie){for(var Ue=!0;G(ie,pe,$.b),($=$.c)!==de;);for(Se===null&&(Se=Xe(pe).a.b.c);($=(de=Xe(pe)).a.b).a===Se.a;)$.c!==Se&&(h($.b.e,$),h(Se.b.e,$)),de.f=pe.f-$.f,de.d=W(ie,de.f),pe.b=!0,!Ue&&V(ie,pe)&&(P($,Se),I(pe),u(Se)),Ue=!1,pe=de,Se=$;pe.b=!0,Ie&&re(ie,pe)}function Q(ie,pe,$,de,Se){var Ie=[pe.g[0],pe.g[1],pe.g[2]];pe.d=null,pe.d=ie.o&&ie.o(Ie,$,de,ie.c)||null,pe.d===null&&(Se?ie.n||(U(ie,100156),ie.n=!0):pe.d=$[0])}function M(ie,pe,$){var de=[null,null,null,null];de[0]=pe.a.d,de[1]=$.a.d,Q(ie,pe.a,de,[.5,.5,0,0],!1),h(pe,$)}function B(ie,pe,$,de,Se){var Ie=Math.abs(pe.b-ie.b)+Math.abs(pe.a-ie.a),Ue=Math.abs($.b-ie.b)+Math.abs($.a-ie.a),et=Se+1;de[Se]=.5*Ue/(Ie+Ue),de[et]=.5*Ie/(Ie+Ue),ie.g[0]+=de[Se]*pe.g[0]+de[et]*$.g[0],ie.g[1]+=de[Se]*pe.g[1]+de[et]*$.g[1],ie.g[2]+=de[Se]*pe.g[2]+de[et]*$.g[2]}function V(ie,pe){var $=Xe(pe),de=pe.a,Se=$.a;if(s(de.a,Se.a)){if(0<y(Se.b.a,de.a,Se.a))return;if(d(de.a,Se.a)){if(de.a!==Se.a){var $=ie.e,Ie=de.a.h;if(0<=Ie){var Ue=($=$.b).d,et=$.e,lt=$.c,it=lt[Ie];Ue[it]=Ue[$.a],(lt[Ue[it]]=it)<=--$.a&&(it<=1||s(et[Ue[it>>1]],et[Ue[it]])?qe:Ye)($,it),et[Ie]=null,lt[Ie]=$.b,$.b=Ie}else for($.c[-(Ie+1)]=null;0<$.a&&$.c[$.d[$.a-1]]===null;)--$.a;M(ie,Se.b.e,de)}}else l(Se.b),h(de,Se.b.e),pe.b=$.b=!0}else{if(y(de.b.a,Se.a,de.a)<0)return;De(pe).b=pe.b=!0,l(de.b),h(Se.b.e,de)}return 1}function X(ie,pe){var $=Xe(pe),de=pe.a,Se=$.a,Ie=de.a,Ue=Se.a,et=de.b.a,lt=Se.b.a,it=new ee;if(y(et,ie.a,Ie),y(lt,ie.a,Ue),!(Ie===Ue||Math.min(Ie.a,et.a)>Math.max(Ue.a,lt.a))){if(s(Ie,Ue)){if(0<y(lt,Ie,Ue))return}else if(y(et,Ue,Ie)<0)return;var ct,Ct,wt=et,ht=Ie,bt=lt,kt=Ue;if(s(wt,ht)||(ct=wt,wt=ht,ht=ct),s(bt,kt)||(ct=bt,bt=kt,kt=ct),s(wt,bt)||(ct=wt,wt=bt,bt=ct,ct=ht,ht=kt,kt=ct),s(bt,ht)?s(ht,kt)?((ct=p(wt,bt,ht))+(Ct=p(bt,ht,kt))<0&&(ct=-ct,Ct=-Ct),it.b=c(ct,bt.b,Ct,ht.b)):((ct=y(wt,bt,ht))+(Ct=-y(wt,kt,ht))<0&&(ct=-ct,Ct=-Ct),it.b=c(ct,bt.b,Ct,kt.b)):it.b=(bt.b+ht.b)/2,m(wt,ht)||(ct=wt,wt=ht,ht=ct),m(bt,kt)||(ct=bt,bt=kt,kt=ct),m(wt,bt)||(ct=wt,wt=bt,bt=ct,ct=ht,ht=kt,kt=ct),m(bt,ht)?m(ht,kt)?((ct=n(wt,bt,ht))+(Ct=n(bt,ht,kt))<0&&(ct=-ct,Ct=-Ct),it.a=c(ct,bt.a,Ct,ht.a)):((ct=r(wt,bt,ht))+(Ct=-r(wt,kt,ht))<0&&(ct=-ct,Ct=-Ct),it.a=c(ct,bt.a,Ct,kt.a)):it.a=(bt.a+ht.a)/2,s(it,ie.a)&&(it.b=ie.a.b,it.a=ie.a.a),wt=s(Ie,Ue)?Ie:Ue,s(wt,it)&&(it.b=wt.b,it.a=wt.a),d(it,Ie)||d(it,Ue))return V(ie,pe),0;if(!d(et,ie.a)&&0<=y(et,ie.a,it)||!d(lt,ie.a)&&y(lt,ie.a,it)<=0){if(lt===ie.a)l(de.b),h(Se.b,de),de=Xe(pe=z(pe)).a,Z(ie,Xe(pe),$),Y(ie,pe,de.b.e,de,de,!0);else{if(et!==ie.a)return 0<=y(et,ie.a,it)&&(De(pe).b=pe.b=!0,l(de.b),de.a.b=ie.a.b,de.a.a=ie.a.a),void(y(lt,ie.a,it)<=0&&(pe.b=$.b=!0,l(Se.b),Se.a.b=ie.a.b,Se.a.a=ie.a.a));for(l(Se.b),h(de.e,Se.b.e),Ue=(Ie=$=pe).a.b.a;(Ie=De(Ie)).a.b.a===Ue;);Ie=Xe(pe=Ie).a.b.c,$.a=Se.b.e,Y(ie,pe,(Se=Z(ie,$,null)).c,de.b.c,Ie,!0)}return 1}l(de.b),l(Se.b),h(Se.b.e,de),de.a.b=it.b,de.a.a=it.a,de.a.h=_e(ie.e,de.a),de=de.a,Se=[0,0,0,0],it=[Ie.d,et.d,Ue.d,lt.d],de.g[0]=de.g[1]=de.g[2]=0,B(de,Ie,et,Se,0),B(de,Ue,lt,Se,2),Q(ie,de,it,Se,!0),De(pe).b=pe.b=$.b=!0}}function re(ie,pe){for(var $=Xe(pe);;){for(;$.b;)$=Xe(pe=$);if(!pe.b&&((pe=De($=pe))===null||!pe.b))break;pe.b=!1;var de=pe.a,Se=$.a;if(Ie=de.b.a!==Se.b.a)e:{var Ie,Ue=Xe(Ie=pe),et=Ie.a,lt=Ue.a,it=void 0;if(s(et.b.a,lt.b.a)){if(y(et.b.a,lt.b.a,et.a)<0){Ie=!1;break e}De(Ie).b=Ie.b=!0,it=l(et),h(lt.b,it),it.d.c=Ie.d}else{if(0<y(lt.b.a,et.b.a,lt.a)){Ie=!1;break e}Ie.b=Ue.b=!0,it=l(lt),h(et.e,lt.b),it.b.d.c=Ie.d}Ie=!0}if(Ie&&($.c?(I($),u(Se),Se=($=Xe(pe)).a):pe.c&&(I(pe),u(de),de=(pe=De($)).a)),de.a!==Se.a){if(de.b.a===Se.b.a||pe.c||$.c||de.b.a!==ie.a&&Se.b.a!==ie.a)V(ie,pe);else if(X(ie,pe))break}de.a===Se.a&&de.b.a===Se.b.a&&(P(Se,de),I(pe),u(de),pe=De($))}}function ne(ie,pe){var $=new Ee,de=a(ie.b);de.a.b=4e150,de.a.a=pe,de.b.a.b=-4e150,de.b.a.a=pe,ie.a=de.b.a,$.a=de,$.f=0,$.d=!1,$.c=!1,$.h=!0,$.b=!1,de=be(de=ie.f,de.a,$),$.e=de}function ce(ie){this.a=new he,this.b=ie,this.c=R}function be(ie,pe,$){for(;(pe=pe.c).b!==null&&!ie.c(ie.b,pe.b,$););return ie=new he($,pe.a,pe),pe.a.c=ie,pe.a=ie}function he(ie,pe,$){this.b=ie||null,this.a=pe||this,this.c=$||this}function le(){this.d=0,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}function ge(ie,pe){if(ie.d!==pe)for(;ie.d!==pe;)if(ie.d<pe)switch(ie.d){case 0:U(ie,100151),ie.u(null);break;case 1:U(ie,100152),ie.t()}else switch(ie.d){case 2:U(ie,100154),ie.v();break;case 1:U(ie,100153),ie.w()}}function U(ie,pe){ie.p&&ie.p(pe,ie.c)}function oe(ie,pe){this.b=ie||this,this.d=pe||this,this.a=null,this.c=!1}function fe(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function te(){this.c=new ee,this.a=new oe,this.b=new fe,this.d=new fe,this.b.b=this.d,this.d.b=this.b}function ee(ie,pe){this.e=ie||this,this.f=pe||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function ae(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new ue}function _e(ie,pe){var $,de,Se;return ie.e?(2*(de=++($=ie.b).a)>$.f&&($.f*=2,$.c=je($.c,$.f+1)),$.b===0?Se=de:(Se=$.b,$.b=$.c[$.b]),$.e[Se]=pe,$.c[Se]=de,$.d[de]=Se,$.h&&Ye($,de),Se):($=ie.a++,ie.c[$]=pe,-($+1))}function Oe(ie){if(ie.a===0)return Le(ie.b);var pe=ie.c[ie.d[ie.a-1]];if(ie.b.a!==0&&s(Me(ie.b),pe))return Le(ie.b);for(;--ie.a,0<ie.a&&ie.c[ie.d[ie.a-1]]===null;);return pe}function ue(){this.d=je([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function je(ie,pe){for(var $=Array(pe),de=0;de<ie.length;de++)$[de]=ie[de];for(;de<pe;de++)$[de]=0;return $}function Me(ie){return ie.e[ie.d[1]]}function Le(ie){var pe=ie.d,$=ie.e,de=ie.c,Se=pe[1],Ie=$[Se];return 0<ie.a&&(pe[1]=pe[ie.a],de[pe[1]]=1,$[Se]=null,de[Se]=ie.b,ie.b=Se,0<--ie.a&&qe(ie,1)),Ie}function qe(ie,pe){for(var $=ie.d,de=ie.e,Se=ie.c,Ie=pe,Ue=$[Ie];;){var et=Ie<<1,lt=(et<ie.a&&s(de[$[et+1]],de[$[et]])&&(et+=1),$[et]);if(et>ie.a||s(de[Ue],de[lt])){Se[$[Ie]=Ue]=Ie;break}Se[$[Ie]=lt]=Ie,Ie=et}}function Ye(ie,pe){for(var $=ie.d,de=ie.e,Se=ie.c,Ie=pe,Ue=$[Ie];;){var et=Ie>>1,lt=$[et];if(et==0||s(de[lt],de[Ue])){Se[$[Ie]=Ue]=Ie;break}Se[$[Ie]=lt]=Ie,Ie=et}}function Ee(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function Xe(ie){return ie.e.c.b}function De(ie){return ie.e.a.b}(o=le.prototype).x=function(){ge(this,0)},o.B=function(ie,pe){switch(ie){case 100142:return;case 100140:switch(pe){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=pe)}break;case 100141:return void(this.m=!!pe);default:return void U(this,100900)}U(this,100901)},o.y=function(ie){switch(ie){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:U(this,100900)}return!1},o.A=function(ie,pe,$){this.j[0]=ie,this.j[1]=pe,this.j[2]=$},o.z=function(ie,pe){var $=pe||null;switch(ie){case 100100:case 100106:this.h=$;break;case 100104:case 100110:this.l=$;break;case 100101:case 100107:this.k=$;break;case 100102:case 100108:this.i=$;break;case 100103:case 100109:this.p=$;break;case 100105:case 100111:this.o=$;break;case 100112:this.r=$;break;default:U(this,100900)}},o.C=function(ie,pe){var $=!1,de=[0,0,0];ge(this,2);for(var Se=0;Se<3;++Se){var Ie=ie[Se];Ie<-1e150&&(Ie=-1e150,$=!0),1e150<Ie&&(Ie=1e150,$=!0),de[Se]=Ie}$&&U(this,100155),($=this.q)===null?h($=a(this.b),$.b):(l($),$=$.e),$.a.d=pe,$.a.g[0]=de[0],$.a.g[1]=de[1],$.a.g[2]=de[2],$.f=1,$.b.f=-1,this.q=$},o.u=function(ie){ge(this,0),this.d=1,this.b=new te,this.c=ie},o.t=function(){ge(this,1),this.d=2,this.q=null},o.v=function(){ge(this,2),this.d=1},o.w=function(){ge(this,1),this.d=0;var ie,pe,$=this.j[0],de=this.j[1],Se=this.j[2],Ie=!1,Ue=[$,de,Se];if($===0&&de===0&&Se===0){for(var de=[-2e150,-2e150,-2e150],et=[2e150,2e150,2e150],Se=[],lt=[],$=(Ie=this.b.c).e;$!==Ie;$=$.e)for(var it=0;it<3;++it){var ct=$.g[it];ct<et[it]&&(et[it]=ct,lt[it]=$),ct>de[it]&&(de[it]=ct,Se[it]=$)}if(de[1]-et[1]>de[$=0]-et[0]&&($=1),et[$=de[2]-et[2]>de[$]-et[$]?2:$]>=de[$])Ue[0]=0,Ue[1]=0,Ue[2]=1;else{for(et=lt[$],Se=Se[$],lt=[de=0,0,0],et=[et.g[0]-Se.g[0],et.g[1]-Se.g[1],et.g[2]-Se.g[2]],it=[0,0,0],$=Ie.e;$!==Ie;$=$.e)it[0]=$.g[0]-Se.g[0],it[1]=$.g[1]-Se.g[1],it[2]=$.g[2]-Se.g[2],lt[0]=et[1]*it[2]-et[2]*it[1],lt[1]=et[2]*it[0]-et[0]*it[2],lt[2]=et[0]*it[1]-et[1]*it[0],de<(ct=lt[0]*lt[0]+lt[1]*lt[1]+lt[2]*lt[2])&&(de=ct,Ue[0]=lt[0],Ue[1]=lt[1],Ue[2]=lt[2]);de<=0&&(Ue[0]=Ue[1]=Ue[2]=0,Ue[A(et)]=1)}Ie=!0}for(lt=A(Ue),$=this.b.c,de=(lt+1)%3,Se=(lt+2)%3,lt=0<Ue[lt]?1:-1,Ue=$.e;Ue!==$;Ue=Ue.e)Ue.b=Ue.g[de],Ue.a=lt*Ue.g[Se];if(Ie){for(Ue=0,$=(Ie=this.b.a).b;$!==Ie;$=$.b)if(!((de=$.a).f<=0))for(;Ue+=(de.a.b-de.b.a.b)*(de.a.a+de.b.a.a),(de=de.e)!==$.a;);if(Ue<0)for(Ie=(Ue=this.b.c).e;Ie!==Ue;Ie=Ie.e)Ie.a=-Ie.a}for(this.n=!1,Ue=this.b.b,$=Ue.h;$!==Ue;$=Ie)Ie=$.h,de=$.e,d($.a,$.b.a)&&$.e.e!==$&&(M(this,de,$),u($),de=($=de).e),de.e===$&&(de!==$&&(de!==Ie&&de!==Ie.b||(Ie=Ie.h),u(de)),$!==Ie&&$!==Ie.b||(Ie=Ie.h),u($));for(this.e=Ue=new ae,Ie=this.b.c,$=Ie.e;$!==Ie;$=$.e)$.h=_e(Ue,$);var Ct=Ue;Ct.d=[];for(var wt=0;wt<Ct.a;wt++)Ct.d[wt]=wt;Ct.d.sort(function(kt){return function(Gt,Wr){return s(kt[Gt],kt[Wr])?1:-1}}(Ct.c)),Ct.e=!0;for(var ht=Ct.b,bt=ht.a;1<=bt;--bt)qe(ht,bt);for(ht.h=!0,this.f=new ce(this),ne(this,-4e150),ne(this,4e150);(Ue=Oe(this.e))!==null;){for(;;){e:if(($=this.e).a===0)Ie=Me($.b);else if(Ie=$.c[$.d[$.a-1]],$.b.a!==0&&s($=Me($.b),Ie)){Ie=$;break e}if(Ie===null||!d(Ie,Ue))break;Ie=Oe(this.e),M(this,Ue.c,Ie.c)}(function kt(Gt,Wr){for(var Qt,Wt=(Gt.a=Wr).c;Wt.i===null;)if((Wt=Wt.c)===Wr.c){var Wt=Gt,It=Wr;(Xt=new Ee).a=It.c.b;for(var wr=(Rt=Wt.f).a;(wr=wr.a).b!==null&&!Rt.c(Rt.b,Xt,wr.b););var Rt,ur,Mr=Xe(Rt=wr.b),Xt=Rt.a,wr=Mr.a;return void(y(Xt.b.a,It,Xt.a)===0?d((Xt=Rt.a).a,It)||d(Xt.b.a,It)||(l(Xt.b),Rt.c&&(u(Xt.c),Rt.c=!1),h(It.c,Xt),kt(Wt,It)):(ur=s(wr.b.a,Xt.b.a)?Rt:Mr,Mr=void 0,Rt.d||ur.c?(Mr=ur===Rt?g(It.c.b,Xt.e):g(wr.b.c.b,It.c).b,ur.c?N(ur,Mr):((Rt=G(Xt=Wt,Rt,Mr)).f=De(Rt).f+Rt.a.f,Rt.d=W(Xt,Rt.f)),kt(Wt,It)):Y(Wt,Rt,It.c,It.c,null,!0)))}Rt=(Xt=Xe(Wt=z(Wt.i))).a,(Xt=Z(Gt,Xt,null)).c===Rt?(Xt=(Rt=Xt).c,wr=Xe(Wt),Mr=Wt.a,ur=wr.a,Qt=!1,Mr.b.a!==ur.b.a&&X(Gt,Wt),d(Mr.a,Gt.a)&&(h(Xt.b.e,Mr),Xt=Xe(Wt=z(Wt)).a,Z(Gt,Xe(Wt),wr),Qt=!0),d(ur.a,Gt.a)&&(h(Rt,ur.b.e),Rt=Z(Gt,wr,null),Qt=!0),Qt?Y(Gt,Wt,Rt.c,Xt,Xt,!0):(It=s(ur.a,Mr.a)?ur.b.e:Mr,Y(Gt,Wt,It=g(Rt.c.b,It),It.c,It.c,!1),It.b.i.c=!0,re(Gt,Wt))):Y(Gt,Wt,Xt.c,Rt,Rt,!0)})(this,Ue)}for(this.a=this.f.a.a.b.a.a,Ue=0;(Ie=this.f.a.a.b)!==null;)Ie.h||++Ue,I(Ie);for(this.f=null,(Ue=this.e).b=null,Ue.d=null,this.e=Ue.c=null,Ue=this.b,$=Ue.a.b;$!==Ue.a;$=Ie)Ie=$.b,($=$.a).e.e===$&&(P($.c,$),u($));if(!this.n){if(Ue=this.b,this.m)for($=Ue.b.h;$!==Ue.b;$=Ie)Ie=$.h,$.b.d.c!==$.d.c?$.f=$.d.c?1:-1:u($);else for($=Ue.a.b;$!==Ue.a;$=Ie)if(Ie=$.b,$.c){for($=$.a;s($.b.a,$.a);$=$.c.b);for(;s($.a,$.b.a);$=$.e);for(de=$.c.b,Se=void 0;$.e!==de;)if(s($.b.a,de.a)){for(;de.e!==$&&(s((pe=de.e).b.a,pe.a)||y(de.a,de.b.a,de.e.b.a)<=0);)de=(Se=g(de.e,de)).b;de=de.c.b}else{for(;de.e!==$&&(s((ie=$.c.b).a,ie.b.a)||0<=y($.b.a,$.a,$.c.b.a));)$=(Se=g($,$.c.b)).b;$=$.e}for(;de.e.e!==$;)Se=g(de.e,de),de=Se.b}if(this.h||this.i||this.k||this.l)if(this.m){for(Ie=(Ue=this.b).a.b;Ie!==Ue.a;Ie=Ie.b)if(Ie.c){for(this.h&&this.h(2,this.c),$=Ie.a;this.k&&this.k($.a.d,this.c),($=$.e)!==Ie.a;);this.i&&this.i(this.c)}}else{for(Ue=this.b,Ie=!!this.l,$=!1,de=-1,Se=Ue.a.d;Se!==Ue.a;Se=Se.d)if(Se.c)for($||(this.h&&this.h(4,this.c),$=!0),lt=Se.a;Ie&&(et=lt.b.d.c?0:1,de!==et&&(de=et,this.l&&this.l(!!de,this.c))),this.k&&this.k(lt.a.d,this.c),(lt=lt.e)!==Se.a;);$&&this.i&&this.i(this.c)}if(this.r){for(Ue=this.b,$=Ue.a.b;$!==Ue.a;$=Ie)if(Ie=$.b,!$.c){for(Se=(de=$.a).e,lt=void 0;Se=(lt=Se).e,(lt.d=null)===lt.b.d&&(lt.c===lt?C(lt.a,null):(lt.a.c=lt.c,x(lt,lt.b.e)),(et=lt.b).c===et?C(et.a,null):(et.a.c=et.c,x(et,et.b.e)),j(lt)),lt!==de;);de=$.d,(($=$.b).d=de).b=$}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:le,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},le.prototype.gluDeleteTess=le.prototype.x,le.prototype.gluTessProperty=le.prototype.B,le.prototype.gluGetTessProperty=le.prototype.y,le.prototype.gluTessNormal=le.prototype.A,le.prototype.gluTessCallback=le.prototype.z,le.prototype.gluTessVertex=le.prototype.C,le.prototype.gluTessBeginPolygon=le.prototype.u,le.prototype.gluTessBeginContour=le.prototype.t,le.prototype.gluTessEndContour=le.prototype.v,le.prototype.gluTessEndPolygon=le.prototype.w,S!==void 0&&(S.exports=this.libtess)},{}],256:[function(t,S,b){function o(s,p,y,m){var n=0,r=(m=m===void 0?{}:m).loop===void 0?null:m.loop,c=m.palette===void 0?null:m.palette;if(p<=0||y<=0||65535<p||65535<y)throw new Error("Width/Height invalid.");function a(E){if(E=E.length,E<2||256<E||E&E-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return E}s[n++]=71,s[n++]=73,s[n++]=70,s[n++]=56,s[n++]=57,s[n++]=97;var h=0,u=0;if(c!==null){for(var l=a(c);l>>=1;)++h;if(l=1<<h,--h,m.background!==void 0){if(l<=(u=m.background))throw new Error("Background index out of range.");if(u===0)throw new Error("Background index explicitly passed as 0.")}}if(s[n++]=255&p,s[n++]=p>>8&255,s[n++]=255&y,s[n++]=y>>8&255,s[n++]=(c!==null?128:0)|h,s[n++]=u,s[n++]=0,c!==null)for(var g=0,v=c.length;g<v;++g){var x=c[g];s[n++]=x>>16&255,s[n++]=x>>8&255,s[n++]=255&x}if(r!==null){if(r<0||65535<r)throw new Error("Loop count invalid.");s[n++]=33,s[n++]=255,s[n++]=11,s[n++]=78,s[n++]=69,s[n++]=84,s[n++]=83,s[n++]=67,s[n++]=65,s[n++]=80,s[n++]=69,s[n++]=50,s[n++]=46,s[n++]=48,s[n++]=3,s[n++]=1,s[n++]=255&r,s[n++]=r>>8&255,s[n++]=0}var k=!1;this.addFrame=function(E,j,C,L,A,P){if(k===!0&&(--n,k=!1),P=P===void 0?{}:P,E<0||j<0||65535<E||65535<j)throw new Error("x/y invalid.");if(C<=0||L<=0||65535<C||65535<L)throw new Error("Width/Height invalid.");if(A.length<C*L)throw new Error("Not enough pixels for the frame size.");var R=!0,I=P.palette;if(I==null&&(R=!1,I=c),I==null)throw new Error("Must supply either a local or global palette.");for(var z=a(I),N=0;z>>=1;)++N;var z=1<<N,G=P.delay===void 0?0:P.delay,W=P.disposal===void 0?0:P.disposal;if(W<0||3<W)throw new Error("Disposal out of range.");var H=!1,Z=0;if(P.transparent!==void 0&&P.transparent!==null&&(H=!0,(Z=P.transparent)<0||z<=Z))throw new Error("Transparent color index.");if(W===0&&!H&&G===0||(s[n++]=33,s[n++]=249,s[n++]=4,s[n++]=W<<2|(H===!0?1:0),s[n++]=255&G,s[n++]=G>>8&255,s[n++]=Z,s[n++]=0),s[n++]=44,s[n++]=255&E,s[n++]=E>>8&255,s[n++]=255&j,s[n++]=j>>8&255,s[n++]=255&C,s[n++]=C>>8&255,s[n++]=255&L,s[n++]=L>>8&255,s[n++]=R===!0?128|N-1:0,R===!0)for(var Y=0,Q=I.length;Y<Q;++Y){var M=I[Y];s[n++]=M>>16&255,s[n++]=M>>8&255,s[n++]=255&M}return n=function(B,V,X,re){B[V++]=X;var ne=V++,ce=1<<X,be=ce-1,he=1+ce,le=1+he,ge=X+1,U=0,oe=0;function fe(Le){for(;Le<=U;)B[V++]=255&oe,oe>>=8,U-=8,V===ne+256&&(B[ne]=255,ne=V++)}function te(Le){oe|=Le<<U,U+=ge,fe(8)}var ee=re[0]&be,ae={};te(ce);for(var _e=1,Oe=re.length;_e<Oe;++_e){var ue=re[_e]&be,je=ee<<8|ue,Me=ae[je];if(Me===void 0){for(oe|=ee<<U,U+=ge;8<=U;)B[V++]=255&oe,oe>>=8,U-=8,V===ne+256&&(B[ne]=255,ne=V++);le===4096?(te(ce),le=1+he,ge=X+1,ae={}):(1<<ge<=le&&++ge,ae[je]=le++),ee=ue}else ee=Me}return te(ee),te(he),fe(1),ne+1===V?B[ne]=0:(B[ne]=V-ne-1,B[V++]=0),V}(s,n,N<2?2:N,A)},this.end=function(){return k===!1&&(s[n++]=59,k=!0),n},this.getOutputBuffer=function(){return s},this.setOutputBuffer=function(E){s=E},this.getOutputBufferPosition=function(){return n},this.setOutputBufferPosition=function(E){n=E}}function d(s,p,y,m){for(var n=s[p++],r=1<<n,c=1+r,a=1+c,h=n+1,u=(1<<h)-1,l=0,g=0,v=0,x=s[p++],k=new Int32Array(4096),E=null;;){for(;l<16&&x!==0;)g|=s[p++]<<l,l+=8,x===1?x=s[p++]:--x;if(l<h)break;var j=g&u;if(g>>=h,l-=h,j==r)a=1+c,u=(1<<(h=n+1))-1,E=null;else{if(j==c)break;for(var C=j<a?j:E,L=0,A=C;r<A;)A=k[A]>>8,++L;var P=A;if(m<v+L+(C!==j?1:0))return void console.log("Warning, gif stream longer than expected.");y[v++]=P;var R=v+=L;for(C!==j&&(y[v++]=P),A=C;L--;)A=k[A],y[--R]=255&A,A>>=8;E!==null&&a<4096&&(k[a++]=E<<8|P,u+1<=a&&h<12&&(++h,u=u<<1|1)),E=j}}v!==m&&console.log("Warning, gif stream shorter than expected.")}try{b.GifWriter=o,b.GifReader=function(s){var p=0;if(s[p++]!==71||s[p++]!==73||s[p++]!==70||s[p++]!==56||(s[p++]+1&253)!=56||s[p++]!==97)throw new Error("Invalid GIF 87a/89a header.");var y=s[p++]|s[p++]<<8,m=s[p++]|s[p++]<<8,n=s[p++],r=1<<1+(7&n),c=(s[p++],s[p++],null),a=null,h=(n>>7&&(c=p,p+=3*(a=r)),!0),u=[],l=0,g=null,v=0,x=null;for(this.width=y,this.height=m;h&&p<s.length;)switch(s[p++]){case 33:switch(s[p++]){case 255:if(s[p]!==11||s[p+1]==78&&s[p+2]==69&&s[p+3]==84&&s[p+4]==83&&s[p+5]==67&&s[p+6]==65&&s[p+7]==80&&s[p+8]==69&&s[p+9]==50&&s[p+10]==46&&s[p+11]==48&&s[p+12]==3&&s[p+13]==1&&s[p+16]==0)p+=14,x=s[p++]|s[p++]<<8,p++;else for(p+=12;;){if(!(0<=(E=s[p++])))throw Error("Invalid block size");if(E===0)break;p+=E}break;case 249:if(s[p++]!==4||s[p+4]!==0)throw new Error("Invalid graphics extension block.");var k=s[p++],l=s[p++]|s[p++]<<8,g=s[p++];(1&k)==0&&(g=null),v=k>>2&7,p++;break;case 254:for(;;){if(!(0<=(E=s[p++])))throw Error("Invalid block size");if(E===0)break;p+=E}break;default:throw new Error("Unknown graphic control label: 0x"+s[p-1].toString(16))}break;case 44:var E,j=s[p++]|s[p++]<<8,C=s[p++]|s[p++]<<8,L=s[p++]|s[p++]<<8,A=s[p++]|s[p++]<<8,G=s[p++],P=G>>6&1,R=1<<1+(7&G),I=c,N=a,z=!1,G=(G>>7&&(z=!0,I=p,p+=3*(N=R)),p);for(p++;;){if(!(0<=(E=s[p++])))throw Error("Invalid block size");if(E===0)break;p+=E}u.push({x:j,y:C,width:L,height:A,has_local_palette:z,palette_offset:I,palette_size:N,data_offset:G,data_length:p-G,transparent_index:g,interlaced:!!P,delay:l,disposal:v});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+s[p-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return x},this.frameInfo=function(W){if(W<0||W>=u.length)throw new Error("Frame index out of range.");return u[W]},this.decodeAndBlitFrameBGRA=function(W,H){for(var W=this.frameInfo(W),Z=W.width*W.height,Y=new Uint8Array(Z),Q=(d(s,W.data_offset,Y,Z),W.palette_offset),M=W.transparent_index,B=(M===null&&(M=256),W.width),V=y-B,X=B,re=4*(W.y*y+W.x),ne=4*((W.y+W.height)*y+W.x),ce=re,be=4*V,he=(W.interlaced===!0&&(be+=4*y*7),8),le=0,ge=Y.length;le<ge;++le){var U,oe,fe=Y[le];X===0&&(X=B,ne<=(ce+=be)&&(be=4*V+4*y*(he-1),ce=re+(B+V)*(he<<1),he>>=1)),fe===M?ce+=4:(U=s[Q+3*fe],oe=s[Q+3*fe+1],fe=s[Q+3*fe+2],H[ce++]=fe,H[ce++]=oe,H[ce++]=U,H[ce++]=255),--X}},this.decodeAndBlitFrameRGBA=function(W,H){for(var W=this.frameInfo(W),Z=W.width*W.height,Y=new Uint8Array(Z),Q=(d(s,W.data_offset,Y,Z),W.palette_offset),M=W.transparent_index,B=(M===null&&(M=256),W.width),V=y-B,X=B,re=4*(W.y*y+W.x),ne=4*((W.y+W.height)*y+W.x),ce=re,be=4*V,he=(W.interlaced===!0&&(be+=4*y*7),8),le=0,ge=Y.length;le<ge;++le){var U,oe,fe=Y[le];X===0&&(X=B,ne<=(ce+=be)&&(be=4*V+4*y*(he-1),ce=re+(B+V)*(he<<1),he>>=1)),fe===M?ce+=4:(U=s[Q+3*fe],oe=s[Q+3*fe+1],fe=s[Q+3*fe+2],H[ce++]=U,H[ce++]=oe,H[ce++]=fe,H[ce++]=255),--X}}}}catch{}},{}],257:[function(t,S,b){(function(o){var d,s;d=this,s=function(p){function y(q){if(this==null)throw TypeError();var O,D=String(this),F=D.length,q=q?Number(q):0;if(!((q=q!=q?0:q)<0||F<=q))return 55296<=(O=D.charCodeAt(q))&&O<=56319&&q+1<F&&56320<=(F=D.charCodeAt(q+1))&&F<=57343?1024*(O-55296)+F-56320+65536:O}String.prototype.codePointAt||((m=function(){try{var _={},O=Object.defineProperty,D=O(_,_,_)&&O}catch{}return D}())?m(String.prototype,"codePointAt",{value:y,configurable:!0,writable:!0}):String.prototype.codePointAt=y);var m,n=0,r=-3;function c(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function a(_,O){this.source=_,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=O,this.destLen=0,this.ltree=new c,this.dtree=new c}var h=new c,u=new c,l=new Uint8Array(30),g=new Uint16Array(30),v=new Uint8Array(30),x=new Uint16Array(30),k=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),E=new c,j=new Uint8Array(320);function C(_,O,D,F){for(var q,K=0;K<D;++K)_[K]=0;for(K=0;K<30-D;++K)_[K+D]=K/D|0;for(q=F,K=0;K<30;++K)O[K]=q,q+=1<<_[K]}var L=new Uint16Array(16);function A(_,O,D,F){for(var q,K=0;K<16;++K)_.table[K]=0;for(K=0;K<F;++K)_.table[O[D+K]]++;for(K=q=_.table[0]=0;K<16;++K)L[K]=q,q+=_.table[K];for(K=0;K<F;++K)O[D+K]&&(_.trans[L[O[D+K]]++]=K)}function P(_,O,D){if(!O)return D;for(;_.bitcount<24;)_.tag|=_.source[_.sourceIndex++]<<_.bitcount,_.bitcount+=8;var F=_.tag&65535>>>16-O;return _.tag>>>=O,_.bitcount-=O,F+D}function R(_,O){for(;_.bitcount<24;)_.tag|=_.source[_.sourceIndex++]<<_.bitcount,_.bitcount+=8;for(var D=0,F=0,q=0,K=_.tag;F=2*F+(1&K),K>>>=1,D+=O.table[++q],0<=(F-=O.table[q]););return _.tag=K,_.bitcount-=q,O.trans[D+F]}function I(_,O,D){for(;;){var F=R(_,O);if(F===256)return n;if(F<256)_.dest[_.destLen++]=F;else for(var q,K=P(_,l[F-=257],g[F]),F=R(_,D),J=q=_.destLen-P(_,v[F],x[F]);J<q+K;++J)_.dest[_.destLen++]=_.dest[J]}}for(var N=h,z=u,G=0;G<7;++G)N.table[G]=0;for(N.table[7]=24,N.table[8]=152,N.table[9]=112,G=0;G<24;++G)N.trans[G]=256+G;for(G=0;G<144;++G)N.trans[24+G]=G;for(G=0;G<8;++G)N.trans[168+G]=280+G;for(G=0;G<112;++G)N.trans[176+G]=144+G;for(G=0;G<5;++G)z.table[G]=0;for(z.table[5]=32,G=0;G<32;++G)z.trans[G]=G;C(l,g,4,3),C(v,x,2,1),l[28]=0,g[28]=258;var W=function(_,O){var D,F,q,K=new a(_,O);do{switch(q=void 0,(F=K).bitcount--||(F.tag=F.source[F.sourceIndex++],F.bitcount=7),q=1&F.tag,F.tag>>>=1,F=q,P(K,2,0)){case 0:D=function(Ge){for(var St,Ot;8<Ge.bitcount;)Ge.sourceIndex--,Ge.bitcount-=8;if((St=256*Ge.source[Ge.sourceIndex+1]+Ge.source[Ge.sourceIndex])!==(65535&~(256*Ge.source[Ge.sourceIndex+3]+Ge.source[Ge.sourceIndex+2])))return r;for(Ge.sourceIndex+=4,Ot=St;Ot;--Ot)Ge.dest[Ge.destLen++]=Ge.source[Ge.sourceIndex++];return Ge.bitcount=0,n}(K);break;case 1:D=I(K,h,u);break;case 2:Ze=We=rt=Ve=J=ke=Ne=ze=Re=xe=we=me=void 0;for(var J,me=K,we=K.ltree,xe=K.dtree,Re=P(me,5,257),ze=P(me,5,1),Ne=P(me,4,4),ke=0;ke<19;++ke)j[ke]=0;for(ke=0;ke<Ne;++ke){var rt=P(me,3,0);j[k[ke]]=rt}for(A(E,j,0,19),J=0;J<Re+ze;){var We=R(me,E);switch(We){case 16:for(var Ze=j[J-1],Ve=P(me,2,3);Ve;--Ve)j[J++]=Ze;break;case 17:for(Ve=P(me,3,3);Ve;--Ve)j[J++]=0;break;case 18:for(Ve=P(me,7,11);Ve;--Ve)j[J++]=0;break;default:j[J++]=We}}A(we,j,0,Re),A(xe,j,Re,ze),D=I(K,K.ltree,K.dtree);break;default:D=r}if(D!==n)throw new Error("Data error")}while(!F);return K.destLen<K.dest.length?typeof K.dest.slice=="function"?K.dest.slice(0,K.destLen):K.dest.subarray(0,K.destLen):K.dest};function H(_,O,D,F,q){return Math.pow(1-q,3)*_+3*Math.pow(1-q,2)*q*O+3*(1-q)*Math.pow(q,2)*D+Math.pow(q,3)*F}function Z(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function Y(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function Q(_){throw new Error(_)}function M(_,O){_||Q(O)}Z.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},Z.prototype.addPoint=function(_,O){typeof _=="number"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=_,this.x2=_),_<this.x1&&(this.x1=_),_>this.x2&&(this.x2=_)),typeof O=="number"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=O,this.y2=O),O<this.y1&&(this.y1=O),O>this.y2&&(this.y2=O))},Z.prototype.addX=function(_){this.addPoint(_,null)},Z.prototype.addY=function(_){this.addPoint(null,_)},Z.prototype.addBezier=function(_,O,D,F,q,K,J,me){var we=[_,O],xe=[D,F],Re=[q,K],ze=[J,me];this.addPoint(_,O),this.addPoint(J,me);for(var Ne=0;Ne<=1;Ne++){var ke,rt=6*we[Ne]-12*xe[Ne]+6*Re[Ne],We=-3*we[Ne]+9*xe[Ne]-9*Re[Ne]+3*ze[Ne],Ze=3*xe[Ne]-3*we[Ne];We==0?rt==0||0<(ke=-Ze/rt)&&ke<1&&(Ne===0&&this.addX(H(we[Ne],xe[Ne],Re[Ne],ze[Ne],ke)),Ne===1&&this.addY(H(we[Ne],xe[Ne],Re[Ne],ze[Ne],ke))):(ke=Math.pow(rt,2)-4*Ze*We)<0||(0<(Ze=(-rt+Math.sqrt(ke))/(2*We))&&Ze<1&&(Ne===0&&this.addX(H(we[Ne],xe[Ne],Re[Ne],ze[Ne],Ze)),Ne===1&&this.addY(H(we[Ne],xe[Ne],Re[Ne],ze[Ne],Ze))),0<(Ze=(-rt-Math.sqrt(ke))/(2*We))&&Ze<1&&(Ne===0&&this.addX(H(we[Ne],xe[Ne],Re[Ne],ze[Ne],Ze)),Ne===1&&this.addY(H(we[Ne],xe[Ne],Re[Ne],ze[Ne],Ze))))}},Z.prototype.addQuad=function(_,O,D,F,q,K){D=_+2/3*(D-_),F=O+2/3*(F-O),this.addBezier(_,O,D,F,D+1/3*(q-_),F+1/3*(K-O),q,K)},Y.prototype.moveTo=function(_,O){this.commands.push({type:"M",x:_,y:O})},Y.prototype.lineTo=function(_,O){this.commands.push({type:"L",x:_,y:O})},Y.prototype.curveTo=Y.prototype.bezierCurveTo=function(_,O,D,F,q,K){this.commands.push({type:"C",x1:_,y1:O,x2:D,y2:F,x:q,y:K})},Y.prototype.quadTo=Y.prototype.quadraticCurveTo=function(_,O,D,F){this.commands.push({type:"Q",x1:_,y1:O,x:D,y:F})},Y.prototype.close=Y.prototype.closePath=function(){this.commands.push({type:"Z"})},Y.prototype.extend=function(_){var O;if(_.commands)_=_.commands;else if(_ instanceof Z)return O=_,this.moveTo(O.x1,O.y1),this.lineTo(O.x2,O.y1),this.lineTo(O.x2,O.y2),this.lineTo(O.x1,O.y2),void this.close();Array.prototype.push.apply(this.commands,_)},Y.prototype.getBoundingBox=function(){for(var _=new Z,O=0,D=0,F=0,q=0,K=0;K<this.commands.length;K++){var J=this.commands[K];switch(J.type){case"M":_.addPoint(J.x,J.y),O=F=J.x,D=q=J.y;break;case"L":_.addPoint(J.x,J.y),F=J.x,q=J.y;break;case"Q":_.addQuad(F,q,J.x1,J.y1,J.x,J.y),F=J.x,q=J.y;break;case"C":_.addBezier(F,q,J.x1,J.y1,J.x2,J.y2,J.x,J.y),F=J.x,q=J.y;break;case"Z":F=O,q=D;break;default:throw new Error("Unexpected path command "+J.type)}}return _.isEmpty()&&_.addPoint(0,0),_},Y.prototype.draw=function(_){_.beginPath();for(var O=0;O<this.commands.length;O+=1){var D=this.commands[O];D.type==="M"?_.moveTo(D.x,D.y):D.type==="L"?_.lineTo(D.x,D.y):D.type==="C"?_.bezierCurveTo(D.x1,D.y1,D.x2,D.y2,D.x,D.y):D.type==="Q"?_.quadraticCurveTo(D.x1,D.y1,D.x,D.y):D.type==="Z"&&_.closePath()}this.fill&&(_.fillStyle=this.fill,_.fill()),this.stroke&&(_.strokeStyle=this.stroke,_.lineWidth=this.strokeWidth,_.stroke())},Y.prototype.toPathData=function(_){function O(){for(var K=arguments,J="",me=0;me<arguments.length;me+=1){var we=K[me];0<=we&&0<me&&(J+=" "),J+=(we=we,Math.round(we)===we?""+Math.round(we):we.toFixed(_))}return J}_=_!==void 0?_:2;for(var D="",F=0;F<this.commands.length;F+=1){var q=this.commands[F];q.type==="M"?D+="M"+O(q.x,q.y):q.type==="L"?D+="L"+O(q.x,q.y):q.type==="C"?D+="C"+O(q.x1,q.y1,q.x2,q.y2,q.x,q.y):q.type==="Q"?D+="Q"+O(q.x1,q.y1,q.x,q.y):q.type==="Z"&&(D+="Z")}return D},Y.prototype.toSVG=function(_){var O=(O='<path d="')+this.toPathData(_)+'"';return this.fill&&this.fill!=="black"&&(this.fill===null?O+=' fill="none"':O+=' fill="'+this.fill+'"'),this.stroke&&(O+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),O+="/>"},Y.prototype.toDOMElement=function(O){var O=this.toPathData(O),D=document.createElementNS("http://www.w3.org/2000/svg","path");return D.setAttribute("d",O),D};var B={fail:Q,argument:M,assert:M},V={},X={},re={};function ne(_){return function(){return _}}X.BYTE=function(_){return B.argument(0<=_&&_<=255,"Byte value should be between 0 and 255."),[_]},re.BYTE=ne(1),X.CHAR=function(_){return[_.charCodeAt(0)]},re.CHAR=ne(1),X.CHARARRAY=function(_){for(var O=[],D=0;D<_.length;D+=1)O[D]=_.charCodeAt(D);return O},re.CHARARRAY=function(_){return _.length},X.USHORT=function(_){return[_>>8&255,255&_]},re.USHORT=ne(2),X.SHORT=function(_){return[(_=32768<=_?-(65536-_):_)>>8&255,255&_]},re.SHORT=ne(2),X.UINT24=function(_){return[_>>16&255,_>>8&255,255&_]},re.UINT24=ne(3),X.ULONG=function(_){return[_>>24&255,_>>16&255,_>>8&255,255&_]},re.ULONG=ne(4),X.LONG=function(_){return[(_=2147483648<=_?-(4294967296-_):_)>>24&255,_>>16&255,_>>8&255,255&_]},re.LONG=ne(4),X.FIXED=X.ULONG,re.FIXED=re.ULONG,X.FWORD=X.SHORT,re.FWORD=re.SHORT,X.UFWORD=X.USHORT,re.UFWORD=re.USHORT,X.LONGDATETIME=function(_){return[0,0,0,0,_>>24&255,_>>16&255,_>>8&255,255&_]},re.LONGDATETIME=ne(8),X.TAG=function(_){return B.argument(_.length===4,"Tag should be exactly 4 ASCII characters."),[_.charCodeAt(0),_.charCodeAt(1),_.charCodeAt(2),_.charCodeAt(3)]},re.TAG=ne(4),X.Card8=X.BYTE,re.Card8=re.BYTE,X.Card16=X.USHORT,re.Card16=re.USHORT,X.OffSize=X.BYTE,re.OffSize=re.BYTE,X.SID=X.USHORT,re.SID=re.USHORT,X.NUMBER=function(_){return-107<=_&&_<=107?[_+139]:108<=_&&_<=1131?[247+((_-=108)>>8),255&_]:-1131<=_&&_<=-108?[251+((_=-_-108)>>8),255&_]:-32768<=_&&_<=32767?X.NUMBER16(_):X.NUMBER32(_)},re.NUMBER=function(_){return X.NUMBER(_).length},X.NUMBER16=function(_){return[28,_>>8&255,255&_]},re.NUMBER16=ne(3),X.NUMBER32=function(_){return[29,_>>24&255,_>>16&255,_>>8&255,255&_]},re.NUMBER32=ne(5),X.REAL=function(_){for(var O=_.toString(),D=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(O),F=(D&&(D=parseFloat("1e"+((D[2]?+D[2]:0)+D[1].length)),O=(Math.round(_*D)/D).toString()),""),q=0,K=O.length;q<K;q+=1){var J=O[q];F+=J==="e"?O[++q]==="-"?"c":"b":J==="."?"a":J==="-"?"e":J}for(var me=[30],we=0,xe=(F+=1&F.length?"f":"ff").length;we<xe;we+=2)me.push(parseInt(F.substr(we,2),16));return me},re.REAL=function(_){return X.REAL(_).length},X.NAME=X.CHARARRAY,re.NAME=re.CHARARRAY,X.STRING=X.CHARARRAY,re.STRING=re.CHARARRAY,V.UTF8=function(_,O,D){for(var F=[],q=D,K=0;K<q;K++,O+=1)F[K]=_.getUint8(O);return String.fromCharCode.apply(null,F)},V.UTF16=function(_,O,D){for(var F=[],q=D/2,K=0;K<q;K++,O+=2)F[K]=_.getUint16(O);return String.fromCharCode.apply(null,F)},X.UTF16=function(_){for(var O=[],D=0;D<_.length;D+=1){var F=_.charCodeAt(D);O[O.length]=F>>8&255,O[O.length]=255&F}return O},re.UTF16=function(_){return 2*_.length};var ce,be={"x-mac-croatian":"","x-mac-cyrillic":"","x-mac-gaelic":"","x-mac-greek":"","x-mac-icelandic":"","x-mac-inuit":"","x-mac-ce":"",macintosh:"","x-mac-romanian":"","x-mac-turkish":""},he=(V.MACSTRING=function(_,O,D,F){var q=be[F];if(q!==void 0){for(var K="",J=0;J<D;J++){var me=_.getUint8(O+J);K+=me<=127?String.fromCharCode(me):q[127&me]}return K}},typeof WeakMap=="function"&&new WeakMap);function le(_){return-128<=_&&_<=127}X.MACSTRING=function(_,O){var D=function(J){if(!ce)for(var me in ce={},be)ce[me]=new String(me);var we=ce[J];if(we!==void 0){if(he){var xe=he.get(we);if(xe!==void 0)return xe}var Re=be[J];if(Re!==void 0){for(var ze={},Ne=0;Ne<Re.length;Ne++)ze[Re.charCodeAt(Ne)]=Ne+128;return he&&he.set(we,ze),ze}}}(O);if(D!==void 0){for(var F=[],q=0;q<_.length;q++){var K=_.charCodeAt(q);if(128<=K&&(K=D[K])===void 0)return;F[q]=K}return F}},re.MACSTRING=function(_,O){return _=X.MACSTRING(_,O),_!==void 0?_.length:0},X.VARDELTAS=function(_){for(var F=0,O=[];F<_.length;)var D=_[F],F=(D===0?function(q,K,J){for(var me=0,we=q.length;K<we&&me<64&&q[K]===0;)++K,++me;return J.push(128|me-1),K}:-128<=D&&D<=127?function(q,K,J){for(var me=0,we=q.length,xe=K;xe<we&&me<64;){var Re=q[xe];if(!le(Re)||Re===0&&xe+1<we&&q[xe+1]===0)break;++xe,++me}J.push(me-1);for(var ze=K;ze<xe;++ze)J.push(q[ze]+256&255);return xe}:function(q,K,J){for(var me=0,we=q.length,xe=K;xe<we&&me<64;){var Re=q[xe];if(Re===0||le(Re)&&xe+1<we&&le(q[xe+1]))break;++xe,++me}J.push(64|me-1);for(var ze=K;ze<xe;++ze){var Ne=q[ze];J.push(Ne+65536>>8&255,Ne+256&255)}return xe})(_,F,O);return O},X.INDEX=function(_){for(var O=1,D=[O],F=[],q=0;q<_.length;q+=1){var K=X.OBJECT(_[q]);Array.prototype.push.apply(F,K),O+=K.length,D.push(O)}if(F.length===0)return[0,0];for(var J=[],me=1+Math.floor(Math.log(O)/Math.log(2))/8|0,we=[void 0,X.BYTE,X.USHORT,X.UINT24,X.ULONG][me],xe=0;xe<D.length;xe+=1){var Re=we(D[xe]);Array.prototype.push.apply(J,Re)}return Array.prototype.concat(X.Card16(_.length),X.OffSize(me),J,F)},re.INDEX=function(_){return X.INDEX(_).length},X.DICT=function(_){for(var O=[],D=Object.keys(_),F=D.length,q=0;q<F;q+=1){var K=parseInt(D[q],0),J=_[K];O=(O=O.concat(X.OPERAND(J.value,J.type))).concat(X.OPERATOR(K))}return O},re.DICT=function(_){return X.DICT(_).length},X.OPERATOR=function(_){return _<1200?[_]:[12,_-1200]},X.OPERAND=function(_,O){var D=[];if(Array.isArray(O))for(var F=0;F<O.length;F+=1)B.argument(_.length===O.length,"Not enough arguments given for type"+O),D=D.concat(X.OPERAND(_[F],O[F]));else if(O==="SID")D=D.concat(X.NUMBER(_));else if(O==="offset")D=D.concat(X.NUMBER32(_));else if(O==="number")D=D.concat(X.NUMBER(_));else{if(O!=="real")throw new Error("Unknown operand type "+O);D=D.concat(X.REAL(_))}return D},X.OP=X.BYTE,re.OP=re.BYTE;var ge=typeof WeakMap=="function"&&new WeakMap;function U(_,O,D){for(var F=0;F<O.length;F+=1){var q=O[F];this[q.name]=q.value}if(this.tableName=_,this.fields=O,D)for(var K=Object.keys(D),J=0;J<K.length;J+=1){var me=K[J],we=D[me];this[me]!==void 0&&(this[me]=we)}}function oe(_,O,D){D===void 0&&(D=O.length);var F=new Array(O.length+1);F[0]={name:_+"Count",type:"USHORT",value:D};for(var q=0;q<O.length;q++)F[q+1]={name:_+q,type:"USHORT",value:O[q]};return F}function fe(_,O,D){var F=O.length,q=new Array(F+1);q[0]={name:_+"Count",type:"USHORT",value:F};for(var K=0;K<F;K++)q[K+1]={name:_+K,type:"TABLE",value:D(O[K],K)};return q}function te(_,O,D){var F=O.length,q=[];q[0]={name:_+"Count",type:"USHORT",value:F};for(var K=0;K<F;K++)q=q.concat(D(O[K],K));return q}function ee(_){_.format===1?U.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(oe("glyph",_.glyphs))):B.assert(!1,"Can't create coverage table format 2 yet.")}function ae(_){U.call(this,"scriptListTable",te("scriptRecord",_,function(O,D){var F=O.script,q=F.defaultLangSys;return B.assert(!!q,"Unable to write GSUB: script "+O.tag+" has no default language system."),[{name:"scriptTag"+D,type:"TAG",value:O.tag},{name:"script"+D,type:"TABLE",value:new U("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new U("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:q.reqFeatureIndex}].concat(oe("featureIndex",q.featureIndexes)))}].concat(te("langSys",F.langSysRecords,function(K,J){var me=K.langSys;return[{name:"langSysTag"+J,type:"TAG",value:K.tag},{name:"langSys"+J,type:"TABLE",value:new U("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:me.reqFeatureIndex}].concat(oe("featureIndex",me.featureIndexes)))}]})))}]}))}function _e(_){U.call(this,"featureListTable",te("featureRecord",_,function(O,D){var F=O.feature;return[{name:"featureTag"+D,type:"TAG",value:O.tag},{name:"feature"+D,type:"TABLE",value:new U("featureTable",[{name:"featureParams",type:"USHORT",value:F.featureParams}].concat(oe("lookupListIndex",F.lookupListIndexes)))}]}))}function Oe(_,O){U.call(this,"lookupListTable",fe("lookup",_,function(D){var F=O[D.lookupType];return B.assert(!!F,"Unable to write GSUB lookup type "+D.lookupType+" tables."),new U("lookupTable",[{name:"lookupType",type:"USHORT",value:D.lookupType},{name:"lookupFlag",type:"USHORT",value:D.lookupFlag}].concat(fe("subtable",D.subtables,F)))}))}X.CHARSTRING=function(_){if(ge){var O=ge.get(_);if(O!==void 0)return O}for(var K=[],D=_.length,F=0;F<D;F+=1)var q=_[F],K=K.concat(X[q.type](q.value));return ge&&ge.set(_,K),K},re.CHARSTRING=function(_){return X.CHARSTRING(_).length},X.OBJECT=function(_){var O=X[_.type];return B.argument(O!==void 0,"No encoding function for type "+_.type),O(_.value)},re.OBJECT=function(_){var O=re[_.type];return B.argument(O!==void 0,"No sizeOf function for type "+_.type),O(_.value)},X.TABLE=function(_){for(var O=[],D=_.fields.length,F=[],q=[],K=0;K<D;K+=1){var J=_.fields[K],we=X[J.type],me=(B.argument(we!==void 0,"No encoding function for field type "+J.type+" ("+J.name+")"),_[J.name]),we=we(me=me===void 0?J.value:me);J.type==="TABLE"?(q.push(O.length),O=O.concat([0,0]),F.push(we)):O=O.concat(we)}for(var xe=0;xe<F.length;xe+=1){var Re=q[xe],ze=O.length;B.argument(ze<65536,"Table "+_.tableName+" too big."),O[Re]=ze>>8,O[Re+1]=255&ze,O=O.concat(F[xe])}return O},re.TABLE=function(_){for(var O=0,D=_.fields.length,F=0;F<D;F+=1){var q=_.fields[F],K=re[q.type],J=(B.argument(K!==void 0,"No sizeOf function for field type "+q.type+" ("+q.name+")"),_[q.name]);O+=K(J=J===void 0?q.value:J),q.type==="TABLE"&&(O+=2)}return O},X.RECORD=X.TABLE,re.RECORD=re.TABLE,X.LITERAL=function(_){return _},re.LITERAL=function(_){return _.length},U.prototype.encode=function(){return X.TABLE(this)},U.prototype.sizeOf=function(){return re.TABLE(this)};var ue={Table:U,Record:U,Coverage:(ee.prototype=Object.create(U.prototype)).constructor=ee,ScriptList:(ae.prototype=Object.create(U.prototype)).constructor=ae,FeatureList:(_e.prototype=Object.create(U.prototype)).constructor=_e,LookupList:(Oe.prototype=Object.create(U.prototype)).constructor=Oe,ushortList:oe,tableList:fe,recordList:te};function je(_,O){return _.getUint8(O)}function Me(_,O){return _.getUint16(O,!1)}function Le(_,O){return _.getUint32(O,!1)}function qe(_,O){return _.getInt16(O,!1)+_.getUint16(O+2,!1)/65535}var Ye={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function Ee(_,O){this.data=_,this.offset=O,this.relativeOffset=0}Ee.prototype.parseByte=function(){var _=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,_},Ee.prototype.parseChar=function(){var _=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,_},Ee.prototype.parseCard8=Ee.prototype.parseByte,Ee.prototype.parseCard16=Ee.prototype.parseUShort=function(){var _=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,_},Ee.prototype.parseSID=Ee.prototype.parseUShort,Ee.prototype.parseOffset16=Ee.prototype.parseUShort,Ee.prototype.parseShort=function(){var _=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,_},Ee.prototype.parseF2Dot14=function(){var _=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,_},Ee.prototype.parseOffset32=Ee.prototype.parseULong=function(){var _=Le(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,_},Ee.prototype.parseFixed=function(){var _=qe(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,_},Ee.prototype.parseString=function(_){var O=this.data,D=this.offset+this.relativeOffset,F="";this.relativeOffset+=_;for(var q=0;q<_;q++)F+=String.fromCharCode(O.getUint8(D+q));return F},Ee.prototype.parseTag=function(){return this.parseString(4)},Ee.prototype.parseLongDateTime=function(){var _=Le(this.data,this.offset+this.relativeOffset+4);return _-=2082844800,this.relativeOffset+=8,_},Ee.prototype.parseVersion=function(_){var O=Me(this.data,this.offset+this.relativeOffset),D=Me(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,O+D/(_=_===void 0?4096:_)/10},Ee.prototype.skip=function(_,O){this.relativeOffset+=Ye[_]*(O=O===void 0?1:O)},Ee.prototype.parseULongList=function(_){_===void 0&&(_=this.parseULong());for(var O=new Array(_),D=this.data,F=this.offset+this.relativeOffset,q=0;q<_;q++)O[q]=D.getUint32(F),F+=4;return this.relativeOffset+=4*_,O},Ee.prototype.parseOffset16List=Ee.prototype.parseUShortList=function(_){_===void 0&&(_=this.parseUShort());for(var O=new Array(_),D=this.data,F=this.offset+this.relativeOffset,q=0;q<_;q++)O[q]=D.getUint16(F),F+=2;return this.relativeOffset+=2*_,O},Ee.prototype.parseShortList=function(_){for(var O=new Array(_),D=this.data,F=this.offset+this.relativeOffset,q=0;q<_;q++)O[q]=D.getInt16(F),F+=2;return this.relativeOffset+=2*_,O},Ee.prototype.parseByteList=function(_){for(var O=new Array(_),D=this.data,F=this.offset+this.relativeOffset,q=0;q<_;q++)O[q]=D.getUint8(F++);return this.relativeOffset+=_,O},Ee.prototype.parseList=function(_,O){O||(O=_,_=this.parseUShort());for(var D=new Array(_),F=0;F<_;F++)D[F]=O.call(this);return D},Ee.prototype.parseList32=function(_,O){O||(O=_,_=this.parseULong());for(var D=new Array(_),F=0;F<_;F++)D[F]=O.call(this);return D},Ee.prototype.parseRecordList=function(_,O){O||(O=_,_=this.parseUShort());for(var D=new Array(_),F=Object.keys(O),q=0;q<_;q++){for(var K={},J=0;J<F.length;J++){var me=F[J],we=O[me];K[me]=we.call(this)}D[q]=K}return D},Ee.prototype.parseRecordList32=function(_,O){O||(O=_,_=this.parseULong());for(var D=new Array(_),F=Object.keys(O),q=0;q<_;q++){for(var K={},J=0;J<F.length;J++){var me=F[J],we=O[me];K[me]=we.call(this)}D[q]=K}return D},Ee.prototype.parseStruct=function(_){if(typeof _=="function")return _.call(this);for(var O=Object.keys(_),D={},F=0;F<O.length;F++){var q=O[F],K=_[q];D[q]=K.call(this)}return D},Ee.prototype.parseValueRecord=function(_){var O;if((_=_===void 0?this.parseUShort():_)!==0)return O={},1&_&&(O.xPlacement=this.parseShort()),2&_&&(O.yPlacement=this.parseShort()),4&_&&(O.xAdvance=this.parseShort()),8&_&&(O.yAdvance=this.parseShort()),16&_&&(O.xPlaDevice=void 0,this.parseShort()),32&_&&(O.yPlaDevice=void 0,this.parseShort()),64&_&&(O.xAdvDevice=void 0,this.parseShort()),128&_&&(O.yAdvDevice=void 0,this.parseShort()),O},Ee.prototype.parseValueRecordList=function(){for(var _=this.parseUShort(),O=this.parseUShort(),D=new Array(O),F=0;F<O;F++)D[F]=this.parseValueRecord(_);return D},Ee.prototype.parsePointer=function(_){var O=this.parseOffset16();if(0<O)return new Ee(this.data,this.offset+O).parseStruct(_)},Ee.prototype.parsePointer32=function(_){var O=this.parseOffset32();if(0<O)return new Ee(this.data,this.offset+O).parseStruct(_)},Ee.prototype.parseListOfLists=function(_){for(var O=this.parseOffset16List(),D=O.length,F=this.relativeOffset,q=new Array(D),K=0;K<D;K++){var J=O[K];if(J===0)q[K]=void 0;else if(this.relativeOffset=J,_){for(var me=this.parseOffset16List(),we=new Array(me.length),xe=0;xe<me.length;xe++)this.relativeOffset=J+me[xe],we[xe]=_.call(this);q[K]=we}else q[K]=this.parseUShortList()}return this.relativeOffset=F,q},Ee.prototype.parseCoverage=function(){var _=this.offset+this.relativeOffset,O=this.parseUShort(),D=this.parseUShort();if(O===1)return{format:1,glyphs:this.parseUShortList(D)};if(O!==2)throw new Error("0x"+_.toString(16)+": Coverage format must be 1 or 2.");for(var F=new Array(D),q=0;q<D;q++)F[q]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:F}},Ee.prototype.parseClassDef=function(){var _=this.offset+this.relativeOffset,O=this.parseUShort();if(O===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(O===2)return{format:2,ranges:this.parseRecordList({start:Ee.uShort,end:Ee.uShort,classId:Ee.uShort})};throw new Error("0x"+_.toString(16)+": ClassDef format must be 1 or 2.")},Ee.list=function(_,O){return function(){return this.parseList(_,O)}},Ee.list32=function(_,O){return function(){return this.parseList32(_,O)}},Ee.recordList=function(_,O){return function(){return this.parseRecordList(_,O)}},Ee.recordList32=function(_,O){return function(){return this.parseRecordList32(_,O)}},Ee.pointer=function(_){return function(){return this.parsePointer(_)}},Ee.pointer32=function(_){return function(){return this.parsePointer32(_)}},Ee.tag=Ee.prototype.parseTag,Ee.byte=Ee.prototype.parseByte,Ee.uShort=Ee.offset16=Ee.prototype.parseUShort,Ee.uShortList=Ee.prototype.parseUShortList,Ee.uLong=Ee.offset32=Ee.prototype.parseULong,Ee.uLongList=Ee.prototype.parseULongList,Ee.struct=Ee.prototype.parseStruct,Ee.coverage=Ee.prototype.parseCoverage,Ee.classDef=Ee.prototype.parseClassDef;var Xe={reserved:Ee.uShort,reqFeatureIndex:Ee.uShort,featureIndexes:Ee.uShortList},De=(Ee.prototype.parseScriptList=function(){return this.parsePointer(Ee.recordList({tag:Ee.tag,script:Ee.pointer({defaultLangSys:Ee.pointer(Xe),langSysRecords:Ee.recordList({tag:Ee.tag,langSys:Ee.pointer(Xe)})})}))||[]},Ee.prototype.parseFeatureList=function(){return this.parsePointer(Ee.recordList({tag:Ee.tag,feature:Ee.pointer({featureParams:Ee.offset16,lookupListIndexes:Ee.uShortList})}))||[]},Ee.prototype.parseLookupList=function(_){return this.parsePointer(Ee.list(Ee.pointer(function(){var O=this.parseUShort(),D=(B.argument(1<=O&&O<=9,"GPOS/GSUB lookup type "+O+" unknown."),this.parseUShort()),F=16&D;return{lookupType:O,lookupFlag:D,subtables:this.parseList(Ee.pointer(_[O])),markFilteringSet:F?this.parseUShort():void 0}})))||[]},Ee.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var _=this.parseUShort(),O=this.parseUShort();return B.argument(_===1&&O<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:Ee.offset32,featureTableSubstitutionOffset:Ee.offset32})})||[]},{getByte:je,getCard8:je,getUShort:Me,getCard16:Me,getShort:function(_,O){return _.getInt16(O,!1)},getULong:Le,getFixed:qe,getTag:function(_,O){for(var D="",F=O;F<O+4;F+=1)D+=String.fromCharCode(_.getInt8(F));return D},getOffset:function(_,O,D){for(var F=0,q=0;q<D;q+=1)F=(F<<=8)+_.getUint8(O+q);return F},getBytes:function(_,O,D){for(var F=[],q=O;q<D;q+=1)F.push(_.getUint8(q));return F},bytesToString:function(_){for(var O="",D=0;D<_.length;D+=1)O+=String.fromCharCode(_[D]);return O},Parser:Ee}),ie={parse:function(_,O){for(var D={},F=(D.version=De.getUShort(_,O),B.argument(D.version===0,"cmap table version should be 0."),D.numTables=De.getUShort(_,O+2),-1),q=D.numTables-1;0<=q;--q){var K=De.getUShort(_,O+4+8*q),J=De.getUShort(_,O+4+8*q+2);if(K===3&&(J===0||J===1||J===10)||K===0&&(J===0||J===1||J===2||J===3||J===4)){F=De.getULong(_,O+4+8*q+4);break}}if(F===-1)throw new Error("No valid cmap sub-tables found.");var me=new De.Parser(_,O+F);if(D.format=me.parseUShort(),D.format===12){var we,xe=D,Re=me;Re.parseUShort(),xe.length=Re.parseULong(),xe.language=Re.parseULong(),xe.groupCount=we=Re.parseULong(),xe.glyphIndexMap={};for(var ze=0;ze<we;ze+=1)for(var Ne=Re.parseULong(),ke=Re.parseULong(),rt=Re.parseULong(),We=Ne;We<=ke;We+=1)xe.glyphIndexMap[We]=rt,rt++}else{if(D.format!==4)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+D.format+").");var Ze=D,Ve=_,Ge=O,St=F;Ze.length=me.parseUShort(),Ze.language=me.parseUShort(),Ze.segCount=Ot=me.parseUShort()>>1,me.skip("uShort",3),Ze.glyphIndexMap={};for(var Ot,jt=new De.Parser(Ve,Ge+St+14),Et=new De.Parser(Ve,Ge+St+16+2*Ot),Dt=new De.Parser(Ve,Ge+St+16+4*Ot),or=new De.Parser(Ve,Ge+St+16+6*Ot),br=Ge+St+16+8*Ot,Rr=0;Rr<Ot-1;Rr+=1)for(var sn=void 0,an=jt.parseUShort(),Ln=Et.parseUShort(),rr=Dt.parseShort(),ir=or.parseUShort(),Jt=Ln;Jt<=an;Jt+=1)ir!==0?(br=(br=or.offset+or.relativeOffset-2)+ir+2*(Jt-Ln),(sn=De.getUShort(Ve,br))!==0&&(sn=sn+rr&65535)):sn=Jt+rr&65535,Ze.glyphIndexMap[Jt]=sn}return D},make:function(_){for(var O=!0,D=_.length-1;0<D;--D)if(65535<_.get(D).unicode){console.log("Adding CMAP format 12 (needed!)"),O=!1;break}var F,q,K=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:O?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:O?12:20}],J=(K=(K=O?K:K.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])).concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),new ue.Table("cmap",K));for(J.segments=[],D=0;D<_.length;D+=1){for(var me=_.get(D),we=0;we<me.unicodes.length;we+=1)F=me.unicodes[we],q=D,J.segments.push({end:F,start:F,delta:-(F-q),offset:0,glyphIndex:q});J.segments=J.segments.sort(function(Ge,St){return Ge.start-St.start})}J.segments.push({end:65535,start:65535,delta:1,offset:0});var xe=J.segments.length,Re=0,ze=[],Ne=[],ke=[],rt=[],We=[],Ze=[];for(D=0;D<xe;D+=1){var Ve=J.segments[D];Ve.end<=65535&&Ve.start<=65535?(ze=ze.concat({name:"end_"+D,type:"USHORT",value:Ve.end}),Ne=Ne.concat({name:"start_"+D,type:"USHORT",value:Ve.start}),ke=ke.concat({name:"idDelta_"+D,type:"SHORT",value:Ve.delta}),rt=rt.concat({name:"idRangeOffset_"+D,type:"USHORT",value:Ve.offset}),Ve.glyphId!==void 0&&(We=We.concat({name:"glyph_"+D,type:"USHORT",value:Ve.glyphId}))):Re+=1,O||Ve.glyphIndex===void 0||(Ze=(Ze=(Ze=Ze.concat({name:"cmap12Start_"+D,type:"ULONG",value:Ve.start})).concat({name:"cmap12End_"+D,type:"ULONG",value:Ve.end})).concat({name:"cmap12Glyph_"+D,type:"ULONG",value:Ve.glyphIndex}))}return J.segCountX2=2*(xe-Re),J.searchRange=2*Math.pow(2,Math.floor(Math.log(xe-Re)/Math.log(2))),J.entrySelector=Math.log(J.searchRange/2)/Math.log(2),J.rangeShift=J.segCountX2-J.searchRange,J.fields=J.fields.concat(ze),J.fields.push({name:"reservedPad",type:"USHORT",value:0}),J.fields=J.fields.concat(Ne),J.fields=J.fields.concat(ke),J.fields=J.fields.concat(rt),J.fields=J.fields.concat(We),J.cmap4Length=14+2*ze.length+2+2*Ne.length+2*ke.length+2*rt.length+2*We.length,O||(K=16+4*Ze.length,J.cmap12Offset=20+J.cmap4Length,J.fields=J.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:K},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:Ze.length/3}]),J.fields=J.fields.concat(Ze)),J}},pe=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],$=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],de=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],Se=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function Ie(_){this.font=_}function Ue(_){this.cmap=_}function et(_,O){this.encoding=_,this.charset=O}function lt(_){switch(_.version){case 1:this.names=Se.slice();break;case 2:this.names=new Array(_.numberOfGlyphs);for(var O=0;O<_.numberOfGlyphs;O++)_.glyphNameIndex[O]<Se.length?this.names[O]=Se[_.glyphNameIndex[O]]:this.names[O]=_.names[_.glyphNameIndex[O]-Se.length];break;case 2.5:this.names=new Array(_.numberOfGlyphs);for(var D=0;D<_.numberOfGlyphs;D++)this.names[D]=Se[D+_.glyphNameIndex[D]];break;default:this.names=[]}}Ie.prototype.charToGlyphIndex=function(_){var O=_.codePointAt(0),D=this.font.glyphs;if(D){for(var F=0;F<D.length;F+=1)for(var q=D.get(F),K=0;K<q.unicodes.length;K+=1)if(q.unicodes[K]===O)return F}return null},Ue.prototype.charToGlyphIndex=function(_){return this.cmap.glyphIndexMap[_.codePointAt(0)]||0},et.prototype.charToGlyphIndex=function(_){return _=_.codePointAt(0),_=this.encoding[_],this.charset.indexOf(_)},lt.prototype.nameToGlyphIndex=function(_){return this.names.indexOf(_)},lt.prototype.glyphIndexToName=function(_){return this.names[_]};var it={line:function(_,O,D,F,q){_.beginPath(),_.moveTo(O,D),_.lineTo(F,q),_.stroke()}};function ct(_){this.bindConstructorValues(_)}function Ct(_,O,D){Object.defineProperty(_,O,{get:function(){return _.path,_[D]},set:function(F){_[D]=F},enumerable:!0,configurable:!0})}function wt(_,O){if(this.font=_,this.glyphs={},Array.isArray(O))for(var D=0;D<O.length;D++)this.glyphs[D]=O[D];this.length=O&&O.length||0}ct.prototype.bindConstructorValues=function(_){var O;this.index=_.index||0,this.name=_.name||null,this.unicode=_.unicode||void 0,this.unicodes=_.unicodes||_.unicode!==void 0?[_.unicode]:[],_.xMin&&(this.xMin=_.xMin),_.yMin&&(this.yMin=_.yMin),_.xMax&&(this.xMax=_.xMax),_.yMax&&(this.yMax=_.yMax),_.advanceWidth&&(this.advanceWidth=_.advanceWidth),Object.defineProperty(this,"path",(_=_.path,O=_||new Y,{configurable:!0,get:function(){return O=typeof O=="function"?O():O},set:function(D){O=D}}))},ct.prototype.addUnicode=function(_){this.unicodes.length===0&&(this.unicode=_),this.unicodes.push(_)},ct.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},ct.prototype.getPath=function(_,O,D,F,q){_=_!==void 0?_:0,O=O!==void 0?O:0,D=D!==void 0?D:72;for(var K,J,me=(F=F||{}).xScale,we=F.yScale,xe=((K=F.hinting&&q&&q.hinting?this.path&&q.hinting.exec(this,D):K)?(J=q.hinting.getCommands(K),_=Math.round(_),O=Math.round(O),me=we=1):(J=this.path.commands,F=1/this.path.unitsPerEm*D,me===void 0&&(me=F),we===void 0&&(we=F)),new Y),Re=0;Re<J.length;Re+=1){var ze=J[Re];ze.type==="M"?xe.moveTo(_+ze.x*me,O+-ze.y*we):ze.type==="L"?xe.lineTo(_+ze.x*me,O+-ze.y*we):ze.type==="Q"?xe.quadraticCurveTo(_+ze.x1*me,O+-ze.y1*we,_+ze.x*me,O+-ze.y*we):ze.type==="C"?xe.curveTo(_+ze.x1*me,O+-ze.y1*we,_+ze.x2*me,O+-ze.y2*we,_+ze.x*me,O+-ze.y*we):ze.type==="Z"&&xe.closePath()}return xe},ct.prototype.getContours=function(){if(this.points===void 0)return[];for(var _=[],O=[],D=0;D<this.points.length;D+=1){var F=this.points[D];O.push(F),F.lastPointOfContour&&(_.push(O),O=[])}return B.argument(O.length===0,"There are still points left in the current contour."),_},ct.prototype.getMetrics=function(){for(var _=this.path.commands,O=[],D=[],F=0;F<_.length;F+=1){var q=_[F];q.type!=="Z"&&(O.push(q.x),D.push(q.y)),q.type!=="Q"&&q.type!=="C"||(O.push(q.x1),D.push(q.y1)),q.type==="C"&&(O.push(q.x2),D.push(q.y2))}var K={xMin:Math.min.apply(null,O),yMin:Math.min.apply(null,D),xMax:Math.max.apply(null,O),yMax:Math.max.apply(null,D),leftSideBearing:this.leftSideBearing};return isFinite(K.xMin)||(K.xMin=0),isFinite(K.xMax)||(K.xMax=this.advanceWidth),isFinite(K.yMin)||(K.yMin=0),isFinite(K.yMax)||(K.yMax=0),K.rightSideBearing=this.advanceWidth-K.leftSideBearing-(K.xMax-K.xMin),K},ct.prototype.draw=function(_,O,D,F,q){this.getPath(O,D,F,q).draw(_)},ct.prototype.drawPoints=function(_,O,D,F){function q(Re,ze,Ne,ke){var rt=2*Math.PI;_.beginPath();for(var We=0;We<Re.length;We+=1)_.moveTo(ze+Re[We].x*ke,Ne+Re[We].y*ke),_.arc(ze+Re[We].x*ke,Ne+Re[We].y*ke,2,0,rt,!1);_.closePath(),_.fill()}O=O!==void 0?O:0,D=D!==void 0?D:0;for(var F=1/this.path.unitsPerEm*(F=F!==void 0?F:24),K=[],J=[],me=this.path,we=0;we<me.commands.length;we+=1){var xe=me.commands[we];xe.x!==void 0&&K.push({x:xe.x,y:-xe.y}),xe.x1!==void 0&&J.push({x:xe.x1,y:-xe.y1}),xe.x2!==void 0&&J.push({x:xe.x2,y:-xe.y2})}_.fillStyle="blue",q(K,O,D,F),_.fillStyle="red",q(J,O,D,F)},ct.prototype.drawMetrics=function(_,O,D,F){O=O!==void 0?O:0,D=D!==void 0?D:0,F=1/this.path.unitsPerEm*(F=F!==void 0?F:24),_.lineWidth=1,_.strokeStyle="black",it.line(_,O,-1e4,O,1e4),it.line(_,-1e4,D,1e4,D);var q=this.xMin||0,K=this.yMin||0,J=this.xMax||0,me=this.yMax||0,we=this.advanceWidth||0;_.strokeStyle="blue",it.line(_,O+q*F,-1e4,O+q*F,1e4),it.line(_,O+J*F,-1e4,O+J*F,1e4),it.line(_,-1e4,D+-K*F,1e4,D+-K*F),it.line(_,-1e4,D+-me*F,1e4,D+-me*F),_.strokeStyle="green",it.line(_,O+we*F,-1e4,O+we*F,1e4)},wt.prototype.get=function(_){return typeof this.glyphs[_]=="function"&&(this.glyphs[_]=this.glyphs[_]()),this.glyphs[_]},wt.prototype.push=function(_,O){this.glyphs[_]=O,this.length++};var ht={GlyphSet:wt,glyphLoader:function(_,O){return new ct({index:O,font:_})},ttfGlyphLoader:function(_,O,D,F,q,K){return function(){var J=new ct({index:O,font:_});return J.path=function(){D(J,F,q);var me=K(_.glyphs,J);return me.unitsPerEm=_.unitsPerEm,me},Ct(J,"xMin","_xMin"),Ct(J,"xMax","_xMax"),Ct(J,"yMin","_yMin"),Ct(J,"yMax","_yMax"),J}},cffGlyphLoader:function(_,O,D,F){return function(){var q=new ct({index:O,font:_});return q.path=function(){var K=D(_,q,F);return K.unitsPerEm=_.unitsPerEm,K},q}}};function bt(_){return _=_.length<1240?107:_.length<33900?1131:32768,_}function kt(_,O,D){var F,q=[],K=[],J=De.getCard16(_,O);if(J!==0){for(var me=De.getByte(_,O+2),we=O+(J+1)*me+2,xe=O+3,Re=0;Re<J+1;Re+=1)q.push(De.getOffset(_,xe,me)),xe+=me;F=we+q[J]}else F=O+2;for(var ze=0;ze<q.length-1;ze+=1){var Ne=De.getBytes(_,we+q[ze],we+q[ze+1]);D&&(Ne=D(Ne)),K.push(Ne)}return{objects:K,startOffset:O,endOffset:F}}function Gt(_,O){if(O===28)return _.parseByte()<<8|_.parseByte();if(O===29)return _.parseByte()<<24|_.parseByte()<<16|_.parseByte()<<8|_.parseByte();if(O===30){for(var D=_,F="",q=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var J=D.parseByte(),K=J>>4,J=15&J;if(K==15||(F+=q[K],J==15))break;F+=q[J]}return parseFloat(F)}if(32<=O&&O<=246)return O-139;if(247<=O&&O<=250)return 256*(O-247)+_.parseByte()+108;if(251<=O&&O<=254)return 256*-(O-251)-_.parseByte()-108;throw new Error("Invalid b0 "+O)}function Wr(_,O,D){var F=new De.Parser(_,O=O!==void 0?O:0),q=[],K=[];for(D=D!==void 0?D:_.length;F.relativeOffset<D;){var J=F.parseByte();J<=21?(J===12&&(J=1200+F.parseByte()),q.push([J,K]),K=[]):K.push(Gt(F,J))}for(var me=q,we={},xe=0;xe<me.length;xe+=1){var Re=me[xe][0],ze=me[xe][1],Ne=void 0,Ne=ze.length===1?ze[0]:ze;if(we.hasOwnProperty(Re)&&!isNaN(we[Re]))throw new Error("Object "+we+" already has key "+Re);we[Re]=Ne}return we}function Qt(_,O){return O=O<=390?pe[O]:_[O-391]}function Wt(_,O,D){for(var F,q={},K=0;K<O.length;K+=1){var J=O[K];if(Array.isArray(J.type)){var me=[];me.length=J.type.length;for(var we=0;we<J.type.length;we++)(F=_[J.op]!==void 0?_[J.op][we]:void 0)===void 0&&(F=J.value!==void 0&&J.value[we]!==void 0?J.value[we]:null),J.type[we]==="SID"&&(F=Qt(D,F)),me[we]=F;q[J.name]=me}else(F=_[J.op])===void 0&&(F=J.value!==void 0?J.value:null),J.type==="SID"&&(F=Qt(D,F)),q[J.name]=F}return q}var It=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],Rt=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function ur(_,O,D,F){return Wt(Wr(_,O,D),Rt,F)}function Mr(_,O,D,F){for(var q=[],K=0;K<D.length;K+=1){var J=new DataView(new Uint8Array(D[K]).buffer),J=(me=F,Wt(Wr(J,0,J.byteLength),It,me)),me=(J._subrs=[],J._subrsBias=0,J.private[0]),we=J.private[1];me!==0&&we!==0&&(me=ur(_,we+O,me,F),J._defaultWidthX=me.defaultWidthX,J._nominalWidthX=me.nominalWidthX,me.subrs!==0&&(we=kt(_,we+me.subrs+O),J._subrs=we.objects,J._subrsBias=bt(J._subrs)),J._privateDict=me),q.push(J)}return q}function Xt(_,O,D){var F,q,K,J,me,we,xe,Re,ze,Ne=new Y,ke=[],rt=0,We=!1,Ze=!1,Ve=0,Ge=0,St=(ze=(_.isCIDFont?(me=_.tables.cff.topDict._fdSelect[O.index],me=_.tables.cff.topDict._fdArray[me],we=me._subrs,xe=me._subrsBias,Re=me._defaultWidthX,me):(we=_.tables.cff.topDict._subrs,xe=_.tables.cff.topDict._subrsBias,Re=_.tables.cff.topDict._defaultWidthX,_.tables.cff.topDict))._nominalWidthX,Re);function Ot(Et,Dt){Ze&&Ne.closePath(),Ne.moveTo(Et,Dt),Ze=!0}function jt(){ke.length%2==0||We||(St=ke.shift()+ze),rt+=ke.length>>1,ke.length=0,We=!0}return function Et(Dt){for(var or,br,Rr,sn,an,Ln,rr,ir,Jt,ln,mr,Qr,ar=0;ar<Dt.length;){var $r=Dt[ar];switch(ar+=1,$r){case 1:case 3:jt();break;case 4:1<ke.length&&!We&&(St=ke.shift()+ze,We=!0),Ge+=ke.pop(),Ot(Ve,Ge);break;case 5:for(;0<ke.length;)Ve+=ke.shift(),Ge+=ke.shift(),Ne.lineTo(Ve,Ge);break;case 6:for(;0<ke.length&&(Ve+=ke.shift(),Ne.lineTo(Ve,Ge),ke.length!==0);)Ge+=ke.shift(),Ne.lineTo(Ve,Ge);break;case 7:for(;0<ke.length&&(Ge+=ke.shift(),Ne.lineTo(Ve,Ge),ke.length!==0);)Ve+=ke.shift(),Ne.lineTo(Ve,Ge);break;case 8:for(;0<ke.length;)F=Ve+ke.shift(),q=Ge+ke.shift(),K=F+ke.shift(),J=q+ke.shift(),Ve=K+ke.shift(),Ge=J+ke.shift(),Ne.curveTo(F,q,K,J,Ve,Ge);break;case 10:an=ke.pop()+xe,(Ln=we[an])&&Et(Ln);break;case 11:return;case 12:switch($r=Dt[ar],ar+=1,$r){case 35:F=Ve+ke.shift(),q=Ge+ke.shift(),K=F+ke.shift(),J=q+ke.shift(),rr=K+ke.shift(),ir=J+ke.shift(),Jt=rr+ke.shift(),ln=ir+ke.shift(),mr=Jt+ke.shift(),Qr=ln+ke.shift(),Ve=mr+ke.shift(),Ge=Qr+ke.shift(),ke.shift(),Ne.curveTo(F,q,K,J,rr,ir),Ne.curveTo(Jt,ln,mr,Qr,Ve,Ge);break;case 34:F=Ve+ke.shift(),q=Ge,K=F+ke.shift(),J=q+ke.shift(),rr=K+ke.shift(),ir=J,Jt=rr+ke.shift(),ln=J,mr=Jt+ke.shift(),Qr=Ge,Ve=mr+ke.shift(),Ne.curveTo(F,q,K,J,rr,ir),Ne.curveTo(Jt,ln,mr,Qr,Ve,Ge);break;case 36:F=Ve+ke.shift(),q=Ge+ke.shift(),K=F+ke.shift(),J=q+ke.shift(),rr=K+ke.shift(),ir=J,Jt=rr+ke.shift(),ln=J,mr=Jt+ke.shift(),Qr=ln+ke.shift(),Ve=mr+ke.shift(),Ne.curveTo(F,q,K,J,rr,ir),Ne.curveTo(Jt,ln,mr,Qr,Ve,Ge);break;case 37:F=Ve+ke.shift(),q=Ge+ke.shift(),K=F+ke.shift(),J=q+ke.shift(),rr=K+ke.shift(),ir=J+ke.shift(),Jt=rr+ke.shift(),ln=ir+ke.shift(),mr=Jt+ke.shift(),Qr=ln+ke.shift(),Math.abs(mr-Ve)>Math.abs(Qr-Ge)?Ve=mr+ke.shift():Ge=Qr+ke.shift(),Ne.curveTo(F,q,K,J,rr,ir),Ne.curveTo(Jt,ln,mr,Qr,Ve,Ge);break;default:console.log("Glyph "+O.index+": unknown operator 1200"+$r),ke.length=0}break;case 14:0<ke.length&&!We&&(St=ke.shift()+ze,We=!0),Ze&&(Ne.closePath(),Ze=!1);break;case 18:jt();break;case 19:case 20:jt(),ar+=rt+7>>3;break;case 21:2<ke.length&&!We&&(St=ke.shift()+ze,We=!0),Ge+=ke.pop(),Ot(Ve+=ke.pop(),Ge);break;case 22:1<ke.length&&!We&&(St=ke.shift()+ze,We=!0),Ot(Ve+=ke.pop(),Ge);break;case 23:jt();break;case 24:for(;2<ke.length;)F=Ve+ke.shift(),q=Ge+ke.shift(),K=F+ke.shift(),J=q+ke.shift(),Ve=K+ke.shift(),Ge=J+ke.shift(),Ne.curveTo(F,q,K,J,Ve,Ge);Ve+=ke.shift(),Ge+=ke.shift(),Ne.lineTo(Ve,Ge);break;case 25:for(;6<ke.length;)Ve+=ke.shift(),Ge+=ke.shift(),Ne.lineTo(Ve,Ge);F=Ve+ke.shift(),q=Ge+ke.shift(),K=F+ke.shift(),J=q+ke.shift(),Ve=K+ke.shift(),Ge=J+ke.shift(),Ne.curveTo(F,q,K,J,Ve,Ge);break;case 26:for(ke.length%2&&(Ve+=ke.shift());0<ke.length;)F=Ve,q=Ge+ke.shift(),K=F+ke.shift(),J=q+ke.shift(),Ve=K,Ge=J+ke.shift(),Ne.curveTo(F,q,K,J,Ve,Ge);break;case 27:for(ke.length%2&&(Ge+=ke.shift());0<ke.length;)F=Ve+ke.shift(),q=Ge,K=F+ke.shift(),J=q+ke.shift(),Ve=K+ke.shift(),Ge=J,Ne.curveTo(F,q,K,J,Ve,Ge);break;case 28:or=Dt[ar],br=Dt[ar+1],ke.push((or<<24|br<<16)>>16),ar+=2;break;case 29:an=ke.pop()+_.gsubrsBias,(Ln=_.gsubrs[an])&&Et(Ln);break;case 30:for(;0<ke.length&&(F=Ve,q=Ge+ke.shift(),K=F+ke.shift(),J=q+ke.shift(),Ve=K+ke.shift(),Ge=J+(ke.length===1?ke.shift():0),Ne.curveTo(F,q,K,J,Ve,Ge),ke.length!==0);)F=Ve+ke.shift(),q=Ge,K=F+ke.shift(),J=q+ke.shift(),Ge=J+ke.shift(),Ve=K+(ke.length===1?ke.shift():0),Ne.curveTo(F,q,K,J,Ve,Ge);break;case 31:for(;0<ke.length&&(F=Ve+ke.shift(),q=Ge,K=F+ke.shift(),J=q+ke.shift(),Ge=J+ke.shift(),Ve=K+(ke.length===1?ke.shift():0),Ne.curveTo(F,q,K,J,Ve,Ge),ke.length!==0);)F=Ve,q=Ge+ke.shift(),K=F+ke.shift(),J=q+ke.shift(),Ve=K+ke.shift(),Ge=J+(ke.length===1?ke.shift():0),Ne.curveTo(F,q,K,J,Ve,Ge);break;default:$r<32?console.log("Glyph "+O.index+": unknown operator "+$r):$r<247?ke.push($r-139):$r<251?(or=Dt[ar],ar+=1,ke.push(256*($r-247)+or+108)):$r<255?(or=Dt[ar],ar+=1,ke.push(256*-($r-251)-or-108)):(or=Dt[ar],br=Dt[ar+1],Rr=Dt[ar+2],sn=Dt[ar+3],ar+=4,ke.push((or<<24|br<<16|Rr<<8|sn)/65536))}}}(D),O.advanceWidth=St,Ne}function wr(_,O){var D,F=pe.indexOf(_);return 0<=F&&(D=F),0<=(F=O.indexOf(_))?D=F+pe.length:(D=pe.length+O.length,O.push(_)),D}function In(_,O,D){for(var F={},q=0;q<_.length;q+=1){var K=_[q],J=O[K.name];J===void 0||function me(we,xe){if(we===xe)return 1;if(Array.isArray(we)&&Array.isArray(xe)&&we.length===xe.length){for(var Re=0;Re<we.length;Re+=1)if(!me(we[Re],xe[Re]))return;return 1}}(J,K.value)||(K.type==="SID"&&(J=wr(J,D)),F[K.op]={name:K.name,type:K.type,value:J})}return F}function yo(_,O){var D=new ue.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return D.dict=In(It,_,O),D}function ro(_){var O=new ue.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return O.topDicts=[{name:"topDict_0",type:"TABLE",value:_}],O}function go(_){for(var O=new ue.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),D=0;D<_.length;D+=1){var F=_.get(D),q=function(K){for(var J=[],me=K.path,we=(J.push({name:"width",type:"NUMBER",value:K.advanceWidth}),0),xe=0,Re=0;Re<me.commands.length;Re+=1){var ze,Ne,ke,rt,We=void 0,Ze=void 0,Ve=me.commands[Re];(Ve=Ve.type==="Q"?{type:"C",x:Ve.x,y:Ve.y,x1:1/3*we+2/3*Ve.x1,y1:1/3*xe+2/3*Ve.y1,x2:1/3*Ve.x+2/3*Ve.x1,y2:1/3*Ve.y+2/3*Ve.y1}:Ve).type==="M"?(We=Math.round(Ve.x-we),Ze=Math.round(Ve.y-xe),J.push({name:"dx",type:"NUMBER",value:We}),J.push({name:"dy",type:"NUMBER",value:Ze}),J.push({name:"rmoveto",type:"OP",value:21}),we=Math.round(Ve.x),xe=Math.round(Ve.y)):Ve.type==="L"?(We=Math.round(Ve.x-we),Ze=Math.round(Ve.y-xe),J.push({name:"dx",type:"NUMBER",value:We}),J.push({name:"dy",type:"NUMBER",value:Ze}),J.push({name:"rlineto",type:"OP",value:5}),we=Math.round(Ve.x),xe=Math.round(Ve.y)):Ve.type==="C"&&(ze=Math.round(Ve.x1-we),Ne=Math.round(Ve.y1-xe),ke=Math.round(Ve.x2-Ve.x1),rt=Math.round(Ve.y2-Ve.y1),We=Math.round(Ve.x-Ve.x2),Ze=Math.round(Ve.y-Ve.y2),J.push({name:"dx1",type:"NUMBER",value:ze}),J.push({name:"dy1",type:"NUMBER",value:Ne}),J.push({name:"dx2",type:"NUMBER",value:ke}),J.push({name:"dy2",type:"NUMBER",value:rt}),J.push({name:"dx",type:"NUMBER",value:We}),J.push({name:"dy",type:"NUMBER",value:Ze}),J.push({name:"rrcurveto",type:"OP",value:8}),we=Math.round(Ve.x),xe=Math.round(Ve.y))}return J.push({name:"endchar",type:"OP",value:14}),J}(F);O.charStrings.push({name:F.name,type:"CHARSTRING",value:q})}return O}var Kr={parse:function(_,O,D){D.tables.cff={},me=_,F=O,(q={}).formatMajor=De.getCard8(me,F),q.formatMinor=De.getCard8(me,F+1),q.size=De.getCard8(me,F+2),q.offsetSize=De.getCard8(me,F+3),q.startOffset=F,q.endOffset=F+4;var me=kt(_,q.endOffset,De.bytesToString),F=kt(_,me.endOffset),q=kt(_,F.endOffset,De.bytesToString),me=kt(_,q.endOffset);if(D.gsubrs=me.objects,D.gsubrsBias=bt(D.gsubrs),(me=Mr(_,O,F.objects,q.objects)).length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+me.length);if(F=me[0],(D.tables.cff.topDict=F)._privateDict&&(D.defaultWidthX=F._privateDict.defaultWidthX,D.nominalWidthX=F._privateDict.nominalWidthX),F.ros[0]!==void 0&&F.ros[1]!==void 0&&(D.isCIDFont=!0),D.isCIDFont){var me=F.fdArray,K=F.fdSelect;if(me===0||K===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");me=Mr(_,O,kt(_,me+=O).objects,q.objects),F._fdArray=me,F._fdSelect=function(Ne,ke,rt,We){var Ze,Ve=[],Ge=new De.Parser(Ne,ke);if((Ne=Ge.parseCard8())===0)for(var St=0;St<rt;St++){if(We<=(Ze=Ge.parseCard8()))throw new Error("CFF table CID Font FDSelect has bad FD index value "+Ze+" (FD count "+We+")");Ve.push(Ze)}else{if(Ne!==3)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+Ne);var Ot,jt=Ge.parseCard16(),Et=Ge.parseCard16();if(Et!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+Et);for(var Dt=0;Dt<jt;Dt++){if(Ze=Ge.parseCard8(),Ot=Ge.parseCard16(),We<=Ze)throw new Error("CFF table CID Font FDSelect has bad FD index value "+Ze+" (FD count "+We+")");if(rt<Ot)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+Ot);for(;Et<Ot;Et++)Ve.push(Ze);Et=Ot}if(Ot!==rt)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+Ot)}return Ve}(_,K+=O,D.numGlyphs,me.length)}var K=O+F.private[1],me=ur(_,K,F.private[0],q.objects),J=(D.defaultWidthX=me.defaultWidthX,D.nominalWidthX=me.nominalWidthX,me.subrs!==0?(K=kt(_,K+me.subrs),D.subrs=K.objects,D.subrsBias=bt(D.subrs)):(D.subrs=[],D.subrsBias=0),kt(_,O+F.charStrings)),me=(D.nGlyphs=J.objects.length,function(Re,ze,Ne,ke){var rt=new De.Parser(Re,ze),We=(--Ne,[".notdef"]);if((Re=rt.parseCard8())===0)for(var Ze=0;Ze<Ne;Ze+=1)Ve=rt.parseSID(),We.push(Qt(ke,Ve));else if(Re===1)for(;We.length<=Ne;)for(var Ve=rt.parseSID(),Ge=rt.parseCard8(),St=0;St<=Ge;St+=1)We.push(Qt(ke,Ve)),Ve+=1;else{if(Re!==2)throw new Error("Unknown charset format "+Re);for(;We.length<=Ne;){Ve=rt.parseSID(),Ge=rt.parseCard16();for(var Ot=0;Ot<=Ge;Ot+=1)We.push(Qt(ke,Ve)),Ve+=1}}return We}(_,O+F.charset,D.nGlyphs,q.objects));F.encoding===0?D.cffEncoding=new et($,me):F.encoding===1?D.cffEncoding=new et(de,me):D.cffEncoding=function(Re,ze,Ne){var ke={},rt=new De.Parser(Re,ze);if((Re=rt.parseCard8())===0)for(var We=rt.parseCard8(),Ze=0;Ze<We;Ze+=1)ke[Ge=rt.parseCard8()]=Ze;else{if(Re!==1)throw new Error("Unknown encoding format "+Re);for(var Ve=rt.parseCard8(),Ge=1,St=0;St<Ve;St+=1)for(var Ot=rt.parseCard8(),jt=rt.parseCard8(),Et=Ot;Et<=Ot+jt;Et+=1)ke[Et]=Ge,Ge+=1}return new et(ke,Ne)}(_,O+F.encoding,me),D.encoding=D.encoding||D.cffEncoding,D.glyphs=new ht.GlyphSet(D);for(var we=0;we<D.nGlyphs;we+=1){var xe=J.objects[we];D.glyphs.push(we,ht.cffGlyphLoader(D,we,Xt,xe))}},make:function(_,Re){for(var D,F=new ue.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),q=1/Re.unitsPerEm,q={version:Re.version,fullName:Re.fullName,familyName:Re.familyName,weight:Re.weightName,fontBBox:Re.fontBBox||[0,0,0,0],fontMatrix:[q,0,0,q,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},K=[],J=1;J<_.length;J+=1)D=_.get(J),K.push(D.name);var me,we,xe=[],Re=(F.header=new ue.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),F.nameIndex=function(Ne){var ke=new ue.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);ke.names=[];for(var rt=0;rt<Ne.length;rt+=1)ke.names.push({name:"name_"+rt,type:"NAME",value:Ne[rt]});return ke}([Re.postScriptName]),yo(q,xe)),ze=(F.topDictIndex=ro(Re),F.globalSubrIndex=new ue.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),F.charsets=function(Ne,ke){for(var rt=new ue.Record("Charsets",[{name:"format",type:"Card8",value:0}]),We=0;We<Ne.length;We+=1){var Ze=wr(Ne[We],ke);rt.fields.push({name:"glyph_"+We,type:"SID",value:Ze})}return rt}(K,xe),F.charStringsIndex=go(_),F.privateDict=(ze={},me=xe,(we=new ue.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}])).dict=In(Rt,ze,me),we),F.stringIndex=function(Ne){var ke=new ue.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);ke.strings=[];for(var rt=0;rt<Ne.length;rt+=1)ke.strings.push({name:"string_"+rt,type:"STRING",value:Ne[rt]});return ke}(xe),F.header.sizeOf()+F.nameIndex.sizeOf()+F.topDictIndex.sizeOf()+F.stringIndex.sizeOf()+F.globalSubrIndex.sizeOf());return q.charset=ze,q.encoding=0,q.charStrings=q.charset+F.charsets.sizeOf(),q.private[1]=q.charStrings+F.charStringsIndex.sizeOf(),Re=yo(q,xe),F.topDictIndex=ro(Re),F}},Xr={parse:function(F,O){var D={},F=new De.Parser(F,O);return D.version=F.parseVersion(),D.fontRevision=Math.round(1e3*F.parseFixed())/1e3,D.checkSumAdjustment=F.parseULong(),D.magicNumber=F.parseULong(),B.argument(D.magicNumber===1594834165,"Font header has wrong magic number."),D.flags=F.parseUShort(),D.unitsPerEm=F.parseUShort(),D.created=F.parseLongDateTime(),D.modified=F.parseLongDateTime(),D.xMin=F.parseShort(),D.yMin=F.parseShort(),D.xMax=F.parseShort(),D.yMax=F.parseShort(),D.macStyle=F.parseUShort(),D.lowestRecPPEM=F.parseUShort(),D.fontDirectionHint=F.parseShort(),D.indexToLocFormat=F.parseShort(),D.glyphDataFormat=F.parseShort(),D},make:function(_){var O=Math.round(new Date().getTime()/1e3)+2082844800,D=O;return _.createdTimestamp&&(D=_.createdTimestamp+2082844800),new ue.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:D},{name:"modified",type:"LONGDATETIME",value:O},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],_)}},Te={parse:function(F,O){var D={},F=new De.Parser(F,O);return D.version=F.parseVersion(),D.ascender=F.parseShort(),D.descender=F.parseShort(),D.lineGap=F.parseShort(),D.advanceWidthMax=F.parseUShort(),D.minLeftSideBearing=F.parseShort(),D.minRightSideBearing=F.parseShort(),D.xMaxExtent=F.parseShort(),D.caretSlopeRise=F.parseShort(),D.caretSlopeRun=F.parseShort(),D.caretOffset=F.parseShort(),F.relativeOffset+=8,D.metricDataFormat=F.parseShort(),D.numberOfHMetrics=F.parseUShort(),D},make:function(_){return new ue.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],_)}},st={parse:function(_,O,D,F,q){for(var K,J,me=new De.Parser(_,O),we=0;we<F;we+=1){we<D&&(K=me.parseUShort(),J=me.parseShort());var xe=q.get(we);xe.advanceWidth=K,xe.leftSideBearing=J}},make:function(_){for(var O=new ue.Table("hmtx",[]),D=0;D<_.length;D+=1){var q=_.get(D),F=q.advanceWidth||0,q=q.leftSideBearing||0;O.fields.push({name:"advanceWidth_"+D,type:"USHORT",value:F}),O.fields.push({name:"leftSideBearing_"+D,type:"SHORT",value:q})}return O}},yt={make:function(_){for(var O=new ue.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:_.length}]),D="",F=12+4*_.length,q=0;q<_.length;++q){var K=D.indexOf(_[q]);K<0&&(K=D.length,D+=_[q]),O.fields.push({name:"offset "+q,type:"USHORT",value:F+K}),O.fields.push({name:"length "+q,type:"USHORT",value:_[q].length})}return O.fields.push({name:"stringPool",type:"CHARARRAY",value:D}),O},parse:function(_,O){for(var D=new De.Parser(_,O),F=D.parseULong(),q=(B.argument(F===1,"Unsupported ltag table version."),D.skip("uLong",1),D.parseULong()),K=[],J=0;J<q;J++){for(var me="",we=O+D.parseUShort(),xe=D.parseUShort(),Re=we;Re<we+xe;++Re)me+=String.fromCharCode(_.getInt8(Re));K.push(me)}return K}},nt={parse:function(F,O){var D={},F=new De.Parser(F,O);return D.version=F.parseVersion(),D.numGlyphs=F.parseUShort(),D.version===1&&(D.maxPoints=F.parseUShort(),D.maxContours=F.parseUShort(),D.maxCompositePoints=F.parseUShort(),D.maxCompositeContours=F.parseUShort(),D.maxZones=F.parseUShort(),D.maxTwilightPoints=F.parseUShort(),D.maxStorage=F.parseUShort(),D.maxFunctionDefs=F.parseUShort(),D.maxInstructionDefs=F.parseUShort(),D.maxStackElements=F.parseUShort(),D.maxSizeOfInstructions=F.parseUShort(),D.maxComponentElements=F.parseUShort(),D.maxComponentDepth=F.parseUShort()),D},make:function(_){return new ue.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:_}])}},Pt=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],tt={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},Ft={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},mt={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"},Lt="utf-16",gt={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},Zt={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function Sr(_,O,D){switch(_){case 0:return Lt;case 1:return Zt[D]||gt[O];case 3:if(O===1||O===10)return Lt}}function cr(_){var O,D={};for(O in _)D[_[O]]=parseInt(O);return D}function jr(_,O,D,F,q,K){return new ue.Record("NameRecord",[{name:"platformID",type:"USHORT",value:_},{name:"encodingID",type:"USHORT",value:O},{name:"languageID",type:"USHORT",value:D},{name:"nameID",type:"USHORT",value:F},{name:"length",type:"USHORT",value:q},{name:"offset",type:"USHORT",value:K}])}function Tn(_,O){if((D=function(K,J){var me=K.length,we=J.length-me+1;e:for(var xe=0;xe<we;xe++)for(;xe<we;xe++){for(var Re=0;Re<me;Re++)if(J[xe+Re]!==K[Re])continue e;return xe}return-1}(_,O))<0)for(var D=O.length,F=0,q=_.length;F<q;++F)O.push(_[F]);return D}var fn={parse:function(_,O,D){for(var F={},q=new De.Parser(_,O),O=q.parseUShort(),K=q.parseUShort(),J=q.offset+q.parseUShort(),me=0;me<K;me++){var rt=q.parseUShort(),we=q.parseUShort(),xe=q.parseUShort(),Re=q.parseUShort(),Re=Pt[Re]||Re,ze=q.parseUShort(),Ne=q.parseUShort(),ke=function(Ze,Ve,Ge){switch(Ze){case 0:if(Ve===65535)return"und";if(Ge)return Ge[Ve];break;case 1:return tt[Ve];case 3:return mt[Ve]}}(rt,xe,D),rt=Sr(rt,we,xe);rt!==void 0&&ke!==void 0&&(we=void 0,(we=rt===Lt?V.UTF16(_,J+Ne,ze):V.MACSTRING(_,J+Ne,ze,rt))&&((xe=(xe=F[Re])===void 0?F[Re]={}:xe)[ke]=we))}return O===1&&q.parseUShort(),F},make:function(_,O){var D,F=[],q={},K=cr(Pt);for(D in _){var J=K[D];if(J===void 0&&(J=D),Ne=parseInt(J),isNaN(Ne))throw new Error('Name table entry "'+D+'" does not exist, see nameTableNames for complete list.');q[Ne]=_[D],F.push(Ne)}for(var me=cr(tt),we=cr(mt),xe=[],Re=[],ze=0;ze<F.length;ze++){var Ne,ke,rt=q[Ne=F[ze]];for(ke in rt){var We=rt[ke],Ot=1,Ze=me[ke],Ve=Ft[Ze],Ge=Sr(Ot,Ve,Ze),Ge=X.MACSTRING(We,Ge),St=(Ge===void 0&&(Ot=0,(Ze=O.indexOf(ke))<0&&(Ze=O.length,O.push(ke)),Ve=4,Ge=X.UTF16(We)),Tn(Ge,Re)),Ot=(xe.push(jr(Ot,Ve,Ze,Ne,Ge.length,St)),we[ke]);Ot!==void 0&&(Ze=Tn(Ve=X.UTF16(We),Re),xe.push(jr(3,1,Ot,Ne,Ve.length,Ze)))}}xe.sort(function(Dt,or){return Dt.platformID-or.platformID||Dt.encodingID-or.encodingID||Dt.languageID-or.languageID||Dt.nameID-or.nameID});for(var jt=new ue.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:xe.length},{name:"stringOffset",type:"USHORT",value:6+12*xe.length}]),Et=0;Et<xe.length;Et++)jt.fields.push({name:"record_"+Et,type:"RECORD",value:xe[Et]});return jt.fields.push({name:"strings",type:"LITERAL",value:Re}),jt}},kn=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],Or={parse:function(_,O){var D={},F=new De.Parser(_,O);D.version=F.parseUShort(),D.xAvgCharWidth=F.parseShort(),D.usWeightClass=F.parseUShort(),D.usWidthClass=F.parseUShort(),D.fsType=F.parseUShort(),D.ySubscriptXSize=F.parseShort(),D.ySubscriptYSize=F.parseShort(),D.ySubscriptXOffset=F.parseShort(),D.ySubscriptYOffset=F.parseShort(),D.ySuperscriptXSize=F.parseShort(),D.ySuperscriptYSize=F.parseShort(),D.ySuperscriptXOffset=F.parseShort(),D.ySuperscriptYOffset=F.parseShort(),D.yStrikeoutSize=F.parseShort(),D.yStrikeoutPosition=F.parseShort(),D.sFamilyClass=F.parseShort(),D.panose=[];for(var q=0;q<10;q++)D.panose[q]=F.parseByte();return D.ulUnicodeRange1=F.parseULong(),D.ulUnicodeRange2=F.parseULong(),D.ulUnicodeRange3=F.parseULong(),D.ulUnicodeRange4=F.parseULong(),D.achVendID=String.fromCharCode(F.parseByte(),F.parseByte(),F.parseByte(),F.parseByte()),D.fsSelection=F.parseUShort(),D.usFirstCharIndex=F.parseUShort(),D.usLastCharIndex=F.parseUShort(),D.sTypoAscender=F.parseShort(),D.sTypoDescender=F.parseShort(),D.sTypoLineGap=F.parseShort(),D.usWinAscent=F.parseUShort(),D.usWinDescent=F.parseUShort(),1<=D.version&&(D.ulCodePageRange1=F.parseULong(),D.ulCodePageRange2=F.parseULong()),2<=D.version&&(D.sxHeight=F.parseShort(),D.sCapHeight=F.parseShort(),D.usDefaultChar=F.parseUShort(),D.usBreakChar=F.parseUShort(),D.usMaxContent=F.parseUShort()),D},make:function(_){return new ue.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],_)},unicodeRanges:kn,getUnicodeRange:function(_){for(var O=0;O<kn.length;O+=1){var D=kn[O];if(_>=D.begin&&_<D.end)return O}return-1}},Bs={parse:function(_,O){var D={},F=new De.Parser(_,O);switch(D.version=F.parseVersion(),D.italicAngle=F.parseFixed(),D.underlinePosition=F.parseShort(),D.underlineThickness=F.parseShort(),D.isFixedPitch=F.parseULong(),D.minMemType42=F.parseULong(),D.maxMemType42=F.parseULong(),D.minMemType1=F.parseULong(),D.maxMemType1=F.parseULong(),D.version){case 1:D.names=Se.slice();break;case 2:D.numberOfGlyphs=F.parseUShort(),D.glyphNameIndex=new Array(D.numberOfGlyphs);for(var q=0;q<D.numberOfGlyphs;q++)D.glyphNameIndex[q]=F.parseUShort();D.names=[];for(var K,J=0;J<D.numberOfGlyphs;J++)D.glyphNameIndex[J]>=Se.length&&(K=F.parseChar(),D.names.push(F.parseString(K)));break;case 2.5:D.numberOfGlyphs=F.parseUShort(),D.offset=new Array(D.numberOfGlyphs);for(var me=0;me<D.numberOfGlyphs;me++)D.offset[me]=F.parseChar()}return D},make:function(){return new ue.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}},_n=new Array(9),no=(_n[1]=function(){var _=this.offset+this.relativeOffset,O=this.parseUShort();return O===1?{substFormat:1,coverage:this.parsePointer(Ee.coverage),deltaGlyphId:this.parseUShort()}:O===2?{substFormat:2,coverage:this.parsePointer(Ee.coverage),substitute:this.parseOffset16List()}:void B.assert(!1,"0x"+_.toString(16)+": lookup type 1 format must be 1 or 2.")},_n[2]=function(){var _=this.parseUShort();return B.argument(_===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:_,coverage:this.parsePointer(Ee.coverage),sequences:this.parseListOfLists()}},_n[3]=function(){var _=this.parseUShort();return B.argument(_===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:_,coverage:this.parsePointer(Ee.coverage),alternateSets:this.parseListOfLists()}},_n[4]=function(){var _=this.parseUShort();return B.argument(_===1,"GSUB ligature table identifier-format must be 1"),{substFormat:_,coverage:this.parsePointer(Ee.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}},{sequenceIndex:Ee.uShort,lookupListIndex:Ee.uShort});_n[5]=function(){var _,O,D=this.offset+this.relativeOffset,F=this.parseUShort();return F===1?{substFormat:F,coverage:this.parsePointer(Ee.coverage),ruleSets:this.parseListOfLists(function(){var q=this.parseUShort(),K=this.parseUShort();return{input:this.parseUShortList(q-1),lookupRecords:this.parseRecordList(K,no)}})}:F===2?{substFormat:F,coverage:this.parsePointer(Ee.coverage),classDef:this.parsePointer(Ee.classDef),classSets:this.parseListOfLists(function(){var q=this.parseUShort(),K=this.parseUShort();return{classes:this.parseUShortList(q-1),lookupRecords:this.parseRecordList(K,no)}})}:F===3?(_=this.parseUShort(),O=this.parseUShort(),{substFormat:F,coverages:this.parseList(_,Ee.pointer(Ee.coverage)),lookupRecords:this.parseRecordList(O,no)}):void B.assert(!1,"0x"+D.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},_n[6]=function(){var _=this.offset+this.relativeOffset,O=this.parseUShort();return O===1?{substFormat:1,coverage:this.parsePointer(Ee.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(no)}})}:O===2?{substFormat:2,coverage:this.parsePointer(Ee.coverage),backtrackClassDef:this.parsePointer(Ee.classDef),inputClassDef:this.parsePointer(Ee.classDef),lookaheadClassDef:this.parsePointer(Ee.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(no)}})}:O===3?{substFormat:3,backtrackCoverage:this.parseList(Ee.pointer(Ee.coverage)),inputCoverage:this.parseList(Ee.pointer(Ee.coverage)),lookaheadCoverage:this.parseList(Ee.pointer(Ee.coverage)),lookupRecords:this.parseRecordList(no)}:void B.assert(!1,"0x"+_.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},_n[7]=function(){var _=this.parseUShort(),_=(B.argument(_===1,"GSUB Extension Substitution subtable identifier-format must be 1"),this.parseUShort()),O=new Ee(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:_,extension:_n[_].call(O)}},_n[8]=function(){var _=this.parseUShort();return B.argument(_===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:_,coverage:this.parsePointer(Ee.coverage),backtrackCoverage:this.parseList(Ee.pointer(Ee.coverage)),lookaheadCoverage:this.parseList(Ee.pointer(Ee.coverage)),substitutes:this.parseUShortList()}};var Do=new Array(9);Do[1]=function(_){return _.substFormat===1?new ue.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new ue.Coverage(_.coverage)},{name:"deltaGlyphID",type:"USHORT",value:_.deltaGlyphId}]):new ue.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new ue.Coverage(_.coverage)}].concat(ue.ushortList("substitute",_.substitute)))},Do[3]=function(_){return B.assert(_.substFormat===1,"Lookup type 3 substFormat must be 1."),new ue.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new ue.Coverage(_.coverage)}].concat(ue.tableList("altSet",_.alternateSets,function(O){return new ue.Table("alternateSetTable",ue.ushortList("alternate",O))})))},Do[4]=function(_){return B.assert(_.substFormat===1,"Lookup type 4 substFormat must be 1."),new ue.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new ue.Coverage(_.coverage)}].concat(ue.tableList("ligSet",_.ligatureSets,function(O){return new ue.Table("ligatureSetTable",ue.tableList("ligature",O,function(D){return new ue.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:D.ligGlyph}].concat(ue.ushortList("component",D.components,D.components.length+1)))}))})))};var Us={parse:function(_,O){return O=(_=new Ee(_,O=O||0)).parseVersion(1),B.argument(O===1||O===1.1,"Unsupported GSUB table version."),O===1?{version:O,scripts:_.parseScriptList(),features:_.parseFeatureList(),lookups:_.parseLookupList(_n)}:{version:O,scripts:_.parseScriptList(),features:_.parseFeatureList(),lookups:_.parseLookupList(_n),variations:_.parseFeatureVariationsList()}},make:function(_){return new ue.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new ue.ScriptList(_.scripts)},{name:"features",type:"TABLE",value:new ue.FeatureList(_.features)},{name:"lookups",type:"TABLE",value:new ue.LookupList(_.lookups,Do)}])}},zs={parse:function(_,O){for(var D=new De.Parser(_,O),F=D.parseULong(),q=(B.argument(F===1,"Unsupported META table version."),D.parseULong(),D.parseULong(),D.parseULong()),K={},J=0;J<q;J++){var me=D.parseTag(),xe=D.parseULong(),we=D.parseULong(),xe=V.UTF8(_,O+xe,we);K[me]=xe}return K},make:function(_){var O,D=Object.keys(_).length,F="",q=16+12*D,K=new ue.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:q},{name:"numTags",type:"ULONG",value:D}]);for(O in _){var J=F.length;F+=_[O],K.fields.push({name:"tag "+O,type:"TAG",value:O}),K.fields.push({name:"offset "+O,type:"ULONG",value:q+J}),K.fields.push({name:"length "+O,type:"ULONG",value:_[O].length})}return K.fields.push({name:"stringPool",type:"CHARARRAY",value:F}),K}};function Vs(_){return Math.log(_)/Math.log(2)|0}function os(_){for(;_.length%4!=0;)_.push(0);for(var O=0,D=0;D<_.length;D+=4)O+=(_[D]<<24)+(_[D+1]<<16)+(_[D+2]<<8)+_[D+3];return O%=Math.pow(2,32)}function Gs(_,O,D,F){return new ue.Record("Table Record",[{name:"tag",type:"TAG",value:_!==void 0?_:""},{name:"checkSum",type:"ULONG",value:O!==void 0?O:0},{name:"offset",type:"ULONG",value:D!==void 0?D:0},{name:"length",type:"ULONG",value:F!==void 0?F:0}])}function ss(_){for(var O=new ue.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),D=(O.tables=_,O.numTables=_.length,Math.pow(2,Vs(O.numTables))),F=(O.searchRange=16*D,O.entrySelector=Vs(D),O.rangeShift=16*O.numTables-O.searchRange,[]),q=[],K=O.sizeOf()+Gs().sizeOf()*O.numTables;K%4!=0;)K+=1,q.push({name:"padding",type:"BYTE",value:0});for(var J=0;J<_.length;J+=1){var me=_[J],we=(B.argument(me.tableName.length===4,"Table name"+me.tableName+" is invalid."),me.sizeOf()),xe=Gs(me.tableName,os(me.encode()),K,we);for(F.push({name:xe.tag+" Table Record",type:"RECORD",value:xe}),q.push({name:me.tableName+" table",type:"RECORD",value:me}),K+=we,B.argument(!isNaN(K),"Something went wrong calculating the offset.");K%4!=0;)K+=1,q.push({name:"padding",type:"BYTE",value:0})}return F.sort(function(Re,ze){return Re.value.tag>ze.value.tag?1:-1}),O.fields=O.fields.concat(F),O.fields=O.fields.concat(q),O}function Ce(_,O,D){for(var F=0;F<O.length;F+=1){var q=_.charToGlyphIndex(O[F]);if(0<q)return _.glyphs.get(q).getMetrics()}return D}var se={make:ss,fontToTable:function(_){for(var O,D=[],F=[],q=[],K=[],J=[],me=[],we=[],xe=0,Re=0,ze=0,Ne=0,ke=0,rt=0;rt<_.glyphs.length;rt+=1){var We=_.glyphs.get(rt),Ze=0|We.unicode;if(isNaN(We.advanceWidth))throw new Error("Glyph "+We.name+" ("+rt+"): advanceWidth is not a number.");(Ze<O||O===void 0)&&0<Ze&&(O=Ze),xe<Ze&&(xe=Ze);var Ze=Or.getUnicodeRange(Ze);if(Ze<32)Re|=1<<Ze;else if(Ze<64)ze|=1<<Ze-32;else if(Ze<96)Ne|=1<<Ze-64;else{if(!(Ze<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");ke|=1<<Ze-96}We.name!==".notdef"&&(Ze=We.getMetrics(),D.push(Ze.xMin),F.push(Ze.yMin),q.push(Ze.xMax),K.push(Ze.yMax),me.push(Ze.leftSideBearing),we.push(Ze.rightSideBearing),J.push(We.advanceWidth))}var Ve,Ge={xMin:Math.min.apply(null,D),yMin:Math.min.apply(null,F),xMax:Math.max.apply(null,q),yMax:Math.max.apply(null,K),advanceWidthMax:Math.max.apply(null,J),advanceWidthAvg:function($r){for(var ds=0,Uo=0;Uo<$r.length;Uo+=1)ds+=$r[Uo];return ds/$r.length}(J),minLeftSideBearing:Math.min.apply(null,me),maxLeftSideBearing:Math.max.apply(null,me),minRightSideBearing:Math.min.apply(null,we)},St=(Ge.ascender=_.ascender,Ge.descender=_.descender,Xr.make({flags:3,unitsPerEm:_.unitsPerEm,xMin:Ge.xMin,yMin:Ge.yMin,xMax:Ge.xMax,yMax:Ge.yMax,lowestRecPPEM:3,createdTimestamp:_.createdTimestamp})),Ot=Te.make({ascender:Ge.ascender,descender:Ge.descender,advanceWidthMax:Ge.advanceWidthMax,minLeftSideBearing:Ge.minLeftSideBearing,minRightSideBearing:Ge.minRightSideBearing,xMaxExtent:Ge.maxLeftSideBearing+(Ge.xMax-Ge.xMin),numberOfHMetrics:_.glyphs.length}),jt=nt.make(_.glyphs.length),Et=Or.make({xAvgCharWidth:Math.round(Ge.advanceWidthAvg),usWeightClass:_.tables.os2.usWeightClass,usWidthClass:_.tables.os2.usWidthClass,usFirstCharIndex:O,usLastCharIndex:xe,ulUnicodeRange1:Re,ulUnicodeRange2:ze,ulUnicodeRange3:Ne,ulUnicodeRange4:ke,fsSelection:_.tables.os2.fsSelection,sTypoAscender:Ge.ascender,sTypoDescender:Ge.descender,sTypoLineGap:0,usWinAscent:Ge.yMax,usWinDescent:Math.abs(Ge.yMin),ulCodePageRange1:1,sxHeight:Ce(_,"xyvw",{yMax:Math.round(Ge.ascender/2)}).yMax,sCapHeight:Ce(_,"HIKLEFJMNTZBDPRAGOQSUVWXY",Ge).yMax,usDefaultChar:_.hasChar(" ")?32:0,usBreakChar:_.hasChar(" ")?32:0}),Dt=st.make(_.glyphs),or=ie.make(_.glyphs),ir=_.getEnglishName("fontFamily"),Jt=_.getEnglishName("fontSubfamily"),rr=ir+" "+Jt,br=(br=_.getEnglishName("postScriptName"))||ir.replace(/\s/g,"")+"-"+Jt,Rr={};for(Ve in _.names)Rr[Ve]=_.names[Ve];Rr.uniqueID||(Rr.uniqueID={en:_.getEnglishName("manufacturer")+":"+rr}),Rr.postScriptName||(Rr.postScriptName={en:br}),Rr.preferredFamily||(Rr.preferredFamily=_.names.fontFamily),Rr.preferredSubfamily||(Rr.preferredSubfamily=_.names.fontSubfamily);var an=[],sn=fn.make(Rr,an),an=0<an.length?yt.make(an):void 0,Ln=Bs.make(),rr=Kr.make(_.glyphs,{version:_.getEnglishName("version"),fullName:rr,familyName:ir,weightName:Jt,postScriptName:br,unitsPerEm:_.unitsPerEm,fontBBox:[0,Ge.yMin,Ge.ascender,Ge.advanceWidthMax]}),ir=_.metas&&0<Object.keys(_.metas).length?zs.make(_.metas):void 0,Jt=[St,Ot,jt,Et,sn,or,Ln,rr,Dt];an&&Jt.push(an),_.tables.gsub&&Jt.push(Us.make(_.tables.gsub)),ir&&Jt.push(ir);for(var ln=os((br=ss(Jt)).encode()),mr=br.fields,Qr=!1,ar=0;ar<mr.length;ar+=1)if(mr[ar].name==="head table"){mr[ar].value.checkSumAdjustment=2981146554-ln,Qr=!0;break}if(Qr)return br;throw new Error("Could not find head table with checkSum to adjust.")},computeCheckSum:os};function ve(_,O){for(var D=0,F=_.length-1;D<=F;){var q=D+F>>>1,K=_[q].tag;if(K===O)return q;K<O?D=1+q:F=q-1}return-D-1}function ye(_,O){for(var D=0,F=_.length-1;D<=F;){var q=D+F>>>1,K=_[q];if(K===O)return q;K<O?D=1+q:F=q-1}return-D-1}function Be(_,O){for(var D=0,F=_.length-1;D<=F;){var q,K=D+F>>>1,J=(q=_[K]).start;if(J===O)return q;J<O?D=1+K:F=K-1}if(0<D)return O>(q=_[D-1]).end?0:q}function Ae(_,O){this.font=_,this.tableName=O}function Fe(_){Ae.call(this,_,"gpos")}function $e(_){Ae.call(this,_,"gsub")}function dt(_,O,D){for(var F=_.subtables,q=0;q<F.length;q++){var K=F[q];if(K.substFormat===O)return K}if(D)return F.push(D),D}function ot(_){for(var O=new ArrayBuffer(_.length),D=new Uint8Array(O),F=0;F<_.length;++F)D[F]=_[F];return O}function Qe(_,O){if(!_)throw O}function Je(_,O,D,F,q){var K=0<(O&F)?(K=_.parseByte(),D+(K=(O&q)==0?-K:K)):0<(O&q)?D:D+_.parseShort();return K}function ut(_,O,D){var F,q=new De.Parser(O,D);if(_.numberOfContours=q.parseShort(),_._xMin=q.parseShort(),_._yMin=q.parseShort(),_._xMax=q.parseShort(),_._yMax=q.parseShort(),0<_.numberOfContours){for(var K=_.endPointIndices=[],J=0;J<_.numberOfContours;J+=1)K.push(q.parseUShort());_.instructionLength=q.parseUShort(),_.instructions=[];for(var me=0;me<_.instructionLength;me+=1)_.instructions.push(q.parseByte());for(var we=K[K.length-1]+1,xe=[],Re=0;Re<we;Re+=1)if(F=q.parseByte(),xe.push(F),0<(8&F))for(var ze=q.parseByte(),Ne=0;Ne<ze;Ne+=1)xe.push(F),Re+=1;if(B.argument(xe.length===we,"Bad flags."),0<K.length){var ke,rt=[];if(0<we){for(var We=0;We<we;We+=1)F=xe[We],(ke={}).onCurve=!!(1&F),ke.lastPointOfContour=0<=K.indexOf(We),rt.push(ke);for(var Ze=0,Ve=0;Ve<we;Ve+=1)F=xe[Ve],(ke=rt[Ve]).x=Je(q,F,Ze,2,16),Ze=ke.x;for(var Ge=0,St=0;St<we;St+=1)F=xe[St],(ke=rt[St]).y=Je(q,F,Ge,4,32),Ge=ke.y}_.points=rt}else _.points=[]}else if(_.numberOfContours===0)_.points=[];else{_.isComposite=!0,_.points=[],_.components=[];for(var Ot=!0;Ot;){xe=q.parseUShort();var jt={glyphIndex:q.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};0<(1&xe)?0<(2&xe)?(jt.dx=q.parseShort(),jt.dy=q.parseShort()):jt.matchedPoints=[q.parseUShort(),q.parseUShort()]:0<(2&xe)?(jt.dx=q.parseChar(),jt.dy=q.parseChar()):jt.matchedPoints=[q.parseByte(),q.parseByte()],0<(8&xe)?jt.xScale=jt.yScale=q.parseF2Dot14():0<(64&xe)?(jt.xScale=q.parseF2Dot14(),jt.yScale=q.parseF2Dot14()):0<(128&xe)&&(jt.xScale=q.parseF2Dot14(),jt.scale01=q.parseF2Dot14(),jt.scale10=q.parseF2Dot14(),jt.yScale=q.parseF2Dot14()),_.components.push(jt),Ot=!!(32&xe)}if(256&xe){_.instructionLength=q.parseUShort(),_.instructions=[];for(var Et=0;Et<_.instructionLength;Et+=1)_.instructions.push(q.parseByte())}}}function Ut(_,O){for(var D=[],F=0;F<_.length;F+=1){var q=_[F],q={x:O.xScale*q.x+O.scale01*q.y+O.dx,y:O.scale10*q.x+O.yScale*q.y+O.dy,onCurve:q.onCurve,lastPointOfContour:q.lastPointOfContour};D.push(q)}return D}function zt(_){var O=new Y;if(_)for(var D=function(ze){for(var Ne=[],ke=[],rt=0;rt<ze.length;rt+=1){var We=ze[rt];ke.push(We),We.lastPointOfContour&&(Ne.push(ke),ke=[])}return B.argument(ke.length===0,"There are still points left in the current contour."),Ne}(_),F=0;F<D.length;++F){var q,K=D[F],J=K[K.length-1],me=K[0];J.onCurve?O.moveTo(J.x,J.y):me.onCurve?O.moveTo(me.x,me.y):(q={x:.5*(J.x+me.x),y:.5*(J.y+me.y)},O.moveTo(q.x,q.y));for(var we=0;we<K.length;++we){var xe,Re=J,J=me,me=K[(we+1)%K.length];J.onCurve?O.lineTo(J.x,J.y):(xe=me,Re.onCurve||(J.x,Re.x,J.y,Re.y),me.onCurve||(xe={x:.5*(J.x+me.x),y:.5*(J.y+me.y)}),O.quadraticCurveTo(J.x,J.y,xe.x,xe.y))}O.closePath()}return O}function nr(_,O){if(O.isComposite)for(var D=0;D<O.components.length;D+=1){var F=O.components[D],q=_.get(F.glyphIndex);if(q.getPath(),q.points){var K=void 0;if(F.matchedPoints===void 0)K=Ut(q.points,F);else{if(F.matchedPoints[0]>O.points.length-1||F.matchedPoints[1]>q.points.length-1)throw Error("Matched points out of range in "+O.name);var J=O.points[F.matchedPoints[0]],me=q.points[F.matchedPoints[1]],F={xScale:F.xScale,scale01:F.scale01,scale10:F.scale10,yScale:F.yScale,dx:0,dy:0},me=Ut([me],F)[0];F.dx=J.x-me.x,F.dy=J.y-me.y,K=Ut(q.points,F)}O.points=O.points.concat(K)}}return zt(O.points)}(Fe.prototype=Ae.prototype={searchTag:ve,binSearch:ye,getTable:function(_){var O=this.font.tables[this.tableName];return O=!O&&_?this.font.tables[this.tableName]=this.createDefaultTable():O},getScriptNames:function(){var _=this.getTable();return _?_.scripts.map(function(O){return O.tag}):[]},getDefaultScriptName:function(){var _=this.getTable();if(_){for(var O=!1,D=0;D<_.scripts.length;D++){var F=_.scripts[D].tag;if(F==="DFLT")return F;F==="latn"&&(O=!0)}return O?"latn":void 0}},getScriptTable:function(_,O){var D,F=this.getTable(O);if(F)return D=F.scripts,0<=(F=ve(F.scripts,_=_||"DFLT"))?D[F].script:O?(D.splice(-1-F,0,O={tag:_,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}),O.script):void 0},getLangSysTable:function(q,O,D){var F,q=this.getScriptTable(q,D);if(q)return O&&O!=="dflt"&&O!=="DFLT"?0<=(F=ve(q.langSysRecords,O))?q.langSysRecords[F].langSys:D?(q.langSysRecords.splice(-1-F,0,D={tag:O,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}}),D.langSys):void 0:q.defaultLangSys},getFeatureTable:function(_,O,D,F){if(_=this.getLangSysTable(_,O,F),_){for(var q,K=_.featureIndexes,J=this.font.tables[this.tableName].features,me=0;me<K.length;me++)if((q=J[K[me]]).tag===D)return q.feature;if(F)return O=J.length,B.assert(O===0||D>=J[O-1].tag,"Features must be added in alphabetical order."),J.push(q={tag:D,feature:{params:0,lookupListIndexes:[]}}),K.push(O),q.feature}},getLookupTables:function(K,O,D,F,q){var K=this.getFeatureTable(K,O,D,q),J=[];if(K){for(var me,we=K.lookupListIndexes,xe=this.font.tables[this.tableName].lookups,Re=0;Re<we.length;Re++)(me=xe[we[Re]]).lookupType===F&&J.push(me);if(J.length===0&&q)return O=xe.length,xe.push(me={lookupType:F,lookupFlag:0,subtables:[],markFilteringSet:void 0}),we.push(O),[me]}return J},getGlyphClass:function(_,O){switch(_.format){case 1:return _.startGlyph<=O&&O<_.startGlyph+_.classes.length?_.classes[O-_.startGlyph]:0;case 2:var D=Be(_.ranges,O);return D?D.classId:0}},getCoverageIndex:function(_,O){switch(_.format){case 1:var D=ye(_.glyphs,O);return 0<=D?D:-1;case 2:return D=Be(_.ranges,O),D?D.index+O-D.start:-1}},expandCoverage:function(_){if(_.format===1)return _.glyphs;for(var O=[],D=_.ranges,F=0;F<D.length;F++)for(var q=D[F],K=q.start,J=q.end,me=K;me<=J;me++)O.push(me);return O}}).init=function(){var _=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(_)},Fe.prototype.getKerningValue=function(_,O,D){for(var F=0;F<_.length;F++)for(var q=_[F].subtables,K=0;K<q.length;K++){var J=q[K],me=this.getCoverageIndex(J.coverage,O);if(!(me<0))switch(J.posFormat){case 1:for(var we=J.pairSets[me],xe=0;xe<we.length;xe++){var Re=we[xe];if(Re.secondGlyph===D)return Re.value1&&Re.value1.xAdvance||0}break;case 2:var Ne=this.getGlyphClass(J.classDef1,O),ze=this.getGlyphClass(J.classDef2,D),Ne=J.classRecords[Ne][ze];return Ne.value1&&Ne.value1.xAdvance||0}}return 0},Fe.prototype.getKerningTables=function(_,O){if(this.font.tables.gpos)return this.getLookupTables(_,O,"kern",2)},($e.prototype=Ae.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},$e.prototype.getSingle=function(_,O,D){for(var F=[],q=this.getLookupTables(O,D,_,1),K=0;K<q.length;K++)for(var J=q[K].subtables,me=0;me<J.length;me++){var we=J[me],xe=this.expandCoverage(we.coverage),Re=void 0;if(we.substFormat===1)for(var ze=we.deltaGlyphId,Re=0;Re<xe.length;Re++){var Ne=xe[Re];F.push({sub:Ne,by:Ne+ze})}else{var ke=we.substitute;for(Re=0;Re<xe.length;Re++)F.push({sub:xe[Re],by:ke[Re]})}}return F},$e.prototype.getAlternates=function(_,O,D){for(var F=[],q=this.getLookupTables(O,D,_,3),K=0;K<q.length;K++)for(var J=q[K].subtables,me=0;me<J.length;me++)for(var we=J[me],xe=this.expandCoverage(we.coverage),Re=we.alternateSets,ze=0;ze<xe.length;ze++)F.push({sub:xe[ze],by:Re[ze]});return F},$e.prototype.getLigatures=function(_,O,D){for(var F=[],q=this.getLookupTables(O,D,_,4),K=0;K<q.length;K++)for(var J=q[K].subtables,me=0;me<J.length;me++)for(var we=J[me],xe=this.expandCoverage(we.coverage),Re=we.ligatureSets,ze=0;ze<xe.length;ze++)for(var Ne=xe[ze],ke=Re[ze],rt=0;rt<ke.length;rt++){var We=ke[rt];F.push({sub:[Ne].concat(We.components),by:We.ligGlyph})}return F},$e.prototype.addSingle=function(_,O,D,F){D=dt(this.getLookupTables(D,F,_,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]}),B.assert(D.coverage.format===1,"Ligature: unable to modify coverage table format "+D.coverage.format),F=O.sub,_=this.binSearch(D.coverage.glyphs,F),_<0&&(D.coverage.glyphs.splice(_=-1-_,0,F),D.substitute.splice(_,0,0)),D.substitute[_]=O.by},$e.prototype.addAlternate=function(_,O,D,F){D=dt(this.getLookupTables(D,F,_,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]}),B.assert(D.coverage.format===1,"Ligature: unable to modify coverage table format "+D.coverage.format),F=O.sub,_=this.binSearch(D.coverage.glyphs,F),_<0&&(D.coverage.glyphs.splice(_=-1-_,0,F),D.alternateSets.splice(_,0,0)),D.alternateSets[_]=O.by},$e.prototype.addLigature=function(K,we,me,q){var me=this.getLookupTables(me,q,K,4,!0)[0],q=me.subtables[0],K=(q||(me.subtables[0]=q={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]}),B.assert(q.coverage.format===1,"Ligature: unable to modify coverage table format "+q.coverage.format),we.sub[0]),J=we.sub.slice(1),me={ligGlyph:we.by,components:J},we=this.binSearch(q.coverage.glyphs,K);if(0<=we){for(var xe=q.ligatureSets[we],Re=0;Re<xe.length;Re++)if(function(ze,Ne){var ke=ze.length;if(ke===Ne.length){for(var rt=0;rt<ke;rt++)if(ze[rt]!==Ne[rt])return;return 1}}(xe[Re].components,J))return;xe.push(me)}else q.coverage.glyphs.splice(we=-1-we,0,K),q.ligatureSets.splice(we,0,[me])},$e.prototype.getFeature=function(_,O,D){if(/ss\d\d/.test(_))return this.getSingle(_,O,D);switch(_){case"aalt":case"salt":return this.getSingle(_,O,D).concat(this.getAlternates(_,O,D));case"dlig":case"liga":case"rlig":return this.getLigatures(_,O,D)}},$e.prototype.add=function(_,O,D,F){if(/ss\d\d/.test(_))return this.addSingle(_,O,D,F);switch(_){case"aalt":case"salt":return typeof O.by=="number"?this.addSingle(_,O,D,F):this.addAlternate(_,O,D,F);case"dlig":case"liga":case"rlig":return this.addLigature(_,O,D,F)}};var Ht={getPath:zt,parse:function(_,O,D,F){for(var q=new ht.GlyphSet(F),K=0;K<D.length-1;K+=1){var J=D[K];J!==D[K+1]?q.push(K,ht.ttfGlyphLoader(F,K,ut,_,O+J,nr)):q.push(K,ht.glyphLoader(F,K))}return q}};function gr(_){this.font=_,this.getCommands=function(O){return Ht.getPath(O).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function Ar(_){return _}function hr(_){return Math.sign(_)*Math.round(Math.abs(_))}function Rn(_){return Math.sign(_)*Math.round(Math.abs(2*_))/2}function hn(_){return Math.sign(_)*(Math.round(Math.abs(_)+.5)-.5)}function ft(_){return Math.sign(_)*Math.ceil(Math.abs(_))}function Yt(_){return Math.sign(_)*Math.floor(Math.abs(_))}function vr(_){var O=this.srPeriod,D=this.srPhase,F=1;return _<0&&(_=-_,F=-1),_+=this.srThreshold-D,_=Math.trunc(_/O)*O,(_+=D)<0?D*F:_*F}var pr={x:1,y:0,axis:"x",distance:function(_,O,D,F){return(D?_.xo:_.x)-(F?O.xo:O.x)},interpolate:function(_,O,D,F){var q,K,J,me,we,xe,Re;if(!F||F===this)return q=_.xo-O.xo,K=_.xo-D.xo,we=O.x-O.xo,xe=D.x-D.xo,(Re=(J=Math.abs(q))+(me=Math.abs(K)))===0?void(_.x=_.xo+(we+xe)/2):void(_.x=_.xo+(we*me+xe*J)/Re);q=F.distance(_,O,!0,!0),K=F.distance(_,D,!0,!0),we=F.distance(O,O,!1,!0),xe=F.distance(D,D,!1,!0),(Re=(J=Math.abs(q))+(me=Math.abs(K)))===0?pr.setRelative(_,_,(we+xe)/2,F,!0):pr.setRelative(_,_,(we*me+xe*J)/Re,F,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(_,O,D,F,q){var K,J;F&&F!==this?(K=q?O.xo:O.x,J=q?O.yo:O.y,K+=D*F.x,J+=D*F.y,_.x=K+(_.y-J)/F.normalSlope):_.x=(q?O.xo:O.x)+D},slope:0,touch:function(_){_.xTouched=!0},touched:function(_){return _.xTouched},untouch:function(_){_.xTouched=!1}},Ur={x:0,y:1,axis:"y",distance:function(_,O,D,F){return(D?_.yo:_.y)-(F?O.yo:O.y)},interpolate:function(_,O,D,F){var q,K,J,me,we,xe,Re;if(!F||F===this)return q=_.yo-O.yo,K=_.yo-D.yo,we=O.y-O.yo,xe=D.y-D.yo,(Re=(J=Math.abs(q))+(me=Math.abs(K)))===0?void(_.y=_.yo+(we+xe)/2):void(_.y=_.yo+(we*me+xe*J)/Re);q=F.distance(_,O,!0,!0),K=F.distance(_,D,!0,!0),we=F.distance(O,O,!1,!0),xe=F.distance(D,D,!1,!0),(Re=(J=Math.abs(q))+(me=Math.abs(K)))===0?Ur.setRelative(_,_,(we+xe)/2,F,!0):Ur.setRelative(_,_,(we*me+xe*J)/Re,F,!0)},normalSlope:0,setRelative:function(_,O,D,F,q){var K,J;F&&F!==this?(K=q?O.xo:O.x,J=q?O.yo:O.y,K+=D*F.x,J+=D*F.y,_.y=J+F.normalSlope*(_.x-K)):_.y=(q?O.yo:O.y)+D},slope:Number.POSITIVE_INFINITY,touch:function(_){_.yTouched=!0},touched:function(_){return _.yTouched},untouch:function(_){_.yTouched=!1}};function xn(_,O){this.x=_,this.y=O,this.axis=void 0,this.slope=O/_,this.normalSlope=-_/O,Object.freeze(this)}function wn(_,O){var D=Math.sqrt(_*_+O*O);return O/=D,(_/=D)===1&&O===0?pr:_===0&&O===1?Ur:new xn(_,O)}function Yr(_,O,D,F){this.x=this.xo=Math.round(64*_)/64,this.y=this.yo=Math.round(64*O)/64,this.lastPointOfContour=D,this.onCurve=F,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(pr),Object.freeze(Ur),xn.prototype.distance=function(_,O,D,F){return this.x*pr.distance(_,O,D,F)+this.y*Ur.distance(_,O,D,F)},xn.prototype.interpolate=function(_,q,K,F){var J=F.distance(_,q,!0,!0),me=F.distance(_,K,!0,!0),q=F.distance(q,q,!1,!0),K=F.distance(K,K,!1,!0),J=Math.abs(J),me=Math.abs(me),we=J+me;we===0?this.setRelative(_,_,(q+K)/2,F,!0):this.setRelative(_,_,(q*me+K*J)/we,F,!0)},xn.prototype.setRelative=function(_,K,we,xe,me){var J=me?K.xo:K.x,me=me?K.yo:K.y,K=J+we*(xe=xe||this).x,J=me+we*xe.y,me=xe.normalSlope,we=this.slope,xe=_.x,Re=_.y;_.x=(we*xe-me*K+J-Re)/(we-me),_.y=we*(_.x-xe)+Re},xn.prototype.touch=function(_){_.xTouched=!0,_.yTouched=!0},Yr.prototype.nextTouched=function(_){for(var O=this.nextPointOnContour;!_.touched(O)&&O!==this;)O=O.nextPointOnContour;return O},Yr.prototype.prevTouched=function(_){for(var O=this.prevPointOnContour;!_.touched(O)&&O!==this;)O=O.prevPointOnContour;return O};var rn=Object.freeze(new Yr(0,0)),nn={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function on(_,O){switch(this.env=_,this.stack=[],this.prog=O,_){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=pr,this.round=hr}}function Xn(_){for(var O=_.tZone=new Array(_.gZone.length),D=0;D<O.length;D++)O[D]=new Yr(0,0)}function No(_,O){var D,F=_.prog,q=_.ip,K=1;do if((D=F[++q])===88)K++;else if(D===89)K--;else if(D===64)q+=F[q+1]+1;else if(D===65)q+=2*F[q+1]+1;else if(176<=D&&D<=183)q+=D-176+1;else if(184<=D&&D<=191)q+=2*(D-184+1);else if(O&&K===1&&D===27)break;while(0<K);_.ip=q}function Fo(_,O){p.DEBUG&&console.log(O.step,"SVTCA["+_.axis+"]"),O.fv=O.pv=O.dpv=_}function is(_,O){p.DEBUG&&console.log(O.step,"SPVTCA["+_.axis+"]"),O.pv=O.dpv=_}function as(_,O){p.DEBUG&&console.log(O.step,"SFVTCA["+_.axis+"]"),O.fv=_}function ls(_,O){var D,q=O.stack,F=q.pop(),q=q.pop(),K=O.z2[F],J=O.z1[q];p.DEBUG&&console.log("SPVTL["+_+"]",F,q),F=_?(D=K.y-J.y,J.x-K.x):(D=J.x-K.x,J.y-K.y),O.pv=O.dpv=wn(D,F)}function us(_,O){var D,q=O.stack,F=q.pop(),q=q.pop(),K=O.z2[F],J=O.z1[q];p.DEBUG&&console.log("SFVTL["+_+"]",F,q),F=_?(D=K.y-J.y,J.x-K.x):(D=J.x-K.x,J.y-K.y),O.fv=wn(D,F)}function cs(_){p.DEBUG&&console.log(_.step,"POP[]"),_.stack.pop()}function Hs(_,O){var D=O.stack.pop(),F=O.z0[D],q=O.fv,K=O.pv,J=(p.DEBUG&&console.log(O.step,"MDAP["+_+"]",D),K.distance(F,rn));_&&(J=O.round(J)),q.setRelative(F,rn,J,K),q.touch(F),O.rp0=O.rp1=D}function gl(_,O){var D,F,q,K=O.z2,J=K.length-2;p.DEBUG&&console.log(O.step,"IUP["+_.axis+"]");for(var me=0;me<J;me++)D=K[me],_.touched(D)||(F=D.prevTouched(_))!==D&&(F===(q=D.nextTouched(_))&&_.setRelative(D,D,_.distance(F,F,!1,!0),_,!0),_.interpolate(D,F,q,_))}function vl(_,O){for(var D=O.stack,F=_?O.rp1:O.rp2,q=(_?O.z0:O.z1)[F],K=O.fv,J=O.pv,me=O.loop,we=O.z2;me--;){var xe=D.pop(),Re=we[xe],ze=J.distance(q,q,!1,!0);K.setRelative(Re,Re,ze,J),K.touch(Re),p.DEBUG&&console.log(O.step,(1<O.loop?"loop "+(O.loop-me)+": ":"")+"SHP["+(_?"rp1":"rp2")+"]",xe)}O.loop=1}function bl(_,O){for(var D=O.stack,J=_?O.rp1:O.rp2,F=(_?O.z0:O.z1)[J],q=O.fv,K=O.pv,J=D.pop(),me=O.z2[O.contours[J]],we=me,xe=(p.DEBUG&&console.log(O.step,"SHC["+_+"]",J),K.distance(F,F,!1,!0));we!==F&&q.setRelative(we,we,xe,K),(we=we.nextPointOnContour)!==me;);}function _l(_,O){var D,F,me=O.stack,q=_?O.rp1:O.rp2,q=(_?O.z0:O.z1)[q],K=O.fv,J=O.pv,me=me.pop();switch(p.DEBUG&&console.log(O.step,"SHZ["+_+"]",me),me){case 0:D=O.tZone;break;case 1:D=O.gZone;break;default:throw new Error("Invalid zone")}for(var we=J.distance(q,q,!1,!0),xe=D.length-2,Re=0;Re<xe;Re++)F=D[Re],K.setRelative(F,F,we,J)}function xl(_,O){var F=O.stack,D=F.pop()/64,F=F.pop(),q=O.z1[F],K=O.z0[O.rp0],J=O.fv,me=O.pv;J.setRelative(q,K,D,me),J.touch(q),p.DEBUG&&console.log(O.step,"MSIRP["+_+"]",D,F),O.rp1=O.rp0,O.rp2=F,_&&(O.rp0=F)}function wl(_,O){var D=O.stack,me=D.pop(),D=D.pop(),F=O.z0[D],q=O.fv,K=O.pv,J=O.cvt[me],me=(p.DEBUG&&console.log(O.step,"MIAP["+_+"]",me,"(",J,")",D),K.distance(F,rn));_&&(Math.abs(me-J)<O.cvCutIn&&(me=J),me=O.round(me)),q.setRelative(F,rn,me,K),O.zp0===0&&(F.xo=F.x,F.yo=F.y),q.touch(F),O.rp0=O.rp1=D}function Sl(_,O){var D=O.stack,F=D.pop(),q=O.z2[F];p.DEBUG&&console.log(O.step,"GC["+_+"]",F),D.push(64*O.dpv.distance(q,rn,_,!1))}function jl(_,O){var F=O.stack,D=F.pop(),F=F.pop(),q=O.z1[D],K=O.z0[F],K=O.dpv.distance(K,q,_,_);p.DEBUG&&console.log(O.step,"MD["+_+"]",D,F,"->",K),O.stack.push(Math.round(64*K))}function ta(_,O){var D=O.stack,F=D.pop(),q=O.fv,K=O.pv,J=O.ppem,me=O.deltaBase+16*(_-1),we=O.deltaShift,xe=O.z0;p.DEBUG&&console.log(O.step,"DELTAP["+_+"]",F,D);for(var Re=0;Re<F;Re++){var ze=D.pop(),Ne=D.pop();me+((240&Ne)>>4)===J&&(0<=(Ne=(15&Ne)-8)&&Ne++,p.DEBUG&&console.log(O.step,"DELTAPFIX",ze,"by",Ne*we),ze=xe[ze],q.setRelative(ze,ze,Ne*we,K))}}function qs(_,O){var D=O.stack,F=D.pop();p.DEBUG&&console.log(O.step,"ROUND[]"),D.push(64*O.round(F/64))}function ra(_,O){var D=O.stack,F=D.pop(),q=O.ppem,K=O.deltaBase+16*(_-1),J=O.deltaShift;p.DEBUG&&console.log(O.step,"DELTAC["+_+"]",F,D);for(var me=0;me<F;me++){var we=D.pop(),xe=D.pop();K+((240&xe)>>4)===q&&(0<=(xe=(15&xe)-8)&&xe++,xe=xe*J,p.DEBUG&&console.log(O.step,"DELTACFIX",we,"by",xe),O.cvt[we]+=xe)}}function El(_,O){var D,q=O.stack,F=q.pop(),q=q.pop(),K=O.z2[F],J=O.z1[q];p.DEBUG&&console.log(O.step,"SDPVTL["+_+"]",F,q),F=_?(D=K.y-J.y,J.x-K.x):(D=J.x-K.x,J.y-K.y),O.dpv=wn(D,F)}function oo(_,O){var D=O.stack,F=O.prog,q=O.ip;p.DEBUG&&console.log(O.step,"PUSHB["+_+"]");for(var K=0;K<_;K++)D.push(F[++q]);O.ip=q}function so(_,O){var D=O.ip,F=O.prog,q=O.stack;p.DEBUG&&console.log(O.ip,"PUSHW["+_+"]");for(var K=0;K<_;K++){var J=F[++D]<<8|F[++D];32768&J&&(J=-(1+(65535^J))),q.push(J)}O.ip=D}function xt(_,O,D,F,q,K){var J,me,xe=K.stack,we=_&&xe.pop(),xe=xe.pop(),Re=K.rp0,Re=K.z0[Re],ze=K.z1[xe],Ne=K.minDis,ke=K.fv,rt=K.dpv,We=J=rt.distance(ze,Re,!0,!0),Ze=0<=We?1:-1;We=Math.abs(We),_&&(me=K.cvt[we],F&&Math.abs(We-me)<K.cvCutIn&&(We=me)),D&&We<Ne&&(We=Ne),F&&(We=K.round(We)),ke.setRelative(ze,Re,Ze*We,rt),ke.touch(ze),p.DEBUG&&console.log(K.step,(_?"MIRP[":"MDRP[")+(O?"M":"m")+(D?">":"_")+(F?"R":"_")+(q===0?"Gr":q===1?"Bl":q===2?"Wh":"")+"]",_?we+"("+K.cvt[we]+","+me+")":"",xe,"(d =",J,"->",Ze*We,")"),K.rp1=K.rp0,K.rp2=xe,O&&(K.rp0=xe)}gr.prototype.exec=function(_,O){if(typeof O!="number")throw new Error("Point size is not a number!");if(!(2<this._errorState)){var D=this.font,F=this._prepState;if(!F||F.ppem!==O){var q=this._fpgmState;if(!q){on.prototype=nn,(q=this._fpgmState=new on("fpgm",D.tables.fpgm)).funcs=[],q.font=D,p.DEBUG&&(console.log("---EXEC FPGM---"),q.step=-1);try{Bo(q)}catch(xe){return console.log("Hinting error in FPGM:"+xe),void(this._errorState=3)}}on.prototype=q,(F=this._prepState=new on("prep",D.tables.prep)).ppem=O;var K=D.tables.cvt;if(K)for(var J=F.cvt=new Array(K.length),me=O/D.unitsPerEm,we=0;we<K.length;we++)J[we]=K[we]*me;else F.cvt=[];p.DEBUG&&(console.log("---EXEC PREP---"),F.step=-1);try{Bo(F)}catch(xe){this._errorState<2&&console.log("Hinting error in PREP:"+xe),this._errorState=2}}if(!(1<this._errorState))try{return Ld(_,F)}catch(xe){this._errorState<1&&(console.log("Hinting error:"+xe),console.log("Note: further hinting errors are silenced")),this._errorState=1}}};var Ld=function(_,O){var D=O.ppem/O.font.unitsPerEm,F=D,q=_.components;if(on.prototype=O,q){for(var K=O.font,J=[],me=[],we=0;we<q.length;we++){var xe=q[we],Re=K.glyphs.get(xe.glyphIndex),ze=new on("glyf",Re.instructions);p.DEBUG&&(console.log("---EXEC COMP "+we+"---"),ze.step=-1),Tl(Re,ze,D,F);for(var Ne=Math.round(xe.dx*D),ke=Math.round(xe.dy*F),rt=ze.gZone,We=ze.contours,Ze=0;Ze<rt.length;Ze++){var Ve=rt[Ze];Ve.xTouched=Ve.yTouched=!1,Ve.xo=Ve.x=Ve.x+Ne,Ve.yo=Ve.y=Ve.y+ke}var Ge=J.length;J.push.apply(J,rt);for(var St=0;St<We.length;St++)me.push(We[St]+Ge)}_.instructions&&!ze.inhibitGridFit&&((ze=new on("glyf",_.instructions)).gZone=ze.z0=ze.z1=ze.z2=J,ze.contours=me,J.push(new Yr(0,0),new Yr(Math.round(_.advanceWidth*D),0)),p.DEBUG&&(console.log("---EXEC COMPOSITE---"),ze.step=-1),Bo(ze),J.length-=2)}else ze=new on("glyf",_.instructions),p.DEBUG&&(console.log("---EXEC GLYPH---"),ze.step=-1),Tl(_,ze,D,F),J=ze.gZone;return J},Tl=function(_,O,D,F){for(var q,K,J,me=_.points||[],we=me.length,xe=O.gZone=O.z0=O.z1=O.z2=[],Re=O.contours=[],ze=0;ze<we;ze++)q=me[ze],xe[ze]=new Yr(q.x*D,q.y*F,q.lastPointOfContour,q.onCurve);for(var Ne=0;Ne<we;Ne++)q=xe[Ne],K||(K=q,Re.push(Ne)),q.lastPointOfContour?((q.nextPointOnContour=K).prevPointOnContour=q,K=void 0):(J=xe[Ne+1],(q.nextPointOnContour=J).prevPointOnContour=q);if(!O.inhibitGridFit){if(p.DEBUG){console.log("PROCESSING GLYPH",O.stack);for(var ke=0;ke<we;ke++)console.log(ke,xe[ke].x,xe[ke].y)}if(xe.push(new Yr(0,0),new Yr(Math.round(_.advanceWidth*D),0)),Bo(O),xe.length-=2,p.DEBUG){console.log("FINISHED GLYPH",O.stack);for(var rt=0;rt<we;rt++)console.log(rt,xe[rt].x,xe[rt].y)}}},Bo=function(_){var O=_.prog;if(O){var D,F=O.length;for(_.ip=0;_.ip<F;_.ip++){if(p.DEBUG&&_.step++,!(D=Dd[O[_.ip]]))throw new Error("unknown instruction: 0x"+Number(O[_.ip]).toString(16));D(_)}}},Dd=[Fo.bind(void 0,Ur),Fo.bind(void 0,pr),is.bind(void 0,Ur),is.bind(void 0,pr),as.bind(void 0,Ur),as.bind(void 0,pr),ls.bind(void 0,0),ls.bind(void 0,1),us.bind(void 0,0),us.bind(void 0,1),function(_){var O=(D=_.stack).pop(),D=D.pop();p.DEBUG&&console.log(_.step,"SPVFS[]",O,D),_.pv=_.dpv=wn(D,O)},function(_){var O=(D=_.stack).pop(),D=D.pop();p.DEBUG&&console.log(_.step,"SPVFS[]",O,D),_.fv=wn(D,O)},function(_){var O=_.stack,D=_.pv;p.DEBUG&&console.log(_.step,"GPV[]"),O.push(16384*D.x),O.push(16384*D.y)},function(_){var O=_.stack,D=_.fv;p.DEBUG&&console.log(_.step,"GFV[]"),O.push(16384*D.x),O.push(16384*D.y)},function(_){_.fv=_.pv,p.DEBUG&&console.log(_.step,"SFVTPV[]")},function(O){var D=(J=O.stack).pop(),F=J.pop(),q=J.pop(),K=J.pop(),J=J.pop(),we=O.z0,Re=O.z1,me=we[D],we=we[F],xe=Re[q],Re=Re[K],O=O.z2[J],D=(p.DEBUG&&console.log("ISECT[], ",D,F,q,K,J),me.x),F=me.y,q=we.x,K=we.y,J=xe.x,me=xe.y,we=Re.x,xe=Re.y,Re=(D-q)*(me-xe)-(F-K)*(J-we),ze=D*K-F*q,Ne=J*xe-me*we;O.x=(ze*(J-we)-Ne*(D-q))/Re,O.y=(ze*(me-xe)-Ne*(F-K))/Re},function(_){_.rp0=_.stack.pop(),p.DEBUG&&console.log(_.step,"SRP0[]",_.rp0)},function(_){_.rp1=_.stack.pop(),p.DEBUG&&console.log(_.step,"SRP1[]",_.rp1)},function(_){_.rp2=_.stack.pop(),p.DEBUG&&console.log(_.step,"SRP2[]",_.rp2)},function(_){var O=_.stack.pop();switch(p.DEBUG&&console.log(_.step,"SZP0[]",O),_.zp0=O){case 0:_.tZone||Xn(_),_.z0=_.tZone;break;case 1:_.z0=_.gZone;break;default:throw new Error("Invalid zone pointer")}},function(_){var O=_.stack.pop();switch(p.DEBUG&&console.log(_.step,"SZP1[]",O),_.zp1=O){case 0:_.tZone||Xn(_),_.z1=_.tZone;break;case 1:_.z1=_.gZone;break;default:throw new Error("Invalid zone pointer")}},function(_){var O=_.stack.pop();switch(p.DEBUG&&console.log(_.step,"SZP2[]",O),_.zp2=O){case 0:_.tZone||Xn(_),_.z2=_.tZone;break;case 1:_.z2=_.gZone;break;default:throw new Error("Invalid zone pointer")}},function(_){var O=_.stack.pop();switch(p.DEBUG&&console.log(_.step,"SZPS[]",O),_.zp0=_.zp1=_.zp2=O){case 0:_.tZone||Xn(_),_.z0=_.z1=_.z2=_.tZone;break;case 1:_.z0=_.z1=_.z2=_.gZone;break;default:throw new Error("Invalid zone pointer")}},function(_){_.loop=_.stack.pop(),p.DEBUG&&console.log(_.step,"SLOOP[]",_.loop)},function(_){p.DEBUG&&console.log(_.step,"RTG[]"),_.round=hr},function(_){p.DEBUG&&console.log(_.step,"RTHG[]"),_.round=hn},function(_){var O=_.stack.pop();p.DEBUG&&console.log(_.step,"SMD[]",O),_.minDis=O/64},function(_){p.DEBUG&&console.log(_.step,"ELSE[]"),No(_,!1)},function(_){var O=_.stack.pop();p.DEBUG&&console.log(_.step,"JMPR[]",O),_.ip+=O-1},function(_){var O=_.stack.pop();p.DEBUG&&console.log(_.step,"SCVTCI[]",O),_.cvCutIn=O/64},void 0,void 0,function(_){var O=_.stack;p.DEBUG&&console.log(_.step,"DUP[]"),O.push(O[O.length-1])},cs,function(_){p.DEBUG&&console.log(_.step,"CLEAR[]"),_.stack.length=0},function(_){var O=_.stack,D=O.pop(),F=O.pop();p.DEBUG&&console.log(_.step,"SWAP[]"),O.push(D),O.push(F)},function(_){var O=_.stack;p.DEBUG&&console.log(_.step,"DEPTH[]"),O.push(O.length)},function(_){var O=_.stack,D=O.pop();p.DEBUG&&console.log(_.step,"CINDEX[]",D),O.push(O[O.length-D])},function(_){var O=_.stack,D=O.pop();p.DEBUG&&console.log(_.step,"MINDEX[]",D),O.push(O.splice(O.length-D,1)[0])},void 0,void 0,void 0,function(_){var O=(F=_.stack).pop(),D=F.pop(),F=(p.DEBUG&&console.log(_.step,"LOOPCALL[]",O,D),_.ip),q=_.prog;_.prog=_.funcs[O];for(var K=0;K<D;K++)Bo(_),p.DEBUG&&console.log(++_.step,K+1<D?"next loopcall":"done loopcall",K);_.ip=F,_.prog=q},function(_){var O=_.stack.pop(),D=(p.DEBUG&&console.log(_.step,"CALL[]",O),_.ip),F=_.prog;_.prog=_.funcs[O],Bo(_),_.ip=D,_.prog=F,p.DEBUG&&console.log(++_.step,"returning from",O)},function(_){if(_.env!=="fpgm")throw new Error("FDEF not allowed here");var F=_.stack,O=_.prog,D=_.ip,F=F.pop(),q=D;for(p.DEBUG&&console.log(_.step,"FDEF[]",F);O[++D]!==45;);_.ip=D,_.funcs[F]=O.slice(q+1,D)},void 0,Hs.bind(void 0,0),Hs.bind(void 0,1),gl.bind(void 0,Ur),gl.bind(void 0,pr),vl.bind(void 0,0),vl.bind(void 0,1),bl.bind(void 0,0),bl.bind(void 0,1),_l.bind(void 0,0),_l.bind(void 0,1),function(_){for(var O=_.stack,D=_.loop,F=_.fv,q=O.pop()/64,K=_.z2;D--;){var J=O.pop(),me=K[J];p.DEBUG&&console.log(_.step,(1<_.loop?"loop "+(_.loop-D)+": ":"")+"SHPIX[]",J,q),F.setRelative(me,me,q),F.touch(me)}_.loop=1},function(_){for(var O=_.stack,D=_.rp1,F=_.rp2,q=_.loop,K=_.z0[D],J=_.z1[F],me=_.fv,we=_.dpv,xe=_.z2;q--;){var Re=O.pop(),ze=xe[Re];p.DEBUG&&console.log(_.step,(1<_.loop?"loop "+(_.loop-q)+": ":"")+"IP[]",Re,D,"<->",F),me.interpolate(ze,K,J,we),me.touch(ze)}_.loop=1},xl.bind(void 0,0),xl.bind(void 0,1),function(_){for(var O=_.stack,D=_.rp0,F=_.z0[D],q=_.loop,K=_.fv,J=_.pv,me=_.z1;q--;){var we=O.pop(),xe=me[we];p.DEBUG&&console.log(_.step,(1<_.loop?"loop "+(_.loop-q)+": ":"")+"ALIGNRP[]",we),K.setRelative(xe,F,0,J),K.touch(xe)}_.loop=1},function(_){p.DEBUG&&console.log(_.step,"RTDG[]"),_.round=Rn},wl.bind(void 0,0),wl.bind(void 0,1),function(_){var O=_.prog,D=_.ip,F=_.stack,q=O[++D];p.DEBUG&&console.log(_.step,"NPUSHB[]",q);for(var K=0;K<q;K++)F.push(O[++D]);_.ip=D},function(_){var O=_.ip,D=_.prog,F=_.stack,q=D[++O];p.DEBUG&&console.log(_.step,"NPUSHW[]",q);for(var K=0;K<q;K++){var J=D[++O]<<8|D[++O];32768&J&&(J=-(1+(65535^J))),F.push(J)}_.ip=O},function(_){var F=_.stack,O=(O=_.store)||(_.store=[]),D=F.pop(),F=F.pop();p.DEBUG&&console.log(_.step,"WS",D,F),O[F]=D},function(q){var O=q.stack,D=q.store,F=O.pop(),q=(p.DEBUG&&console.log(q.step,"RS",F),D&&D[F]||0);O.push(q)},function(_){var O=(D=_.stack).pop(),D=D.pop();p.DEBUG&&console.log(_.step,"WCVTP",O,D),_.cvt[D]=O/64},function(_){var O=_.stack,D=O.pop();p.DEBUG&&console.log(_.step,"RCVT",D),O.push(64*_.cvt[D])},Sl.bind(void 0,0),Sl.bind(void 0,1),void 0,jl.bind(void 0,0),jl.bind(void 0,1),function(_){p.DEBUG&&console.log(_.step,"MPPEM[]"),_.stack.push(_.ppem)},void 0,function(_){p.DEBUG&&console.log(_.step,"FLIPON[]"),_.autoFlip=!0},void 0,void 0,function(_){var O=_.stack,D=O.pop(),F=O.pop();p.DEBUG&&console.log(_.step,"LT[]",D,F),O.push(F<D?1:0)},function(_){var O=_.stack,D=O.pop(),F=O.pop();p.DEBUG&&console.log(_.step,"LTEQ[]",D,F),O.push(F<=D?1:0)},function(_){var O=_.stack,D=O.pop(),F=O.pop();p.DEBUG&&console.log(_.step,"GT[]",D,F),O.push(D<F?1:0)},function(_){var O=_.stack,D=O.pop(),F=O.pop();p.DEBUG&&console.log(_.step,"GTEQ[]",D,F),O.push(D<=F?1:0)},function(_){var O=_.stack,D=O.pop(),F=O.pop();p.DEBUG&&console.log(_.step,"EQ[]",D,F),O.push(D===F?1:0)},function(_){var O=_.stack,D=O.pop(),F=O.pop();p.DEBUG&&console.log(_.step,"NEQ[]",D,F),O.push(D!==F?1:0)},function(_){var O=_.stack,D=O.pop();p.DEBUG&&console.log(_.step,"ODD[]",D),O.push(Math.trunc(D)%2?1:0)},function(_){var O=_.stack,D=O.pop();p.DEBUG&&console.log(_.step,"EVEN[]",D),O.push(Math.trunc(D)%2?0:1)},function(_){var O=_.stack.pop();p.DEBUG&&console.log(_.step,"IF[]",O),O||(No(_,!0),p.DEBUG&&console.log(_.step,"EIF[]"))},function(_){p.DEBUG&&console.log(_.step,"EIF[]")},function(_){var O=_.stack,D=O.pop(),F=O.pop();p.DEBUG&&console.log(_.step,"AND[]",D,F),O.push(D&&F?1:0)},function(_){var O=_.stack,D=O.pop(),F=O.pop();p.DEBUG&&console.log(_.step,"OR[]",D,F),O.push(D||F?1:0)},function(_){var O=_.stack,D=O.pop();p.DEBUG&&console.log(_.step,"NOT[]",D),O.push(D?0:1)},ta.bind(void 0,1),function(_){var O=_.stack.pop();p.DEBUG&&console.log(_.step,"SDB[]",O),_.deltaBase=O},function(_){var O=_.stack.pop();p.DEBUG&&console.log(_.step,"SDS[]",O),_.deltaShift=Math.pow(.5,O)},function(_){var O=_.stack,D=O.pop(),F=O.pop();p.DEBUG&&console.log(_.step,"ADD[]",D,F),O.push(F+D)},function(_){var O=_.stack,D=O.pop(),F=O.pop();p.DEBUG&&console.log(_.step,"SUB[]",D,F),O.push(F-D)},function(_){var O=_.stack,D=O.pop(),F=O.pop();p.DEBUG&&console.log(_.step,"DIV[]",D,F),O.push(64*F/D)},function(_){var O=_.stack,D=O.pop(),F=O.pop();p.DEBUG&&console.log(_.step,"MUL[]",D,F),O.push(F*D/64)},function(_){var O=_.stack,D=O.pop();p.DEBUG&&console.log(_.step,"ABS[]",D),O.push(Math.abs(D))},function(_){var O=_.stack,D=O.pop();p.DEBUG&&console.log(_.step,"NEG[]",D),O.push(-D)},function(_){var O=_.stack,D=O.pop();p.DEBUG&&console.log(_.step,"FLOOR[]",D),O.push(64*Math.floor(D/64))},function(_){var O=_.stack,D=O.pop();p.DEBUG&&console.log(_.step,"CEILING[]",D),O.push(64*Math.ceil(D/64))},qs.bind(void 0,0),qs.bind(void 0,1),qs.bind(void 0,2),qs.bind(void 0,3),void 0,void 0,void 0,void 0,function(_){var O=(D=_.stack).pop(),D=D.pop();p.DEBUG&&console.log(_.step,"WCVTF[]",O,D),_.cvt[D]=O*_.ppem/_.font.unitsPerEm},ta.bind(void 0,2),ta.bind(void 0,3),ra.bind(void 0,1),ra.bind(void 0,2),ra.bind(void 0,3),function(_){var O,D=_.stack.pop();switch(p.DEBUG&&console.log(_.step,"SROUND[]",D),_.round=vr,192&D){case 0:O=.5;break;case 64:O=1;break;case 128:O=2;break;default:throw new Error("invalid SROUND value")}switch(_.srPeriod=O,48&D){case 0:_.srPhase=0;break;case 16:_.srPhase=.25*O;break;case 32:_.srPhase=.5*O;break;case 48:_.srPhase=.75*O;break;default:throw new Error("invalid SROUND value")}_.srThreshold=(D&=15)===0?0:(D/8-.5)*O},function(_){var O,D=_.stack.pop();switch(p.DEBUG&&console.log(_.step,"S45ROUND[]",D),_.round=vr,192&D){case 0:O=Math.sqrt(2)/2;break;case 64:O=Math.sqrt(2);break;case 128:O=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(_.srPeriod=O,48&D){case 0:_.srPhase=0;break;case 16:_.srPhase=.25*O;break;case 32:_.srPhase=.5*O;break;case 48:_.srPhase=.75*O;break;default:throw new Error("invalid S45ROUND value")}_.srThreshold=(D&=15)===0?0:(D/8-.5)*O},void 0,void 0,function(_){p.DEBUG&&console.log(_.step,"ROFF[]"),_.round=Ar},void 0,function(_){p.DEBUG&&console.log(_.step,"RUTG[]"),_.round=ft},function(_){p.DEBUG&&console.log(_.step,"RDTG[]"),_.round=Yt},cs,cs,void 0,void 0,void 0,void 0,void 0,function(_){var O=_.stack.pop();p.DEBUG&&console.log(_.step,"SCANCTRL[]",O)},El.bind(void 0,0),El.bind(void 0,1),function(_){var O=_.stack,D=O.pop(),F=0;p.DEBUG&&console.log(_.step,"GETINFO[]",D),1&D&&(F=35),32&D&&(F|=4096),O.push(F)},void 0,function(_){var O=_.stack,D=O.pop(),F=O.pop(),q=O.pop();p.DEBUG&&console.log(_.step,"ROLL[]"),O.push(F),O.push(D),O.push(q)},function(_){var O=_.stack,D=O.pop(),F=O.pop();p.DEBUG&&console.log(_.step,"MAX[]",D,F),O.push(Math.max(F,D))},function(_){var O=_.stack,D=O.pop(),F=O.pop();p.DEBUG&&console.log(_.step,"MIN[]",D,F),O.push(Math.min(F,D))},function(_){var O=_.stack.pop();p.DEBUG&&console.log(_.step,"SCANTYPE[]",O)},function(_){var O=_.stack.pop(),D=_.stack.pop();switch(p.DEBUG&&console.log(_.step,"INSTCTRL[]",O,D),O){case 1:return void(_.inhibitGridFit=!!D);case 2:return void(_.ignoreCvt=!!D);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,oo.bind(void 0,1),oo.bind(void 0,2),oo.bind(void 0,3),oo.bind(void 0,4),oo.bind(void 0,5),oo.bind(void 0,6),oo.bind(void 0,7),oo.bind(void 0,8),so.bind(void 0,1),so.bind(void 0,2),so.bind(void 0,3),so.bind(void 0,4),so.bind(void 0,5),so.bind(void 0,6),so.bind(void 0,7),so.bind(void 0,8),xt.bind(void 0,0,0,0,0,0),xt.bind(void 0,0,0,0,0,1),xt.bind(void 0,0,0,0,0,2),xt.bind(void 0,0,0,0,0,3),xt.bind(void 0,0,0,0,1,0),xt.bind(void 0,0,0,0,1,1),xt.bind(void 0,0,0,0,1,2),xt.bind(void 0,0,0,0,1,3),xt.bind(void 0,0,0,1,0,0),xt.bind(void 0,0,0,1,0,1),xt.bind(void 0,0,0,1,0,2),xt.bind(void 0,0,0,1,0,3),xt.bind(void 0,0,0,1,1,0),xt.bind(void 0,0,0,1,1,1),xt.bind(void 0,0,0,1,1,2),xt.bind(void 0,0,0,1,1,3),xt.bind(void 0,0,1,0,0,0),xt.bind(void 0,0,1,0,0,1),xt.bind(void 0,0,1,0,0,2),xt.bind(void 0,0,1,0,0,3),xt.bind(void 0,0,1,0,1,0),xt.bind(void 0,0,1,0,1,1),xt.bind(void 0,0,1,0,1,2),xt.bind(void 0,0,1,0,1,3),xt.bind(void 0,0,1,1,0,0),xt.bind(void 0,0,1,1,0,1),xt.bind(void 0,0,1,1,0,2),xt.bind(void 0,0,1,1,0,3),xt.bind(void 0,0,1,1,1,0),xt.bind(void 0,0,1,1,1,1),xt.bind(void 0,0,1,1,1,2),xt.bind(void 0,0,1,1,1,3),xt.bind(void 0,1,0,0,0,0),xt.bind(void 0,1,0,0,0,1),xt.bind(void 0,1,0,0,0,2),xt.bind(void 0,1,0,0,0,3),xt.bind(void 0,1,0,0,1,0),xt.bind(void 0,1,0,0,1,1),xt.bind(void 0,1,0,0,1,2),xt.bind(void 0,1,0,0,1,3),xt.bind(void 0,1,0,1,0,0),xt.bind(void 0,1,0,1,0,1),xt.bind(void 0,1,0,1,0,2),xt.bind(void 0,1,0,1,0,3),xt.bind(void 0,1,0,1,1,0),xt.bind(void 0,1,0,1,1,1),xt.bind(void 0,1,0,1,1,2),xt.bind(void 0,1,0,1,1,3),xt.bind(void 0,1,1,0,0,0),xt.bind(void 0,1,1,0,0,1),xt.bind(void 0,1,1,0,0,2),xt.bind(void 0,1,1,0,0,3),xt.bind(void 0,1,1,0,1,0),xt.bind(void 0,1,1,0,1,1),xt.bind(void 0,1,1,0,1,2),xt.bind(void 0,1,1,0,1,3),xt.bind(void 0,1,1,1,0,0),xt.bind(void 0,1,1,1,0,1),xt.bind(void 0,1,1,1,0,2),xt.bind(void 0,1,1,1,0,3),xt.bind(void 0,1,1,1,1,0),xt.bind(void 0,1,1,1,1,1),xt.bind(void 0,1,1,1,1,2),xt.bind(void 0,1,1,1,1,3)],Nd=Array.from||function(_){return _.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};function tr(_){(_=_||{}).empty||(Qe(_.familyName,"When creating a new Font object, familyName is required."),Qe(_.styleName,"When creating a new Font object, styleName is required."),Qe(_.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),Qe(_.ascender,"When creating a new Font object, ascender is required."),Qe(_.descender,"When creating a new Font object, descender is required."),Qe(_.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:_.familyName||" "},fontSubfamily:{en:_.styleName||" "},fullName:{en:_.fullName||_.familyName+" "+_.styleName},postScriptName:{en:_.postScriptName||(_.familyName+_.styleName).replace(/\s/g,"")},designer:{en:_.designer||" "},designerURL:{en:_.designerURL||" "},manufacturer:{en:_.manufacturer||" "},manufacturerURL:{en:_.manufacturerURL||" "},license:{en:_.license||" "},licenseURL:{en:_.licenseURL||" "},version:{en:_.version||"Version 0.1"},description:{en:_.description||" "},copyright:{en:_.copyright||" "},trademark:{en:_.trademark||" "}},this.unitsPerEm=_.unitsPerEm||1e3,this.ascender=_.ascender,this.descender=_.descender,this.createdTimestamp=_.createdTimestamp,this.tables={os2:{usWeightClass:_.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:_.widthClass||this.usWidthClasses.MEDIUM,fsSelection:_.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new ht.GlyphSet(this,_.glyphs||[]),this.encoding=new Ie(this),this.position=new Fe(this),this.substitution=new $e(this),this.tables=this.tables||{},Object.defineProperty(this,"hinting",{get:function(){return this._hinting||(this.outlinesFormat==="truetype"?this._hinting=new gr(this):void 0)}})}function kl(_,O){var D,F=JSON.stringify(_),q=256;for(D in O){var K=parseInt(D);if(K&&!(K<256)){if(JSON.stringify(O[D])===F)return K;q<=K&&(q=K+1)}}return O[q]=_,q}tr.prototype.hasChar=function(_){return this.encoding.charToGlyphIndex(_)!==null},tr.prototype.charToGlyphIndex=function(_){return this.encoding.charToGlyphIndex(_)},tr.prototype.charToGlyph=function(_){return _=this.charToGlyphIndex(_),this.glyphs.get(_)||this.glyphs.get(0)},tr.prototype.stringToGlyphs=function(_,O){O=O||this.defaultRenderOptions;for(var D=Nd(_),F=[],q=0;q<D.length;q+=1){var K=D[q];F.push(this.charToGlyphIndex(K))}var J=F.length;if(O.features){var _=O.script||this.substitution.getDefaultScriptName(),me=[];O.features.liga&&(me=me.concat(this.substitution.getFeature("liga",_,O.language))),O.features.rlig&&(me=me.concat(this.substitution.getFeature("rlig",_,O.language)));for(var we=0;we<J;we+=1)for(var xe=0;xe<me.length;xe++){for(var Re=me[xe],ze=Re.sub,Ne=ze.length,ke=0;ke<Ne&&ze[ke]===F[we+ke];)ke++;ke===Ne&&(F.splice(we,Ne,Re.by),J=J-Ne+1)}}for(var rt=new Array(J),We=this.glyphs.get(0),Ze=0;Ze<J;Ze+=1)rt[Ze]=this.glyphs.get(F[Ze])||We;return rt},tr.prototype.nameToGlyphIndex=function(_){return this.glyphNames.nameToGlyphIndex(_)},tr.prototype.nameToGlyph=function(_){return _=this.nameToGlyphIndex(_),this.glyphs.get(_)||this.glyphs.get(0)},tr.prototype.glyphIndexToName=function(_){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(_):""},tr.prototype.getKerningValue=function(_,O){_=_.index||_,O=O.index||O;var D=this.position.defaultKerningTables;return D?this.position.getKerningValue(D,_,O):this.kerningPairs[_+","+O]||0},tr.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},tr.prototype.forEachGlyph=function(_,O,D,F,q,K){O=O!==void 0?O:0,D=D!==void 0?D:0,q=q||this.defaultRenderOptions;var J,me=1/this.unitsPerEm*(F=F!==void 0?F:72),we=this.stringToGlyphs(_,q);q.kerning&&(_=q.script||this.position.getDefaultScriptName(),J=this.position.getKerningTables(_,q.language));for(var xe=0;xe<we.length;xe+=1){var Re=we[xe];K.call(this,Re,O,D,F,q),Re.advanceWidth&&(O+=Re.advanceWidth*me),q.kerning&&xe<we.length-1&&(O+=(J?this.position.getKerningValue(J,Re.index,we[xe+1].index):this.getKerningValue(Re,we[xe+1]))*me),q.letterSpacing?O+=q.letterSpacing*F:q.tracking&&(O+=q.tracking/1e3*F)}return O},tr.prototype.getPath=function(_,O,D,F,q){var K=new Y;return this.forEachGlyph(_,O,D,F,q,function(J,me,we,xe){J=J.getPath(me,we,xe,q,this),K.extend(J)}),K},tr.prototype.getPaths=function(_,O,D,F,q){var K=[];return this.forEachGlyph(_,O,D,F,q,function(J,me,we,xe){J=J.getPath(me,we,xe,q,this),K.push(J)}),K},tr.prototype.getAdvanceWidth=function(_,O,D){return this.forEachGlyph(_,0,0,O,D,function(){})},tr.prototype.draw=function(_,O,D,F,q,K){this.getPath(O,D,F,q,K).draw(_)},tr.prototype.drawPoints=function(_,O,D,F,q,K){this.forEachGlyph(O,D,F,q,K,function(J,me,we,xe){J.drawPoints(_,me,we,xe)})},tr.prototype.drawMetrics=function(_,O,D,F,q,K){this.forEachGlyph(O,D,F,q,K,function(J,me,we,xe){J.drawMetrics(_,me,we,xe)})},tr.prototype.getEnglishName=function(_){if(_=this.names[_],_)return _.en},tr.prototype.validate=function(){var _=this;function O(D){D=_.getEnglishName(D),D&&D.trim().length}O("fontFamily"),O("weightName"),O("manufacturer"),O("copyright"),O("version"),this.unitsPerEm},tr.prototype.toTables=function(){return se.fontToTable(this)},tr.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},tr.prototype.toArrayBuffer=function(){for(var _=this.toTables().encode(),O=new ArrayBuffer(_.length),D=new Uint8Array(O),F=0;F<_.length;F++)D[F]=_[F];return O},tr.prototype.download=function(_){var O=this.getEnglishName("fontFamily"),D=this.getEnglishName("fontSubfamily"),F=(_=_||O.replace(/\s/g,"")+"-"+D+".otf",this.toArrayBuffer());typeof window<"u"?(window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,F.byteLength,function(q){q.root.getFile(_,{create:!0},function(K){K.createWriter(function(J){var me=new DataView(F),me=new Blob([me],{type:"font/opentype"});J.write(me),J.addEventListener("writeend",function(){location.href=K.toURL()},!1)})})},function(q){throw new Error(q.name+": "+q.message)})):(O=t("fs"),D=function(q){for(var K=new o(q.byteLength),J=new Uint8Array(q),me=0;me<K.length;++me)K[me]=J[me];return K}(F),O.writeFileSync(_,D))},tr.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},tr.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},tr.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var Fd={make:function(_,O){var D=new ue.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:_.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:_.instances.length},{name:"instanceSize",type:"USHORT",value:4+4*_.axes.length}]);D.offsetToData=D.sizeOf();for(var F,q,K,J=0;J<_.axes.length;J++)D.fields=D.fields.concat((F=J,q=_.axes[J],K=O,K=kl(q.name,O),[{name:"tag_"+F,type:"TAG",value:q.tag},{name:"minValue_"+F,type:"FIXED",value:q.minValue<<16},{name:"defaultValue_"+F,type:"FIXED",value:q.defaultValue<<16},{name:"maxValue_"+F,type:"FIXED",value:q.maxValue<<16},{name:"flags_"+F,type:"USHORT",value:0},{name:"nameID_"+F,type:"USHORT",value:K}]));for(var me=0;me<_.instances.length;me++)D.fields=D.fields.concat(function(we,xe,Re,ze){for(var Ne=[{name:"nameID_"+we,type:"USHORT",value:kl(xe.name,ze)},{name:"flags_"+we,type:"USHORT",value:0}],ke=0;ke<Re.length;++ke){var rt=Re[ke].tag;Ne.push({name:"axis_"+we+" "+rt,type:"FIXED",value:xe.coordinates[rt]<<16})}return Ne}(me,_.instances[me],_.axes,O));return D},parse:function(_,O,D){for(var F,q,K,J,me=new De.Parser(_,O),we=me.parseULong(),xe=(B.argument(we===65536,"Unsupported fvar table version."),me.parseOffset16()),Re=(me.skip("uShort",1),me.parseUShort()),ze=me.parseUShort(),Ne=me.parseUShort(),ke=me.parseUShort(),rt=[],We=0;We<Re;We++)rt.push((F=_,q=O+xe+We*ze,K=D,J={},F=new De.Parser(F,q),J.tag=F.parseTag(),J.minValue=F.parseFixed(),J.defaultValue=F.parseFixed(),J.maxValue=F.parseFixed(),F.skip("uShort",1),J.name=K[F.parseUShort()]||{},J));for(var Ze=[],Ve=O+xe+Re*ze,Ge=0;Ge<Ne;Ge++)Ze.push(function(St,Ot,jt,Et){var Dt={},or=new De.Parser(St,Ot);Dt.name=Et[or.parseUShort()]||{},or.skip("uShort",1),Dt.coordinates={};for(var br=0;br<jt.length;++br)Dt.coordinates[jt[br].tag]=or.parseFixed();return Dt}(_,Ve+Ge*ke,rt,D));return{axes:rt,instances:Ze}}},Pn=new Array(10);Pn[1]=function(){var _=this.offset+this.relativeOffset,O=this.parseUShort();return O===1?{posFormat:1,coverage:this.parsePointer(Ee.coverage),value:this.parseValueRecord()}:O===2?{posFormat:2,coverage:this.parsePointer(Ee.coverage),values:this.parseValueRecordList()}:void B.assert(!1,"0x"+_.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},Pn[2]=function(){var _,O,D,F,K=this.offset+this.relativeOffset,q=this.parseUShort(),K=(B.assert(q===1||q===2,"0x"+K.toString(16)+": GPOS lookup type 2 format must be 1 or 2."),this.parsePointer(Ee.coverage)),J=this.parseUShort(),me=this.parseUShort();return q===1?{posFormat:q,coverage:K,valueFormat1:J,valueFormat2:me,pairSets:this.parseList(Ee.pointer(Ee.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(J),value2:this.parseValueRecord(me)}})))}:q===2?(_=this.parsePointer(Ee.classDef),O=this.parsePointer(Ee.classDef),D=this.parseUShort(),F=this.parseUShort(),{posFormat:q,coverage:K,valueFormat1:J,valueFormat2:me,classDef1:_,classDef2:O,class1Count:D,class2Count:F,classRecords:this.parseList(D,Ee.list(F,function(){return{value1:this.parseValueRecord(J),value2:this.parseValueRecord(me)}}))}):void 0},Pn[3]=function(){return{error:"GPOS Lookup 3 not supported"}},Pn[4]=function(){return{error:"GPOS Lookup 4 not supported"}},Pn[5]=function(){return{error:"GPOS Lookup 5 not supported"}},Pn[6]=function(){return{error:"GPOS Lookup 6 not supported"}},Pn[7]=function(){return{error:"GPOS Lookup 7 not supported"}},Pn[8]=function(){return{error:"GPOS Lookup 8 not supported"}},Pn[9]=function(){return{error:"GPOS Lookup 9 not supported"}};var Bd=new Array(10),Ud={parse:function(_,O){return O=(_=new Ee(_,O=O||0)).parseVersion(1),B.argument(O===1||O===1.1,"Unsupported GPOS table version "+O),O===1?{version:O,scripts:_.parseScriptList(),features:_.parseFeatureList(),lookups:_.parseLookupList(Pn)}:{version:O,scripts:_.parseScriptList(),features:_.parseFeatureList(),lookups:_.parseLookupList(Pn),variations:_.parseFeatureVariationsList()}},make:function(_){return new ue.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new ue.ScriptList(_.scripts)},{name:"features",type:"TABLE",value:new ue.FeatureList(_.features)},{name:"lookups",type:"TABLE",value:new ue.LookupList(_.lookups,Bd)}])}},zd={parse:function(_,O){if(_=new De.Parser(_,O),(O=_.parseUShort())===0){var D=_,F={},ze=(D.skip("uShort"),D.parseUShort()),q=(B.argument(ze===0,"Unsupported kern sub-table version."),D.skip("uShort",2),D.parseUShort());D.skip("uShort",3);for(var K=0;K<q;K+=1){var J=D.parseUShort(),me=D.parseUShort(),we=D.parseShort();F[J+","+me]=we}return F}if(O!==1)throw new Error("Unsupported kern table version ("+O+").");var xe=_,Re={},ze=(xe.skip("uShort"),1<xe.parseULong()&&console.warn("Only the first kern subtable is supported."),xe.skip("uLong"),255&xe.parseUShort());if(xe.skip("uShort"),ze==0){var Ne=xe.parseUShort();xe.skip("uShort",3);for(var ke=0;ke<Ne;ke+=1){var rt=xe.parseUShort(),We=xe.parseUShort(),Ze=xe.parseShort();Re[rt+","+We]=Ze}}return Re}},Vd={parse:function(_,O,D,F){for(var q=new De.Parser(_,O),K=F?q.parseUShort:q.parseULong,J=[],me=0;me<D+1;me+=1){var we=K.call(q);F&&(we*=2),J.push(we)}return J}};function Gd(_,O){t("fs").readFile(_,function(D,F){if(D)return O(D.message);O(null,ot(F))})}function Hd(_,O){var D=new XMLHttpRequest;D.open("get",_,!0),D.responseType="arraybuffer",D.onload=function(){return D.response?O(null,D.response):O("Font could not be loaded: "+D.statusText)},D.onerror=function(){O("Font could not be loaded")},D.send()}function Cl(_,O){for(var D=[],F=12,q=0;q<O;q+=1){var K=De.getTag(_,F),J=De.getULong(_,F+4),me=De.getULong(_,F+8),we=De.getULong(_,F+12);D.push({tag:K,checksum:J,offset:me,length:we,compression:!1}),F+=16}return D}function Ir(D,O){if(O.compression!=="WOFF")return{data:D,offset:O.offset};var D=new Uint8Array(D.buffer,O.offset+2,O.compressedLength-2),F=new Uint8Array(O.length);if(W(D,F),F.byteLength!==O.length)throw new Error("Decompression error: "+O.tag+" decompressed length doesn't match recorded length");return{data:new DataView(F.buffer,0),offset:0}}function na(Ge){var O,D,F,q,K,J,me,we,xe,Re,ze,Ne,ke,rt,We=new tr({empty:!0}),Ze=new DataView(Ge,0),Ve=[],Ge=De.getTag(Ze,0);if(Ge==="\0\0\0"||Ge==="true"||Ge==="typ1")We.outlinesFormat="truetype",Ve=Cl(Ze,F=De.getUShort(Ze,4));else if(Ge==="OTTO")We.outlinesFormat="cff",Ve=Cl(Ze,F=De.getUShort(Ze,4));else{if(Ge!=="wOFF")throw new Error("Unsupported OpenType signature "+Ge);var St=De.getTag(Ze,4);if(St==="\0\0\0")We.outlinesFormat="truetype";else{if(St!=="OTTO")throw new Error("Unsupported OpenType flavor "+Ge);We.outlinesFormat="cff"}Ve=function(ir,Jt){for(var ln=[],mr=44,Qr=0;Qr<Jt;Qr+=1){var ar=De.getTag(ir,mr),$r=De.getULong(ir,mr+4),ds=De.getULong(ir,mr+8),Uo=De.getULong(ir,mr+12),Ml=void 0,Ml=ds<Uo&&"WOFF";ln.push({tag:ar,offset:$r,compression:Ml,compressedLength:ds,length:Uo}),mr+=20}return ln}(Ze,F=De.getUShort(Ze,12))}for(var Ot=0;Ot<F;Ot+=1){var jt=Ve[Ot],Et=void 0;switch(jt.tag){case"cmap":Et=Ir(Ze,jt),We.tables.cmap=ie.parse(Et.data,Et.offset),We.encoding=new Ue(We.tables.cmap);break;case"cvt ":Et=Ir(Ze,jt),rt=new De.Parser(Et.data,Et.offset),We.tables.cvt=rt.parseShortList(jt.length/2);break;case"fvar":K=jt;break;case"fpgm":Et=Ir(Ze,jt),rt=new De.Parser(Et.data,Et.offset),We.tables.fpgm=rt.parseByteList(jt.length);break;case"head":Et=Ir(Ze,jt),We.tables.head=Xr.parse(Et.data,Et.offset),We.unitsPerEm=We.tables.head.unitsPerEm,O=We.tables.head.indexToLocFormat;break;case"hhea":Et=Ir(Ze,jt),We.tables.hhea=Te.parse(Et.data,Et.offset),We.ascender=We.tables.hhea.ascender,We.descender=We.tables.hhea.descender,We.numberOfHMetrics=We.tables.hhea.numberOfHMetrics;break;case"hmtx":xe=jt;break;case"ltag":Et=Ir(Ze,jt),D=yt.parse(Et.data,Et.offset);break;case"maxp":Et=Ir(Ze,jt),We.tables.maxp=nt.parse(Et.data,Et.offset),We.numGlyphs=We.tables.maxp.numGlyphs;break;case"name":Ne=jt;break;case"OS/2":Et=Ir(Ze,jt),We.tables.os2=Or.parse(Et.data,Et.offset);break;case"post":Et=Ir(Ze,jt),We.tables.post=Bs.parse(Et.data,Et.offset),We.glyphNames=new lt(We.tables.post);break;case"prep":Et=Ir(Ze,jt),rt=new De.Parser(Et.data,Et.offset),We.tables.prep=rt.parseByteList(jt.length);break;case"glyf":J=jt;break;case"loca":ze=jt;break;case"CFF ":q=jt;break;case"kern":Re=jt;break;case"GPOS":me=jt;break;case"GSUB":we=jt;break;case"meta":ke=jt}}if(St=Ir(Ze,Ne),We.tables.name=fn.parse(St.data,St.offset,D),We.names=We.tables.name,J&&ze)Ge=O===0,St=Ir(Ze,ze),St=Vd.parse(St.data,St.offset,We.numGlyphs,Ge),Ge=Ir(Ze,J),We.glyphs=Ht.parse(Ge.data,Ge.offset,St,We);else{if(!q)throw new Error("Font doesn't contain TrueType or CFF outlines.");Ge=Ir(Ze,q),Kr.parse(Ge.data,Ge.offset,We)}for(var St=Ir(Ze,xe),Dt=(st.parse(St.data,St.offset,We.numberOfHMetrics,We.numGlyphs,We.glyphs),We),or=Dt.tables.cmap.glyphIndexMap,br=Object.keys(or),Rr=0;Rr<br.length;Rr+=1){var sn,an=br[Rr],Ln=or[an];(sn=Dt.glyphs.get(Ln)).addUnicode(parseInt(an))}for(var rr=0;rr<Dt.glyphs.length;rr+=1)sn=Dt.glyphs.get(rr),Dt.cffEncoding?Dt.isCIDFont?sn.name="gid"+rr:sn.name=Dt.cffEncoding.charset[rr]:Dt.glyphNames.names&&(sn.name=Dt.glyphNames.glyphIndexToName(rr));return Re?(Ge=Ir(Ze,Re),We.kerningPairs=zd.parse(Ge.data,Ge.offset)):We.kerningPairs={},me&&(St=Ir(Ze,me),We.tables.gpos=Ud.parse(St.data,St.offset),We.position.init()),we&&(Ge=Ir(Ze,we),We.tables.gsub=Us.parse(Ge.data,Ge.offset)),K&&(St=Ir(Ze,K),We.tables.fvar=Fd.parse(St.data,St.offset,We.names)),ke&&(Ge=Ir(Ze,ke),We.tables.meta=zs.parse(Ge.data,Ge.offset),We.metas=We.tables.meta),We}p.Font=tr,p.Glyph=ct,p.Path=Y,p.BoundingBox=Z,p._parse=De,p.parse=na,p.load=function(_,O){(typeof window>"u"?Gd:Hd)(_,function(D,F){if(D)return O(D);var q;try{q=na(F)}catch(K){return O(K,null)}return O(null,q)})},p.loadSync=function(_){return na(ot(t("fs").readFileSync(_)))},Object.defineProperty(p,"__esModule",{value:!0})},s(typeof b=="object"&&S!==void 0?b:d.opentype={})}).call(this,t("buffer").Buffer)},{buffer:4,fs:2}],258:[function(t,S,b){(function(o){function d(y,m){for(var n=0,r=y.length-1;0<=r;r--){var c=y[r];c==="."?y.splice(r,1):c===".."?(y.splice(r,1),n++):n&&(y.splice(r,1),n--)}if(m)for(;n--;)y.unshift("..");return y}function s(y,m){if(y.filter)return y.filter(m);for(var n=[],r=0;r<y.length;r++)m(y[r],r,y)&&n.push(y[r]);return n}b.resolve=function(){for(var y="",m=!1,n=arguments.length-1;-1<=n&&!m;n--){var r=0<=n?arguments[n]:o.cwd();if(typeof r!="string")throw new TypeError("Arguments to path.resolve must be strings");r&&(y=r+"/"+y,m=r.charAt(0)==="/")}return(m?"/":"")+(y=d(s(y.split("/"),function(c){return!!c}),!m).join("/"))||"."},b.normalize=function(y){var m=b.isAbsolute(y),n=p(y,-1)==="/";return(y=(y=d(s(y.split("/"),function(r){return!!r}),!m).join("/"))||m?y:".")&&n&&(y+="/"),(m?"/":"")+y},b.isAbsolute=function(y){return y.charAt(0)==="/"},b.join=function(){var y=Array.prototype.slice.call(arguments,0);return b.normalize(s(y,function(m,n){if(typeof m!="string")throw new TypeError("Arguments to path.join must be strings");return m}).join("/"))},b.relative=function(y,m){function n(g){for(var v=0;v<g.length&&g[v]==="";v++);for(var x=g.length-1;0<=x&&g[x]==="";x--);return x<v?[]:g.slice(v,x-v+1)}y=b.resolve(y).substr(1),m=b.resolve(m).substr(1);for(var r=n(y.split("/")),c=n(m.split("/")),a=Math.min(r.length,c.length),h=a,u=0;u<a;u++)if(r[u]!==c[u]){h=u;break}for(var l=[],u=h;u<r.length;u++)l.push("..");return(l=l.concat(c.slice(h))).join("/")},b.sep="/",b.delimiter=":",b.dirname=function(y){if(typeof y!="string"&&(y+=""),y.length===0)return".";for(var m=y.charCodeAt(0)===47,n=-1,r=!0,c=y.length-1;1<=c;--c)if(y.charCodeAt(c)===47){if(!r){n=c;break}}else r=!1;return n===-1?m?"/":".":m&&n===1?"/":y.slice(0,n)},b.basename=function(y,m){return y=function(n){typeof n!="string"&&(n+="");for(var r=0,c=-1,a=!0,h=n.length-1;0<=h;--h)if(n.charCodeAt(h)===47){if(!a){r=h+1;break}}else c===-1&&(a=!1,c=h+1);return c===-1?"":n.slice(r,c)}(y),y=m&&y.substr(-1*m.length)===m?y.substr(0,y.length-m.length):y},b.extname=function(y){typeof y!="string"&&(y+="");for(var m=-1,n=0,r=-1,c=!0,a=0,h=y.length-1;0<=h;--h){var u=y.charCodeAt(h);if(u===47){if(c)continue;n=h+1;break}r===-1&&(c=!1,r=h+1),u===46?m===-1?m=h:a!==1&&(a=1):m!==-1&&(a=-1)}return m===-1||r===-1||a===0||a===1&&m===r-1&&m===n+1?"":y.slice(m,r)};var p="ab".substr(-1)==="b"?function(y,m,n){return y.substr(m,n)}:function(y,m,n){return m<0&&(m=y.length+m),y.substr(m,n)}}).call(this,t("_process"))},{_process:259}],259:[function(t,s,b){var o,d,s=s.exports={};function p(){throw new Error("setTimeout has not been defined")}function y(){throw new Error("clearTimeout has not been defined")}try{o=typeof setTimeout=="function"?setTimeout:p}catch{o=p}try{d=typeof clearTimeout=="function"?clearTimeout:y}catch{d=y}function m(v){if(o===setTimeout)return setTimeout(v,0);if((o===p||!o)&&setTimeout)return(o=setTimeout)(v,0);try{return o(v,0)}catch{try{return o.call(null,v,0)}catch{return o.call(this,v,0)}}}var n,r=[],c=!1,a=-1;function h(){c&&n&&(c=!1,n.length?r=n.concat(r):a=-1,r.length&&u())}function u(){if(!c){for(var v=m(h),x=(c=!0,r.length);x;){for(n=r,r=[];++a<x;)n&&n[a].run();a=-1,x=r.length}n=null,c=!1,function(k){if(d===clearTimeout)return clearTimeout(k);if((d===y||!d)&&clearTimeout)return(d=clearTimeout)(k);try{d(k)}catch{try{return d.call(null,k)}catch{return d.call(this,k)}}}(v)}}function l(v,x){this.fun=v,this.array=x}function g(){}s.nextTick=function(v){var x=new Array(arguments.length-1);if(1<arguments.length)for(var k=1;k<arguments.length;k++)x[k-1]=arguments[k];r.push(new l(v,x)),r.length!==1||c||m(u)},l.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=g,s.addListener=g,s.once=g,s.off=g,s.removeListener=g,s.removeAllListeners=g,s.emit=g,s.prependListener=g,s.prependOnceListener=g,s.listeners=function(v){return[]},s.binding=function(v){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(v){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},{}],260:[function(t,S,b){S=function(o){var d,s=Object.prototype,p=s.hasOwnProperty,E=typeof Symbol=="function"?Symbol:{},y=E.iterator||"@@iterator",m=E.asyncIterator||"@@asyncIterator",n=E.toStringTag||"@@toStringTag";function r(G,V,H,X){var Y,Q,M,B,V=V&&V.prototype instanceof v?V:v,V=Object.create(V.prototype),X=new I(X||[]);return V._invoke=(Y=G,Q=H,M=X,B=a,function(re,ne){if(B===u)throw new Error("Generator is already running");if(B===l){if(re==="throw")throw ne;return z()}for(M.method=re,M.arg=ne;;){var ce=M.delegate;if(ce&&(ce=function be(he,le){var ge=he.iterator[le.method];if(ge===d){if(le.delegate=null,le.method==="throw"){if(he.iterator.return&&(le.method="return",le.arg=d,be(he,le),le.method==="throw"))return g;le.method="throw",le.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}if(ge=c(ge,he.iterator,le.arg),ge.type==="throw")return le.method="throw",le.arg=ge.arg,le.delegate=null,g;if(ge=ge.arg,!ge)return le.method="throw",le.arg=new TypeError("iterator result is not an object"),le.delegate=null,g;{if(!ge.done)return ge;le[he.resultName]=ge.value,le.next=he.nextLoc,le.method!=="return"&&(le.method="next",le.arg=d)}return le.delegate=null,g}(ce,M),ce)){if(ce===g)continue;return ce}if(M.method==="next")M.sent=M._sent=M.arg;else if(M.method==="throw"){if(B===a)throw B=l,M.arg;M.dispatchException(M.arg)}else M.method==="return"&&M.abrupt("return",M.arg);if(B=u,ce=c(Y,Q,M),ce.type==="normal"){if(B=M.done?l:h,ce.arg!==g)return{value:ce.arg,done:M.done}}else ce.type==="throw"&&(B=l,M.method="throw",M.arg=ce.arg)}}),V}function c(G,W,H){try{return{type:"normal",arg:G.call(W,H)}}catch(Z){return{type:"throw",arg:Z}}}o.wrap=r;var a="suspendedStart",h="suspendedYield",u="executing",l="completed",g={};function v(){}function x(){}function k(){}var E={},j=(E[y]=function(){return this},Object.getPrototypeOf),j=j&&j(j(N([]))),C=(j&&j!==s&&p.call(j,y)&&(E=j),k.prototype=v.prototype=Object.create(E));function L(G){["next","throw","return"].forEach(function(W){G[W]=function(H){return this._invoke(W,H)}})}function A(G){var W;this._invoke=function(H,Z){function Y(){return new Promise(function(Q,M){(function B(be,X,re,ne){var ce,be=c(G[be],G,X);if(be.type!=="throw")return(X=(ce=be.arg).value)&&typeof X=="object"&&p.call(X,"__await")?Promise.resolve(X.__await).then(function(he){B("next",he,re,ne)},function(he){B("throw",he,re,ne)}):Promise.resolve(X).then(function(he){ce.value=he,re(ce)},function(he){return B("throw",he,re,ne)});ne(be.arg)})(H,Z,Q,M)})}return W=W?W.then(Y,Y):Y()}}function P(G){var W={tryLoc:G[0]};1 in G&&(W.catchLoc=G[1]),2 in G&&(W.finallyLoc=G[2],W.afterLoc=G[3]),this.tryEntries.push(W)}function R(G){var W=G.completion||{};W.type="normal",delete W.arg,G.completion=W}function I(G){this.tryEntries=[{tryLoc:"root"}],G.forEach(P,this),this.reset(!0)}function N(G){if(G){var W,H=G[y];if(H)return H.call(G);if(typeof G.next=="function")return G;if(!isNaN(G.length))return W=-1,(H=function Z(){for(;++W<G.length;)if(p.call(G,W))return Z.value=G[W],Z.done=!1,Z;return Z.value=d,Z.done=!0,Z}).next=H}return{next:z}}function z(){return{value:d,done:!0}}return(x.prototype=C.constructor=k).constructor=x,k[n]=x.displayName="GeneratorFunction",o.isGeneratorFunction=function(G){return G=typeof G=="function"&&G.constructor,!!G&&(G===x||(G.displayName||G.name)==="GeneratorFunction")},o.mark=function(G){return Object.setPrototypeOf?Object.setPrototypeOf(G,k):(G.__proto__=k,n in G||(G[n]="GeneratorFunction")),G.prototype=Object.create(C),G},o.awrap=function(G){return{__await:G}},L(A.prototype),A.prototype[m]=function(){return this},o.AsyncIterator=A,o.async=function(G,W,H,Z){var Y=new A(r(G,W,H,Z));return o.isGeneratorFunction(W)?Y:Y.next().then(function(Q){return Q.done?Q.value:Y.next()})},L(C),C[n]="Generator",C[y]=function(){return this},C.toString=function(){return"[object Generator]"},o.keys=function(G){var W,H=[];for(W in G)H.push(W);return H.reverse(),function Z(){for(;H.length;){var Y=H.pop();if(Y in G)return Z.value=Y,Z.done=!1,Z}return Z.done=!0,Z}},o.values=N,I.prototype={constructor:I,reset:function(G){if(this.prev=0,this.next=0,this.sent=this._sent=d,this.done=!1,this.delegate=null,this.method="next",this.arg=d,this.tryEntries.forEach(R),!G)for(var W in this)W.charAt(0)==="t"&&p.call(this,W)&&!isNaN(+W.slice(1))&&(this[W]=d)},stop:function(){this.done=!0;var G=this.tryEntries[0].completion;if(G.type==="throw")throw G.arg;return this.rval},dispatchException:function(G){if(this.done)throw G;var W=this;function H(V,X){return Q.type="throw",Q.arg=G,W.next=V,X&&(W.method="next",W.arg=d),!!X}for(var Z=this.tryEntries.length-1;0<=Z;--Z){var Y=this.tryEntries[Z],Q=Y.completion;if(Y.tryLoc==="root")return H("end");if(Y.tryLoc<=this.prev){var M=p.call(Y,"catchLoc"),B=p.call(Y,"finallyLoc");if(M&&B){if(this.prev<Y.catchLoc)return H(Y.catchLoc,!0);if(this.prev<Y.finallyLoc)return H(Y.finallyLoc)}else if(M){if(this.prev<Y.catchLoc)return H(Y.catchLoc,!0)}else{if(!B)throw new Error("try statement without catch or finally");if(this.prev<Y.finallyLoc)return H(Y.finallyLoc)}}}},abrupt:function(G,W){for(var H=this.tryEntries.length-1;0<=H;--H){var Z=this.tryEntries[H];if(Z.tryLoc<=this.prev&&p.call(Z,"finallyLoc")&&this.prev<Z.finallyLoc){var Y=Z;break}}var Q=(Y=Y&&(G==="break"||G==="continue")&&Y.tryLoc<=W&&W<=Y.finallyLoc?null:Y)?Y.completion:{};return Q.type=G,Q.arg=W,Y?(this.method="next",this.next=Y.finallyLoc,g):this.complete(Q)},complete:function(G,W){if(G.type==="throw")throw G.arg;return G.type==="break"||G.type==="continue"?this.next=G.arg:G.type==="return"?(this.rval=this.arg=G.arg,this.method="return",this.next="end"):G.type==="normal"&&W&&(this.next=W),g},finish:function(G){for(var W=this.tryEntries.length-1;0<=W;--W){var H=this.tryEntries[W];if(H.finallyLoc===G)return this.complete(H.completion,H.afterLoc),R(H),g}},catch:function(G){for(var W=this.tryEntries.length-1;0<=W;--W){var H,Z,Y=this.tryEntries[W];if(Y.tryLoc===G)return(H=Y.completion).type==="throw"&&(Z=H.arg,R(Y)),Z}throw new Error("illegal catch attempt")},delegateYield:function(G,W,H){return this.delegate={iterator:N(G),resultName:W,nextLoc:H},this.method==="next"&&(this.arg=d),g}},o}(typeof S=="object"?S.exports:{});try{regeneratorRuntime=S}catch{Function("r","regeneratorRuntime = r")(S)}},{}],261:[function(t,S,b){(function(o){var d,s,p,y,m,n,r,c,a,h;function u(R){if(typeof R!="string"&&(R=String(R)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(R))throw new TypeError("Invalid character in header field name");return R.toLowerCase()}function l(R){return R=typeof R!="string"?String(R):R}function g(R){var I={next:function(){var N=R.shift();return{done:N===void 0,value:N}}};return s&&(I[Symbol.iterator]=function(){return I}),I}function v(R){this.map={},R instanceof v?R.forEach(function(I,N){this.append(N,I)},this):Array.isArray(R)?R.forEach(function(I){this.append(I[0],I[1])},this):R&&Object.getOwnPropertyNames(R).forEach(function(I){this.append(I,R[I])},this)}function x(R){if(R.bodyUsed)return Promise.reject(new TypeError("Already read"));R.bodyUsed=!0}function k(R){return new Promise(function(I,N){R.onload=function(){I(R.result)},R.onerror=function(){N(R.error)}})}function E(R){var I=new FileReader,N=k(I);return I.readAsArrayBuffer(R),N}function j(R){var I;return R.slice?R.slice(0):((I=new Uint8Array(R.byteLength)).set(new Uint8Array(R)),I.buffer)}function C(){return this.bodyUsed=!1,this._initBody=function(R){if(this._bodyInit=R)if(typeof R=="string")this._bodyText=R;else if(p&&Blob.prototype.isPrototypeOf(R))this._bodyBlob=R;else if(y&&FormData.prototype.isPrototypeOf(R))this._bodyFormData=R;else if(d&&URLSearchParams.prototype.isPrototypeOf(R))this._bodyText=R.toString();else if(m&&p&&r(R))this._bodyArrayBuffer=j(R.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!m||!ArrayBuffer.prototype.isPrototypeOf(R)&&!c(R))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=j(R)}else this._bodyText="";this.headers.get("content-type")||(typeof R=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):d&&URLSearchParams.prototype.isPrototypeOf(R)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},p&&(this.blob=function(){var R=x(this);if(R)return R;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?x(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(E)}),this.text=function(){var R,I,N=x(this);if(N)return N;if(this._bodyBlob)return N=this._bodyBlob,R=new FileReader,I=k(R),R.readAsText(N),I;if(this._bodyArrayBuffer)return Promise.resolve(function(z){for(var G=new Uint8Array(z),W=new Array(G.length),H=0;H<G.length;H++)W[H]=String.fromCharCode(G[H]);return W.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},y&&(this.formData=function(){return this.text().then(A)}),this.json=function(){return this.text().then(JSON.parse)},this}function L(R,I){var N,z=(I=I||{}).body;if(R instanceof L){if(R.bodyUsed)throw new TypeError("Already read");this.url=R.url,this.credentials=R.credentials,I.headers||(this.headers=new v(R.headers)),this.method=R.method,this.mode=R.mode,z||R._bodyInit==null||(z=R._bodyInit,R.bodyUsed=!0)}else this.url=String(R);if(this.credentials=I.credentials||this.credentials||"omit",!I.headers&&this.headers||(this.headers=new v(I.headers)),this.method=(R=I.method||this.method||"GET",N=R.toUpperCase(),-1<a.indexOf(N)?N:R),this.mode=I.mode||this.mode||null,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&z)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(z)}function A(R){var I=new FormData;return R.trim().split("&").forEach(function(N){var z;N&&(z=(N=N.split("=")).shift().replace(/\+/g," "),N=N.join("=").replace(/\+/g," "),I.append(decodeURIComponent(z),decodeURIComponent(N)))}),I}function P(R,I){I=I||{},this.type="default",this.status=I.status===void 0?200:I.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in I?I.statusText:"OK",this.headers=new v(I.headers),this.url=I.url||"",this._initBody(R)}o.fetch||(d="URLSearchParams"in o,s="Symbol"in o&&"iterator"in Symbol,p="FileReader"in o&&"Blob"in o&&function(){try{return new Blob,!0}catch{return!1}}(),y="FormData"in o,(m="ArrayBuffer"in o)&&(n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],r=function(R){return R&&DataView.prototype.isPrototypeOf(R)},c=ArrayBuffer.isView||function(R){return R&&-1<n.indexOf(Object.prototype.toString.call(R))}),v.prototype.append=function(R,I){R=u(R),I=l(I);var N=this.map[R];this.map[R]=N?N+","+I:I},v.prototype.delete=function(R){delete this.map[u(R)]},v.prototype.get=function(R){return R=u(R),this.has(R)?this.map[R]:null},v.prototype.has=function(R){return this.map.hasOwnProperty(u(R))},v.prototype.set=function(R,I){this.map[u(R)]=l(I)},v.prototype.forEach=function(R,I){for(var N in this.map)this.map.hasOwnProperty(N)&&R.call(I,this.map[N],N,this)},v.prototype.keys=function(){var R=[];return this.forEach(function(I,N){R.push(N)}),g(R)},v.prototype.values=function(){var R=[];return this.forEach(function(I){R.push(I)}),g(R)},v.prototype.entries=function(){var R=[];return this.forEach(function(I,N){R.push([N,I])}),g(R)},s&&(v.prototype[Symbol.iterator]=v.prototype.entries),a=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],L.prototype.clone=function(){return new L(this,{body:this._bodyInit})},C.call(L.prototype),C.call(P.prototype),P.prototype.clone=function(){return new P(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new v(this.headers),url:this.url})},P.error=function(){var R=new P(null,{status:0,statusText:""});return R.type="error",R},h=[301,302,303,307,308],P.redirect=function(R,I){if(h.indexOf(I)===-1)throw new RangeError("Invalid status code");return new P(null,{status:I,headers:{location:R}})},o.Headers=v,o.Request=L,o.Response=P,o.fetch=function(R,I){return new Promise(function(N,z){var G=new L(R,I),W=new XMLHttpRequest;W.onload=function(){var H,Z={status:W.status,statusText:W.statusText,headers:(Z=W.getAllResponseHeaders()||"",H=new v,Z.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(M){var M=M.split(":"),B=M.shift().trim();B&&(M=M.join(":").trim(),H.append(B,M))}),H)},Y=(Z.url="responseURL"in W?W.responseURL:Z.headers.get("X-Request-URL"),"response"in W?W.response:W.responseText);N(new P(Y,Z))},W.onerror=function(){z(new TypeError("Network request failed"))},W.ontimeout=function(){z(new TypeError("Network request failed"))},W.open(G.method,G.url,!0),G.credentials==="include"?W.withCredentials=!0:G.credentials==="omit"&&(W.withCredentials=!1),"responseType"in W&&p&&(W.responseType="blob"),G.headers.forEach(function(H,Z){W.setRequestHeader(Z,H)}),W.send(G._bodyInit===void 0?null:G._bodyInit)})},o.fetch.polyfill=!0)})(typeof self<"u"?self:this)},{}],262:[function(t,S,b){t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var o,d=p(t("../core/main")),s=p(t("../color/color_conversion"));function p(n){return n&&n.__esModule?n:{default:n}}var y=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],m=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];d.default.prototype._rgbColorName=function(a){var r,c,a=s.default._rgbaToHSBA(a),h=[(o=a)[0],a[1],a[2]];h[0]!==0&&(h[0]=Math.round(100*h[0]),(a=h[0].toString().split(""))[c=a.length-1]=parseInt(a[c]),a[c]<2.5?a[c]=0:2.5<=a[c]&&a[c]<7.5&&(a[c]=5),a.length===2?(a[0]=parseInt(a[0]),7.5<=a[c]&&(a[c]=0,a[0]=a[0]+1),h[0]=10*a[0]+a[1]):7.5<=a[c]?h[0]=10:h[0]=a[c]),h[2]=h[2]/255;for(var u=h.length-1;1<=u;u--)h[u]<=.25?h[u]=0:.25<h[u]&&h[u]<.75?h[u]=.5:h[u]=1;if(h[0]===0&&h[1]===0&&h[2]===1){for(var l=2;0<=l;l--)o[l]=Math.round(1e4*o[l])/1e4;for(var g=0;g<y.length;g++){if(y[g].h===o[0]&&y[g].s===o[1]&&y[g].b===o[2]){r=y[g].name;break}r="white"}}else for(var v=0;v<m.length;v++)if(m[v].h===h[0]&&m[v].s===h[1]&&m[v].b===h[2]){r=m[v].name;break}return r},t=d.default,b.default=t},{"../color/color_conversion":268,"../core/main":283,"core-js/modules/es.function.name":174,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.split":206}],263:[function(t,S,b){t("core-js/modules/es.array.concat"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.replace"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var o=(t=t("../core/main"))&&t.__esModule?t:{default:t},d="_Description",s="_fallbackDesc",p="_fallbackTable",y="_Label",m="_labelDesc",n="_labelTable";function r(c){if(c==="label"||c==="fallback")throw new Error("description should not be LABEL or FALLBACK");return c.endsWith(".")||c.endsWith(";")||c.endsWith(",")||c.endsWith("?")||c.endsWith("!")||(c+="."),c}o.default.prototype.describe=function(c,a){var h;o.default._validateParameters("describe",arguments),typeof c=="string"&&(h=this.canvas.id,c=r(c),this.dummyDOM||(this.dummyDOM=document.getElementById(h).parentNode),this.descriptions||(this.descriptions={}),this.descriptions.fallback?this.descriptions.fallback.innerHTML!==c&&(this.descriptions.fallback.innerHTML=c):this._describeHTML("fallback",c),a===this.LABEL&&(this.descriptions.label?this.descriptions.label.innerHTML!==c&&(this.descriptions.label.innerHTML=c):this._describeHTML("label",c)))},o.default.prototype.describeElement=function(c,a,h){var u,l;o.default._validateParameters("describeElement",arguments),typeof a=="string"&&typeof c=="string"&&(u=this.canvas.id,a=r(a),l=function(g){if(g==="label"||g==="fallback")throw new Error("element name should not be LABEL or FALLBACK");return g.endsWith(".")||g.endsWith(";")||g.endsWith(",")?g=g.replace(/.$/,":"):g.endsWith(":")||(g+=":"),g}(c),c=c.replace(/[^a-zA-Z0-9]/g,""),l='<th scope="row">'.concat(l,"</th><td>").concat(a,"</td>"),this.dummyDOM||(this.dummyDOM=document.getElementById(u).parentNode),this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}},this.descriptions.fallbackElements[c]?this.descriptions.fallbackElements[c].innerHTML!==l&&(this.descriptions.fallbackElements[c].innerHTML=l):this._describeElementHTML("fallback",c,l),h===this.LABEL&&(this.descriptions.labelElements||(this.descriptions.labelElements={}),this.descriptions.labelElements[c]?this.descriptions.labelElements[c].innerHTML!==l&&(this.descriptions.labelElements[c].innerHTML=l):this._describeElementHTML("label",c,l)))},o.default.prototype._describeHTML=function(c,a){var h,u=this.canvas.id;c==="fallback"?(this.dummyDOM.querySelector("#".concat(u+d))?this.dummyDOM.querySelector("#"+u+p).insertAdjacentHTML("beforebegin",'<p id="'.concat(u+s,'"></p>')):(h='<div id="'.concat(u).concat(d,'" role="region" aria-label="Canvas Description"><p id="').concat(u).concat(s,'"></p></div>'),this.dummyDOM.querySelector("#".concat(u,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(u,"accessibleOutput")).insertAdjacentHTML("beforebegin",h):this.dummyDOM.querySelector("#".concat(u)).innerHTML=h),this.descriptions.fallback=this.dummyDOM.querySelector("#".concat(u).concat(s)),this.descriptions.fallback.innerHTML=a):c==="label"&&(this.dummyDOM.querySelector("#".concat(u+y))?this.dummyDOM.querySelector("#".concat(u+n))&&this.dummyDOM.querySelector("#".concat(u+n)).insertAdjacentHTML("beforebegin",'<p id="'.concat(u).concat(m,'"></p>')):(h='<div id="'.concat(u).concat(y,'" class="p5Label"><p id="').concat(u).concat(m,'"></p></div>'),this.dummyDOM.querySelector("#".concat(u,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(u,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",h):this.dummyDOM.querySelector("#"+u).insertAdjacentHTML("afterend",h)),this.descriptions.label=this.dummyDOM.querySelector("#"+u+m),this.descriptions.label.innerHTML=a)},o.default.prototype._describeElementHTML=function(c,a,h){var u,l=this.canvas.id;c==="fallback"?(this.dummyDOM.querySelector("#".concat(l+d))?this.dummyDOM.querySelector("#"+l+p)||this.dummyDOM.querySelector("#"+l+s).insertAdjacentHTML("afterend",'<table id="'.concat(l).concat(p,'"><caption>Canvas elements and their descriptions</caption></table>')):(u='<div id="'.concat(l).concat(d,'" role="region" aria-label="Canvas Description"><table id="').concat(l).concat(p,'"><caption>Canvas elements and their descriptions</caption></table></div>'),this.dummyDOM.querySelector("#".concat(l,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(l,"accessibleOutput")).insertAdjacentHTML("beforebegin",u):this.dummyDOM.querySelector("#"+l).innerHTML=u),(u=document.createElement("tr")).id=l+"_fte_"+a,this.dummyDOM.querySelector("#"+l+p).appendChild(u),this.descriptions.fallbackElements[a]=this.dummyDOM.querySelector("#".concat(l).concat("_fte_").concat(a)),this.descriptions.fallbackElements[a].innerHTML=h):c==="label"&&(this.dummyDOM.querySelector("#".concat(l+y))?this.dummyDOM.querySelector("#".concat(l+n))||this.dummyDOM.querySelector("#"+l+m).insertAdjacentHTML("afterend",'<table id="'.concat(l+n,'"></table>')):(u='<div id="'.concat(l).concat(y,'" class="p5Label"><table id="').concat(l).concat(n,'"></table></div>'),this.dummyDOM.querySelector("#".concat(l,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(l,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",u):this.dummyDOM.querySelector("#"+l).insertAdjacentHTML("afterend",u)),(c=document.createElement("tr")).id=l+"_lte_"+a,this.dummyDOM.querySelector("#"+l+n).appendChild(c),this.descriptions.labelElements[a]=this.dummyDOM.querySelector("#".concat(l).concat("_lte_").concat(a)),this.descriptions.labelElements[a].innerHTML=h)},t=o.default,b.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.ends-with":198,"core-js/modules/es.string.replace":204}],264:[function(t,S,b){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.map"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.map"),t("core-js/modules/es.string.iterator"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype._updateGridOutput=function(o){var d,s,p,y;this.dummyDOM.querySelector("#".concat(o,"_summary"))&&(d=this._accessibleOutputs[o],p=function(m,n,r,c){return n="".concat(n," canvas, ").concat(r," by ").concat(c," pixels, contains ").concat(m[0]),n=(m[0]===1?"".concat(n," shape: "):"".concat(n," shapes: ")).concat(m[1]),n}((s=function(m,n){var r,c="",a="",h=0;for(r in n){var u,l=0;for(u in n[r]){var g='<li id="'.concat(m,"shape").concat(h,'">').concat(n[r][u].color," ").concat(r,",");r==="line"?g+=" location = ".concat(n[r][u].pos,", length = ").concat(n[r][u].length," pixels"):(g+=" location = ".concat(n[r][u].pos),r!=="point"&&(g+=", area = ".concat(n[r][u].area," %")),g+="</li>"),c+=g,l++,h++}a=1<l?"".concat(a," ").concat(l," ").concat(r,"s"):"".concat(a," ").concat(l," ").concat(r)}return{numShapes:[h,a],details:c}}(o,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),y=function(m,n){var r,c,a=0,h="",u=Array.from(Array(10),function(){return Array(10)});for(r in n)for(var l in n[r]){var g=void 0;g=r!=="line"?'<a href="#'.concat(m,"shape").concat(a,'">').concat(n[r][l].color," ").concat(r,"</a>"):'<a href="#'.concat(m,"shape").concat(a,'">').concat(n[r][l].color," ").concat(r," midpoint</a>"),n[r][l].loc.locY<u.length&&n[r][l].loc.locX<u[n[r][l].loc.locY].length&&(u[n[r][l].loc.locY][n[r][l].loc.locX]?u[n[r][l].loc.locY][n[r][l].loc.locX]=u[n[r][l].loc.locY][n[r][l].loc.locX]+"  "+g:u[n[r][l].loc.locY][n[r][l].loc.locX]=g,a++)}for(c in u){var v,x="<tr>";for(v in u[c])x+="<td>",u[c][v]!==void 0&&(x+=u[c][v]),x+="</td>";h=h+x+"</tr>"}return h}(o,this.ingredients.shapes),p!==d.summary.innerHTML&&(d.summary.innerHTML=p),y!==d.map.innerHTML&&(d.map.innerHTML=y),s.details!==d.shapeDetails.innerHTML&&(d.shapeDetails.innerHTML=s.details),this._accessibleOutputs[o]=d)},t=t.default,b.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.from":162,"core-js/modules/es.array.map":168,"core-js/modules/es.string.iterator":200}],265:[function(t,S,b){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.to-fixed"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var o=(t=t("../core/main"))&&t.__esModule?t:{default:t};function d(p){return function(y){if(Array.isArray(y)){for(var m=0,n=new Array(y.length);m<y.length;m++)n[m]=y[m];return n}}(p)||function(y){if(Symbol.iterator in Object(y)||Object.prototype.toString.call(y)==="[object Arguments]")return Array.from(y)}(p)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(r,y,m){var n=r[0],r=r[1];return n<0||y<=n||r<0||m<=r?null:((n=Math.floor(n/y*10))===10&&(n-=1),(y=Math.floor(r/m*10))===10&&(y-=1),{locX:n,locY:y})}o.default.prototype.textOutput=function(p){o.default._validateParameters("textOutput",arguments),this._accessibleOutputs.text||(this._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),p===this.LABEL&&(this._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))},o.default.prototype.gridOutput=function(p){o.default._validateParameters("gridOutput",arguments),this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),p===this.LABEL&&(this._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))},o.default.prototype._addAccsOutput=function(){return this._accessibleOutputs||(this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),this._accessibleOutputs.grid||this._accessibleOutputs.text},o.default.prototype._createOutput=function(p,y){var m,n,r,c=this.canvas.id,a=(this.ingredients||(this.ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:"",pBackground:""}),this.dummyDOM||(this.dummyDOM=document.getElementById(c).parentNode),"");y==="Fallback"?(m=c+p,this.dummyDOM.querySelector("#".concat(n=c+"accessibleOutput"))||(this.dummyDOM.querySelector("#".concat(c,"_Description"))?this.dummyDOM.querySelector("#".concat(c,"_Description")).insertAdjacentHTML("afterend",'<div id="'.concat(n,'" role="region" aria-label="Canvas Outputs"></div>')):this.dummyDOM.querySelector("#".concat(c)).innerHTML='<div id="'.concat(n,'" role="region" aria-label="Canvas Outputs"></div>'))):y==="Label"&&(m=c+p+(a=y),this.dummyDOM.querySelector("#".concat(n=c+"accessibleOutput"+y))||(this.dummyDOM.querySelector("#".concat(c,"_Label"))?this.dummyDOM.querySelector("#".concat(c,"_Label")):this.dummyDOM.querySelector("#".concat(c))).insertAdjacentHTML("afterend",'<div id="'.concat(n,'"></div>'))),this._accessibleOutputs[m]={},p==="textOutput"?(a="#".concat(c,"gridOutput").concat(a),r='<div id="'.concat(m,'">Text Output<div id="').concat(m,'Summary" aria-label="text output summary"><p id="').concat(m,'_summary"></p><ul id="').concat(m,'_list"></ul></div><table id="').concat(m,'_shapeDetails" summary="text output shape details"></table></div>'),this.dummyDOM.querySelector(a)?this.dummyDOM.querySelector(a).insertAdjacentHTML("beforebegin",r):this.dummyDOM.querySelector("#".concat(n)).innerHTML=r,this._accessibleOutputs[m].list=this.dummyDOM.querySelector("#".concat(m,"_list"))):p==="gridOutput"&&(a="#".concat(c,"textOutput").concat(a),r='<div id="'.concat(m,'">Grid Output<p id="').concat(m,'_summary" aria-label="grid output summary"><table id="').concat(m,'_map" summary="grid output content"></table><ul id="').concat(m,'_shapeDetails" aria-label="grid output shape details"></ul></div>'),this.dummyDOM.querySelector(a)?this.dummyDOM.querySelector(a).insertAdjacentHTML("afterend",r):this.dummyDOM.querySelector("#".concat(n)).innerHTML=r,this._accessibleOutputs[m].map=this.dummyDOM.querySelector("#".concat(m,"_map"))),this._accessibleOutputs[m].shapeDetails=this.dummyDOM.querySelector("#".concat(m,"_shapeDetails")),this._accessibleOutputs[m].summary=this.dummyDOM.querySelector("#".concat(m,"_summary"))},o.default.prototype._updateAccsOutput=function(){var p=this.canvas.id;JSON.stringify(this.ingredients.shapes)===this.ingredients.pShapes&&this.ingredients.colors.background===this.ingredients.pBackground||(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&&this._updateTextOutput(p+"textOutput"),this._accessibleOutputs.grid&&this._updateGridOutput(p+"gridOutput"),this._accessibleOutputs.textLabel&&this._updateTextOutput(p+"textOutputLabel"),this._accessibleOutputs.gridLabel&&this._updateGridOutput(p+"gridOutputLabel"))},o.default.prototype._accsBackground=function(p){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this.ingredients.pBackground=this.ingredients.colors.background,this.ingredients.shapes={},this.ingredients.colors.backgroundRGBA!==p&&(this.ingredients.colors.backgroundRGBA=p,this.ingredients.colors.background=this._rgbColorName(p))},o.default.prototype._accsCanvasColors=function(p,y){p==="fill"?this.ingredients.colors.fillRGBA!==y&&(this.ingredients.colors.fillRGBA=y,this.ingredients.colors.fill=this._rgbColorName(y)):p==="stroke"&&this.ingredients.colors.strokeRGBA!==y&&(this.ingredients.colors.strokeRGBA=y,this.ingredients.colors.stroke=this._rgbColorName(y))},o.default.prototype._accsOutput=function(p,y){p==="ellipse"&&y[2]===y[3]?p="circle":p==="rectangle"&&y[2]===y[3]&&(p="square");var m,n,r={},c=!0,a=function(u,l){var g;return u=u==="rectangle"||u==="ellipse"||u==="arc"||u==="circle"||u==="square"?(g=Math.round(l[0]+l[2]/2),Math.round(l[1]+l[3]/2)):u==="triangle"?(g=(l[0]+l[2]+l[4])/3,(l[1]+l[3]+l[5])/3):u==="quadrilateral"?(g=(l[0]+l[2]+l[4]+l[6])/4,(l[1]+l[3]+l[5]+l[7])/4):u==="line"?(g=(l[0]+l[2])/2,(l[1]+l[3])/2):(g=l[0],l[1]),[g,u]}(p,y);if(p==="line"?(r.color=this.ingredients.colors.stroke,r.length=Math.round(this.dist(y[0],y[1],y[2],y[3])),m=this._getPos(y[0],[1]),n=this._getPos(y[2],[3]),r.loc=s(a,this.width,this.height),r.pos=m===n?"at ".concat(m):"from ".concat(m," to ").concat(n)):(p==="point"?r.color=this.ingredients.colors.stroke:(r.color=this.ingredients.colors.fill,r.area=this._getArea(p,y)),r.pos=this._getPos.apply(this,d(a)),r.loc=s(a,this.width,this.height)),this.ingredients.shapes[p]){if(this.ingredients.shapes[p]!==[r]){for(var h in this.ingredients.shapes[p])JSON.stringify(this.ingredients.shapes[p][h])===JSON.stringify(r)&&(c=!1);c===!0&&this.ingredients.shapes[p].push(r)}}else this.ingredients.shapes[p]=[r]},o.default.prototype._getPos=function(n,m){var n=new DOMPointReadOnly(n,m),m=this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform(),n=n.matrixTransform(m),m=n.x,n=n.y,r=this.width*this._pixelDensity,c=this.height*this._pixelDensity;return m<.4*r?n<.4*c?"top left":.6*c<n?"bottom left":"mid left":.6*r<m?n<.4*c?"top right":.6*c<n?"bottom right":"mid right":n<.4*c?"top middle":.6*c<n?"bottom middle":"middle"},o.default.prototype._getArea=function(p,y){var m,n,r=0,c=(p==="arc"?(r=(m=((y[5]-y[4])%(2*Math.PI)+2*Math.PI)%(2*Math.PI))*y[2]*y[3]/8,y[6]!=="open"&&y[6]!=="chord"||(n=y[0],l=y[1],c=y[0]+y[2]/2*Math.cos(y[4]).toFixed(2),g=y[1]+y[3]/2*Math.sin(y[4]).toFixed(2),h=y[0]+y[2]/2*Math.cos(y[5]).toFixed(2),a=y[1]+y[3]/2*Math.sin(y[5]).toFixed(2),n=Math.abs(n*(g-a)+c*(a-l)+h*(l-g))/2,m>Math.PI?r+=n:r-=n)):p==="ellipse"||p==="circle"?r=3.14*y[2]/2*y[3]/2:p==="line"||p==="point"?r=0:p==="quadrilateral"?r=Math.abs((y[6]+y[0])*(y[7]-y[1])+(y[0]+y[2])*(y[1]-y[3])+(y[2]+y[4])*(y[3]-y[5])+(y[4]+y[6])*(y[5]-y[7]))/2:p==="rectangle"||p==="square"?r=y[2]*y[3]:p==="triangle"&&(r=Math.abs(y[0]*(y[3]-y[5])+y[2]*(y[5]-y[1])+y[4]*(y[1]-y[3]))/2),this.width*this._pixelDensity),a=this.height*this._pixelDensity,h=[new DOMPoint(0,0),new DOMPoint(c,0),new DOMPoint(c,a),new DOMPoint(0,a)],u=(this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform()).inverse(),l=h.map(function(v){return v.matrixTransform(u)}),g=Math.abs((l[3].x+l[0].x)*(l[3].y-l[0].y)+(l[0].x+l[1].x)*(l[0].y-l[1].y)+(l[1].x+l[2].x)*(l[1].y-l[2].y)+(l[2].x+l[3].x)*(l[2].y-l[3].y))/2;return Math.round(100*r/g)},t=o.default,b.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],266:[function(t,S,b){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.concat"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype._updateTextOutput=function(o){var d,s,p,y;this.dummyDOM.querySelector("#".concat(o,"_summary"))&&(d=this._accessibleOutputs[o],p=function(m,n,r,c){return r="Your output is a, ".concat(r," by ").concat(c," pixels, ").concat(n," canvas containing the following"),r=m===1?"".concat(r," shape:"):"".concat(r," ").concat(m," shapes:"),r}((s=function(m,n){var r,c="",a=0;for(r in n)for(var h in n[r]){var u='<li><a href="#'.concat(m,"shape").concat(a,'">').concat(n[r][h].color," ").concat(r,"</a>");r==="line"?u+=", ".concat(n[r][h].pos,", ").concat(n[r][h].length," pixels long.</li>"):(u+=", at ".concat(n[r][h].pos),r!=="point"&&(u+=", covering ".concat(n[r][h].area,"% of the canvas")),u+=".</li>"),c+=u,a++}return{numShapes:a,listShapes:c}}(o,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),y=function(m,n){var r,c="",a=0;for(r in n)for(var h in n[r]){var u='<tr id="'.concat(m,"shape").concat(a,'"><th>').concat(n[r][h].color," ").concat(r,"</th>");r==="line"?u+="<td>location = ".concat(n[r][h].pos,"</td><td>length = ").concat(n[r][h].length," pixels</td></tr>"):(u+="<td>location = ".concat(n[r][h].pos,"</td>"),r!=="point"&&(u+="<td> area = ".concat(n[r][h].area,"%</td>")),u+="</tr>"),c+=u,a++}return c}(o,this.ingredients.shapes),p!==d.summary.innerHTML&&(d.summary.innerHTML=p),s.listShapes!==d.list.innerHTML&&(d.list.innerHTML=s.listShapes),y!==d.shapeDetails.innerHTML&&(d.shapeDetails.innerHTML=y),this._accessibleOutputs[o]=d)},t=t.default,b.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153}],267:[function(t,S,b){var o=(o=t("./core/main"))&&o.__esModule?o:{default:o};t("./core/constants"),t("./core/environment"),t("./core/friendly_errors/stacktrace"),t("./core/friendly_errors/validate_params"),t("./core/friendly_errors/file_errors"),t("./core/friendly_errors/fes_core"),t("./core/friendly_errors/sketch_reader"),t("./core/helpers"),t("./core/legacy"),t("./core/preload"),t("./core/p5.Element"),t("./core/p5.Graphics"),t("./core/p5.Renderer"),t("./core/p5.Renderer2D"),t("./core/rendering"),t("./core/shim"),t("./core/structure"),t("./core/transform"),t("./core/shape/2d_primitives"),t("./core/shape/attributes"),t("./core/shape/curves"),t("./core/shape/vertex"),t("./accessibility/outputs"),t("./accessibility/textOutput"),t("./accessibility/gridOutput"),t("./accessibility/color_namer"),t("./color/color_conversion"),t("./color/creating_reading"),t("./color/p5.Color"),t("./color/setting"),t("./data/p5.TypedDict"),t("./data/local_storage.js"),t("./dom/dom"),t("./accessibility/describe"),t("./events/acceleration"),t("./events/keyboard"),t("./events/mouse"),t("./events/touch"),t("./image/filters"),t("./image/image"),t("./image/loading_displaying"),t("./image/p5.Image"),t("./image/pixels"),t("./io/files"),t("./io/p5.Table"),t("./io/p5.TableRow"),t("./io/p5.XML"),t("./math/calculation"),t("./math/math"),t("./math/noise"),t("./math/p5.Vector"),t("./math/random"),t("./math/trigonometry"),t("./typography/attributes"),t("./typography/loading_displaying"),t("./typography/p5.Font"),t("./utilities/array_functions"),t("./utilities/conversion"),t("./utilities/string_functions"),t("./utilities/time_date"),t("./webgl/3d_primitives"),t("./webgl/interaction"),t("./webgl/light"),t("./webgl/loading"),t("./webgl/material"),t("./webgl/p5.Camera"),t("./webgl/p5.DataArray"),t("./webgl/p5.Geometry"),t("./webgl/p5.Matrix"),t("./webgl/p5.Quat"),t("./webgl/p5.RendererGL.Immediate"),t("./webgl/p5.RendererGL"),t("./webgl/p5.RendererGL.Retained"),t("./webgl/p5.Framebuffer"),t("./webgl/p5.Shader"),t("./webgl/p5.RenderBuffer"),t("./webgl/p5.Texture"),t("./webgl/text"),t("./core/init"),S.exports=o.default},{"./accessibility/color_namer":262,"./accessibility/describe":263,"./accessibility/gridOutput":264,"./accessibility/outputs":265,"./accessibility/textOutput":266,"./color/color_conversion":268,"./color/creating_reading":269,"./color/p5.Color":270,"./color/setting":271,"./core/constants":272,"./core/environment":273,"./core/friendly_errors/fes_core":274,"./core/friendly_errors/file_errors":275,"./core/friendly_errors/sketch_reader":276,"./core/friendly_errors/stacktrace":277,"./core/friendly_errors/validate_params":278,"./core/helpers":279,"./core/init":280,"./core/legacy":282,"./core/main":283,"./core/p5.Element":284,"./core/p5.Graphics":285,"./core/p5.Renderer":286,"./core/p5.Renderer2D":287,"./core/preload":288,"./core/rendering":289,"./core/shape/2d_primitives":290,"./core/shape/attributes":291,"./core/shape/curves":292,"./core/shape/vertex":293,"./core/shim":294,"./core/structure":295,"./core/transform":296,"./data/local_storage.js":297,"./data/p5.TypedDict":298,"./dom/dom":299,"./events/acceleration":300,"./events/keyboard":301,"./events/mouse":302,"./events/touch":303,"./image/filters":304,"./image/image":305,"./image/loading_displaying":306,"./image/p5.Image":307,"./image/pixels":308,"./io/files":309,"./io/p5.Table":310,"./io/p5.TableRow":311,"./io/p5.XML":312,"./math/calculation":313,"./math/math":314,"./math/noise":315,"./math/p5.Vector":316,"./math/random":317,"./math/trigonometry":318,"./typography/attributes":319,"./typography/loading_displaying":320,"./typography/p5.Font":321,"./utilities/array_functions":322,"./utilities/conversion":323,"./utilities/string_functions":324,"./utilities/time_date":325,"./webgl/3d_primitives":326,"./webgl/interaction":328,"./webgl/light":329,"./webgl/loading":330,"./webgl/material":331,"./webgl/p5.Camera":332,"./webgl/p5.DataArray":333,"./webgl/p5.Framebuffer":334,"./webgl/p5.Geometry":335,"./webgl/p5.Matrix":336,"./webgl/p5.Quat":337,"./webgl/p5.RenderBuffer":338,"./webgl/p5.RendererGL":341,"./webgl/p5.RendererGL.Immediate":339,"./webgl/p5.RendererGL.Retained":340,"./webgl/p5.Shader":342,"./webgl/p5.Texture":343,"./webgl/text":344}],268:[function(t,S,b){Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.ColorConversion={_hsbaToHSLA:function(o){var d=o[0],s=o[1],p=o[2],y=(2-s)*p/2;return y!=0&&(y==1?s=0:y<.5?s/=2-s:s=s*p/(2-2*y)),[d,s,y,o[3]]},_hsbaToRGBA:function(o){var d,s,p,y,m,n=6*o[0],r=o[1],c=o[2];return r===0?[c,c,c,o[3]]:(s=c*(1-r),p=c*(1-r*(n-(d=Math.floor(n)))),r=c*(1-r*(1+d-n)),n=d===1?(y=p,m=c,s):d===2?(y=s,m=c,r):d===3?(y=s,m=p,c):d===4?(y=r,m=s,c):d===5?(y=c,m=s,p):(y=c,m=r,s),[y,m,n,o[3]])},_hslaToHSBA:function(o){var d=o[0],s=o[1],p=o[2],y=p<.5?(1+s)*p:p+s-p*s;return[d,s=2*(y-p)/y,y,o[3]]},_hslaToRGBA:function(o){var d,s=6*o[0],p=o[1],y=o[2];return p===0?[y,y,y,o[3]]:[(d=function(m,n,r){return m<0?m+=6:6<=m&&(m-=6),m<1?n+(r-n)*m:m<3?r:m<4?n+(r-n)*(4-m):n})(2+s,p=2*y-(y=y<.5?(1+p)*y:y+p-y*p),y),d(s,p,y),d(s-2,p,y),o[3]]},_rgbaToHSBA:function(o){var d,s,p=o[0],y=o[1],m=o[2],n=Math.max(p,y,m),r=n-Math.min(p,y,m);return r==0?s=d=0:(s=r/n,p===n?d=(y-m)/r:y===n?d=2+(m-p)/r:m===n&&(d=4+(p-y)/r),d<0?d+=6:6<=d&&(d-=6)),[d/6,s,n,o[3]]},_rgbaToHSLA:function(o){var d,s,p=o[0],y=o[1],m=o[2],n=Math.max(p,y,m),c=Math.min(p,y,m),r=n+c,c=n-c;return c==0?s=d=0:(s=r<1?c/r:c/(2-r),p===n?d=(y-m)/c:y===n?d=2+(m-p)/c:m===n&&(d=4+(p-y)/c),d<0?d+=6:6<=d&&(d-=6)),[d/6,s,r/2,o[3]]}},t=t.default.ColorConversion,b.default=t},{"../core/main":283}],269:[function(t,S,b){function o(n){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(n)}function d(n){return(d=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(r){return o(r)}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":o(r)})(n)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.map"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var s=(m=t("../core/main"))&&m.__esModule?m:{default:m},p=function(n){if(n&&n.__esModule)return n;if(n===null||d(n)!=="object"&&typeof n!="function")return{default:n};var r=y();if(r&&r.has(n))return r.get(n);var c,a={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in n){var u;Object.prototype.hasOwnProperty.call(n,c)&&((u=h?Object.getOwnPropertyDescriptor(n,c):null)&&(u.get||u.set)?Object.defineProperty(a,c,u):a[c]=n[c])}return a.default=n,r&&r.set(n,a),a}(t("../core/constants"));function y(){var n;return typeof WeakMap!="function"?null:(n=new WeakMap,y=function(){return n},n)}t("./p5.Color"),t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),s.default.prototype.alpha=function(n){return s.default._validateParameters("alpha",arguments),this.color(n)._getAlpha()},s.default.prototype.blue=function(n){return s.default._validateParameters("blue",arguments),this.color(n)._getBlue()},s.default.prototype.brightness=function(n){return s.default._validateParameters("brightness",arguments),this.color(n)._getBrightness()},s.default.prototype.color=function(){for(var n,r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return s.default._validateParameters("color",c),c[0]instanceof s.default.Color?c[0]:(n=Array.isArray(c[0])?c[0]:c,new s.default.Color(this,n))},s.default.prototype.green=function(n){return s.default._validateParameters("green",arguments),this.color(n)._getGreen()},s.default.prototype.hue=function(n){return s.default._validateParameters("hue",arguments),this.color(n)._getHue()},s.default.prototype.lerpColor=function(n,r,c){s.default._validateParameters("lerpColor",arguments),n instanceof s.default.Color||(n=color(n)),r instanceof s.default.Color||(r=color(r));var a,h,u,l=this._colorMode,g=this._colorMaxes;if(l===p.RGB)h=n.levels.map(function(v){return v/255}),u=r.levels.map(function(v){return v/255});else if(l===p.HSB)n._getBrightness(),r._getBrightness(),h=n.hsba,u=r.hsba;else{if(l!==p.HSL)throw new Error("".concat(l," cannot be used for interpolation."));n._getLightness(),r._getLightness(),h=n.hsla,u=r.hsla}return c=Math.max(Math.min(c,1),0),this.lerp===void 0&&(this.lerp=function(v,x,k){return k*(x-v)+v}),l===p.RGB?a=this.lerp(h[0],u[0],c):(.5<Math.abs(h[0]-u[0])&&(h[0]>u[0]?u[0]+=1:h[0]+=1),1<=(a=this.lerp(h[0],u[0],c))&&--a),n=this.lerp(h[1],u[1],c),r=this.lerp(h[2],u[2],c),h=this.lerp(h[3],u[3],c),a*=g[l][0],n*=g[l][1],r*=g[l][2],h*=g[l][3],this.color(a,n,r,h)},s.default.prototype.paletteLerp=function(n,r){var c=n[0];if(r<c[1])return this.color(c[0]);for(var a=1;a<n.length;a++){var h,u=n[a];if(r<u[1])return h=n[a-1],this.lerpColor(this.color(h[0]),this.color(u[0]),(r-h[1])/(u[1]-h[1]))}return this.color(n[n.length-1][0])},s.default.prototype.lightness=function(n){return s.default._validateParameters("lightness",arguments),this.color(n)._getLightness()},s.default.prototype.red=function(n){return s.default._validateParameters("red",arguments),this.color(n)._getRed()},s.default.prototype.saturation=function(n){return s.default._validateParameters("saturation",arguments),this.color(n)._getSaturation()};var m=s.default;b.default=m},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"./p5.Color":270,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],270:[function(a,S,b){function o(v){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(v)}function d(v){return(d=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(x){return o(x)}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":o(x)})(v)}a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.includes"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.join"),a("core-js/modules/es.array.map"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.object.get-own-property-descriptor"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.regexp.constructor"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.string.includes"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.string.trim"),a("core-js/modules/es.weak-map"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.array.includes"),a("core-js/modules/es.array.join"),a("core-js/modules/es.array.map"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.regexp.constructor"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.string.includes"),a("core-js/modules/es.string.trim"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var s=n(a("../core/main")),p=function(v){if(v&&v.__esModule)return v;if(v===null||d(v)!=="object"&&typeof v!="function")return{default:v};var x=m();if(x&&x.has(v))return x.get(v);var k,E={},j=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(k in v){var C;Object.prototype.hasOwnProperty.call(v,k)&&((C=j?Object.getOwnPropertyDescriptor(v,k):null)&&(C.get||C.set)?Object.defineProperty(E,k,C):E[k]=v[k])}return E.default=v,x&&x.set(v,E),E}(a("../core/constants")),y=n(a("./color_conversion"));function m(){var v;return typeof WeakMap!="function"?null:(v=new WeakMap,m=function(){return v},v)}function n(v){return v&&v.__esModule?v:{default:v}}function r(v,x){for(var k=0;k<x.length;k++){var E=x[k];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(v,E.key,E)}}var c={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},a=/\s*/,g=/(\d{1,3})/,h=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,u=new RegExp("".concat(h.source,"%")),l={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",g.source,",",g.source,",",g.source,"\\)$"].join(a.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",u.source,",",u.source,",",u.source,"\\)$"].join(a.source),"i"),RGBA:new RegExp(["^rgba\\(",g.source,",",g.source,",",g.source,",",h.source,"\\)$"].join(a.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",u.source,",",u.source,",",u.source,",",h.source,"\\)$"].join(a.source),"i"),HSL:new RegExp(["^hsl\\(",g.source,",",u.source,",",u.source,"\\)$"].join(a.source),"i"),HSLA:new RegExp(["^hsla\\(",g.source,",",u.source,",",u.source,",",h.source,"\\)$"].join(a.source),"i"),HSB:new RegExp(["^hsb\\(",g.source,",",u.source,",",u.source,"\\)$"].join(a.source),"i"),HSBA:new RegExp(["^hsba\\(",g.source,",",u.source,",",u.source,",",h.source,"\\)$"].join(a.source),"i")},g=(s.default.Color=function(){function v(j,C){if(!(this instanceof v))throw new TypeError("Cannot call a class as a function");if(this._storeModeAndMaxes(j._colorMode,j._colorMaxes),![p.RGB,p.HSL,p.HSB].includes(this.mode))throw new Error("".concat(this.mode," is an invalid colorMode."));this._array=v._parseInputs.apply(this,C),this._calculateLevels()}var x,k,E;return x=v,E=[{key:"_parseInputs",value:function(j,C,L,A){var P,R=arguments.length,I=this.mode,N=this.maxes[I],z=[];if(3<=R){for(z[0]=j/N[0],z[1]=C/N[1],z[2]=L/N[2],z[3]=typeof A=="number"?A/N[3]:1,P=z.length-1;0<=P;--P){var G=z[P];G<0?z[P]=0:1<G&&(z[P]=1)}return I===p.HSL?y.default._hslaToRGBA(z):I===p.HSB?y.default._hsbaToRGBA(z):z}if(R===1&&typeof j=="string"){if(L=j.trim().toLowerCase(),c[L])return v._parseInputs.call(this,c[L]);if(l.HEX3.test(L))return(z=l.HEX3.exec(L).slice(1).map(function(W){return parseInt(W+W,16)/255}))[3]=1,z;if(l.HEX6.test(L))return(z=l.HEX6.exec(L).slice(1).map(function(W){return parseInt(W,16)/255}))[3]=1,z;if(l.HEX4.test(L))return z=l.HEX4.exec(L).slice(1).map(function(W){return parseInt(W+W,16)/255});if(l.HEX8.test(L))return z=l.HEX8.exec(L).slice(1).map(function(W){return parseInt(W,16)/255});if(l.RGB.test(L))return(z=l.RGB.exec(L).slice(1).map(function(W){return W/255}))[3]=1,z;if(l.RGB_PERCENT.test(L))return(z=l.RGB_PERCENT.exec(L).slice(1).map(function(W){return parseFloat(W)/100}))[3]=1,z;if(l.RGBA.test(L))return z=l.RGBA.exec(L).slice(1).map(function(W,H){return H===3?parseFloat(W):W/255});if(l.RGBA_PERCENT.test(L))return z=l.RGBA_PERCENT.exec(L).slice(1).map(function(W,H){return H===3?parseFloat(W):parseFloat(W)/100});if(l.HSL.test(L)?(z=l.HSL.exec(L).slice(1).map(function(W,H){return H===0?parseInt(W,10)/360:parseInt(W,10)/100}))[3]=1:l.HSLA.test(L)&&(z=l.HSLA.exec(L).slice(1).map(function(W,H){return H===0?parseInt(W,10)/360:H===3?parseFloat(W):parseInt(W,10)/100})),(z=z.map(function(W){return Math.max(Math.min(W,1),0)})).length)return y.default._hslaToRGBA(z);if(l.HSB.test(L)?(z=l.HSB.exec(L).slice(1).map(function(W,H){return H===0?parseInt(W,10)/360:parseInt(W,10)/100}))[3]=1:l.HSBA.test(L)&&(z=l.HSBA.exec(L).slice(1).map(function(W,H){return H===0?parseInt(W,10)/360:H===3?parseFloat(W):parseInt(W,10)/100})),z.length){for(P=z.length-1;0<=P;--P)z[P]=Math.max(Math.min(z[P],1),0);return y.default._hsbaToRGBA(z)}z=[1,1,1,1]}else{if(R!==1&&R!==2||typeof j!="number")throw new Error("".concat(arguments,"is not a valid color representation."));z[0]=j/N[2],z[1]=j/N[2],z[2]=j/N[2],z[3]=typeof C=="number"?C/N[3]:1,z=z.map(function(W){return Math.max(Math.min(W,1),0)})}return z}}],(k=[{key:"toString",value:function(j){var C=this.levels,L=this._array,A=L[3];switch(j){case"#rrggbb":return"#".concat(C[0]<16?"0".concat(C[0].toString(16)):C[0].toString(16),C[1]<16?"0".concat(C[1].toString(16)):C[1].toString(16),C[2]<16?"0".concat(C[2].toString(16)):C[2].toString(16));case"#rrggbbaa":return"#".concat(C[0]<16?"0".concat(C[0].toString(16)):C[0].toString(16),C[1]<16?"0".concat(C[1].toString(16)):C[1].toString(16),C[2]<16?"0".concat(C[2].toString(16)):C[2].toString(16),C[3]<16?"0".concat(C[3].toString(16)):C[3].toString(16));case"#rgb":return"#".concat(Math.round(15*L[0]).toString(16),Math.round(15*L[1]).toString(16),Math.round(15*L[2]).toString(16));case"#rgba":return"#".concat(Math.round(15*L[0]).toString(16),Math.round(15*L[1]).toString(16),Math.round(15*L[2]).toString(16),Math.round(15*L[3]).toString(16));case"rgb":return"rgb(".concat(C[0],", ",C[1],", ",C[2],")");case"rgb%":return"rgb(".concat((100*L[0]).toPrecision(3),"%, ",(100*L[1]).toPrecision(3),"%, ",(100*L[2]).toPrecision(3),"%)");case"rgba%":return"rgba(".concat((100*L[0]).toPrecision(3),"%, ",(100*L[1]).toPrecision(3),"%, ",(100*L[2]).toPrecision(3),"%, ",(100*L[3]).toPrecision(3),"%)");case"hsb":case"hsv":return this.hsba||(this.hsba=y.default._rgbaToHSBA(this._array)),"hsb(".concat(this.hsba[0]*this.maxes[p.HSB][0],", ",this.hsba[1]*this.maxes[p.HSB][1],", ",this.hsba[2]*this.maxes[p.HSB][2],")");case"hsb%":case"hsv%":return this.hsba||(this.hsba=y.default._rgbaToHSBA(this._array)),"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case"hsba":case"hsva":return this.hsba||(this.hsba=y.default._rgbaToHSBA(this._array)),"hsba(".concat(this.hsba[0]*this.maxes[p.HSB][0],", ",this.hsba[1]*this.maxes[p.HSB][1],", ",this.hsba[2]*this.maxes[p.HSB][2],", ",A,")");case"hsba%":case"hsva%":return this.hsba||(this.hsba=y.default._rgbaToHSBA(this._array)),"hsba(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*A).toPrecision(3),"%)");case"hsl":return this.hsla||(this.hsla=y.default._rgbaToHSLA(this._array)),"hsl(".concat(this.hsla[0]*this.maxes[p.HSL][0],", ",this.hsla[1]*this.maxes[p.HSL][1],", ",this.hsla[2]*this.maxes[p.HSL][2],")");case"hsl%":return this.hsla||(this.hsla=y.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case"hsla":return this.hsla||(this.hsla=y.default._rgbaToHSLA(this._array)),"hsla(".concat(this.hsla[0]*this.maxes[p.HSL][0],", ",this.hsla[1]*this.maxes[p.HSL][1],", ",this.hsla[2]*this.maxes[p.HSL][2],", ",A,")");case"hsla%":return this.hsla||(this.hsla=y.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%, ",(100*A).toPrecision(3),"%)");default:return"rgba(".concat(C[0],",",C[1],",",C[2],",",A,")")}}},{key:"setRed",value:function(j){this._array[0]=j/this.maxes[p.RGB][0],this._calculateLevels()}},{key:"setGreen",value:function(j){this._array[1]=j/this.maxes[p.RGB][1],this._calculateLevels()}},{key:"setBlue",value:function(j){this._array[2]=j/this.maxes[p.RGB][2],this._calculateLevels()}},{key:"setAlpha",value:function(j){this._array[3]=j/this.maxes[this.mode][3],this._calculateLevels()}},{key:"_calculateLevels",value:function(){for(var j=this._array,C=this.levels=new Array(j.length),L=j.length-1;0<=L;--L)C[L]=Math.round(255*j[L]);this.hsla=null,this.hsba=null}},{key:"_getAlpha",value:function(){return this._array[3]*this.maxes[this.mode][3]}},{key:"_storeModeAndMaxes",value:function(j,C){this.mode=j,this.maxes=C}},{key:"_getMode",value:function(){return this.mode}},{key:"_getMaxes",value:function(){return this.maxes}},{key:"_getBlue",value:function(){return this._array[2]*this.maxes[p.RGB][2]}},{key:"_getBrightness",value:function(){return this.hsba||(this.hsba=y.default._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[p.HSB][2]}},{key:"_getGreen",value:function(){return this._array[1]*this.maxes[p.RGB][1]}},{key:"_getHue",value:function(){return this.mode===p.HSB?(this.hsba||(this.hsba=y.default._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[p.HSB][0]):(this.hsla||(this.hsla=y.default._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[p.HSL][0])}},{key:"_getLightness",value:function(){return this.hsla||(this.hsla=y.default._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[p.HSL][2]}},{key:"_getRed",value:function(){return this._array[0]*this.maxes[p.RGB][0]}},{key:"_getSaturation",value:function(){return this.mode===p.HSB?(this.hsba||(this.hsba=y.default._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[p.HSB][1]):(this.hsla||(this.hsla=y.default._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[p.HSL][1])}}])&&r(x.prototype,k),E&&r(x,E),v}(),s.default.Color);b.default=g},{"../core/constants":272,"../core/main":283,"./color_conversion":268,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],271:[function(t,S,b){function o(n){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(n)}function d(n){return(d=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(r){return o(r)}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":o(r)})(n)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.fill"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var s=(m=t("../core/main"))&&m.__esModule?m:{default:m},p=function(n){if(n&&n.__esModule)return n;if(n===null||d(n)!=="object"&&typeof n!="function")return{default:n};var r=y();if(r&&r.has(n))return r.get(n);var c,a={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in n){var u;Object.prototype.hasOwnProperty.call(n,c)&&((u=h?Object.getOwnPropertyDescriptor(n,c):null)&&(u.get||u.set)?Object.defineProperty(a,c,u):a[c]=n[c])}return a.default=n,r&&r.set(n,a),a}(t("../core/constants"));function y(){var n;return typeof WeakMap!="function"?null:(n=new WeakMap,y=function(){return n},n)}t("./p5.Color"),s.default.prototype.beginClip=function(){this._renderer.beginClip(0<arguments.length&&arguments[0]!==void 0?arguments[0]:{})},s.default.prototype.endClip=function(){this._renderer.endClip()},s.default.prototype.clip=function(n,r){this._renderer.beginClip(r),n(),this._renderer.endClip(r)},s.default.prototype.background=function(){var n;return(n=this._renderer).background.apply(n,arguments),this},s.default.prototype.clear=function(){return this._renderer.clear((arguments.length<=0?void 0:arguments[0])||0,(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0,(arguments.length<=3?void 0:arguments[3])||0),this},s.default.prototype.colorMode=function(n,r,c,a,h){return s.default._validateParameters("colorMode",arguments),n!==p.RGB&&n!==p.HSB&&n!==p.HSL||(this._colorMode=n,n=this._colorMaxes[n],arguments.length===2?(n[0]=r,n[1]=r,n[2]=r,n[3]=r):arguments.length===4?(n[0]=r,n[1]=c,n[2]=a):arguments.length===5&&(n[0]=r,n[1]=c,n[2]=a,n[3]=h)),this},s.default.prototype.fill=function(){var n;return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),(n=this._renderer).fill.apply(n,arguments),this},s.default.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this},s.default.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",!1),this},s.default.prototype.stroke=function(){var n;return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),(n=this._renderer).stroke.apply(n,arguments),this},s.default.prototype.erase=function(){return this._renderer.erase(0<arguments.length&&arguments[0]!==void 0?arguments[0]:255,1<arguments.length&&arguments[1]!==void 0?arguments[1]:255),this},s.default.prototype.noErase=function(){return this._renderer.noErase(),this};var m=s.default;b.default=m},{"../core/constants":272,"../core/main":283,"./p5.Color":270,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],272:[function(t,S,b){Object.defineProperty(b,"__esModule",{value:!0}),b.QUADRATIC=b.LINEAR=b._CTX_MIDDLE=b._DEFAULT_LEADMULT=b._DEFAULT_TEXT_FILL=b.WORD=b.CHAR=b.BOLDITALIC=b.BOLD=b.ITALIC=b.NORMAL=b.BLUR=b.ERODE=b.DILATE=b.POSTERIZE=b.INVERT=b.OPAQUE=b.GRAY=b.THRESHOLD=b.BURN=b.DODGE=b.SOFT_LIGHT=b.HARD_LIGHT=b.OVERLAY=b.REPLACE=b.SCREEN=b.MULTIPLY=b.EXCLUSION=b.SUBTRACT=b.DIFFERENCE=b.LIGHTEST=b.DARKEST=b.ADD=b.REMOVE=b.BLEND=b.UP_ARROW=b.TAB=b.SHIFT=b.RIGHT_ARROW=b.RETURN=b.OPTION=b.LEFT_ARROW=b.ESCAPE=b.ENTER=b.DOWN_ARROW=b.DELETE=b.CONTROL=b.BACKSPACE=b.ALT=b.AUTO=b.HSL=b.HSB=b.RGB=b.MITER=b.BEVEL=b.ROUND=b.SQUARE=b.PROJECT=b.PIE=b.CHORD=b.OPEN=b.CLOSE=b.TESS=b.QUAD_STRIP=b.QUADS=b.TRIANGLE_STRIP=b.TRIANGLE_FAN=b.TRIANGLES=b.LINE_LOOP=b.LINE_STRIP=b.LINES=b.POINTS=b.BASELINE=b.BOTTOM=b.TOP=b.CENTER=b.LEFT=b.RIGHT=b.RADIUS=b.CORNERS=b.CORNER=b.RAD_TO_DEG=b.DEG_TO_RAD=b.RADIANS=b.DEGREES=b.TWO_PI=b.TAU=b.QUARTER_PI=b.PI=b.HALF_PI=b.WAIT=b.TEXT=b.MOVE=b.HAND=b.CROSS=b.ARROW=b.WEBGL2=b.WEBGL=b.P2D=b.VERSION=void 0,b.RGBA=b.HALF_FLOAT=b.FLOAT=b.UNSIGNED_INT=b.UNSIGNED_BYTE=b.COVER=b.CONTAIN=b.FALLBACK=b.LABEL=b.AXES=b.GRID=b._DEFAULT_FILL=b._DEFAULT_STROKE=b.PORTRAIT=b.LANDSCAPE=b.SMOOTH=b.FLAT=b.MIRROR=b.CLAMP=b.REPEAT=b.NEAREST=b.IMAGE=b.IMMEDIATE=b.TEXTURE=b.FILL=b.STROKE=b.CURVE=b.BEZIER=void 0;var o=Math.PI,d=(b.VERSION="1.11.8",b.P2D="p2d",b.WEBGL="webgl",b.WEBGL2="webgl2",b.ARROW="default",b.CROSS="crosshair",b.HAND="pointer",b.MOVE="move",b.TEXT="text",b.WAIT="wait",o/2),d=(b.HALF_PI=d,o),d=(b.PI=d,o/4),d=(b.QUARTER_PI=d,2*o),d=(b.TAU=d,2*o),d=(b.TWO_PI=d,b.DEGREES="degrees",b.RADIANS="radians",o/180),d=(b.DEG_TO_RAD=d,180/o);b.RAD_TO_DEG=d,b.CORNER="corner",b.CORNERS="corners",b.RADIUS="radius",b.RIGHT="right",b.LEFT="left",b.CENTER="center",b.TOP="top",b.BOTTOM="bottom",b.BASELINE="alphabetic",b.POINTS=0,b.LINES=1,b.LINE_STRIP=3,b.LINE_LOOP=2,b.TRIANGLES=4,b.TRIANGLE_FAN=6,b.TRIANGLE_STRIP=5,b.QUADS="quads",b.QUAD_STRIP="quad_strip",b.TESS="tess",b.CLOSE="close",b.OPEN="open",b.CHORD="chord",b.PIE="pie",b.PROJECT="square",b.SQUARE="butt",b.ROUND="round",b.BEVEL="bevel",b.MITER="miter",b.RGB="rgb",b.HSB="hsb",b.HSL="hsl",b.AUTO="auto",b.ALT=18,b.BACKSPACE=8,b.CONTROL=17,b.DELETE=46,b.DOWN_ARROW=40,b.ENTER=13,b.ESCAPE=27,b.LEFT_ARROW=37,b.OPTION=18,b.RETURN=13,b.RIGHT_ARROW=39,b.SHIFT=16,b.TAB=9,b.UP_ARROW=38,b.BLEND="source-over",b.REMOVE="destination-out",b.ADD="lighter",b.DARKEST="darken",b.LIGHTEST="lighten",b.DIFFERENCE="difference",b.SUBTRACT="subtract",b.EXCLUSION="exclusion",b.MULTIPLY="multiply",b.SCREEN="screen",b.REPLACE="copy",b.OVERLAY="overlay",b.HARD_LIGHT="hard-light",b.SOFT_LIGHT="soft-light",b.DODGE="color-dodge",b.BURN="color-burn",b.THRESHOLD="threshold",b.GRAY="gray",b.OPAQUE="opaque",b.INVERT="invert",b.POSTERIZE="posterize",b.DILATE="dilate",b.ERODE="erode",b.BLUR="blur",b.NORMAL="normal",b.ITALIC="italic",b.BOLD="bold",b.BOLDITALIC="bold italic",b.CHAR="CHAR",b.WORD="WORD",b._DEFAULT_TEXT_FILL="#000000",b._DEFAULT_LEADMULT=1.25,b._CTX_MIDDLE="middle",b.LINEAR="linear",b.QUADRATIC="quadratic",b.BEZIER="bezier",b.CURVE="curve",b.STROKE="stroke",b.FILL="fill",b.TEXTURE="texture",b.IMMEDIATE="immediate",b.IMAGE="image",b.NEAREST="nearest",b.REPEAT="repeat",b.CLAMP="clamp",b.MIRROR="mirror",b.FLAT="flat",b.SMOOTH="smooth",b.LANDSCAPE="landscape",b.PORTRAIT="portrait",b._DEFAULT_STROKE="#000000",b._DEFAULT_FILL="#FFFFFF",b.GRID="grid",b.AXES="axes",b.LABEL="label",b.FALLBACK="fallback",b.CONTAIN="contain",b.COVER="cover",b.UNSIGNED_BYTE="unsigned-byte",b.UNSIGNED_INT="unsigned-int",b.FLOAT="float",b.HALF_FLOAT="half-float",b.RGBA="rgba"},{}],273:[function(t,S,b){function o(h){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(h)}function d(h){return(d=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(u){return o(u)}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":o(u)})(h)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.search"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.search"),t("core-js/modules/es.string.split"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var s=(p=t("./main"))&&p.__esModule?p:{default:p},p=function(h){if(h&&h.__esModule)return h;if(h===null||d(h)!=="object"&&typeof h!="function")return{default:h};var u=y();if(u&&u.has(h))return u.get(h);var l,g={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(l in h){var x;Object.prototype.hasOwnProperty.call(h,l)&&((x=v?Object.getOwnPropertyDescriptor(h,l):null)&&(x.get||x.set)?Object.defineProperty(g,l,x):g[l]=h[l])}return g.default=h,u&&u.set(h,g),g}(t("./constants"));function y(){var h;return typeof WeakMap!="function"?null:(h=new WeakMap,y=function(){return h},h)}var m=[p.ARROW,p.CROSS,p.HAND,p.MOVE,p.TEXT,p.WAIT],n=(s.default.prototype._frameRate=0,s.default.prototype._lastFrameTime=window.performance.now(),s.default.prototype._targetFrameRate=60,window.print),r=!1;function c(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function a(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}s.default.prototype.print=function(){var h;arguments.length?(h=console).log.apply(h,arguments):r||(n(),window.confirm("You just tried to print the webpage. Do you want to prevent this from running again?")&&(r=!0))},s.default.prototype.frameCount=0,s.default.prototype.deltaTime=0,s.default.prototype.focused=document.hasFocus(),s.default.prototype.cursor=function(h,u,l){var g,v="auto",x=this._curElement.elt;m.includes(h)?v=h:typeof h=="string"&&(g="",u&&l&&typeof u=="number"&&typeof l=="number"&&(g="".concat(u," ").concat(l)),v=h.substring(0,7)==="http://"||h.substring(0,8)==="https://"||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(h)?"url(".concat(h,") ").concat(g,", auto"):h),x.style.cursor=v},s.default.prototype.frameRate=function(h){return s.default._validateParameters("frameRate",arguments),typeof h!="number"||h<0?this._frameRate:(this._setProperty("_targetFrameRate",h),h===0&&this._setProperty("_frameRate",h),this)},s.default.prototype.getFrameRate=function(){return this.frameRate()},s.default.prototype.setFrameRate=function(h){return this.frameRate(h)},s.default.prototype.getTargetFrameRate=function(){return this._targetFrameRate},s.default.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},s.default.prototype.webglVersion=p.P2D,s.default.prototype.displayWidth=screen.width,s.default.prototype.displayHeight=screen.height,s.default.prototype.windowWidth=0,s.default.prototype.windowHeight=0,s.default.prototype._onresize=function(h){this._setProperty("windowWidth",c()),this._setProperty("windowHeight",a());var u=this._isGlobal?window:this;typeof u.windowResized!="function"||(u=u.windowResized(h))===void 0||u||h.preventDefault()},s.default.prototype._updateWindowSize=function(){this._setProperty("windowWidth",c()),this._setProperty("windowHeight",a())},s.default.prototype.width=0,s.default.prototype.height=0,s.default.prototype.fullscreen=function(h){if(s.default._validateParameters("fullscreen",arguments),h===void 0)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;if(h){if(h=document.documentElement,!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");h.requestFullscreen?h.requestFullscreen():h.mozRequestFullScreen?h.mozRequestFullScreen():h.webkitRequestFullscreen?h.webkitRequestFullscreen():h.msRequestFullscreen&&h.msRequestFullscreen()}else document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},s.default.prototype.pixelDensity=function(h){var u;return s.default._validateParameters("pixelDensity",arguments),typeof h=="number"?(h!==this._pixelDensity&&(this._pixelDensity=this._maxAllowedPixelDimensions=h),(u=this).resizeCanvas(this.width,this.height,!0)):u=this._pixelDensity,u},s.default.prototype.displayDensity=function(){return window.devicePixelRatio},s.default.prototype.getURL=function(){return location.href},s.default.prototype.getURLPath=function(){return location.pathname.split("/").filter(function(h){return h!==""})},s.default.prototype.getURLParams=function(){for(var h,u=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,l={};(h=u.exec(location.search))!=null;)h.index===u.lastIndex&&u.lastIndex++,l[h[1]]=h[2];return l},t=s.default,b.default=t},{"./constants":272,"./main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.search":205,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],274:[function(t,S,b){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.starts-with"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.starts-with"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var o=(m=t("../main"))&&m.__esModule?m:{default:m};t("../internationalization");function d(n,r){r=r||console.log.bind(console),s||y(),s.some(function(c){var a;if(n.message&&n.message.match("\\W?".concat(c.name,"\\W"))!==null)return a=c.type==="function"?"".concat(c.name,"()"):c.name,r("Did you just try to use p5.js's ".concat(a," ").concat(c.type,`? If so, you may want to move it into your sketch's setup() function.

For more details, see: `).concat(p)),!0})}var s=null,y=null,p=(o.default._friendlyError=o.default._checkForUserDefinedFunctions=o.default._fesErrorMonitor=function(){},s=null,"https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup"),y=function(){function n(c){return Object.getOwnPropertyNames(c).filter(function(a){return a[0]!=="_"&&!(a in r)&&(r[a]=!0)}).map(function(a){var h=typeof c[a]=="function"?"function":a===a.toUpperCase()?"constant":"variable";return{name:a,type:h}})}var r={};(s=[].concat(n(o.default.prototype),n(t("../constants")))).sort(function(c,a){return a.name.length-c.name.length})},m=(o.default.prototype._helpForMisusedAtTopLevelCode=d,document.readyState!=="complete"&&(window.addEventListener("error",d,!1),window.addEventListener("load",function(){window.removeEventListener("error",d,!1)})),o.default);b.default=m},{"../constants":272,"../internationalization":281,"../main":283,"./browser_errors":void 0,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.function.name":174,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-names":187,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.starts-with":207,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],275:[function(t,S,b){Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var o=(o=t("../main"))&&o.__esModule?o:{default:o};t("../internationalization"),o.default._friendlyFileLoadError=function(){},t=o.default,b.default=t},{"../internationalization":281,"../main":283}],276:[function(t,S,b){function o(r){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(r)}function d(r){return(d=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(c){return o(c)}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":o(c)})(r)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var s=m(t("../main"));t("../internationalization"),y(t("../constants"));function p(){var r;return typeof WeakMap!="function"?null:(r=new WeakMap,p=function(){return r},r)}function y(r){if(r&&r.__esModule)return r;if(r===null||d(r)!=="object"&&typeof r!="function")return{default:r};var c=p();if(c&&c.has(r))return c.get(r);var a,h,u={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in r)Object.prototype.hasOwnProperty.call(r,a)&&((h=l?Object.getOwnPropertyDescriptor(r,a):null)&&(h.get||h.set)?Object.defineProperty(u,a,h):u[a]=r[a]);return u.default=r,c&&c.set(r,u),u}function m(r){return r&&r.__esModule?r:{default:r}}s.default._fesCodeReader=function(){};var n=s.default;b.default=n},{"../constants":272,"../internationalization":281,"../main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],277:[function(t,S,b){t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0,t=(t=t("../main"))&&t.__esModule?t:{default:t};function o(){var d=/(^|@)\S+:\d+/,s=/^\s*at .*(\S+:\d+|\(native\))/m,p=/^(eval@)?(\[native code])?$/;return{parse:function(y){return y.stacktrace!==void 0||y["opera#sourceloc"]!==void 0?this.parseOpera(y):y.stack&&y.stack.match(s)?this.parseV8OrIE(y):y.stack?this.parseFFOrSafari(y):void 0},extractLocation:function(y){return y.indexOf(":")===-1?[y]:[(y=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(y.replace(/[()]/g,"")))[1],y[2]||void 0,y[3]||void 0]},parseV8OrIE:function(y){return y.stack.split(`
`).filter(function(m){return!!m.match(s)},this).map(function(m){var n=(m=-1<m.indexOf("(eval ")?m.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""):m).replace(/^\s+/,"").replace(/\(eval code/g,"("),r=n.match(/ (\((.+):(\d+):(\d+)\)$)/),n=(n=r?n.replace(r[0],""):n).split(/\s+/).slice(1),r=this.extractLocation(r?r[1]:n.pop());return{functionName:n.join(" ")||void 0,fileName:-1<["eval","<anonymous>"].indexOf(r[0])?void 0:r[0],lineNumber:r[1],columnNumber:r[2],source:m}},this)},parseFFOrSafari:function(y){return y.stack.split(`
`).filter(function(m){return!m.match(p)},this).map(function(m){var n,r;return(m=-1<m.indexOf(" > eval")?m.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1"):m).indexOf("@")===-1&&m.indexOf(":")===-1?{functionName:m}:{functionName:(r=m.match(n=/((.*".+"[^@]*)?[^@]*)(?:@)/))&&r[1]?r[1]:void 0,fileName:(r=this.extractLocation(m.replace(n,"")))[0],lineNumber:r[1],columnNumber:r[2],source:m}},this)},parseOpera:function(y){return!y.stacktrace||-1<y.message.indexOf(`
`)&&y.message.split(`
`).length>y.stacktrace.split(`
`).length?this.parseOpera9(y):y.stack?this.parseOpera11(y):this.parseOpera10(y)},parseOpera9:function(y){for(var m=/Line (\d+).*script (?:in )?(\S+)/i,n=y.message.split(`
`),r=[],c=2,a=n.length;c<a;c+=2){var h=m.exec(n[c]);h&&r.push({fileName:h[2],lineNumber:h[1],source:n[c]})}return r},parseOpera10:function(y){for(var m=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,n=y.stacktrace.split(`
`),r=[],c=0,a=n.length;c<a;c+=2){var h=m.exec(n[c]);h&&r.push({functionName:h[3]||void 0,fileName:h[2],lineNumber:h[1],source:n[c]})}return r},parseOpera11:function(y){return y.stack.split(`
`).filter(function(m){return!!m.match(d)&&!m.match(/^Error created at/)},this).map(function(m){var n,c=m.split("@"),r=this.extractLocation(c.pop()),c=c.shift()||"";return{functionName:c.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,args:(n=c.match(/\(([^)]*)\)/)?c.replace(/^[^(]+\(([^)]*)\)$/,"$1"):n)===void 0||n==="[arguments not available]"?void 0:n.split(","),fileName:r[0],lineNumber:r[1],columnNumber:r[2],source:m}},this)}}}t.default._getErrorStackParser=function(){return new o},t=t.default,b.default=t},{"../main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206}],278:[function(t,S,b){function o(y){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(y)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var d=(d=t("../main"))&&d.__esModule?d:{default:d};(function(y){if(!(y&&y.__esModule)&&!(y===null||p(y)!=="object"&&typeof y!="function")){var m=s();if(m&&m.has(y))return m.get(y);var n,r={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in y){var a;Object.prototype.hasOwnProperty.call(y,n)&&((a=c?Object.getOwnPropertyDescriptor(y,n):null)&&(a.get||a.set)?Object.defineProperty(r,n,a):r[n]=y[n])}r.default=y,m&&m.set(y,r)}})(t("../constants")),t("../internationalization");function s(){var y;return typeof WeakMap!="function"?null:(y=new WeakMap,s=function(){return y},y)}function p(y){return(p=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(m){return o(m)}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":o(m)})(y)}d.default._validateParameters=d.default._clearValidateParamsCache=function(){},t=d.default,b.default=t},{"../../../docs/parameterData.json":void 0,"../constants":272,"../internationalization":281,"../main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.function.name":174,"core-js/modules/es.map":175,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],279:[function(t,S,b){function o(y){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(y)}function d(y){return(d=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(m){return o(m)}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":o(m)})(y)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var s=function(y){if(y&&y.__esModule)return y;if(y===null||d(y)!=="object"&&typeof y!="function")return{default:y};var m=p();if(m&&m.has(y))return m.get(y);var n,r={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in y){var a;Object.prototype.hasOwnProperty.call(y,n)&&((a=c?Object.getOwnPropertyDescriptor(y,n):null)&&(a.get||a.set)?Object.defineProperty(r,n,a):r[n]=y[n])}return r.default=y,m&&m.set(y,r),r}(t("./constants"));function p(){var y;return typeof WeakMap!="function"?null:(y=new WeakMap,p=function(){return y},y)}b.default={modeAdjust:function(y,m,n,r,c){var a;return c===s.CORNER?a={x:y,y:m,w:Math.abs(n),h:Math.abs(r)}:c===s.CORNERS?a={x:Math.min(y,n),y:Math.min(m,r),w:Math.abs(n-y),h:Math.abs(r-m)}:c===s.RADIUS?a={x:y-(n=Math.abs(n)),y:m-(r=Math.abs(r)),w:2*n,h:2*r}:c===s.CENTER&&(a={x:y-.5*(n=Math.abs(n)),y:m-.5*(r=Math.abs(r)),w:n,h:r}),a}}},{"./constants":272,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],280:[function(t,S,b){t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator");var o=(d=t("../core/main"))&&d.__esModule?d:{default:d};t("./internationalization");var d=Promise.resolve();Promise.all([new Promise(function(s,p){document.readyState==="complete"?s():window.addEventListener("load",s,!1)}),d]).then(function(){var s;window._setupDone!==void 0?console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import"):window.mocha||(s=new Event("p5Ready"),window.dispatchEvent(s),(window.setup&&typeof window.setup=="function"||window.draw&&typeof window.draw=="function")&&!o.default.instance&&new o.default)})},{"../core/main":283,"./internationalization":281,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.string.iterator":200,"core-js/modules/web.dom-collections.iterator":246}],281:[function(t,S,b){t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(b,"__esModule",{value:!0}),b.setTranslatorLanguage=b.currentTranslatorLanguage=b.availableTranslatorLanguages=b.initialize=b.translator=void 0;var o,d,s=y(t("i18next")),p=y(t("i18next-browser-languagedetector"));function y(r){return r&&r.__esModule?r:{default:r}}function m(r,c){for(var a=0;a<c.length;a++){var h=c[a];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(r,h.key,h)}}var n=function(){function r(h,u){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");this.init(h,u)}var c,a;return c=r,(a=[{key:"fetchWithTimeout",value:function(h,u){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:2e3;return Promise.race([fetch(h,u),new Promise(function(g,v){return setTimeout(function(){return v(new Error("timeout"))},l)})])}},{key:"init",value:function(h){var u=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};this.services=h,this.options=u}},{key:"read",value:function(h,u,l){var g=this.options.loadPath;h===this.options.fallback?l(null,o[h][u]):d.includes(h)?(g=this.services.interpolator.interpolate(g,{lng:h,ns:u}),this.loadUrl(g,l)):l("Not found",!1)}},{key:"loadUrl",value:function(h,u){this.fetchWithTimeout(h).then(function(l){if(l.ok)return l.json();throw new Error("failed loading ".concat(h))},function(){throw new Error("failed loading ".concat(h))}).then(function(l){return u(null,l)}).catch(u)}}])&&m(c.prototype,a),r}();n.type="backend",b.translator=function(r,c){console.debug("p5.js translator called before translations were loaded"),s.default.t(r,c)},b.initialize=function(){return s.default.use(p.default).use(n).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:["querystring","navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:"https://cdn.jsdelivr.net/npm/p5/translations/{{lng}}/{{ns}}.json"},partialBundledLanguages:!0,resources:o}).then(function(r){b.translator=r},function(r){return console.debug("Translations failed to load (".concat(r,")"))})},b.availableTranslatorLanguages=function(){return s.default.languages},b.currentTranslatorLanguage=function(r){return s.default.language},b.setTranslatorLanguage=function(r){return s.default.changeLanguage(r||void 0,function(c){return console.debug("Translations failed to load (".concat(c,")"))})}},{"../../translations":void 0,"../../translations/dev":void 0,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/web.dom-collections.iterator":246,i18next:3,"i18next-browser-languagedetector":3}],282:[function(t,S,b){Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0,t=(t=t("./main"))&&t.__esModule?t:{default:t},t.default.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},t.default.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},t.default.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},t.default.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")},t=t.default,b.default=t},{"./main":283}],283:[function(t,S,b){function o(r){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(r)}function d(r){return(d=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(c){return o(c)}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":o(c)})(r)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0,t("./shim");var s=function(r){if(r&&r.__esModule)return r;if(r===null||d(r)!=="object"&&typeof r!="function")return{default:r};var c=p();if(c&&c.has(r))return c.get(r);var a,h={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in r){var l;Object.prototype.hasOwnProperty.call(r,a)&&((l=u?Object.getOwnPropertyDescriptor(r,a):null)&&(l.get||l.set)?Object.defineProperty(h,a,l):h[a]=r[a])}return h.default=r,c&&c.set(r,h),h}(t("./constants"));function p(){var r;return typeof WeakMap!="function"?null:(r=new WeakMap,p=function(){return r},r)}function y(r,c){for(var a=0;a<c.length;a++){var h=c[a];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(r,h.key,h)}}var m,n=function(){function r(h,g){var l=this;if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");this._isGlobal=!h,this._setupDone=!1,this._preloadDone=!1,this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this._maxAllowedPixelDimensions=0,this._userNode=g,this._curElement=null,this._elements=[],this._glAttributes=null,this._requestAnimId=0,this._preloadCount=0,this._loop=!0,this._startListener=null,this._initializeInstanceVariables(),this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},this._millisStart=-1,this._recording=!1,this.touchstart=!1,this.touchend=!1,this._lcg_random_state=null,this._gaussian_previous=!1,this._events.wheel=null,this._loadingScreenId="p5_loading",this._registeredMethods={};var g=Object.getOwnPropertyNames(r.prototype._registeredMethods),v=!0,x=!1,k=void 0;try{for(var E,j=g[Symbol.iterator]();!(v=(E=j.next()).done);v=!0){var C=E.value;this._registeredMethods[C]=r.prototype._registeredMethods[C].slice()}}catch(W){x=!0,k=W}finally{try{v||j.return==null||j.return()}finally{if(x)throw k}}window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),r.prototype.callRegisteredHooksFor=function(W){var H=this||r.prototype,Z=this._isGlobal?window:this;if(H._registeredMethods.hasOwnProperty(W)){var H=H._registeredMethods[W],Y=!0,W=!1,Q=void 0;try{for(var M,B=H[Symbol.iterator]();!(Y=(M=B.next()).done);Y=!0){var V=M.value;typeof V=="function"&&V.call(Z)}}catch(ne){W=!0,Q=ne}finally{try{Y||B.return==null||B.return()}finally{if(W)throw Q}}}},this._start=function(){l._userNode&&typeof l._userNode=="string"&&(l._userNode=document.getElementById(l._userNode));var W=l._isGlobal?window:l;if(W.preload){l.callRegisteredHooksFor("beforePreload");var H,Z=document.getElementById(l._loadingScreenId),Y=(Z||((Z=document.createElement("div")).innerHTML="Loading...",Z.style.position="absolute",Z.id=l._loadingScreenId,(l._userNode||document.body).appendChild(Z)),l._preloadMethods);for(H in Y){Y[H]=Y[H]||r;var Q=Y[H];Q!==r.prototype&&Q!==r||(l._isGlobal&&(window[H]=l._wrapPreload(l,H)),Q=l),l._registeredPreloadMethods[H]=Q[H],Q[H]=l._wrapPreload(Q,H)}W.preload(),l._runIfPreloadsAreDone()}else l._setup(),l._recording||l._draw()},this._runIfPreloadsAreDone=function(){var W,H=this._isGlobal?window:this;H._preloadCount===0&&((W=document.getElementById(H._loadingScreenId))&&W.parentNode.removeChild(W),this.callRegisteredHooksFor("afterPreload"),this._setupDone||(this._lastTargetFrameTime=window.performance.now(),this._lastRealFrameTime=window.performance.now(),H._setup(),this._recording||H._draw()))},this._decrementPreload=function(){var W=this._isGlobal?window:this;W._preloadDone||typeof W.preload!="function"||(W._setProperty("_preloadCount",W._preloadCount-1),W._runIfPreloadsAreDone())},this._wrapPreload=function(W,H){var Z=this;return function(){Z._incrementPreload();for(var Y=arguments.length,Q=new Array(Y),M=0;M<Y;M++)Q[M]=arguments[M];return Z._registeredPreloadMethods[H].apply(W,Q)}},this._incrementPreload=function(){var W=this._isGlobal?window:this;W._preloadDone||W._setProperty("_preloadCount",W._preloadCount+1)},this._setup=function(){l.callRegisteredHooksFor("beforeSetup"),l.createCanvas(l._defaultCanvasSize.width,l._defaultCanvasSize.height,"p2d");var W=l._isGlobal?window:l;if(typeof W.preload=="function")for(var H in l._preloadMethods)W[H]=l._preloadMethods[H][H],W[H]&&l&&(W[H]=W[H].bind(l));l._millisStart=window.performance.now(),W._preloadDone=!0,typeof W.setup=="function"&&W.setup();var Z=document.getElementsByTagName("canvas"),Y=!0,Q=!1,M=void 0;try{for(var B,V=Z[Symbol.iterator]();!(Y=(B=V.next()).done);Y=!0){var X=B.value;X.dataset.hidden==="true"&&(X.style.visibility="",delete X.dataset.hidden)}}catch(re){Q=!0,M=re}finally{try{Y||V.return==null||V.return()}finally{if(Q)throw M}}l._lastTargetFrameTime=window.performance.now(),l._lastRealFrameTime=window.performance.now(),l._setupDone=!0,(l._accessibleOutputs.grid||l._accessibleOutputs.text)&&l._updateAccsOutput(),l.callRegisteredHooksFor("afterSetup")},this._draw=function(H){var H=H||window.performance.now(),Z=H-l._lastTargetFrameTime,Y=1e3/l._targetFrameRate;(!l._loop||Y-5<=Z)&&(l.deltaTime=H-l._lastRealFrameTime,l._setProperty("deltaTime",l.deltaTime),l._frameRate=1e3/l.deltaTime,l.redraw(),l._lastTargetFrameTime=Math.max(l._lastTargetFrameTime+Y,H),l._lastRealFrameTime=H,l._updateMouseCoords!==void 0&&(l._updateMouseCoords(),l._setProperty("movedX",0),l._setProperty("movedY",0))),l._loop&&(l._requestAnimId=window.requestAnimationFrame(l._draw))},this._setProperty=function(W,H){l[W]=H,l._isGlobal&&(window[W]=H)},this.remove=function(){l._startListener&&window.removeEventListener("load",l._startListener,!1);var W=document.getElementById(l._loadingScreenId);if(W&&(W.parentNode.removeChild(W),l._incrementPreload()),l._curElement){for(var H in l._loop=!1,l._requestAnimId&&window.cancelAnimationFrame(l._requestAnimId),l._events)window.removeEventListener(H,l._events[H]);var Z=!0,W=!1,Y=void 0;try{for(var Q,M=l._elements[Symbol.iterator]();!(Z=(Q=M.next()).done);Z=!0){var B,V=Q.value;for(B in V.elt&&V.elt.parentNode&&V.elt.parentNode.removeChild(V.elt),V._events)V.elt.removeEventListener(B,V._events[B])}}catch(be){W=!0,Y=be}finally{try{Z||M.return==null||M.return()}finally{if(W)throw Y}}var X=l;l._registeredMethods.remove.forEach(function(be){be!==void 0&&be.call(X)})}if(l._isGlobal){for(var re in r.prototype)try{delete window[re]}catch{window[re]=void 0}for(var ne in l)if(l.hasOwnProperty(ne))try{delete window[ne]}catch{window[ne]=void 0}r.instance=null}},this._updateWindowSize();var L,A,P=this._createFriendlyGlobalFunctionBinder();if(this._isGlobal){for(var R in r.instance=this,r.prototype)typeof r.prototype[R]=="function"?(L=R.substring(2),this._events.hasOwnProperty(L)||(Math.hasOwnProperty(R)&&Math[R]===r.prototype[R]?P(R,r.prototype[R]):P(R,r.prototype[R].bind(this)))):P(R,r.prototype[R]);for(var I in this)this.hasOwnProperty(I)&&P(I,this[I])}else h(this),r._checkForUserDefinedFunctions(this);for(A in this._updateWindowSize(),this.callRegisteredHooksFor("init"),this._setupPromisePreloads(),this._events){var N=this["_on".concat(A)];N&&(N=N.bind(this),window.addEventListener(A,N,{passive:!1}),this._events[A]=N)}function z(){l._setProperty("focused",!0)}function G(){l._setProperty("focused",!1)}window.addEventListener("focus",z),window.addEventListener("blur",G),this.registerMethod("remove",function(){window.removeEventListener("focus",z),window.removeEventListener("blur",G)}),document.readyState==="complete"?this._start():(this._startListener=this._start.bind(this),window.addEventListener("load",this._startListener,!1))}var c,a;return c=r,(a=[{key:"_initializeInstanceVariables",value:function(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._bezierDetail=20,this._curveDetail=20,this._colorMode=s.RGB,this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},this._downKeys={}}},{key:"registerPreloadMethod",value:function(h,u){r.prototype._preloadMethods.hasOwnProperty(h)||(r.prototype._preloadMethods[h]=u)}},{key:"registerMethod",value:function(h,u){var l=this||r.prototype;l._registeredMethods.hasOwnProperty(h)||(l._registeredMethods[h]=[]),l._registeredMethods[h].push(u)}},{key:"unregisterMethod",value:function(h,u){var l=this||r.prototype;if(l._registeredMethods.hasOwnProperty(h)){for(var g=l._registeredMethods[h],v=[],x=0;x<g.length;x++)g[x]===u&&v.push(x);for(var k=v.length-1;0<=k;k--)g.splice(v[k],1)}}},{key:"_createFriendlyGlobalFunctionBinder",value:function(){var h=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},u=h.globalObject||window;return h.log||console.log.bind(console),function(l,g){r.disableFriendlyErrors,u[l]=g}}}])&&y(c.prototype,a),r}();for(m in n.instance=null,n.disableFriendlyErrors=!1,s)n.prototype[m]=s[m];n.VERSION=s.VERSION,n.prototype._preloadMethods={loadJSON:n.prototype,loadImage:n.prototype,loadStrings:n.prototype,loadXML:n.prototype,loadBytes:n.prototype,loadTable:n.prototype,loadFont:n.prototype,loadModel:n.prototype,loadShader:n.prototype},n.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},n.prototype._registeredPreloadMethods={},b.default=n},{"./constants":272,"./shim":294,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-own-property-names":187,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],284:[function(t,S,b){Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var o=(t=t("./main"))&&t.__esModule?t:{default:t};function d(s,p){for(var y=0;y<p.length;y++){var m=p[y];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(s,m.key,m)}}o.default.Element=function(){function s(n,r){if(!(this instanceof s))throw new TypeError("Cannot call a class as a function");this.elt=n,this._pInst=this._pixelsState=r,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight}var p,y,m;return p=s,m=[{key:"_adjustListener",value:function(n,r,c){return r===!1?o.default.Element._detachListener(n,c):o.default.Element._attachListener(n,r,c),this}},{key:"_attachListener",value:function(n,r,c){c._events[n]&&o.default.Element._detachListener(n,c),r=r.bind(c),c.elt.addEventListener(n,r,!1),c._events[n]=r}},{key:"_detachListener",value:function(n,r){var c=r._events[n];r.elt.removeEventListener(n,c,!1),r._events[n]=null}}],(y=[{key:"parent",value:function(n){return n===void 0?this.elt.parentNode:(typeof n=="string"?(n[0]==="#"&&(n=n.substring(1)),n=document.getElementById(n)):n instanceof o.default.Element&&(n=n.elt),n.appendChild(this.elt),this)}},{key:"id",value:function(n){return n===void 0?this.elt.id:(this.elt.id=n,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)}},{key:"class",value:function(n){return n===void 0?this.elt.className:(this.elt.className=n,this)}},{key:"mousePressed",value:function(n){return o.default.Element._adjustListener("mousedown",function(r){return this._pInst._setProperty("mouseIsPressed",!0),this._pInst._setMouseButton(r),n.call(this,r)},this),this}},{key:"doubleClicked",value:function(n){return o.default.Element._adjustListener("dblclick",n,this),this}},{key:"mouseWheel",value:function(n){return o.default.Element._adjustListener("wheel",n,this),this}},{key:"mouseReleased",value:function(n){return o.default.Element._adjustListener("mouseup",n,this),this}},{key:"mouseClicked",value:function(n){return o.default.Element._adjustListener("click",n,this),this}},{key:"mouseMoved",value:function(n){return o.default.Element._adjustListener("mousemove",n,this),this}},{key:"mouseOver",value:function(n){return o.default.Element._adjustListener("mouseover",n,this),this}},{key:"mouseOut",value:function(n){return o.default.Element._adjustListener("mouseout",n,this),this}},{key:"touchStarted",value:function(n){return o.default.Element._adjustListener("touchstart",n,this),this}},{key:"touchMoved",value:function(n){return o.default.Element._adjustListener("touchmove",n,this),this}},{key:"touchEnded",value:function(n){return o.default.Element._adjustListener("touchend",n,this),this}},{key:"dragOver",value:function(n){return o.default.Element._adjustListener("dragover",n,this),this}},{key:"dragLeave",value:function(n){return o.default.Element._adjustListener("dragleave",n,this),this}},{key:"_setProperty",value:function(n,r){this[n]=r}}])&&d(p.prototype,y),m&&d(p,m),s}(),t=o.default.Element,b.default=t},{"./main":283}],285:[function(t,S,b){function o(l){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(l)}function d(l){return(d=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(g){return o(g)}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":o(g)})(l)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-prototype-of"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var s=(u=t("./main"))&&u.__esModule?u:{default:u},p=function(l){if(l&&l.__esModule)return l;if(l===null||d(l)!=="object"&&typeof l!="function")return{default:l};var g=y();if(g&&g.has(l))return g.get(l);var v,x={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(v in l){var E;Object.prototype.hasOwnProperty.call(l,v)&&((E=k?Object.getOwnPropertyDescriptor(l,v):null)&&(E.get||E.set)?Object.defineProperty(x,v,E):x[v]=l[v])}return x.default=l,g&&g.set(l,x),x}(t("./constants"));function y(){var l;return typeof WeakMap!="function"?null:(l=new WeakMap,y=function(){return l},l)}function m(l,g){for(var v=0;v<g.length;v++){var x=g[v];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(l,x.key,x)}}function n(l,g){return(n=Object.setPrototypeOf||function(v,x){return v.__proto__=x,v})(l,g)}function r(l){return function(){var g,v=h(l);return c(this,function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(g=h(this).constructor,Reflect.construct(v,arguments,g)):v.apply(this,arguments))}}function c(l,g){return!g||d(g)!=="object"&&typeof g!="function"?a(l):g}function a(l){if(l===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}function h(l){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)})(l)}s.default.Graphics=function(l){var g=x;if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(l&&l.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),l&&n(g,l);var v=r(x);function x(k,E,I,C,L){var A;if(!(this instanceof x))throw new TypeError("Cannot call a class as a function");R=L||document.createElement("canvas"),(A=v.call(this,R,C)).canvas=R;var P,R=I||p.P2D,I=C._userNode||document.body;for(P in L||I.appendChild(A.canvas),s.default.prototype)A[P]||(typeof s.default.prototype[P]=="function"?A[P]=s.default.prototype[P].bind(a(A)):A[P]=s.default.prototype[P]);return s.default.prototype._initializeInstanceVariables.apply(a(A)),A.width=k,A.height=E,A._pixelDensity=C._pixelDensity,R===p.WEBGL?(A._renderer=new s.default.RendererGL(A.canvas,a(A),!1),k=(L=A._renderer._adjustDimensions(k,E)).adjustedWidth,E=L.adjustedHeight):A._renderer=new s.default.Renderer2D(A.canvas,a(A),!1),C._elements.push(a(A)),Object.defineProperty(a(A),"deltaTime",{get:function(){return this._pInst.deltaTime}}),A._renderer.resize(k,E),A._renderer._applyDefaults(),c(A,a(A))}return g=x,(l=[{key:"reset",value:function(){this._renderer.resetMatrix(),this._renderer.isP3D&&this._renderer._update()}},{key:"remove",value:function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var k,E=this._pInst._elements.indexOf(this);for(k in E!==-1&&this._pInst._elements.splice(E,1),this._events)this.elt.removeEventListener(k,this._events[k]);this._renderer=void 0,this.canvas=void 0,this.elt=void 0}},{key:"createFramebuffer",value:function(k){return new s.default.Framebuffer(this,k)}}])&&m(g.prototype,l),x}(s.default.Element);var u=s.default.Graphics;b.default=u},{"./constants":272,"./main":283,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],286:[function(t,S,b){function o(l){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(l)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var d=(h=t("./main"))&&h.__esModule?h:{default:h},s=function(l){if(l&&l.__esModule)return l;if(l===null||y(l)!=="object"&&typeof l!="function")return{default:l};var g=p();if(g&&g.has(l))return g.get(l);var v,x={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(v in l){var E;Object.prototype.hasOwnProperty.call(l,v)&&((E=k?Object.getOwnPropertyDescriptor(l,v):null)&&(E.get||E.set)?Object.defineProperty(x,v,E):x[v]=l[v])}return x.default=l,g&&g.set(l,x),x}(t("../core/constants"));function p(){var l;return typeof WeakMap!="function"?null:(l=new WeakMap,p=function(){return l},l)}function y(l){return(y=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(g){return o(g)}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":o(g)})(l)}function m(l,g){for(var v=0;v<g.length;v++){var x=g[v];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(l,x.key,x)}}function n(l,g){return(n=Object.setPrototypeOf||function(v,x){return v.__proto__=x,v})(l,g)}function r(l){return function(){var g,v,x=a(l);return g=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(g=a(this).constructor,Reflect.construct(x,arguments,g)):x.apply(this,arguments),x=this,!(v=g)||y(v)!=="object"&&typeof v!="function"?c(x):v}}function c(l){if(l===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}function a(l){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)})(l)}var h=function(l){var g=x;if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(l&&l.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),l&&n(g,l);var v=r(x);function x(k,E,j){var C;if(this instanceof x)return(C=v.call(this,k,E)).canvas=k,C._pixelsState=E,j?(C._isMainCanvas=!0,C._pInst._setProperty("_curElement",c(C)),C._pInst._setProperty("canvas",C.canvas),C._pInst._setProperty("width",C.width),C._pInst._setProperty("height",C.height)):(C.canvas.style.display="none",C._styles=[]),C._clipping=!1,C._clipInvert=!1,C._textSize=12,C._textLeading=15,C._textFont="sans-serif",C._textStyle=s.NORMAL,C._textAscent=null,C._textDescent=null,C._textAlign=s.LEFT,C._textBaseline=s.BASELINE,C._textWrap=s.WORD,C._rectMode=s.CORNER,C._ellipseMode=s.CENTER,C._curveTightness=0,C._imageMode=s.CORNER,C._tint=null,C._doStroke=!0,C._doFill=!0,C._strokeSet=!1,C._fillSet=!1,C._leadingSet=!1,C._pushPopDepth=0,C;throw new TypeError("Cannot call a class as a function")}return g=x,(l=[{key:"push",value:function(){return this._pushPopDepth++,{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_leadingSet:this._leadingSet,_textSize:this._textSize,_textAlign:this._textAlign,_textBaseline:this._textBaseline,_textStyle:this._textStyle,_textWrap:this._textWrap}}}},{key:"pop",value:function(k){this._pushPopDepth--,k.properties&&Object.assign(this,k.properties)}},{key:"beginClip",value:function(){var k=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};if(this._clipping)throw new Error("It looks like you're trying to clip while already in the middle of clipping. Did you forget to endClip()?");this._clipping=!0,this._clipInvert=k.invert}},{key:"endClip",value:function(){if(!this._clipping)throw new Error("It looks like you've called endClip() without beginClip(). Did you forget to call beginClip() first?");this._clipping=!1}},{key:"resize",value:function(k,E){this.width=k,this.height=E,this.elt.width=k*this._pInst._pixelDensity,this.elt.height=E*this._pInst._pixelDensity,this.elt.style.width="".concat(k,"px"),this.elt.style.height="".concat(E,"px"),this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))}},{key:"get",value:function(k,E,j,C){var L=this._pixelsState,A=L._pixelDensity,P=this.canvas;if(k===void 0&&E===void 0)k=E=0,j=L.width,C=L.height;else if(k*=A,E*=A,j===void 0&&C===void 0)return k<0||E<0||k>=P.width||E>=P.height?[0,0,0,0]:this._getPixel(k,E);return L=new d.default.Image(j*A,C*A),L.pixelDensity(A),L.canvas.getContext("2d").drawImage(P,k,E,j*A,C*A,0,0,j*A,C*A),L}},{key:"textLeading",value:function(k){return typeof k=="number"?(this._setProperty("_leadingSet",!0),this._setProperty("_textLeading",k),this._pInst):this._textLeading}},{key:"textStyle",value:function(k){return k?(k!==s.NORMAL&&k!==s.ITALIC&&k!==s.BOLD&&k!==s.BOLDITALIC||this._setProperty("_textStyle",k),this._applyTextProperties()):this._textStyle}},{key:"textAscent",value:function(){return this._textAscent===null&&this._updateTextMetrics(),this._textAscent}},{key:"textDescent",value:function(){return this._textDescent===null&&this._updateTextMetrics(),this._textDescent}},{key:"textAlign",value:function(k,E){return k!==void 0?(this._setProperty("_textAlign",k),E!==void 0&&this._setProperty("_textBaseline",E),this._applyTextProperties()):{horizontal:this._textAlign,vertical:this._textBaseline}}},{key:"textWrap",value:function(k){return this._setProperty("_textWrap",k),this._textWrap}},{key:"text",value:function(k,E,j,C,L){var A,P,R,I,N=this._pInst,z=this._textWrap,G=Number.MAX_VALUE,W=j;if((this._doFill||this._doStroke)&&k!==void 0){if(A=(k=(k=typeof k!="string"?k.toString():k).replace(/(\t)/g,"  ")).split(`
`),C!==void 0){switch(this._rectMode===s.CENTER&&(E-=C/2),this._textAlign){case s.CENTER:E+=C/2;break;case s.RIGHT:E+=C}if(L!==void 0){this._rectMode===s.CENTER&&(j-=L/2,W-=L/2);var k=j,H=N.textAscent();switch(this._textBaseline){case s.BOTTOM:I=j+L,j=Math.max(I,j),W+=H;break;case s.CENTER:I=j+L/2,j=Math.max(I,j),W+=H/2}G=j+L-H,this._textBaseline===s.CENTER&&(G=k+L-H/2)}else this._textBaseline!==s.BOTTOM&&this._textBaseline!==s.CENTER||(W=j-(k=N.textSize()*this._textLeading)/2,G=j+k/2);if(z===s.WORD){for(var Z=[],Y=0;Y<A.length;Y++){for(var Q="",M=A[Y].split(" "),B=0;B<M.length;B++)P="".concat(Q+M[B])+" ",Q=C<(R=this.textWidth(P))&&0<Q.length?(Z.push(Q),"".concat(M[B])+" "):P;Z.push(Q)}var V=0;this._textBaseline===s.CENTER?V=(Z.length-1)*N.textLeading()/2:this._textBaseline===s.BOTTOM&&(V=(Z.length-1)*N.textLeading());for(var X=0;X<A.length;X++){Q="",M=A[X].split(" ");for(var re=0;re<M.length;re++)P="".concat(Q+M[re])+" ",C<(R=this.textWidth(P))&&0<Q.length?(this._renderText(N,Q.trim(),E,j-V,G,W),Q="".concat(M[re])+" ",j+=N.textLeading()):Q=P;this._renderText(N,Q.trim(),E,j-V,G,W),j+=N.textLeading()}}else{for(var ne=[],ce=0;ce<A.length;ce++)for(var be=A[ce].split(Q=""),he=0;he<be.length;he++)P="".concat(Q+be[he]),(R=this.textWidth(P))<=C?Q+=be[he]:C<R&&0<Q.length&&(ne.push(Q),Q="".concat(be[he]));ne.push(Q);var le=0;this._textBaseline===s.CENTER?le=(ne.length-1)*N.textLeading()/2:this._textBaseline===s.BOTTOM&&(le=(ne.length-1)*N.textLeading());for(var ge=0;ge<A.length;ge++){be=A[ge].split(Q="");for(var U=0;U<be.length;U++)P="".concat(Q+be[U]),(R=this.textWidth(P))<=C?Q+=be[U]:C<R&&0<Q.length&&(this._renderText(N,Q.trim(),E,j-le,G,W),j+=N.textLeading(),Q="".concat(be[U]))}this._renderText(N,Q.trim(),E,j-le,G,W),j+=N.textLeading()}}else{var oe=0;this._textBaseline===s.CENTER?oe=(A.length-1)*N.textLeading()/2:this._textBaseline===s.BOTTOM&&(oe=(A.length-1)*N.textLeading());for(var fe=0;fe<A.length;fe++)this._renderText(N,A[fe],E,j-oe,G,W-oe),j+=N.textLeading()}return N}}},{key:"_applyDefaults",value:function(){return this}},{key:"_isOpenType",value:function(){var k=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this._textFont;return y(k)==="object"&&k.font&&k.font.supported}},{key:"_updateTextMetrics",value:function(){var k,E,j,C,L,A;return this._isOpenType()?(this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent())):((k=document.createElement("span")).style.fontFamily=this._textFont,k.style.fontSize="".concat(this._textSize,"px"),k.innerHTML="ABCjgq|",(A=document.createElement("div")).style.display="inline-block",A.style.width="1px",A.style.height="0px",C=((E=document.createElement("div")).appendChild(k),E.appendChild(A),E.style.height="0px",E.style.overflow="hidden",document.body.appendChild(E),A.style.verticalAlign="baseline",u(A)),L=u(k),j=C[1]-L[1],C=(A.style.verticalAlign="bottom",u(A)),L=u(k),A=C[1]-L[1]-j,document.body.removeChild(E),this._setProperty("_textAscent",j),this._setProperty("_textDescent",A)),this}}])&&m(g.prototype,l),x}(d.default.Element);function u(l){var g=0,v=0;if(l.offsetParent)for(;g+=l.offsetLeft,v+=l.offsetTop,l=l.offsetParent;);else g+=l.offsetLeft,v+=l.offsetTop;return[g,v]}h.prototype.textSize=function(l){return typeof l=="number"?(this._setProperty("_textSize",l),this._leadingSet||this._setProperty("_textLeading",l*s._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize},d.default.Renderer=h,t=d.default.Renderer,b.default=t},{"../core/constants":272,"./main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],287:[function(l,S,b){function o(g){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(g)}function d(g){return(d=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(v){return o(v)}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":o(v)})(g)}l("core-js/modules/es.symbol"),l("core-js/modules/es.symbol.description"),l("core-js/modules/es.symbol.iterator"),l("core-js/modules/es.array.concat"),l("core-js/modules/es.array.fill"),l("core-js/modules/es.array.iterator"),l("core-js/modules/es.array.join"),l("core-js/modules/es.array.slice"),l("core-js/modules/es.function.name"),l("core-js/modules/es.object.get-own-property-descriptor"),l("core-js/modules/es.object.get-prototype-of"),l("core-js/modules/es.object.to-string"),l("core-js/modules/es.reflect.construct"),l("core-js/modules/es.reflect.get"),l("core-js/modules/es.regexp.exec"),l("core-js/modules/es.regexp.to-string"),l("core-js/modules/es.string.iterator"),l("core-js/modules/es.weak-map"),l("core-js/modules/web.dom-collections.iterator"),l("core-js/modules/es.array.concat"),l("core-js/modules/es.array.fill"),l("core-js/modules/es.array.join"),l("core-js/modules/es.array.slice"),l("core-js/modules/es.function.name"),l("core-js/modules/es.object.get-prototype-of"),l("core-js/modules/es.object.to-string"),l("core-js/modules/es.regexp.exec"),l("core-js/modules/es.regexp.to-string"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var s=(u=l("./main"))&&u.__esModule?u:{default:u},p=function(g){if(g&&g.__esModule)return g;if(g===null||d(g)!=="object"&&typeof g!="function")return{default:g};var v=y();if(v&&v.has(g))return v.get(g);var x,k={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(x in g){var j;Object.prototype.hasOwnProperty.call(g,x)&&((j=E?Object.getOwnPropertyDescriptor(g,x):null)&&(j.get||j.set)?Object.defineProperty(k,x,j):k[x]=g[x])}return k.default=g,v&&v.set(g,k),k}(l("./constants"));function y(){var g;return typeof WeakMap!="function"?null:(g=new WeakMap,y=function(){return g},g)}function m(g,v){for(var x=0;x<v.length;x++){var k=v[x];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(g,k.key,k)}}function n(g,v,x){return(n=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(C,E,j){var C=function(L,A){for(;!Object.prototype.hasOwnProperty.call(L,A)&&(L=a(L))!==null;);return L}(C,E);if(C)return(C=Object.getOwnPropertyDescriptor(C,E)).get?C.get.call(j):C.value})(g,v,x||g)}function r(g,v){return(r=Object.setPrototypeOf||function(x,k){return x.__proto__=k,x})(g,v)}function c(g){return function(){var v,x=a(g),x=(v=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(v=a(this).constructor,Reflect.construct(x,arguments,v)):x.apply(this,arguments),this);if(!v||d(v)!=="object"&&typeof v!="function"){if(x!==void 0)return x;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return v}}function a(g){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(v){return v.__proto__||Object.getPrototypeOf(v)})(g)}l("./p5.Renderer");var h="rgba(0,0,0,0)",u=function(g){var v=k;if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),g&&r(v,g);var x=c(k);function k(E,j,C){if(this instanceof k)return(E=x.call(this,E,j,C)).drawingContext=E.canvas.getContext("2d"),E._pInst._setProperty("drawingContext",E.drawingContext),E;throw new TypeError("Cannot call a class as a function")}return v=k,(g=[{key:"getFilterGraphicsLayer",value:function(){var E;return this.filterGraphicsLayer||(E=(this._pInst instanceof s.default.Graphics?this._pInst:this)._pInst,this.filterGraphicsLayer=new s.default.Graphics(this.width,this.height,p.WEBGL,E)),this.filterGraphicsLayer.width===this.width&&this.filterGraphicsLayer.height===this.height||this.filterGraphicsLayer.resizeCanvas(this.width,this.height),this.filterGraphicsLayer.pixelDensity()!==this._pInst.pixelDensity()&&this.filterGraphicsLayer.pixelDensity(this._pInst.pixelDensity()),this.filterGraphicsLayer}},{key:"_applyDefaults",value:function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0,this._cachedBlendMode=p.BLEND,this._setFill(p._DEFAULT_FILL),this._setStroke(p._DEFAULT_STROKE),this.drawingContext.lineCap=p.ROUND,this.drawingContext.font="normal 12px sans-serif"}},{key:"resize",value:function(E,j){n(a(k.prototype),"resize",this).call(this,E,j),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)}},{key:"background",value:function(){var E,j;this.drawingContext.save(),this.resetMatrix(),(arguments.length<=0?void 0:arguments[0])instanceof s.default.Image?0<=(arguments.length<=1?void 0:arguments[1])?(E=arguments.length<=0?void 0:arguments[0],this.drawingContext.globalAlpha=(arguments.length<=1?void 0:arguments[1])/255,this._pInst.image(E,0,0,this.width,this.height)):this._pInst.image(arguments.length<=0?void 0:arguments[0],0,0,this.width,this.height):(E=this._getFill(),j=(j=this._pInst).color.apply(j,arguments),this._pInst._addAccsOutput()&&this._pInst._accsBackground(j.levels),j=j.toString(),this._setFill(j),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._setFill(E),this._isErasing&&this._pInst.erase()),this.drawingContext.restore()}},{key:"clear",value:function(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()}},{key:"fill",value:function(){var E=(E=this._pInst).color.apply(E,arguments);this._setFill(E.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("fill",E.levels)}},{key:"stroke",value:function(){var E=(E=this._pInst).color.apply(E,arguments);this._setStroke(E.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("stroke",E.levels)}},{key:"erase",value:function(E,j){this._isErasing||(this._cachedFillStyle=this.drawingContext.fillStyle,E=this._pInst.color(255,E).toString(),this.drawingContext.fillStyle=E,this._cachedStrokeStyle=this.drawingContext.strokeStyle,E=this._pInst.color(255,j).toString(),this.drawingContext.strokeStyle=E,j=this._cachedBlendMode,this.blendMode(p.REMOVE),this._cachedBlendMode=j,this._isErasing=!0)}},{key:"noErase",value:function(){this._isErasing&&(this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),this._isErasing=!1)}},{key:"beginClip",value:function(){var E=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},E=(n(a(k.prototype),"beginClip",this).call(this,E),this._cachedFillStyle=this.drawingContext.fillStyle,this._pInst.color(255,0).toString()),E=(this.drawingContext.fillStyle=E,this._cachedStrokeStyle=this.drawingContext.strokeStyle,this._pInst.color(255,0).toString()),E=(this.drawingContext.strokeStyle=E,this._cachedBlendMode);this.blendMode(p.BLEND),this._cachedBlendMode=E,this.drawingContext.beginPath(),this._clipInvert&&(this.drawingContext.moveTo(-2*this.width,-2*this.height),this.drawingContext.lineTo(-2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,-2*this.height),this.drawingContext.closePath())}},{key:"endClip",value:function(){this._doFillStrokeClose(),this.drawingContext.clip(),n(a(k.prototype),"endClip",this).call(this),this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode)}},{key:"image",value:function(E,j,C,L,A,P,R,I,N){E.gifProperties&&E._animateGif(this._pInst);try{s.default.MediaElement&&E instanceof s.default.MediaElement&&E._ensureCanvas();var z=(z=this._tint&&E.canvas?this._getTintedImageCanvas(E):z)||E.canvas||E.elt,G=1;E.width&&0<E.width&&(G=z.width/E.width),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage(z,G*j,G*C,G*L,G*A,P,R,I,N),this._isErasing&&this._pInst.erase()}catch(W){if(W.name!=="NS_ERROR_NOT_AVAILABLE")throw W}}},{key:"_getTintedImageCanvas",value:function(E){if(!E.canvas)return E;E.tintCanvas||(E.tintCanvas=document.createElement("canvas")),E.tintCanvas.width!==E.canvas.width&&(E.tintCanvas.width=E.canvas.width),E.tintCanvas.height!==E.canvas.height&&(E.tintCanvas.height=E.canvas.height);var j=E.tintCanvas.getContext("2d");return j.save(),j.clearRect(0,0,E.canvas.width,E.canvas.height),(this._tint[0]<255||this._tint[1]<255||this._tint[2]<255)&&(j.drawImage(E.canvas,0,0),j.globalCompositeOperation="luminosity",j.drawImage(E.canvas,0,0),j.globalCompositeOperation="color",j.drawImage(E.canvas,0,0),j.globalCompositeOperation="multiply",j.fillStyle="rgb(".concat(this._tint.slice(0,3).join(", "),")"),j.fillRect(0,0,E.canvas.width,E.canvas.height),j.globalCompositeOperation="destination-in"),j.globalAlpha=this._tint[3]/255,j.drawImage(E.canvas,0,0),j.restore(),E.tintCanvas}},{key:"blendMode",value:function(E){if(E===p.SUBTRACT)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else{if(E!==p.BLEND&&E!==p.REMOVE&&E!==p.DARKEST&&E!==p.LIGHTEST&&E!==p.DIFFERENCE&&E!==p.MULTIPLY&&E!==p.EXCLUSION&&E!==p.SCREEN&&E!==p.REPLACE&&E!==p.OVERLAY&&E!==p.HARD_LIGHT&&E!==p.SOFT_LIGHT&&E!==p.DODGE&&E!==p.BURN&&E!==p.ADD)throw new Error("Mode ".concat(E," not recognized."));this._cachedBlendMode=E,this.drawingContext.globalCompositeOperation=E}}},{key:"blend",value:function(){for(var E=this.drawingContext.globalCompositeOperation,j=arguments.length,C=new Array(j),L=0;L<j;L++)C[L]=arguments[L];var A=C[C.length-1],P=Array.prototype.slice.call(C,0,C.length-1);this.drawingContext.globalCompositeOperation=A,s.default.prototype.copy.apply(this,P),this.drawingContext.globalCompositeOperation=E}},{key:"_getPixel",value:function(E,j){return E=this.drawingContext.getImageData(E,j,1,1).data,[E[0],E[1],E[2],E[3]]}},{key:"loadPixels",value:function(){var E=this._pixelsState,j=E._pixelDensity,C=this.width*j,j=this.height*j,C=this.drawingContext.getImageData(0,0,C,j);E._setProperty("imageData",C),E._setProperty("pixels",C.data)}},{key:"set",value:function(E,j,C){E=Math.floor(E),j=Math.floor(j);var L=this._pixelsState;if(C instanceof s.default.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(L._pixelDensity,L._pixelDensity),this.drawingContext.clearRect(E,j,C.width,C.height),this.drawingContext.drawImage(C.canvas,E,j),this.drawingContext.restore();else{var A=0,P=0,R=0,I=0,N=4*(j*L._pixelDensity*(this.width*L._pixelDensity)+E*L._pixelDensity);if(L.imageData||L.loadPixels(),typeof C=="number")N<L.pixels.length&&(R=P=A=C,I=255);else if(Array.isArray(C)){if(C.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");N<L.pixels.length&&(A=C[0],P=C[1],R=C[2],I=C[3])}else C instanceof s.default.Color&&N<L.pixels.length&&(A=C.levels[0],P=C.levels[1],R=C.levels[2],I=C.levels[3]);for(var z=0;z<L._pixelDensity;z++)for(var G=0;G<L._pixelDensity;G++)N=4*((j*L._pixelDensity+G)*this.width*L._pixelDensity+(E*L._pixelDensity+z)),L.pixels[N]=A,L.pixels[N+1]=P,L.pixels[N+2]=R,L.pixels[N+3]=I}}},{key:"updatePixels",value:function(E,j,C,L){var A=this._pixelsState,P=A._pixelDensity;E===void 0&&j===void 0&&C===void 0&&L===void 0&&(j=E=0,C=this.width,L=this.height),E*=P,j*=P,C*=P,L*=P,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=A.imageData),this.drawingContext.putImageData(A.imageData,0,0,E,j,C,L)}},{key:"arc",value:function(N,z,G,W,A,P,R){var I=this.drawingContext,N=N+G/2,z=z+W/2,G=G/2,W=W/2,H=!(R===p.CHORD||R===p.OPEN||(P-A)%p.TWO_PI==0);return this._doFill&&(this._clipping||I.beginPath(),I.ellipse(N,z,G,W,0,A,P),H&&I.lineTo(N,z),I.closePath(),this._clipping||I.fill()),this._doStroke&&(this._clipping||I.beginPath(),I.ellipse(N,z,G,W,0,A,P),R===p.PIE&&H&&I.lineTo(N,z),R!==p.PIE&&R!==p.CHORD||I.closePath(),this._clipping||I.stroke()),this}},{key:"ellipse",value:function(I){var j=this.drawingContext,C=this._doFill,L=this._doStroke,A=parseFloat(I[0]),P=parseFloat(I[1]),R=parseFloat(I[2]),I=parseFloat(I[3]);if(C&&!L){if(this._getFill()===h)return this}else if(!C&&L&&this._getStroke()===h)return this;A+=R/2,P+=I/2,R/=2,I/=2,this._clipping||j.beginPath(),j.ellipse(A,P,R,I,0,0,2*Math.PI),j.closePath(),!this._clipping&&C&&j.fill(),!this._clipping&&L&&j.stroke()}},{key:"line",value:function(E,j,C,L){var A=this.drawingContext;return this._doStroke&&this._getStroke()!==h&&(this._clipping||A.beginPath(),A.moveTo(E,j),A.lineTo(C,L),A.stroke()),this}},{key:"point",value:function(E,j){var C,L,A=this.drawingContext;return!this._doStroke||this._getStroke()===h?this:(C=this._getStroke(),L=this._getFill(),this._clipping||this._setFill(C),this._clipping||A.beginPath(),A.arc(E,j,A.lineWidth/2,0,p.TWO_PI,!1),void(this._clipping||(A.fill(),this._setFill(L))))}},{key:"quad",value:function(E,j,C,L,A,P,R,I){var N=this.drawingContext,z=this._doFill,G=this._doStroke;if(z&&!G){if(this._getFill()===h)return this}else if(!z&&G&&this._getStroke()===h)return this;return this._clipping||N.beginPath(),N.moveTo(E,j),N.lineTo(C,L),N.lineTo(A,P),N.lineTo(R,I),N.closePath(),!this._clipping&&z&&N.fill(),!this._clipping&&G&&N.stroke(),this}},{key:"rect",value:function(G){var j,C,L=G[0],A=G[1],P=G[2],R=G[3],I=G[4],N=G[5],z=G[6],G=G[7],W=this.drawingContext,H=this._doFill,Z=this._doStroke;if(H&&!Z){if(this._getFill()===h)return this}else if(!H&&Z&&this._getStroke()===h)return this;return this._clipping||W.beginPath(),I===void 0?W.rect(L,A,P,R):(N===void 0&&(N=I),z===void 0&&(z=N),G===void 0&&(G=z),Z=(H=Math.abs(P))/2,C=(j=Math.abs(R))/2,W.roundRect(L,A,P,R,[I=j<2*(I=H<2*I?Z:I)?C:I,N=j<2*(N=H<2*N?Z:N)?C:N,z=j<2*(z=H<2*z?Z:z)?C:z,G=j<2*(G=H<2*G?Z:G)?C:G])),!this._clipping&&this._doFill&&W.fill(),!this._clipping&&this._doStroke&&W.stroke(),this}},{key:"triangle",value:function(z){var j=this.drawingContext,C=this._doFill,L=this._doStroke,A=z[0],P=z[1],R=z[2],I=z[3],N=z[4],z=z[5];if(C&&!L){if(this._getFill()===h)return this}else if(!C&&L&&this._getStroke()===h)return this;this._clipping||j.beginPath(),j.moveTo(A,P),j.lineTo(R,I),j.lineTo(N,z),j.closePath(),!this._clipping&&C&&j.fill(),!this._clipping&&L&&j.stroke()}},{key:"endShape",value:function(E,j,C,L,A,P,R){if(j.length!==0&&(this._doStroke||this._doFill)){var I,N,z,G=E===p.CLOSE,W=(G&&!P&&j.push(j[0]),j.length);if(C&&R===null){if(3<W){var H=[],Z=1-this._curveTightness;for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(j[1][0],j[1][1]),N=1;N+2<W;N++)I=j[N],H[0]=[I[0],I[1]],H[1]=[I[0]+(Z*j[N+1][0]-Z*j[N-1][0])/6,I[1]+(Z*j[N+1][1]-Z*j[N-1][1])/6],H[2]=[j[N+1][0]+(Z*j[N][0]-Z*j[N+2][0])/6,j[N+1][1]+(Z*j[N][1]-Z*j[N+2][1])/6],H[3]=[j[N+1][0],j[N+1][1]],this.drawingContext.bezierCurveTo(H[1][0],H[1][1],H[2][0],H[2][1],H[3][0],H[3][1]);G&&this.drawingContext.lineTo(j[N+1][0],j[N+1][1]),this._doFillStrokeClose(G)}}else if(L&&R===null){for(this._clipping||this.drawingContext.beginPath(),N=0;N<W;N++)j[N].isVert?j[N].moveTo?this.drawingContext.moveTo(j[N][0],j[N][1]):this.drawingContext.lineTo(j[N][0],j[N][1]):this.drawingContext.bezierCurveTo(j[N][0],j[N][1],j[N][2],j[N][3],j[N][4],j[N][5]);this._doFillStrokeClose(G)}else if(A&&R===null){for(this._clipping||this.drawingContext.beginPath(),N=0;N<W;N++)j[N].isVert?j[N].moveTo?this.drawingContext.moveTo(j[N][0],j[N][1]):this.drawingContext.lineTo(j[N][0],j[N][1]):this.drawingContext.quadraticCurveTo(j[N][0],j[N][1],j[N][2],j[N][3]);this._doFillStrokeClose(G)}else if(R===p.POINTS)for(N=0;N<W;N++)I=j[N],this._doStroke&&this._pInst.stroke(I[6]),this._pInst.point(I[0],I[1]);else if(R===p.LINES)for(N=0;N+1<W;N+=2)I=j[N],this._doStroke&&this._pInst.stroke(j[N+1][6]),this._pInst.line(I[0],I[1],j[N+1][0],j[N+1][1]);else if(R===p.TRIANGLES)for(N=0;N+2<W;N+=3)I=j[N],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(I[0],I[1]),this.drawingContext.lineTo(j[N+1][0],j[N+1][1]),this.drawingContext.lineTo(j[N+2][0],j[N+2][1]),this.drawingContext.closePath(),!this._clipping&&this._doFill&&(this._pInst.fill(j[N+2][5]),this.drawingContext.fill()),!this._clipping&&this._doStroke&&(this._pInst.stroke(j[N+2][6]),this.drawingContext.stroke());else if(R===p.TRIANGLE_STRIP)for(N=0;N+1<W;N++)I=j[N],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(j[N+1][0],j[N+1][1]),this.drawingContext.lineTo(I[0],I[1]),!this._clipping&&this._doStroke&&this._pInst.stroke(j[N+1][6]),!this._clipping&&this._doFill&&this._pInst.fill(j[N+1][5]),N+2<W&&(this.drawingContext.lineTo(j[N+2][0],j[N+2][1]),!this._clipping&&this._doStroke&&this._pInst.stroke(j[N+2][6]),!this._clipping&&this._doFill&&this._pInst.fill(j[N+2][5])),this._doFillStrokeClose(G);else if(R===p.TRIANGLE_FAN){if(2<W){for(this._clipping||this.drawingContext.beginPath(),N=2;N<W;N++)I=j[N],this.drawingContext.moveTo(j[0][0],j[0][1]),this.drawingContext.lineTo(j[N-1][0],j[N-1][1]),this.drawingContext.lineTo(I[0],I[1]),this.drawingContext.lineTo(j[0][0],j[0][1]),N<W-1&&(this._doFill&&I[5]!==j[N+1][5]||this._doStroke&&I[6]!==j[N+1][6])&&(!this._clipping&&this._doFill&&(this._pInst.fill(I[5]),this.drawingContext.fill(),this._pInst.fill(j[N+1][5])),!this._clipping&&this._doStroke&&(this._pInst.stroke(I[6]),this.drawingContext.stroke(),this._pInst.stroke(j[N+1][6])),this.drawingContext.closePath(),this._clipping||this.drawingContext.beginPath());this._doFillStrokeClose(G)}}else if(R===p.QUADS)for(N=0;N+3<W;N+=4){for(I=j[N],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(I[0],I[1]),z=1;z<4;z++)this.drawingContext.lineTo(j[N+z][0],j[N+z][1]);this.drawingContext.lineTo(I[0],I[1]),!this._clipping&&this._doFill&&this._pInst.fill(j[N+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(j[N+3][6]),this._doFillStrokeClose(G)}else if(R===p.QUAD_STRIP){if(3<W)for(N=0;N+1<W;N+=2)I=j[N],this._clipping||this.drawingContext.beginPath(),N+3<W?(this.drawingContext.moveTo(j[N+2][0],j[N+2][1]),this.drawingContext.lineTo(I[0],I[1]),this.drawingContext.lineTo(j[N+1][0],j[N+1][1]),this.drawingContext.lineTo(j[N+3][0],j[N+3][1]),!this._clipping&&this._doFill&&this._pInst.fill(j[N+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(j[N+3][6])):(this.drawingContext.moveTo(I[0],I[1]),this.drawingContext.lineTo(j[N+1][0],j[N+1][1])),this._doFillStrokeClose(G)}else{for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(j[0][0],j[0][1]),N=1;N<W;N++)(I=j[N]).isVert&&(I.moveTo?(G&&this.drawingContext.closePath(),this.drawingContext.moveTo(I[0],I[1])):this.drawingContext.lineTo(I[0],I[1]));this._doFillStrokeClose(G),this.drawingContext.closePath()}P=A=L=C=!1,G&&j.pop()}return this}},{key:"strokeCap",value:function(E){return E!==p.ROUND&&E!==p.SQUARE&&E!==p.PROJECT||(this.drawingContext.lineCap=E),this}},{key:"strokeJoin",value:function(E){return E!==p.ROUND&&E!==p.BEVEL&&E!==p.MITER||(this.drawingContext.lineJoin=E),this}},{key:"strokeWeight",value:function(E){return this.drawingContext.lineWidth=E===void 0||E===0?1e-4:E,this}},{key:"_getFill",value:function(){return this._cachedFillStyle||(this._cachedFillStyle=this.drawingContext.fillStyle),this._cachedFillStyle}},{key:"_setFill",value:function(E){E!==this._cachedFillStyle&&(this.drawingContext.fillStyle=E,this._cachedFillStyle=E)}},{key:"_getStroke",value:function(){return this._cachedStrokeStyle||(this._cachedStrokeStyle=this.drawingContext.strokeStyle),this._cachedStrokeStyle}},{key:"_setStroke",value:function(E){E!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=E,this._cachedStrokeStyle=E)}},{key:"bezier",value:function(E,j,C,L,A,P,R,I){return this._pInst.beginShape(),this._pInst.vertex(E,j),this._pInst.bezierVertex(C,L,A,P,R,I),this._pInst.endShape(),this}},{key:"curve",value:function(E,j,C,L,A,P,R,I){return this._pInst.beginShape(),this._pInst.curveVertex(E,j),this._pInst.curveVertex(C,L),this._pInst.curveVertex(A,P),this._pInst.curveVertex(R,I),this._pInst.endShape(),this}},{key:"_doFillStrokeClose",value:function(E){E&&this.drawingContext.closePath(),!this._clipping&&this._doFill&&this.drawingContext.fill(),!this._clipping&&this._doStroke&&this.drawingContext.stroke()}},{key:"applyMatrix",value:function(E,j,C,L,A,P){this.drawingContext.transform(E,j,C,L,A,P)}},{key:"resetMatrix",value:function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this}},{key:"rotate",value:function(E){this.drawingContext.rotate(E)}},{key:"scale",value:function(E,j){return this.drawingContext.scale(E,j),this}},{key:"translate",value:function(E,j){return E instanceof s.default.Vector&&(j=E.y,E=E.x),this.drawingContext.translate(E,j),this}},{key:"_renderText",value:function(E,j,C,L,A,P){if(!(L<P||A<=L))return E.push(),this._isOpenType()?this._textFont._renderPath(j,C,L,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(j,C,L),!this._clipping&&this._doFill&&(this._fillSet||this._setFill(p._DEFAULT_TEXT_FILL),this.drawingContext.fillText(j,C,L))),E.pop(),E}},{key:"textWidth",value:function(E){return this._isOpenType()?this._textFont._textWidth(E,this._textSize):this.drawingContext.measureText(E).width}},{key:"_applyTextProperties",value:function(){var E=this._pInst,j=(this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),j=this._textFont,this._isOpenType()&&(j=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),j||"sans-serif");return/\s/.exec(j)&&(j='"'.concat(j,'"')),this.drawingContext.font="".concat(this._textStyle||"normal"," ").concat(this._textSize||12,"px ").concat(j),this.drawingContext.textAlign=this._textAlign,this._textBaseline===p.CENTER?this.drawingContext.textBaseline=p._CTX_MIDDLE:this.drawingContext.textBaseline=this._textBaseline,E}},{key:"push",value:function(){return this.drawingContext.save(),n(a(k.prototype),"push",this).call(this)}},{key:"pop",value:function(E){this.drawingContext.restore(),this._cachedFillStyle=this.drawingContext.fillStyle,this._cachedStrokeStyle=this.drawingContext.strokeStyle,n(a(k.prototype),"pop",this).call(this,E)}}])&&m(v.prototype,g),k}(s.default.Renderer),l=(u.prototype.text=function(g,v,x,C,E){C!==void 0&&this.drawingContext.textBaseline===p.BASELINE&&(j=!0,this.drawingContext.textBaseline=p.TOP);var j,C=s.default.Renderer.prototype.text.apply(this,arguments);return j&&(this.drawingContext.textBaseline=p.BASELINE),C},s.default.Renderer2D=u,s.default.Renderer2D);b.default=l},{"./constants":272,"./main":283,"./p5.Renderer":286,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.function.name":174,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],288:[function(t,S,b){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator");var o=(t=t("./main"))&&t.__esModule?t:{default:t};o.default.prototype._promisePreloads=[];function d(){return{}}var s=!(o.default.prototype.registerPromisePreload=function(p){o.default.prototype._promisePreloads.push(p)});o.default.prototype._setupPromisePreloads=function(){var p=!0,y=!1,m=void 0;try{for(var n,r=this._promisePreloads[Symbol.iterator]();!(p=(n=r.next()).done);p=!0){var c=n.value,a=this,h=c.method,u=c.addCallbacks,l=c.legacyPreloadSetup,g=c.target||this,v=g[h].bind(g);if(g===o.default.prototype){if(s)continue;a=null,v=g[h]}g[h]=this._wrapPromisePreload(a,v,u),l&&(g[l.method]=this._legacyPreloadGenerator(a,l,g[h]))}}catch(x){y=!0,m=x}finally{try{p||r.return==null||r.return()}finally{if(y)throw m}}s=!0},o.default.prototype._wrapPromisePreload=function(p,y,m){var n=function(){for(var r=this,c=(this._incrementPreload(),null),a=null,h=arguments.length,u=new Array(h),l=0;l<h;l++)u[l]=arguments[l];if(m)for(var g=u.length-1;0<=g&&!a&&typeof u[g]=="function";g--)a=c,c=u.pop();var v=Promise.resolve(y.apply(this,u));return c&&v.then(c),a&&v.catch(a),v.then(function(){return r._decrementPreload()}),v};return n=p?n.bind(p):n},o.default.prototype._legacyPreloadGenerator=function(p,r,m){var n=r.createBaseObject||d,r=function(){var c=this;this._incrementPreload();for(var a=arguments.length,h=new Array(a),u=0;u<a;u++)h[u]=arguments[u];var l=n.apply(this,h);return m.apply(this,h).then(function(g){Object.assign(l,g),c._decrementPreload()}),l};return r=p?r.bind(p):r}},{"./main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],289:[function(t,S,b){function o(r){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(r)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var d=(n=t("./main"))&&n.__esModule?n:{default:n},s=function(r){if(r&&r.__esModule)return r;if(r===null||y(r)!=="object"&&typeof r!="function")return{default:r};var c=p();if(c&&c.has(r))return c.get(r);var a,h={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in r){var l;Object.prototype.hasOwnProperty.call(r,a)&&((l=u?Object.getOwnPropertyDescriptor(r,a):null)&&(l.get||l.set)?Object.defineProperty(h,a,l):h[a]=r[a])}return h.default=r,c&&c.set(r,h),h}(t("./constants"));function p(){var r;return typeof WeakMap!="function"?null:(r=new WeakMap,p=function(){return r},r)}function y(r){return(y=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(c){return o(c)}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":o(c)})(r)}t("./p5.Graphics"),t("./p5.Renderer2D"),t("../webgl/p5.RendererGL");var m="defaultCanvas0",n=(d.default.prototype.createCanvas=function(r,c,a,h){var u,l,g;if(d.default._validateParameters("createCanvas",arguments),arguments[2]instanceof HTMLCanvasElement?(a=s.P2D,h=arguments[2]):u=a||s.P2D,h)(g=document.getElementById(m))&&g.parentNode.removeChild(g),g=h,this._defaultGraphicsCreated=!1;else{if(u===s.WEBGL)(g=document.getElementById(m))&&(g.parentNode.removeChild(g),l=this._renderer,this._elements=this._elements.filter(function(x){return x!==l})),(g=document.createElement("canvas")).id=m,g.classList.add("p5Canvas");else if(this._defaultGraphicsCreated)g=this.canvas;else{g=h||document.createElement("canvas");for(var v=0;document.getElementById("defaultCanvas".concat(v));)v++;m="defaultCanvas".concat(v),g.id=m,g.classList.add("p5Canvas")}this._setupDone||(g.dataset.hidden=!0,g.style.visibility="hidden"),(this._userNode||(document.getElementsByTagName("main").length===0&&(a=document.createElement("main"),document.body.appendChild(a)),document.getElementsByTagName("main")[0])).appendChild(g)}return u===s.WEBGL?(this._setProperty("_renderer",new d.default.RendererGL(g,this,!0)),this._elements.push(this._renderer),r=(h=this._renderer._adjustDimensions(r,c)).adjustedWidth,c=h.adjustedHeight):this._defaultGraphicsCreated||(this._setProperty("_renderer",new d.default.Renderer2D(g,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(r,c),this._renderer._applyDefaults(),this._renderer},d.default.prototype.resizeCanvas=function(r,c,a){if(d.default._validateParameters("resizeCanvas",arguments),this._renderer){var h,u,l,g={};for(h in this.drawingContext){var v=this.drawingContext[h];y(v)!=="object"&&typeof v!="function"&&(g[h]=v)}for(l in this._renderer instanceof d.default.RendererGL&&(r=(u=this._renderer._adjustDimensions(r,c)).adjustedWidth,c=u.adjustedHeight),this.width=r,this.height=c,this._renderer.resize(r,c),g)try{this.drawingContext[l]=g[l]}catch{}a||this.redraw()}this._addAccsOutput()&&this._updateAccsOutput()},d.default.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},d.default.prototype.createGraphics=function(r,c){for(var a=arguments.length,h=new Array(2<a?a-2:0),u=2;u<a;u++)h[u-2]=arguments[u];return h[0]instanceof HTMLCanvasElement&&(h[1]=h[0],h[0]=s.P2D),d.default._validateParameters("createGraphics",arguments),new d.default.Graphics(r,c,h[0],this,h[1])},d.default.prototype.createFramebuffer=function(r){return new d.default.Framebuffer(this,r)},d.default.prototype.clearDepth=function(r){this._assert3d("clearDepth"),this._renderer.clearDepth(r)},d.default.prototype.blendMode=function(r){d.default._validateParameters("blendMode",arguments),r===s.NORMAL&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),r=s.BLEND),this._renderer.blendMode(r)},d.default);b.default=n},{"../webgl/p5.RendererGL":341,"./constants":272,"./main":283,"./p5.Graphics":285,"./p5.Renderer2D":287,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],290:[function(t,S,b){function o(c){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(c)}function d(c){return(d=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(a){return o(a)}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":o(a)})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.slice"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var s=n(t("../main")),p=function(c){if(c&&c.__esModule)return c;if(c===null||d(c)!=="object"&&typeof c!="function")return{default:c};var a=m();if(a&&a.has(c))return a.get(c);var h,u={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in c){var g;Object.prototype.hasOwnProperty.call(c,h)&&((g=l?Object.getOwnPropertyDescriptor(c,h):null)&&(g.get||g.set)?Object.defineProperty(u,h,g):u[h]=c[h])}return u.default=c,a&&a.set(c,u),u}(t("../constants")),y=n(t("../helpers"));function m(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,m=function(){return c},c)}function n(c){return c&&c.__esModule?c:{default:c}}function r(c){return function(a){if(Array.isArray(a)){for(var h=0,u=new Array(a.length);h<a.length;h++)u[h]=a[h];return u}}(c)||function(a){if(Symbol.iterator in Object(a)||Object.prototype.toString.call(a)==="[object Arguments]")return Array.from(a)}(c)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t("../friendly_errors/fes_core"),t("../friendly_errors/file_errors"),t("../friendly_errors/validate_params"),s.default.prototype._normalizeArcAngles=function(c,a,h,u,l){var g;return c-=p.TWO_PI*Math.floor(c/p.TWO_PI),a-=p.TWO_PI*Math.floor(a/p.TWO_PI),g=Math.min(Math.abs(c-a),p.TWO_PI-Math.abs(c-a)),l&&(c=c<=p.HALF_PI?Math.atan(h/u*Math.tan(c)):c>p.HALF_PI&&c<=3*p.HALF_PI?Math.atan(h/u*Math.tan(c))+p.PI:Math.atan(h/u*Math.tan(c))+p.TWO_PI,a=a<=p.HALF_PI?Math.atan(h/u*Math.tan(a)):a>p.HALF_PI&&a<=3*p.HALF_PI?Math.atan(h/u*Math.tan(a))+p.PI:Math.atan(h/u*Math.tan(a))+p.TWO_PI),a<c&&(a+=p.TWO_PI),{start:c,stop:a,correspondToSamePoint:g<1e-5}},s.default.prototype.arc=function(c,a,h,u,l,g,v,x){return s.default._validateParameters("arc",arguments),(this._renderer._doStroke||this._renderer._doFill)&&l!==g&&(l=this._toRadians(l),g=this._toRadians(g),c=y.default.modeAdjust(c,a,h,u,this._renderer._ellipseMode),(a=this._normalizeArcAngles(l,g,c.w,c.h,!0)).correspondToSamePoint?this._renderer.ellipse([c.x,c.y,c.w,c.h,x]):(this._renderer.arc(c.x,c.y,c.w,c.h,a.start,a.stop,v,x),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("arc",[c.x,c.y,c.w,c.h,a.start,a.stop,v]))),this},s.default.prototype.ellipse=function(c,a,h,u,l){return s.default._validateParameters("ellipse",arguments),this._renderEllipse.apply(this,arguments)},s.default.prototype.circle=function(){for(var c=arguments.length,a=new Array(c),h=0;h<c;h++)a[h]=arguments[h];s.default._validateParameters("circle",a);var u=a.slice(0,2);return u.push(a[2],a[2]),this._renderEllipse.apply(this,r(u))},s.default.prototype._renderEllipse=function(c,a,h,u,l){return(this._renderer._doStroke||this._renderer._doFill)&&(c=y.default.modeAdjust(c,a,h,u=u===void 0?h:u,this._renderer._ellipseMode),this._renderer.ellipse([c.x,c.y,c.w,c.h,l]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("ellipse",[c.x,c.y,c.w,c.h])),this},s.default.prototype.line=function(){for(var c,a=arguments.length,h=new Array(a),u=0;u<a;u++)h[u]=arguments[u];return s.default._validateParameters("line",h),this._renderer._doStroke&&(c=this._renderer).line.apply(c,h),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("line",h),this},s.default.prototype.point=function(){for(var c,a=arguments.length,h=new Array(a),u=0;u<a;u++)h[u]=arguments[u];return s.default._validateParameters("point",h),this._renderer._doStroke&&(h.length===1&&h[0]instanceof s.default.Vector?this._renderer.point.call(this._renderer,h[0].x,h[0].y,h[0].z):((c=this._renderer).point.apply(c,h),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("point",h))),this},s.default.prototype.quad=function(){for(var c,a=arguments.length,h=new Array(a),u=0;u<a;u++)h[u]=arguments[u];return s.default._validateParameters("quad",h),(this._renderer._doStroke||this._renderer._doFill)&&(this._renderer.isP3D&&h.length<12?this._renderer.quad.call(this._renderer,h[0],h[1],0,h[2],h[3],0,h[4],h[5],0,h[6],h[7],0,h[8],h[9]):((c=this._renderer).quad.apply(c,h),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("quadrilateral",h))),this},s.default.prototype.rect=function(){for(var c=arguments.length,a=new Array(c),h=0;h<c;h++)a[h]=arguments[h];return s.default._validateParameters("rect",a),this._renderRect.apply(this,a)},s.default.prototype.square=function(c,a,h,u,l,g,v){return s.default._validateParameters("square",arguments),this._renderRect.call(this,c,a,h,h,u,l,g,v)},s.default.prototype._renderRect=function(){if(this._renderer._doStroke||this._renderer._doFill){arguments.length===3&&(arguments[3]=arguments[2]);for(var c=y.default.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode),a=(this._renderer._rectMode===p.CORNER&&(c.w=arguments[2],c.h=arguments[3]),[c.x,c.y,c.w,c.h]),h=4;h<arguments.length;h++)a[h]=arguments[h];this._renderer.rect(a),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("rectangle",[c.x,c.y,c.w,c.h])}return this},s.default.prototype.triangle=function(){for(var c=arguments.length,a=new Array(c),h=0;h<c;h++)a[h]=arguments[h];return s.default._validateParameters("triangle",a),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(a),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("triangle",a),this},t=s.default,b.default=t},{"../constants":272,"../friendly_errors/fes_core":274,"../friendly_errors/file_errors":275,"../friendly_errors/validate_params":278,"../helpers":279,"../main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],291:[function(t,S,b){function o(n){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(n)}function d(n){return(d=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(r){return o(r)}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":o(r)})(n)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var s=(m=t("../main"))&&m.__esModule?m:{default:m},p=function(n){if(n&&n.__esModule)return n;if(n===null||d(n)!=="object"&&typeof n!="function")return{default:n};var r=y();if(r&&r.has(n))return r.get(n);var c,a={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in n){var u;Object.prototype.hasOwnProperty.call(n,c)&&((u=h?Object.getOwnPropertyDescriptor(n,c):null)&&(u.get||u.set)?Object.defineProperty(a,c,u):a[c]=n[c])}return a.default=n,r&&r.set(n,a),a}(t("../constants"));function y(){var n;return typeof WeakMap!="function"?null:(n=new WeakMap,y=function(){return n},n)}s.default.prototype.ellipseMode=function(n){return s.default._validateParameters("ellipseMode",arguments),n!==p.CORNER&&n!==p.CORNERS&&n!==p.RADIUS&&n!==p.CENTER||(this._renderer._ellipseMode=n),this},s.default.prototype.noSmooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!1):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},s.default.prototype.rectMode=function(n){return s.default._validateParameters("rectMode",arguments),n!==p.CORNER&&n!==p.CORNERS&&n!==p.RADIUS&&n!==p.CENTER||(this._renderer._rectMode=n),this},s.default.prototype.smooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!0):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},s.default.prototype.strokeCap=function(n){return s.default._validateParameters("strokeCap",arguments),n!==p.ROUND&&n!==p.SQUARE&&n!==p.PROJECT||this._renderer.strokeCap(n),this},s.default.prototype.strokeJoin=function(n){return s.default._validateParameters("strokeJoin",arguments),n!==p.ROUND&&n!==p.BEVEL&&n!==p.MITER||this._renderer.strokeJoin(n),this},s.default.prototype.strokeWeight=function(n){return s.default._validateParameters("strokeWeight",arguments),this._renderer.strokeWeight(n),this};var m=s.default;b.default=m},{"../constants":272,"../main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],292:[function(t,S,b){Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var o=(d=t("../main"))&&d.__esModule?d:{default:d};t("../friendly_errors/fes_core"),t("../friendly_errors/file_errors"),t("../friendly_errors/validate_params"),o.default.prototype.bezier=function(){for(var s,p=arguments.length,y=new Array(p),m=0;m<p;m++)y[m]=arguments[m];return o.default._validateParameters("bezier",y),(this._renderer._doStroke||this._renderer._doFill)&&(s=this._renderer).bezier.apply(s,y),this},o.default.prototype.bezierDetail=function(s){return o.default._validateParameters("bezierDetail",arguments),this._bezierDetail=s,this},o.default.prototype.bezierPoint=function(s,p,y,m,n){o.default._validateParameters("bezierPoint",arguments);var r=1-n;return Math.pow(r,3)*s+3*Math.pow(r,2)*n*p+3*r*Math.pow(n,2)*y+Math.pow(n,3)*m},o.default.prototype.bezierTangent=function(s,p,y,m,n){o.default._validateParameters("bezierTangent",arguments);var r=1-n;return 3*m*Math.pow(n,2)-3*y*Math.pow(n,2)+6*y*r*n-6*p*r*n+3*p*Math.pow(r,2)-3*s*Math.pow(r,2)},o.default.prototype.curve=function(){for(var s,p=arguments.length,y=new Array(p),m=0;m<p;m++)y[m]=arguments[m];return o.default._validateParameters("curve",y),this._renderer._doStroke&&(s=this._renderer).curve.apply(s,y),this},o.default.prototype.curveDetail=function(s){return o.default._validateParameters("curveDetail",arguments),this._curveDetail=s<3?3:s,this},o.default.prototype.curveTightness=function(s){return o.default._validateParameters("curveTightness",arguments),this._renderer._curveTightness=s,this},o.default.prototype.curvePoint=function(s,p,y,m,n){o.default._validateParameters("curvePoint",arguments);var r=this._renderer._curveTightness,c=n*n*n,a=n*n;return s*((r-1)/2*c+(1-r)*a+(r-1)/2*n)+p*((r+3)/2*c+(-5-r)/2*a+1)+y*((-3-r)/2*c+(r+2)*a+(1-r)/2*n)+m*((1-r)/2*c+(r-1)/2*a)},o.default.prototype.curveTangent=function(s,p,y,m,a){o.default._validateParameters("curveTangent",arguments);var r=this._renderer._curveTightness,c=a*a*3,a=2*a;return s*((r-1)/2*c+(1-r)*a+(r-1)/2)+p*((r+3)/2*c+(-5-r)/2*a)+y*((-3-r)/2*c+(r+2)*a+(1-r)/2)+m*((1-r)/2*c+(r-1)/2*a)};var d=o.default;b.default=d},{"../friendly_errors/fes_core":274,"../friendly_errors/file_errors":275,"../friendly_errors/validate_params":278,"../main":283}],293:[function(t,S,b){function o(v){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(v)}function d(v){return(d=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(x){return o(x)}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":o(x)})(v)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.slice"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var s=(g=t("../main"))&&g.__esModule?g:{default:g},p=function(v){if(v&&v.__esModule)return v;if(v===null||d(v)!=="object"&&typeof v!="function")return{default:v};var x=y();if(x&&x.has(v))return x.get(v);var k,E={},j=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(k in v){var C;Object.prototype.hasOwnProperty.call(v,k)&&((C=j?Object.getOwnPropertyDescriptor(v,k):null)&&(C.get||C.set)?Object.defineProperty(E,k,C):E[k]=v[k])}return E.default=v,x&&x.set(v,E),E}(t("../constants"));function y(){var v;return typeof WeakMap!="function"?null:(v=new WeakMap,y=function(){return v},v)}var m=null,n=[],r=[],c=!1,a=!1,h=!1,u=!1,l=!0,g=(s.default.prototype.beginContour=function(){return this._renderer.isP3D?this._renderer.beginContour():(r=[],u=!0),this},s.default.prototype.beginShape=function(v){var x;return s.default._validateParameters("beginShape",arguments),this._renderer.isP3D?(x=this._renderer).beginShape.apply(x,arguments):(m=v===p.POINTS||v===p.LINES||v===p.TRIANGLES||v===p.TRIANGLE_FAN||v===p.TRIANGLE_STRIP||v===p.QUADS||v===p.QUAD_STRIP?v:null,n=[],r=[]),this},s.default.prototype.bezierVertex=function(){for(var v,x=arguments.length,k=new Array(x),E=0;E<x;E++)k[E]=arguments[E];if(s.default._validateParameters("bezierVertex",k),this._renderer.isP3D)(v=this._renderer).bezierVertex.apply(v,k);else if(n.length===0)s.default._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex");else{c=!0;for(var j=[],C=0;C<k.length;C++)j[C]=k[C];j.isVert=!1,(u?r:n).push(j)}return this},s.default.prototype.curveVertex=function(){for(var v,x=arguments.length,k=new Array(x),E=0;E<x;E++)k[E]=arguments[E];return s.default._validateParameters("curveVertex",k),this._renderer.isP3D?(v=this._renderer).curveVertex.apply(v,k):(a=!0,this.vertex(k[0],k[1])),this},s.default.prototype.endContour=function(){if(!this._renderer.isP3D){var v=r[0].slice();v.isVert=r[0].isVert,v.moveTo=!1,r.push(v),l&&(n.push(n[0]),l=!1);for(var x=0;x<r.length;x++)n.push(r[x])}return this},s.default.prototype.endShape=function(v){var x=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(s.default._validateParameters("endShape",arguments),x<1&&(console.log(" p5.js says: You can not have less than one instance"),x=1),this._renderer.isP3D)this._renderer.endShape(v,a,c,h,u,m,x);else{if(x!==1&&console.log(" p5.js says: Instancing is only supported in WebGL2 mode"),n.length===0)return this;if(!this._renderer._doStroke&&!this._renderer._doFill)return this;x=v===p.CLOSE,x&&!u&&n.push(n[0]),this._renderer.endShape(v,n,a,c,h,u,m),l=!(u=h=c=a=!1),x&&n.pop()}return this},s.default.prototype.quadraticVertex=function(){for(var v,x=arguments.length,k=new Array(x),E=0;E<x;E++)k[E]=arguments[E];if(s.default._validateParameters("quadraticVertex",k),this._renderer.isP3D)(v=this._renderer).quadraticVertex.apply(v,k);else{if(this._contourInited)return(v={}).x=k[0],v.y=k[1],v.x3=k[2],v.y3=k[3],v.type=p.QUADRATIC,this._contourVertices.push(v),this;if(0<n.length){h=!0;for(var j=[],C=0;C<k.length;C++)j[C]=k[C];j.isVert=!1,(u?r:n).push(j)}else s.default._friendlyError("vertex() must be used once before calling quadraticVertex()","quadraticVertex")}return this},s.default.prototype.vertex=function(v,x,k,E,j){var C;return this._renderer.isP3D?(C=this._renderer).vertex.apply(C,arguments):((C=[]).isVert=!0,C[0]=v,C[1]=x,C[2]=0,C[3]=0,C[4]=0,C[5]=this._renderer._getFill(),C[6]=this._renderer._getStroke(),k&&(C.moveTo=k),(u?(r.length===0&&(C.moveTo=!0),r):n).push(C)),this},s.default.prototype.normal=function(v,x,k){var E;return this._assert3d("normal"),s.default._validateParameters("normal",arguments),(E=this._renderer).normal.apply(E,arguments),this},s.default);b.default=g},{"../constants":272,"../main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],294:[function(t,S,b){},{}],295:[function(t,S,b){t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.assign"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0,t=(t=t("./main"))&&t.__esModule?t:{default:t},t.default.prototype.noLoop=function(){this._loop=!1},t.default.prototype.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())},t.default.prototype.isLooping=function(){return this._loop},t.default.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},renderer:this._renderer.push()})},t.default.prototype.pop=function(){var o=this._styles.pop();o?(this._renderer.pop(o.renderer),Object.assign(this,o.props)):console.warn("pop() was called without matching push()")},t.default.prototype.redraw=function(o){if(!this._inUserDraw&&this._setupDone){var d=parseInt(o),s=((isNaN(d)||d<1)&&(d=1),this._isGlobal?window:this);if(typeof s.draw=="function"){s.setup===void 0&&s.scale(s._pixelDensity,s._pixelDensity);for(var p=0;p<d;p++){s.resetMatrix(),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),s._renderer.isP3D&&s._renderer._update(),s._setProperty("frameCount",s.frameCount+1),this.callRegisteredHooksFor("pre"),this._inUserDraw=!0;try{s.draw()}finally{this._inUserDraw=!1}this.callRegisteredHooksFor("post")}}}},t=t.default,b.default=t},{"./main":283,"core-js/modules/es.object.assign":183}],296:[function(t,S,b){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var o=(t=t("./main"))&&t.__esModule?t:{default:t};function d(s){return function(p){if(Array.isArray(p)){for(var y=0,m=new Array(p.length);y<p.length;y++)m[y]=p[y];return m}}(s)||function(p){if(Symbol.iterator in Object(p)||Object.prototype.toString.call(p)==="[object Arguments]")return Array.from(p)}(s)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}o.default.prototype.applyMatrix=function(){var s=(arguments.length<=0?void 0:arguments[0])instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(arguments.length<=0?void 0:arguments[0])||s?(s=this._renderer).applyMatrix.apply(s,d(arguments.length<=0?void 0:arguments[0])):(s=this._renderer).applyMatrix.apply(s,arguments),this},o.default.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this},o.default.prototype.rotate=function(s,p){return o.default._validateParameters("rotate",arguments),this._renderer.rotate(this._toRadians(s),p),this},o.default.prototype.rotateX=function(s){return this._assert3d("rotateX"),o.default._validateParameters("rotateX",arguments),this._renderer.rotateX(this._toRadians(s)),this},o.default.prototype.rotateY=function(s){return this._assert3d("rotateY"),o.default._validateParameters("rotateY",arguments),this._renderer.rotateY(this._toRadians(s)),this},o.default.prototype.rotateZ=function(s){return this._assert3d("rotateZ"),o.default._validateParameters("rotateZ",arguments),this._renderer.rotateZ(this._toRadians(s)),this},o.default.prototype.scale=function(s,p,y){var m;return o.default._validateParameters("scale",arguments),s instanceof o.default.Vector?(s=(m=s).x,p=m.y,y=m.z):Array.isArray(s)&&(s=(m=s)[0],p=m[1],y=m[2]||1),isNaN(p)?p=y=s:isNaN(y)&&(y=1),this._renderer.scale(s,p,y),this},o.default.prototype.shearX=function(s){return o.default._validateParameters("shearX",arguments),s=this._toRadians(s),this._renderer.applyMatrix(1,0,Math.tan(s),1,0,0),this},o.default.prototype.shearY=function(s){return o.default._validateParameters("shearY",arguments),s=this._toRadians(s),this._renderer.applyMatrix(1,Math.tan(s),0,1,0,0),this},o.default.prototype.translate=function(s,p,y){return o.default._validateParameters("translate",arguments),this._renderer.isP3D?this._renderer.translate(s,p,y):this._renderer.translate(s,p),this},t=o.default,b.default=t},{"./main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.iterator":246}],297:[function(t,S,b){function o(y){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(y)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator");var d=(t=t("../core/main"))&&t.__esModule?t:{default:t};function s(y){return function(m){if(Array.isArray(m)){for(var n=0,r=new Array(m.length);n<m.length;n++)r[n]=m[n];return r}}(y)||function(m){if(Symbol.iterator in Object(m)||Object.prototype.toString.call(m)==="[object Arguments]")return Array.from(m)}(y)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function p(y){return(p=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(m){return o(m)}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":o(m)})(y)}d.default.prototype.storeItem=function(y,m){typeof y!="string"&&console.log("The argument that you passed to storeItem() - ".concat(y," is not a string.")),y.endsWith("p5TypeID")&&console.log("The argument that you passed to storeItem() - ".concat(y," must not end with 'p5TypeID'.")),m===void 0&&console.log("You cannot store undefined variables using storeItem().");var n=p(m);switch(n){case"number":case"boolean":m=m.toString();break;case"object":m instanceof d.default.Color?n="p5.Color":m instanceof d.default.Vector&&(n="p5.Vector",m=[m.x,m.y,m.z]),m=JSON.stringify(m)}localStorage.setItem(y,m),y="".concat(y,"p5TypeID"),localStorage.setItem(y,n)},d.default.prototype.getItem=function(y){var m=localStorage.getItem(y),n=localStorage.getItem("".concat(y,"p5TypeID"));if(n===void 0)console.log("Unable to determine type of item stored under ".concat(y,"in local storage. Did you save the item with something other than setItem()?"));else if(m!==null)switch(n){case"number":m=parseFloat(m);break;case"boolean":m=m==="true";break;case"object":m=JSON.parse(m);break;case"p5.Color":m=JSON.parse(m),m=this.color.apply(this,s(m.levels));break;case"p5.Vector":m=JSON.parse(m),m=this.createVector.apply(this,s(m))}return m},d.default.prototype.clearStorage=function(){var y=this;Object.keys(localStorage).forEach(function(m){m.endsWith("p5TypeID")&&y.removeItem(m.replace("p5TypeID",""))})},d.default.prototype.removeItem=function(y){typeof y!="string"&&console.log("The argument that you passed to removeItem() - ".concat(y," is not a string.")),localStorage.removeItem(y),localStorage.removeItem("".concat(y,"p5TypeID"))}},{"../core/main":283,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.ends-with":198,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],298:[function(t,S,b){function o(h){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(h)}function d(h){return(d=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(u){return o(u)}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":o(u)})(h)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.object.keys"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var s=(t=t("../core/main"))&&t.__esModule?t:{default:t};function p(h,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(u&&u.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),u&&y(h,u)}function y(h,u){return(y=Object.setPrototypeOf||function(l,g){return l.__proto__=g,l})(h,u)}function m(h){return function(){var u,l=n(h),l=(u=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(u=n(this).constructor,Reflect.construct(l,arguments,u)):l.apply(this,arguments),this);if(!u||d(u)!=="object"&&typeof u!="function"){if(l!==void 0)return l;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return u}}function n(h){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)})(h)}function r(h,u){if(!(h instanceof u))throw new TypeError("Cannot call a class as a function")}function c(h,u){for(var l=0;l<u.length;l++){var g=u[l];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(h,g.key,g)}}function a(h,u,l){u&&c(h.prototype,u)}s.default.prototype.createStringDict=function(h,u){return s.default._validateParameters("createStringDict",arguments),new s.default.StringDict(h,u)},s.default.prototype.createNumberDict=function(h,u){return s.default._validateParameters("createNumberDict",arguments),new s.default.NumberDict(h,u)},s.default.TypedDict=function(){function h(u,l){return r(this,h),u instanceof Object?this.data=u:(this.data={},this.data[u]=l),this}return a(h,[{key:"size",value:function(){return Object.keys(this.data).length}},{key:"hasKey",value:function(u){return this.data.hasOwnProperty(u)}},{key:"get",value:function(u){if(this.data.hasOwnProperty(u))return this.data[u];console.log("".concat(u," does not exist in this Dictionary"))}},{key:"set",value:function(u,l){this._validate(l)?this.data[u]=l:console.log("Those values dont work for this dictionary type.")}},{key:"_addObj",value:function(u){for(var l in u)this.set(l,u[l])}},{key:"create",value:function(u,l){u instanceof Object&&l===void 0?this._addObj(u):u!==void 0?this.set(u,l):console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair")}},{key:"clear",value:function(){this.data={}}},{key:"remove",value:function(u){if(!this.data.hasOwnProperty(u))throw new Error("".concat(u," does not exist in this Dictionary"));delete this.data[u]}},{key:"print",value:function(){for(var u in this.data)console.log("key:".concat(u," value:").concat(this.data[u]))}},{key:"saveTable",value:function(u){var l,g="";for(l in this.data)g+="".concat(l,",").concat(this.data[l],`
`);var v=new Blob([g],{type:"text/csv"});s.default.prototype.downloadFile(v,u||"mycsv","csv")}},{key:"saveJSON",value:function(u,l){s.default.prototype.saveJSON(this.data,u,l)}},{key:"_validate",value:function(u){return!0}}]),h}(),s.default.StringDict=function(){p(u,s.default.TypedDict);var h=m(u);function u(){r(this,u);for(var l=arguments.length,g=new Array(l),v=0;v<l;v++)g[v]=arguments[v];return h.call.apply(h,[this].concat(g))}return a(u,[{key:"_validate",value:function(l){return typeof l=="string"}}]),u}(),s.default.NumberDict=function(){p(u,s.default.TypedDict);var h=m(u);function u(){r(this,u);for(var l=arguments.length,g=new Array(l),v=0;v<l;v++)g[v]=arguments[v];return h.call.apply(h,[this].concat(g))}return a(u,[{key:"_validate",value:function(l){return typeof l=="number"}},{key:"add",value:function(l,g){this.data.hasOwnProperty(l)?this.data[l]+=g:console.log("The key - ".concat(l," does not exist in this dictionary."))}},{key:"sub",value:function(l,g){this.add(l,-g)}},{key:"mult",value:function(l,g){this.data.hasOwnProperty(l)?this.data[l]*=g:console.log("The key - ".concat(l," does not exist in this dictionary."))}},{key:"div",value:function(l,g){this.data.hasOwnProperty(l)?this.data[l]/=g:console.log("The key - ".concat(l," does not exist in this dictionary."))}},{key:"_valueTest",value:function(l){if(Object.keys(this.data).length===0)throw new Error("Unable to search for a minimum or maximum value on an empty NumberDict");if(Object.keys(this.data).length===1)return this.data[Object.keys(this.data)[0]];var g,v=this.data[Object.keys(this.data)[0]];for(g in this.data)this.data[g]*l<v*l&&(v=this.data[g]);return v}},{key:"minValue",value:function(){return this._valueTest(1)}},{key:"maxValue",value:function(){return this._valueTest(-1)}},{key:"_keyTest",value:function(l){if(Object.keys(this.data).length===0)throw new Error("Unable to use minValue on an empty NumberDict");if(Object.keys(this.data).length===1)return Object.keys(this.data)[0];for(var g=Object.keys(this.data)[0],v=1;v<Object.keys(this.data).length;v++)Object.keys(this.data)[v]*l<g*l&&(g=Object.keys(this.data)[v]);return g}},{key:"minKey",value:function(){return this._keyTest(1)}},{key:"maxKey",value:function(){return this._keyTest(-1)}}]),u}(),t=s.default.TypedDict,b.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],299:[function(t,S,b){function o(v){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(v)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var d=(t=t("../core/main"))&&t.__esModule?t:{default:t};function s(v,x){for(var k=0;k<x.length;k++){var E=x[k];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(v,E.key,E)}}function p(v,x,k){x&&s(v.prototype,x),k&&s(v,k)}function y(v,x){return(y=Object.setPrototypeOf||function(k,E){return k.__proto__=E,k})(v,x)}function m(v){return function(){var x,k,E=r(v);return x=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(x=r(this).constructor,Reflect.construct(E,arguments,x)):E.apply(this,arguments),E=this,!(k=x)||a(k)!=="object"&&typeof k!="function"?n(E):k}}function n(v){if(v===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}function r(v){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)})(v)}function c(v,x){if(!(v instanceof x))throw new TypeError("Cannot call a class as a function")}function a(v){return(a=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(x){return o(x)}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":o(x)})(v)}function h(v,x,k){return(x._userNode||document.body).appendChild(v),k=new(k?d.default.MediaElement:d.default.Element)(v,x),x._elements.push(k),k}d.default.prototype.select=function(v,x){return d.default._validateParameters("select",arguments),x=this._getContainer(x).querySelector(v),x?this._wrapElement(x):null},d.default.prototype.selectAll=function(v,x){d.default._validateParameters("selectAll",arguments);var k=[],E=this._getContainer(x).querySelectorAll(v);if(E)for(var j=0;j<E.length;j++){var C=this._wrapElement(E[j]);k.push(C)}return k},d.default.prototype._getContainer=function(v){var x=document;return typeof v=="string"?x=document.querySelector(v)||document:v instanceof d.default.Element?x=v.elt:v instanceof HTMLElement&&(x=v),x},d.default.prototype._wrapElement=function(v){var x,k=Array.prototype.slice.call(v.children);return v.tagName==="INPUT"&&v.type==="checkbox"?((x=new d.default.Element(v,this)).checked=function(){return arguments.length===0?this.elt.checked:(this.elt.checked=!(arguments.length<=0||!arguments[0]),this)},x):v.tagName==="VIDEO"||v.tagName==="AUDIO"?new d.default.MediaElement(v,this):v.tagName==="SELECT"?this.createSelect(new d.default.Element(v,this)):0<k.length&&k.every(function(E){return E.tagName==="INPUT"||E.tagName==="LABEL"})&&(v.tagName==="DIV"||v.tagName==="SPAN")?this.createRadio(new d.default.Element(v,this)):new d.default.Element(v,this)},d.default.prototype.removeElements=function(v){d.default._validateParameters("removeElements",arguments),this._elements.filter(function(x){return!(x.elt instanceof HTMLCanvasElement)}).map(function(x){return x.remove()})},d.default.Element.prototype.changed=function(v){return d.default.Element._adjustListener("change",v,this),this},d.default.Element.prototype.input=function(v){return d.default.Element._adjustListener("input",v,this),this},d.default.prototype.createDiv=function(){var v=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",x=document.createElement("div");return x.innerHTML=v,h(x,this)},d.default.prototype.createP=function(){var v=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",x=document.createElement("p");return x.innerHTML=v,h(x,this)},d.default.prototype.createSpan=function(){var v=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",x=document.createElement("span");return x.innerHTML=v,h(x,this)},d.default.prototype.createImg=function(){d.default._validateParameters("createImg",arguments);var v,x=document.createElement("img"),k=arguments;return 1<k.length&&typeof k[1]=="string"&&(x.alt=k[1]),2<k.length&&typeof k[2]=="string"&&(x.crossOrigin=k[2]),x.src=k[0],v=h(x,this),x.addEventListener("load",function(){v.width=x.offsetWidth||x.width,v.height=x.offsetHeight||x.height;var E=k[k.length-1];typeof E=="function"&&E(v)}),v},d.default.prototype.createA=function(v,x,k){d.default._validateParameters("createA",arguments);var E=document.createElement("a");return E.href=v,E.innerHTML=x,k&&(E.target=k),h(E,this)},d.default.prototype.createSlider=function(v,x,k,E){d.default._validateParameters("createSlider",arguments);var j=document.createElement("input");return j.type="range",j.min=v,j.max=x,E===0?j.step=1e-18:E&&(j.step=E),typeof k=="number"&&(j.value=k),h(j,this)},d.default.prototype.createButton=function(v,x){d.default._validateParameters("createButton",arguments);var k=document.createElement("button");return k.innerHTML=v,x&&(k.value=x),h(k,this)},d.default.prototype.createCheckbox=function(){for(var v=arguments.length,x=new Array(v),k=0;k<v;k++)x[k]=arguments[k];d.default._validateParameters("createCheckbox",x);var E=document.createElement("div"),j=document.createElement("input"),C=(j.type="checkbox",document.createElement("label")),L=(C.appendChild(j),E.appendChild(C),h(E,this));return L.checked=function(){var A=L.elt.firstElementChild.getElementsByTagName("input")[0];if(A){if(arguments.length===0)return A.checked;A.checked=!(arguments.length<=0||!arguments[0])}return L},this.value=function(A){return L.value=A,this},x[0]&&(L.value(x[0]),(E=document.createElement("span")).innerHTML=x[0],C.appendChild(E)),x[1]&&(j.checked=!0),L},d.default.prototype.createSelect=function(){for(var v,x=arguments.length,k=new Array(x),E=0;E<x;E++)k[E]=arguments[E];d.default._validateParameters("createSelect",k);var j,C=k[0];return C instanceof d.default.Element&&C.elt instanceof HTMLSelectElement?this.elt=(v=C).elt:C instanceof HTMLSelectElement?(v=h(C,this),this.elt=C):(j=document.createElement("select"),C&&typeof C=="boolean"&&j.setAttribute("multiple","true"),v=h(j,this),this.elt=j),v.option=function(L,A){var P;if(L!==void 0){for(var R,I=0;I<this.elt.length;I+=1)if(this.elt[I].textContent===L){P=I;break}P!==void 0?A===!1?this.elt.remove(P):this.elt[P].value=A:((R=document.createElement("option")).textContent=L,R.value=A===void 0?L:A,this.elt.appendChild(R),this._pInst._elements.push(R))}},v.selected=function(L){if(L!==void 0){for(var A=0;A<this.elt.length;A+=1)this.elt[A].value.toString()===L.toString()&&(this.elt.selectedIndex=A);return this}if(this.elt.getAttribute("multiple")){var P=[],R=!0,I=!1,N=void 0;try{for(var z,G=this.elt.selectedOptions[Symbol.iterator]();!(R=(z=G.next()).done);R=!0){var W=z.value;P.push(W.value)}}catch(H){I=!0,N=H}finally{try{R||G.return==null||G.return()}finally{if(I)throw N}}return P}return this.elt.value},v.disable=function(L){if(typeof L=="string")for(var A=0;A<this.elt.length;A++)this.elt[A].value.toString()===L&&(this.elt[A].disabled=!0,this.elt[A].selected=!1);else this.elt.disabled=!0;return this},v.enable=function(L){if(typeof L=="string")for(var A=0;A<this.elt.length;A++)this.elt[A].value.toString()===L&&(this.elt[A].disabled=!1,this.elt[A].selected=!1);else{this.elt.disabled=!1;for(var P=0;P<this.elt.length;P++)this.elt[P].disabled=!1,this.elt[P].selected=!1}return this},v};var u=0;function l(v,L,k,E){var j=document.createElement(L),C=(typeof(k=k||"")=="string"&&(k=[k]),!0),L=!1,A=void 0;try{for(var P,R=k[Symbol.iterator]();!(C=(P=R.next()).done);C=!0){var I=P.value,N=document.createElement("source");N.setAttribute("src",I),j.appendChild(N)}}catch(G){L=!0,A=G}finally{try{C||R.return==null||R.return()}finally{if(L)throw A}}var z=h(j,v,!0);return z.loadedmetadata=!1,j.addEventListener("loadedmetadata",function(){z.width=j.videoWidth,z.height=j.videoHeight,z.elt.width===0&&(z.elt.width=j.videoWidth),z.elt.height===0&&(z.elt.height=j.videoHeight),z.presetPlaybackRate&&(z.elt.playbackRate=z.presetPlaybackRate,delete z.presetPlaybackRate),z.loadedmetadata=!0}),typeof E=="function"&&j.addEventListener("canplaythrough",function G(){E(z),j.removeEventListener("canplaythrough",G)}),z}d.default.prototype.createRadio=function(){function v(L){return L instanceof HTMLInputElement&&L.type==="radio"}function x(L){return L instanceof HTMLLabelElement}var k,E,j,C=arguments.length<=0?void 0:arguments[0];return C instanceof d.default.Element&&(C.elt instanceof HTMLDivElement||C.elt instanceof HTMLSpanElement)?(k=C,this.elt=C.elt):C instanceof HTMLDivElement||C instanceof HTMLSpanElement?(k=h(C,this),E=this.elt=C,typeof(arguments.length<=1?void 0:arguments[1])=="string"&&(j=arguments.length<=1?void 0:arguments[1])):(typeof C=="string"&&(j=C),E=document.createElement("div"),k=h(E,this),this.elt=E),k._name=j||"radioOption_".concat(u++),k._getOptionsArray=function(){return Array.from(this.elt.children).filter(function(L){return v(L)||x(L)&&v(L.firstElementChild)}).map(function(L){return v(L)?L:L.firstElementChild})},k.option=function(L,A){var P,R,I,N=!0,z=!1,G=void 0;try{for(var W,H=k._getOptionsArray()[Symbol.iterator]();!(N=(W=H.next()).done);N=!0){var Z=W.value;if(Z.value===L){P=Z;break}}}catch(Y){z=!0,G=Y}finally{try{N||H.return==null||H.return()}finally{if(z)throw G}}return P===void 0&&((P=document.createElement("input")).setAttribute("type","radio"),P.setAttribute("value",L)),P.setAttribute("name",k._name),x(P.parentElement)?R=P.parentElement:(R=document.createElement("label")).insertAdjacentElement("afterbegin",P),R.lastElementChild instanceof HTMLSpanElement?I=R.lastElementChild:(I=document.createElement("span"),P.insertAdjacentElement("afterend",I)),I.innerHTML=A===void 0?L:A,this.elt.appendChild(R),P},k.remove=function(L){var A=!0,P=!1,R=void 0;try{for(var I,N=k._getOptionsArray()[Symbol.iterator]();!(A=(I=N.next()).done);A=!0){var z=I.value;if(z.value===L)return void(x(z.parentElement)?z.parentElement:z).remove()}}catch(G){P=!0,R=G}finally{try{A||N.return==null||N.return()}finally{if(P)throw R}}},k.value=function(){var L="",A=!0,P=!1,R=void 0;try{for(var I,N=k._getOptionsArray()[Symbol.iterator]();!(A=(I=N.next()).done);A=!0){var z=I.value;if(z.checked){L=z.value;break}}}catch(G){P=!0,R=G}finally{try{A||N.return==null||N.return()}finally{if(P)throw R}}return L},k.selected=function(L){var A=null;if(L===void 0){var P=!0,R=!1,I=void 0;try{for(var N,z=k._getOptionsArray()[Symbol.iterator]();!(P=(N=z.next()).done);P=!0){var G=N.value;if(G.checked){A=G;break}}}catch(Q){R=!0,I=Q}finally{try{P||z.return==null||z.return()}finally{if(R)throw I}}}else{k._getOptionsArray().forEach(function(B){B.checked=!1,B.removeAttribute("checked")});var W=!0,R=!1,I=void 0;try{for(var H,Z=k._getOptionsArray()[Symbol.iterator]();!(W=(H=Z.next()).done);W=!0){var Y=H.value;Y.value===L&&(Y.setAttribute("checked",!0),Y.checked=!0,A=Y)}}catch(B){R=!0,I=B}finally{try{W||Z.return==null||Z.return()}finally{if(R)throw I}}}return A},k.disable=function(){var L=!(0<arguments.length&&arguments[0]!==void 0)||arguments[0],A=!0,P=!1,R=void 0;try{for(var I,N=k._getOptionsArray()[Symbol.iterator]();!(A=(I=N.next()).done);A=!0)I.value.setAttribute("disabled",L)}catch(z){P=!0,R=z}finally{try{A||N.return==null||N.return()}finally{if(P)throw R}}},k},d.default.prototype.createColorPicker=function(v){d.default._validateParameters("createColorPicker",arguments);var x=document.createElement("input");return x.type="color",v?v instanceof d.default.Color?x.value=v.toString("#rrggbb"):(d.default.prototype._colorMode="rgb",d.default.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},x.value=d.default.prototype.color(v).toString("#rrggbb")):x.value="#000000",(x=h(x,this)).color=function(){return v&&(v.mode&&(d.default.prototype._colorMode=v.mode),v.maxes&&(d.default.prototype._colorMaxes=v.maxes)),d.default.prototype.color(this.elt.value)},x},d.default.prototype.createInput=function(){var v=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",x=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"text",k=(d.default._validateParameters("createInput",arguments),document.createElement("input"));return k.setAttribute("value",v),k.setAttribute("type",x),h(k,this)},d.default.prototype.createFileInput=function(v){var x,k=1<arguments.length&&arguments[1]!==void 0&&arguments[1];if(d.default._validateParameters("createFileInput",arguments),window.File&&window.FileReader&&window.FileList&&window.Blob)return(x=document.createElement("input")).setAttribute("type","file"),k&&x.setAttribute("multiple",!0),x.addEventListener("change",function(E){var j=!0,C=!1,L=void 0;try{for(var A,P=E.target.files[Symbol.iterator]();!(j=(A=P.next()).done);j=!0){var R=A.value;d.default.File._load(R,v)}}catch(I){C=!0,L=I}finally{try{j||P.return==null||P.return()}finally{if(C)throw L}}},!1),h(x,this);console.log("The File APIs are not fully supported in this browser. Cannot create element.")},d.default.prototype.createVideo=function(v,x){return d.default._validateParameters("createVideo",arguments),l(this,"video",v,x)},d.default.prototype.createAudio=function(v,x){return d.default._validateParameters("createAudio",arguments),l(this,"audio",v,x)},d.default.prototype.VIDEO="video",d.default.prototype.AUDIO="audio",navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(v){var x=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return x?new Promise(function(k,E){x.call(navigator,v,k,E)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),d.default.prototype.createCapture=function(){for(var v=arguments.length,x=new Array(v),k=0;k<v;k++)x[k]=arguments[k];if(d.default._validateParameters("createCapture",x),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new DOMException("getUserMedia not supported in this browser");for(var E,j=!0,C=!0,L=!1,A=0,P=x;A<P.length;A++){var R=P[A];R===d.default.prototype.VIDEO?C=!1:R===d.default.prototype.AUDIO?j=!1:a(R)==="object"?(R.flipped!==void 0&&(L=R.flipped,delete R.flipped),I=Object.assign({},I,R)):typeof R=="function"&&(E=R)}var I=Object.assign({},{video:j,audio:C},I),N=document.createElement("video"),z=(N.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia(I).then(function(G){try{"srcObject"in N?N.srcObject=G:N.src=window.URL.createObjectURL(G)}catch{N.src=G}}).catch(function(G){G.name==="NotFoundError"&&d.default._friendlyError("No webcam found on this device","createCapture"),G.name==="NotAllowedError"&&d.default._friendlyError("Access to the camera was denied","createCapture"),console.error(G)}),h(N,this,!0));return z.loadedmetadata=!1,N.addEventListener("loadedmetadata",function(){N.play(),N.width?(z.width=N.width,z.height=N.height,L&&(z.elt.style.transform="scaleX(-1)")):(z.width=z.elt.width=N.videoWidth,z.height=z.elt.height=N.videoHeight),z.loadedmetadata=!0,E&&E(N.srcObject)}),z.flipped=L,z},d.default.prototype.createElement=function(v,x){return d.default._validateParameters("createElement",arguments),v=document.createElement(v),x!==void 0&&(v.innerHTML=x),h(v,this)},d.default.Element.prototype.addClass=function(v){return this.elt.className?this.hasClass(v)||(this.elt.className=this.elt.className+" "+v):this.elt.className=v,this},d.default.Element.prototype.removeClass=function(v){return this.elt.classList.remove(v),this},d.default.Element.prototype.hasClass=function(v){return this.elt.classList.contains(v)},d.default.Element.prototype.toggleClass=function(v){return this.elt.classList.contains(v)?this.elt.classList.remove(v):this.elt.classList.add(v),this},d.default.Element.prototype.child=function(v){return v===void 0?this.elt.childNodes:(typeof v=="string"?(v[0]==="#"&&(v=v.substring(1)),v=document.getElementById(v)):v instanceof d.default.Element&&(v=v.elt),v instanceof HTMLElement&&this.elt.appendChild(v),this)},d.default.Element.prototype.center=function(v){var x=this.elt.style.display,k=this.elt.style.display==="none",E=this.parent().style.display==="none",j={x:this.elt.offsetLeft,y:this.elt.offsetTop},C=(k&&this.show(),E&&this.parent().show(),this.elt.style.display="block",this.position(0,0),Math.abs(this.parent().offsetWidth-this.elt.offsetWidth)),L=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return v==="both"||v===void 0?this.position(C/2+this.parent().offsetLeft,L/2+this.parent().offsetTop):v==="horizontal"?this.position(C/2+this.parent().offsetLeft,j.y):v==="vertical"&&this.position(j.x,L/2+this.parent().offsetTop),this.style("display",x),k&&this.hide(),E&&this.parent().hide(),this},d.default.Element.prototype.html=function(){return arguments.length===0?this.elt.innerHTML:(arguments.length<=1||!arguments[1]?this.elt.innerHTML=arguments.length<=0?void 0:arguments[0]:this.elt.insertAdjacentHTML("beforeend",arguments.length<=0?void 0:arguments[0]),this)},d.default.Element.prototype.position=function(){return arguments.length===0?{x:this.elt.offsetLeft,y:this.elt.offsetTop}:(this.elt.style.position=(arguments.length<=2?void 0:arguments[2])!=="static"&&(arguments.length<=2?void 0:arguments[2])!=="fixed"&&(arguments.length<=2?void 0:arguments[2])!=="relative"&&(arguments.length<=2?void 0:arguments[2])!=="sticky"&&(arguments.length<=2?void 0:arguments[2])!=="initial"&&(arguments.length<=2?void 0:arguments[2])!=="inherit"?"absolute":arguments.length<=2?void 0:arguments[2],this.elt.style.left=(arguments.length<=0?void 0:arguments[0])+"px",this.elt.style.top=(arguments.length<=1?void 0:arguments[1])+"px",this.x=arguments.length<=0?void 0:arguments[0],this.y=arguments.length<=1?void 0:arguments[1],this)},d.default.Element.prototype._translate=function(){this.elt.style.position="absolute";var v="";return this.elt.style.transform&&(v=(v=this.elt.style.transform.replace(/translate3d\(.*\)/g,"")).replace(/translate[X-Z]?\(.*\)/g,"")),arguments.length===2?this.elt.style.transform="translate("+(arguments.length<=0?void 0:arguments[0])+"px, "+(arguments.length<=1?void 0:arguments[1])+"px)":2<arguments.length&&(this.elt.style.transform="translate3d("+(arguments.length<=0?void 0:arguments[0])+"px,"+(arguments.length<=1?void 0:arguments[1])+"px,"+(arguments.length<=2?void 0:arguments[2])+"px)",this.elt.parentElement.style.perspective=arguments.length===3?"1000px":(arguments.length<=3?void 0:arguments[3])+"px"),this.elt.style.transform+=v,this},d.default.Element.prototype._rotate=function(){var v="";return this.elt.style.transform&&(v=(v=this.elt.style.transform.replace(/rotate3d\(.*\)/g,"")).replace(/rotate[X-Z]?\(.*\)/g,"")),arguments.length===1?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg)":arguments.length===2?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg, "+(arguments.length<=1?void 0:arguments[1])+"deg)":arguments.length===3&&(this.elt.style.transform="rotateX("+(arguments.length<=0?void 0:arguments[0])+"deg)",this.elt.style.transform+="rotateY("+(arguments.length<=1?void 0:arguments[1])+"deg)",this.elt.style.transform+="rotateZ("+(arguments.length<=2?void 0:arguments[2])+"deg)"),this.elt.style.transform+=v,this},d.default.Element.prototype.style=function(v,x){if((x=x instanceof d.default.Color?"rgba("+x.levels[0]+","+x.levels[1]+","+x.levels[2]+","+x.levels[3]/255+")":x)===void 0){if(v.indexOf(":")===-1)return window.getComputedStyle(this.elt).getPropertyValue(v);for(var k=v.split(";"),E=0;E<k.length;E++){var j=k[E].split(":");j[0]&&j[1]&&(this.elt.style[j[0].trim()]=j[1].trim())}}else this.elt.style[v]=x,v!=="width"&&v!=="height"&&v!=="left"&&v!=="top"||(x=window.getComputedStyle(this.elt).getPropertyValue(v).replace(/[^\d.]/g,""),this[v]=Math.round(parseFloat(x,10)));return this},d.default.Element.prototype.attribute=function(v,x){if(this.elt.firstChild==null||this.elt.firstChild.type!=="checkbox"&&this.elt.firstChild.type!=="radio")return x===void 0?this.elt.getAttribute(v):(this.elt.setAttribute(v,x),this);if(x===void 0)return this.elt.firstChild.getAttribute(v);for(var k=0;k<this.elt.childNodes.length;k++)this.elt.childNodes[k].setAttribute(v,x)},d.default.Element.prototype.removeAttribute=function(v){if(this.elt.firstChild!=null&&(this.elt.firstChild.type==="checkbox"||this.elt.firstChild.type==="radio"))for(var x=0;x<this.elt.childNodes.length;x++)this.elt.childNodes[x].removeAttribute(v);return this.elt.removeAttribute(v),this},d.default.Element.prototype.value=function(){return 0<arguments.length?(this.elt.value=arguments.length<=0?void 0:arguments[0],this):this.elt.type==="range"?parseFloat(this.elt.value):this.elt.value},d.default.Element.prototype.show=function(){return this.elt.style.display="block",this},d.default.Element.prototype.hide=function(){return this.elt.style.display="none",this},d.default.Element.prototype.size=function(v,x){if(arguments.length===0)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};var k=v,E=x,j=d.default.prototype.AUTO;if(k!==j||E!==j){if(k===j?k=x*this.width/this.height:E===j&&(E=v*this.height/this.width),this.elt instanceof HTMLCanvasElement){var C,L={},A=this.elt.getContext("2d");for(C in A)L[C]=A[C];for(C in this.elt.setAttribute("width",k*this._pInst._pixelDensity),this.elt.setAttribute("height",E*this._pInst._pixelDensity),this.elt.style.width=k+"px",this.elt.style.height=E+"px",this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),L)this.elt.getContext("2d")[C]=L[C]}else this.elt.style.width=k+"px",this.elt.style.height=E+"px",this.elt.width=k,this.elt.height=E;this.width=k,this.height=E,this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst._setProperty("width",k),this._pInst._setProperty("height",E))}return this},d.default.Element.prototype.remove=function(){this instanceof d.default.MediaElement&&(this.stop(),(x=this.elt.srcObject)!==null&&x.getTracks().forEach(function(k){k.stop()}));var v,x=this._pInst._elements.indexOf(this);for(v in x!==-1&&this._pInst._elements.splice(x,1),this._events)this.elt.removeEventListener(v,this._events[v]);this.elt&&this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)},d.default.Element.prototype.drop=function(v,x){var k;return window.File&&window.FileReader&&window.FileList&&window.Blob?(this._dragDisabled||(this._dragDisabled=!0,this.elt.addEventListener("dragover",k=function(E){E.preventDefault()}),this.elt.addEventListener("dragleave",k)),d.default.Element._attachListener("drop",function(j){j.preventDefault(),typeof x=="function"&&x.call(this,j);var j=j.dataTransfer.files,C=!0,L=!1,A=void 0;try{for(var P,R=j[Symbol.iterator]();!(C=(P=R.next()).done);C=!0){var I=P.value;d.default.File._load(I,v)}}catch(N){L=!0,A=N}finally{try{C||R.return==null||R.return()}finally{if(L)throw A}}},this)):console.log("The File APIs are not fully supported in this browser."),this},d.default.Element.prototype.draggable=function(v){var x,k="ontouchstart"in window,E=0,j=0,C=0,L=0,A=k?"touchend":"mouseup",P=k?"touchmove":"mousemove";function R(N){var z;N=N||window.event,L=k?(z=N.changedTouches,E=C-parseInt(z[0].clientX),j=L-parseInt(z[0].clientY),C=parseInt(z[0].clientX),parseInt(z[0].clientY)):(E=C-parseInt(N.clientX),j=L-parseInt(N.clientY),C=parseInt(N.clientX),parseInt(N.clientY)),v.style.left=v.offsetLeft-E+"px",v.style.top=v.offsetTop-j+"px"}function I(){document.removeEventListener(A,I,!1),document.removeEventListener(P,R,!1)}return v===void 0?x=v=this.elt:v!==this.elt&&v.elt!==this.elt&&(v=v.elt,x=this.elt),x.addEventListener(k?"touchstart":"mousedown",function(N){{var z;N=N||window.event,L=k?(z=N.changedTouches,C=parseInt(z[0].clientX),parseInt(z[0].clientY)):(C=parseInt(N.clientX),parseInt(N.clientY))}return document.addEventListener(A,I,!1),document.addEventListener(P,R,!1),!1},!1),x.style.cursor="move",this};function g(v,x,k,E){c(this,g),this.callback=v,this.time=x,this.id=k,this.val=E}t=function(v){var x=E;if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(v&&v.prototype,{constructor:{value:x,writable:!0,configurable:!0}}),v&&y(x,v);var k=m(E);function E(j,C){c(this,E);var L=n(C=k.call(this,j,C));return C.elt.crossOrigin="anonymous",C._prevTime=0,C._cueIDCounter=0,C._cues=[],C.pixels=[],C._pixelsState=n(C),C._pixelDensity=1,C._modified=!1,C._frameOnCanvas=-1,Object.defineProperty(L,"src",{get:function(){var A=L.elt.children[0].src,P=L.elt.src===window.location.href?"":L.elt.src;return A===window.location.href?P:A},set:function(A){for(var P=0;P<L.elt.children.length;P++)L.elt.removeChild(L.elt.children[P]);var R=document.createElement("source");R.src=A,j.appendChild(R),L.elt.src=A,L.modified=!0}}),L._onended=function(){},L.elt.onended=function(){L._onended(L)},C}return p(E,[{key:"play",value:function(){var j;return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),1<this.elt.readyState||this.elt.load(),(j=this.elt.play())&&j.catch&&j.catch(function(C){C.name==="NotAllowedError"?console.error(C):console.error("Media play method encountered an unexpected error",C)}),this}},{key:"stop",value:function(){return this.elt.pause(),this.elt.currentTime=0,this}},{key:"pause",value:function(){return this.elt.pause(),this}},{key:"loop",value:function(){return this.elt.setAttribute("loop",!0),this.play(),this}},{key:"noLoop",value:function(){return this.elt.removeAttribute("loop"),this}},{key:"_setupAutoplayFailDetection",value:function(){var j=setTimeout(function(){console.error(e)},500);this.elt.addEventListener("play",function(){return clearTimeout(j)},{passive:!0,once:!0})}},{key:"autoplay",value:function(j){var C=this,L=this.elt.getAttribute("autoplay");return this.elt.setAttribute("autoplay",j),j&&!L&&(j=function(){return C._setupAutoplayFailDetection()},this.elt.readyState===4?j():this.elt.addEventListener("canplay",j,{passive:!0,once:!0})),this}},{key:"volume",value:function(j){if(j===void 0)return this.elt.volume;this.elt.volume=j}},{key:"speed",value:function(j){if(j===void 0)return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=j:this.presetPlaybackRate=j}},{key:"time",value:function(j){return j===void 0?this.elt.currentTime:(this.elt.currentTime=j,this)}},{key:"duration",value:function(){return this.elt.duration}},{key:"_ensureCanvas",value:function(){this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d"),this.setModified(!0));var j=this._frameOnCanvas!==this._pInst.frameCount;this.loadedmetadata&&j&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.clearRect(0,0,this.canvas.width,this.canvas.height),this.flipped===!0&&(this.drawingContext.save(),this.drawingContext.scale(-1,1),this.drawingContext.translate(-this.canvas.width,0)),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),this.flipped===!0&&this.drawingContext.restore(),this.setModified(!0),this._frameOnCanvas=this._pInst.frameCount)}},{key:"loadPixels",value:function(){this._ensureCanvas();for(var j=arguments.length,C=new Array(j),L=0;L<j;L++)C[L]=arguments[L];return d.default.Renderer2D.prototype.loadPixels.apply(this,C)}},{key:"updatePixels",value:function(j,C,L,A){return this.loadedmetadata&&(this._ensureCanvas(),d.default.Renderer2D.prototype.updatePixels.call(this,j,C,L,A)),this.setModified(!0),this}},{key:"get",value:function(){this._ensureCanvas();for(var j=arguments.length,C=new Array(j),L=0;L<j;L++)C[L]=arguments[L];return d.default.Renderer2D.prototype.get.apply(this,C)}},{key:"_getPixel",value:function(){this.loadPixels();for(var j=arguments.length,C=new Array(j),L=0;L<j;L++)C[L]=arguments[L];return d.default.Renderer2D.prototype._getPixel.apply(this,C)}},{key:"set",value:function(j,C,L){this.loadedmetadata&&(this._ensureCanvas(),d.default.Renderer2D.prototype.set.call(this,j,C,L),this.setModified(!0))}},{key:"copy",value:function(){this._ensureCanvas();for(var j=arguments.length,C=new Array(j),L=0;L<j;L++)C[L]=arguments[L];d.default.prototype.copy.apply(this,C)}},{key:"mask",value:function(){this.loadPixels(),this.setModified(!0);for(var j=arguments.length,C=new Array(j),L=0;L<j;L++)C[L]=arguments[L];d.default.Image.prototype.mask.apply(this,C)}},{key:"isModified",value:function(){return this._modified}},{key:"setModified",value:function(j){this._modified=j}},{key:"onended",value:function(j){return this._onended=j,this}},{key:"connect",value:function(j){var C,L;if(typeof d.default.prototype.getAudioContext=="function")C=d.default.prototype.getAudioContext(),L=d.default.soundOut.input;else try{L=(C=j.context).destination}catch{throw"connect() is meant to be used with Web Audio API or p5.sound.js"}this.audioSourceNode||(this.audioSourceNode=C.createMediaElementSource(this.elt),this.audioSourceNode.connect(L)),j?j.input?this.audioSourceNode.connect(j.input):this.audioSourceNode.connect(j):this.audioSourceNode.connect(L)}},{key:"disconnect",value:function(){if(!this.audioSourceNode)throw"nothing to disconnect";this.audioSourceNode.disconnect()}},{key:"showControls",value:function(){this.elt.style["text-align"]="inherit",this.elt.controls=!0}},{key:"hideControls",value:function(){this.elt.controls=!1}},{key:"addCue",value:function(j,P,L){var A=this._cueIDCounter++,P=new g(P,j,A,L);return this._cues.push(P),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),A}},{key:"removeCue",value:function(j){for(var C=0;C<this._cues.length;C++)this._cues[C].id===j&&(console.log(j),this._cues.splice(C,1));this._cues.length===0&&(this.elt.ontimeupdate=null)}},{key:"clearCues",value:function(){this._cues=[],this.elt.ontimeupdate=null}},{key:"_onTimeUpdate",value:function(){for(var j=this.time(),C=0;C<this._cues.length;C++){var L=this._cues[C].time,A=this._cues[C].val;this._prevTime<L&&L<=j&&this._cues[C].callback(A)}this._prevTime=j}}]),E}(d.default.Element),d.default.MediaElement=t,t=function(){function v(x,k){c(this,v),this.file=x,this._pInst=k,k=x.type.split("/"),this.type=k[0],this.subtype=k[1],this.name=x.name,this.size=x.size,this.data=void 0}return p(v,null,[{key:"_createLoader",value:function(x,k){var E=new FileReader;return E.onload=function(j){var C,L=new d.default.File(x);L.file.type==="application/json"?L.data=JSON.parse(j.target.result):L.file.type==="text/xml"?(C=new DOMParser().parseFromString(j.target.result,"text/xml"),L.data=new d.default.XML(C.documentElement)):L.data=j.target.result,k(L)},E}},{key:"_load",value:function(x,k){var E;/^text\//.test(x.type)||x.type==="application/json"?d.default.File._createLoader(x,k).readAsText(x):/^(video|audio)\//.test(x.type)?((E=new d.default.File(x)).data=URL.createObjectURL(x),k(E)):d.default.File._createLoader(x,k).readAsDataURL(x)}}]),v}(),d.default.File=t,t=d.default,b.default=t},{"../core/main":283,"core-js/modules/es.array.every":155,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246,"core-js/modules/web.url":248}],300:[function(a,S,b){Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var o=(a=a("../core/main"))&&a.__esModule?a:{default:a};o.default.prototype.deviceOrientation=1<window.innerWidth/window.innerHeight?"landscape":"portrait",o.default.prototype.accelerationX=0,o.default.prototype.accelerationY=0,o.default.prototype.accelerationZ=0,o.default.prototype.pAccelerationX=0,o.default.prototype.pAccelerationY=0,o.default.prototype.pAccelerationZ=0,o.default.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX),this._setProperty("pAccelerationY",this.accelerationY),this._setProperty("pAccelerationZ",this.accelerationZ)},o.default.prototype.rotationX=0,o.default.prototype.rotationY=0,o.default.prototype.rotationZ=0,o.default.prototype.pRotationX=0,o.default.prototype.pRotationY=0;var d=o.default.prototype.pRotationZ=0,s=0,p=0,y="clockwise",m="clockwise",n="clockwise",r=(o.default.prototype.pRotateDirectionX=void 0,o.default.prototype.pRotateDirectionY=void 0,o.default.prototype.pRotateDirectionZ=void 0,o.default.prototype._updatePRotations=function(){this._setProperty("pRotationX",this.rotationX),this._setProperty("pRotationY",this.rotationY),this._setProperty("pRotationZ",this.rotationZ)},o.default.prototype.turnAxis=void 0,.5),c=30,a=(o.default.prototype.setMoveThreshold=function(h){o.default._validateParameters("setMoveThreshold",arguments),r=h},o.default.prototype.setShakeThreshold=function(h){o.default._validateParameters("setShakeThreshold",arguments),c=h},o.default.prototype._ondeviceorientation=function(h){this._updatePRotations(),this._setProperty("rotationX",this._fromDegrees(h.beta)),this._setProperty("rotationY",this._fromDegrees(h.gamma)),this._setProperty("rotationZ",this._fromDegrees(h.alpha)),this._handleMotion()},o.default.prototype._ondevicemotion=function(h){this._updatePAccelerations(),this._setProperty("accelerationX",2*h.acceleration.x),this._setProperty("accelerationY",2*h.acceleration.y),this._setProperty("accelerationZ",2*h.acceleration.z),this._handleMotion()},o.default.prototype._handleMotion=function(){window.orientation===90||window.orientation===-90?this._setProperty("deviceOrientation","landscape"):window.orientation===0?this._setProperty("deviceOrientation","portrait"):window.orientation===void 0&&this._setProperty("deviceOrientation","undefined");var h,u,l,g,v,x=this._isGlobal?window:this;typeof x.deviceMoved=="function"&&(Math.abs(this.accelerationX-this.pAccelerationX)>r||Math.abs(this.accelerationY-this.pAccelerationY)>r||Math.abs(this.accelerationZ-this.pAccelerationZ)>r)&&x.deviceMoved(),typeof x.deviceTurned=="function"&&(u=this._toDegrees(this.rotationX)+180,l=this._toDegrees(this.pRotationX)+180,h=d+180,0<u-l&&u-l<270||u-l<-270?y="clockwise":(u-l<0||270<u-l)&&(y="counter-clockwise"),y!==this.pRotateDirectionX&&(h=u),90<Math.abs(u-h)&&Math.abs(u-h)<270&&(h=u,this._setProperty("turnAxis","X"),x.deviceTurned()),this.pRotateDirectionX=y,d=h-180,l=this._toDegrees(this.rotationY)+180,u=this._toDegrees(this.pRotationY)+180,h=s+180,0<l-u&&l-u<270||l-u<-270?m="clockwise":(l-u<0||270<l-this.pRotationY)&&(m="counter-clockwise"),m!==this.pRotateDirectionY&&(h=l),90<Math.abs(l-h)&&Math.abs(l-h)<270&&(h=l,this._setProperty("turnAxis","Y"),x.deviceTurned()),this.pRotateDirectionY=m,s=h-180,0<(u=this._toDegrees(this.rotationZ))-(l=this._toDegrees(this.pRotationZ))&&u-l<270||u-l<-270?n="clockwise":(u-l<0||270<u-l)&&(n="counter-clockwise"),n!==this.pRotateDirectionZ&&(p=u),90<Math.abs(u-p)&&Math.abs(u-p)<270&&(p=u,this._setProperty("turnAxis","Z"),x.deviceTurned()),this.pRotateDirectionZ=n,this._setProperty("turnAxis",void 0)),typeof x.deviceShaken=="function"&&(this.pAccelerationX!==null&&(g=Math.abs(this.accelerationX-this.pAccelerationX),v=Math.abs(this.accelerationY-this.pAccelerationY)),c<g+v&&x.deviceShaken())},o.default);b.default=a},{"../core/main":283}],301:[function(t,S,b){t("core-js/modules/es.array.for-each"),t("core-js/modules/es.string.repeat"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.string.repeat"),t("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var o=(t=t("../core/main"))&&t.__esModule?t:{default:t};o.default.prototype.isKeyPressed=!1,o.default.prototype.keyIsPressed=!1,o.default.prototype.key="",o.default.prototype.keyCode=0,o.default.prototype._onkeydown=function(d){var s;d.repeat?this._setProperty("isKeyRepeated",!0):(this._setProperty("isKeyRepeated",!1),this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",d.which),this._downKeys[d.which]=!0,this._setProperty("key",d.key||String.fromCharCode(d.which)||d.which),d.metaKey&&(this._metaKeys||(this._metaKeys=[]),this._metaKeys.push(d.which)),typeof(s=this._isGlobal?window:this).keyPressed!="function"||d.charCode||s.keyPressed(d)===!1&&d.preventDefault())},o.default.prototype._onkeyup=function(d){var s=this,p=(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1),this._setProperty("_lastKeyCodePressed",this._keyCode),this._downKeys[d.which]=!1,d.key==="Meta"&&this._metaKeys&&(this._metaKeys.forEach(function(y){s._downKeys[y]=!1}),this._metaKeys=[]),this._isGlobal?window:this);typeof p.keyReleased=="function"&&p.keyReleased(d)===!1&&d.preventDefault()},o.default.prototype._onkeypress=function(d){var s;d.which===this._lastKeyCodeTyped&&this.isKeyRepeated||(this._setProperty("_lastKeyCodeTyped",d.which),this._setProperty("key",d.key||String.fromCharCode(d.which)||d.which),typeof(s=this._isGlobal?window:this).keyTyped=="function"&&s.keyTyped(d)===!1&&d.preventDefault())},o.default.prototype._onblur=function(d){this._downKeys={}},o.default.prototype.keyIsDown=function(d){return o.default._validateParameters("keyIsDown",arguments),this._downKeys[d]||!1},o.default.prototype._areDownKeys=function(){for(var d in this._downKeys)if(this._downKeys.hasOwnProperty(d)&&this._downKeys[d]===!0)return!0;return!1},t=o.default,b.default=t},{"../core/main":283,"core-js/modules/es.array.for-each":161,"core-js/modules/es.string.repeat":203,"core-js/modules/web.dom-collections.for-each":245}],302:[function(t,S,b){function o(m){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(m)}function d(m){return(d=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(n){return o(n)}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":o(n)})(m)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var s=(s=t("../core/main"))&&s.__esModule?s:{default:s},p=function(m){if(m&&m.__esModule)return m;if(m===null||d(m)!=="object"&&typeof m!="function")return{default:m};var n=y();if(n&&n.has(m))return n.get(m);var r,c={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in m){var h;Object.prototype.hasOwnProperty.call(m,r)&&((h=a?Object.getOwnPropertyDescriptor(m,r):null)&&(h.get||h.set)?Object.defineProperty(c,r,h):c[r]=m[r])}return c.default=m,n&&n.set(m,c),c}(t("../core/constants"));function y(){var m;return typeof WeakMap!="function"?null:(m=new WeakMap,y=function(){return m},m)}s.default.prototype.movedX=0,s.default.prototype.movedY=0,s.default.prototype._hasMouseInteracted=!1,s.default.prototype.mouseX=0,s.default.prototype.mouseY=0,s.default.prototype.pmouseX=0,s.default.prototype.pmouseY=0,s.default.prototype.winMouseX=0,s.default.prototype.winMouseY=0,s.default.prototype.pwinMouseX=0,s.default.prototype.pwinMouseY=0,s.default.prototype.mouseButton=0,s.default.prototype.mouseIsPressed=!1,s.default.prototype._updateNextMouseCoords=function(m){var n,r,c,a;this._curElement!==null&&(!m.touches||0<m.touches.length)&&(n=this._curElement.elt,r=this.width,c=this.height,(m=m)&&!m.clientX&&(m.touches?m=m.touches[0]:m.changedTouches&&(m=m.changedTouches[0])),a=n.getBoundingClientRect(),r=n.scrollWidth/r||1,n=n.scrollHeight/c||1,c={x:(m.clientX-a.left)/r,y:(m.clientY-a.top)/n,winX:m.clientX,winY:m.clientY,id:m.identifier},this._setProperty("mouseX",c.x),this._setProperty("mouseY",c.y),this._setProperty("winMouseX",c.winX),this._setProperty("winMouseY",c.winY),r=this.mouseX-this.pmouseX,a=this.mouseY-this.pmouseY,this._setProperty("movedX",r),this._setProperty("movedY",a)),this._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))},s.default.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY),this._setProperty("_pmouseWheelDeltaY",this._mouseWheelDeltaY)},s.default.prototype._setMouseButton=function(m){m.button===1?this._setProperty("mouseButton",p.CENTER):m.button===2?this._setProperty("mouseButton",p.RIGHT):this._setProperty("mouseButton",p.LEFT)},s.default.prototype._onmousemove=function(m){var n=this._isGlobal?window:this;this._updateNextMouseCoords(m),this.mouseIsPressed?typeof n.mouseDragged=="function"?n.mouseDragged(m)===!1&&m.preventDefault():typeof n.touchMoved=="function"&&n.touchMoved(m)===!1&&m.preventDefault():typeof n.mouseMoved=="function"&&n.mouseMoved(m)===!1&&m.preventDefault()},s.default.prototype._onmousedown=function(m){var n=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._setMouseButton(m),this._updateNextMouseCoords(m),this.touchstart||(typeof n.mousePressed=="function"?n.mousePressed(m)===!1&&m.preventDefault():typeof n.touchStarted=="function"&&n.touchStarted(m)===!1&&m.preventDefault(),this.touchstart=!1)},s.default.prototype._onmouseup=function(m){var n=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!1),this.touchend||(typeof n.mouseReleased=="function"?n.mouseReleased(m)===!1&&m.preventDefault():typeof n.touchEnded=="function"&&n.touchEnded(m)===!1&&m.preventDefault(),this.touchend=!1)},s.default.prototype._ondragend=s.default.prototype._onmouseup,s.default.prototype._ondragover=s.default.prototype._onmousemove,s.default.prototype._onclick=function(m){var n=this._isGlobal?window:this;typeof n.mouseClicked=="function"&&n.mouseClicked(m)===!1&&m.preventDefault()},s.default.prototype._ondblclick=function(m){var n=this._isGlobal?window:this;typeof n.doubleClicked=="function"&&n.doubleClicked(m)===!1&&m.preventDefault()},s.default.prototype._mouseWheelDeltaY=0,s.default.prototype._pmouseWheelDeltaY=0,s.default.prototype._onwheel=function(m){var n=this._isGlobal?window:this;this._setProperty("_mouseWheelDeltaY",m.deltaY),typeof n.mouseWheel=="function"&&(m.delta=m.deltaY,n.mouseWheel(m)===!1&&m.preventDefault())},s.default.prototype.requestPointerLock=function(){var m=this._curElement.elt;return m.requestPointerLock=m.requestPointerLock||m.mozRequestPointerLock,m.requestPointerLock?(m.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),!1)},s.default.prototype.exitPointerLock=function(){document.exitPointerLock()},t=s.default,b.default=t},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],303:[function(t,S,b){Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.touches=[],t.default.prototype._updateTouchCoords=function(o){if(this._curElement!==null){for(var d=[],s=0;s<o.touches.length;s++)d[s]=function(h,a,u,n){var r=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,c=h.getBoundingClientRect(),a=h.scrollWidth/a||1,h=h.scrollHeight/u||1,u=n.touches[r]||n.changedTouches[r];return{x:(u.clientX-c.left)/a,y:(u.clientY-c.top)/h,winX:u.clientX,winY:u.clientY,id:u.identifier}}(this._curElement.elt,this.width,this.height,o,s);this._setProperty("touches",d)}},t.default.prototype._ontouchstart=function(o){var d=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._updateTouchCoords(o),this._updateNextMouseCoords(o),this._updateMouseCoords(),typeof d.touchStarted=="function"&&(d.touchStarted(o)===!1&&o.preventDefault(),this.touchstart=!0)},t.default.prototype._ontouchmove=function(o){var d=this._isGlobal?window:this;this._updateTouchCoords(o),this._updateNextMouseCoords(o),typeof d.touchMoved=="function"?d.touchMoved(o)===!1&&o.preventDefault():typeof d.mouseDragged=="function"&&d.mouseDragged(o)===!1&&o.preventDefault()},t.default.prototype._ontouchend=function(o){this._setProperty("mouseIsPressed",!1),this._updateTouchCoords(o),this._updateNextMouseCoords(o);var d=this._isGlobal?window:this;typeof d.touchEnded=="function"&&(d.touchEnded(o)===!1&&o.preventDefault(),this.touchend=!0)},t=t.default,b.default=t},{"../core/main":283}],304:[function(t,S,b){t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.int32-array"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.int32-array"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var o,d,s,p,y={_toPixels:function(m){var n,r;return m instanceof ImageData?m.data:m.getContext("2d")?m.getContext("2d").getImageData(0,0,m.width,m.height).data:m.getContext("webgl")?(r=(n=m.getContext("webgl")).drawingBufferWidth*n.drawingBufferHeight*4,r=new Uint8Array(r),n.readPixels(0,0,m.width,m.height,n.RGBA,n.UNSIGNED_BYTE,r),r):void 0},_getARGB:function(m,n){return n*=4,m[3+n]<<24&4278190080|m[n]<<16&16711680|m[1+n]<<8&65280|255&m[2+n]},_setPixels:function(m,n){for(var r,c=0,a=m.length;c<a;c++)m[0+(r=4*c)]=(16711680&n[c])>>>16,m[1+r]=(65280&n[c])>>>8,m[2+r]=255&n[c],m[3+r]=(4278190080&n[c])>>>24},_toImageData:function(m){return m instanceof ImageData?m:m.getContext("2d").getImageData(0,0,m.width,m.height)},_createImageData:function(m,n){return y._tmpCanvas=document.createElement("canvas"),y._tmpCtx=y._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(m,n)},apply:function(m,h,r){var c=m.getContext("2d"),a=c.getImageData(0,0,m.width,m.height),h=h(a,r);h instanceof ImageData?c.putImageData(h,0,0,0,0,m.width,m.height):c.putImageData(a,0,0,0,0,m.width,m.height)},threshold:function(m){for(var n=1<arguments.length&&arguments[1]!==void 0?arguments[1]:.5,r=y._toPixels(m),c=Math.floor(255*n),a=0;a<r.length;a+=4){var h=void 0,h=c<=.2126*r[a]+.7152*r[a+1]+.0722*r[a+2]?255:0;r[a]=r[a+1]=r[a+2]=h}},gray:function(m){for(var n=y._toPixels(m),r=0;r<n.length;r+=4){var c=n[r],a=n[r+1],h=n[r+2];n[r]=n[r+1]=n[r+2]=.2126*c+.7152*a+.0722*h}},opaque:function(m){for(var n=y._toPixels(m),r=0;r<n.length;r+=4)n[r+3]=255;return n},invert:function(m){for(var n=y._toPixels(m),r=0;r<n.length;r+=4)n[r]=255-n[r],n[r+1]=255-n[r+1],n[r+2]=255-n[r+2]},posterize:function(m){var n=1<arguments.length&&arguments[1]!==void 0?arguments[1]:4,r=y._toPixels(m);if(n<2||255<n)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var c=n-1,a=0;a<r.length;a+=4){var h=r[a],u=r[a+1],l=r[a+2];r[a]=255*(h*n>>8)/c,r[a+1]=255*(u*n>>8)/c,r[a+2]=255*(l*n>>8)/c}},dilate:function(m){for(var n,r,c,a,h,u,l,g,v,x=y._toPixels(m),k=0,E=x.length?x.length/4:0,j=new Int32Array(E);k<E;)for(r=(n=k)+m.width;k<r;)a=c=y._getARGB(x,k),(v=k-1)<n&&(v=k),r<=(g=k+1)&&(g=k),(h=k-m.width)<0&&(h=0),E<=(u=k+m.width)&&(u=k),h=y._getARGB(x,h),v=y._getARGB(x,v),u=y._getARGB(x,u),(a=77*(a>>16&255)+151*(a>>8&255)+28*(255&a))<(l=77*(v>>16&255)+151*(v>>8&255)+28*(255&v))&&(c=v,a=l),a<(l=77*((v=y._getARGB(x,g))>>16&255)+151*(v>>8&255)+28*(255&v))&&(c=v,a=l),a<(g=77*(h>>16&255)+151*(h>>8&255)+28*(255&h))&&(c=h,a=g),a<(v=77*(u>>16&255)+151*(u>>8&255)+28*(255&u))&&(c=u,a=v),j[k++]=c;y._setPixels(x,j)},erode:function(m){for(var n,r,c,a,h,u,l,g,v,x=y._toPixels(m),k=0,E=x.length?x.length/4:0,j=new Int32Array(E);k<E;)for(r=(n=k)+m.width;k<r;)a=c=y._getARGB(x,k),(v=k-1)<n&&(v=k),r<=(g=k+1)&&(g=k),(h=k-m.width)<0&&(h=0),E<=(u=k+m.width)&&(u=k),h=y._getARGB(x,h),v=y._getARGB(x,v),u=y._getARGB(x,u),(l=77*(v>>16&255)+151*(v>>8&255)+28*(255&v))<(a=77*(a>>16&255)+151*(a>>8&255)+28*(255&a))&&(c=v,a=l),(l=77*((v=y._getARGB(x,g))>>16&255)+151*(v>>8&255)+28*(255&v))<a&&(c=v,a=l),(g=77*(h>>16&255)+151*(h>>8&255)+28*(255&h))<a&&(c=h,a=g),(v=77*(u>>16&255)+151*(u>>8&255)+28*(255&u))<a&&(c=u,a=v),j[k++]=c;y._setPixels(x,j)},blur:function(m,n){for(var r,c,a,h,u,l,g,v,x,k,E=y._toPixels(m),j=m.width,C=m.height,L=j*C,A=new Int32Array(L),P=0;P<L;P++)A[P]=y._getARGB(E,P);var R,I,N,z,G,W,H,Z,Y=new Int32Array(L),Q=new Int32Array(L),M=new Int32Array(L),B=new Int32Array(L),V=0,X=3.5*n|0;if(o!==(X=X<1?1:X<248?X:248)){d=1+(o=X)<<1,s=new Int32Array(d),p=new Array(d);for(var re=0;re<d;re++)p[re]=new Int32Array(256);for(var ne=1,ce=X-1;ne<X;ne++){s[X+ne]=s[ce]=W=ce*ce,H=p[X+ne],Z=p[ce--];for(var be=0;be<256;be++)H[be]=Z[be]=W*be}G=s[X]=X*X,H=p[X];for(var he=0;he<256;he++)H[he]=G*he}for(I=0;I<C;I++){for(R=0;R<j;R++){if(h=a=c=u=r=0,(l=R-o)<0)k=-l,l=0;else{if(j<=l)break;k=0}for(N=k;N<d&&!(j<=l);N++){var le=A[l+V];z=p[N],u+=z[(-16777216&le)>>>24],c+=z[(16711680&le)>>16],a+=z[(65280&le)>>8],h+=z[255&le],r+=s[N],l++}Y[g=V+R]=u/r,Q[g]=c/r,M[g]=a/r,B[g]=h/r}V+=j}for(x=(v=-o)*j,I=V=0;I<C;I++){for(R=0;R<j;R++){if(h=a=c=u=r=0,v<0)k=g=-v,l=R;else{if(C<=v)break;k=0,g=v,l=R+x}for(N=k;N<d&&!(C<=g);N++)z=p[N],u+=z[Y[l]],c+=z[Q[l]],a+=z[M[l]],h+=z[B[l]],r+=s[N],g++,l+=j;A[R+V]=u/r<<24|c/r<<16|a/r<<8|h/r}V+=j,x+=j,v++}y._setPixels(E,A)}};b.default=y},{"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.int32-array":225,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242}],305:[function(t,S,b){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var o=s(t("../core/main")),d=s(t("omggif"));function s(y){return y&&y.__esModule?y:{default:y}}function p(y){return function(m){if(Array.isArray(m)){for(var n=0,r=new Array(m.length);n<m.length;n++)r[n]=m[n];return r}}(y)||function(m){if(Symbol.iterator in Object(m)||Object.prototype.toString.call(m)==="[object Arguments]")return Array.from(m)}(y)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}o.default.prototype.createImage=function(y,m){return o.default._validateParameters("createImage",arguments),new o.default.Image(y,m)},o.default.prototype.saveCanvas=function(){for(var y,m,n,r,c,a,h=arguments.length,u=new Array(h),l=0;l<h;l++)u[l]=arguments[l];switch(o.default._validateParameters("saveCanvas",u),u[0]instanceof HTMLCanvasElement?(y=u[0],u.shift()):u[0]instanceof o.default.Element?(y=u[0].elt,u.shift()):u[0]instanceof o.default.Framebuffer?(r=u[0],(c=this.createGraphics(r.width,r.height)).pixelDensity(pixelDensity()),r.loadPixels(),c.loadPixels(),c.pixels.set(r.pixels),c.updatePixels(),y=c.elt,u.shift()):y=this._curElement&&this._curElement.elt,1<=u.length&&(m=u[0]),n=(n=2<=u.length?u[1]:n)||o.default.prototype._checkFileExtension(m,n)[1]||"png"){default:a="image/png";break;case"webp":a="image/webp";break;case"jpeg":case"jpg":a="image/jpeg"}y.toBlob(function(g){o.default.prototype.downloadFile(g,m,n),c&&c.remove()},a)},o.default.prototype.encodeAndDownloadGif=function(y,m){for(var n=y.gifProperties,r=n.loopLimit,c=(r===1?r=null:r===null&&(r=0),new Uint8Array(y.width*y.height*n.numFrames)),a=[],h={},u=0;u<n.numFrames;u++){for(var l=new Set,g=n.frames[u].image.data,v=g.length,x=new Uint32Array(y.width*y.height),k=0,E=0;k<v;k+=4,E++){var j=g[k+0]<<16|g[k+1]<<8|g[k+2]<<0;l.add(j),x[E]=j}var C=p(l).sort().toString();h[C]===void 0?h[C]={freq:1,frames:[u]}:(h[C].freq+=1,h[C].frames.push(u)),a.push(x)}for(var P=[],L=Object.keys(h).sort(function(M,B){return h[B].freq-h[M].freq}),A=L[0].split(",").map(function(M){return parseInt(M)}),P=P.concat(h[A].frames),R=new Set(A),I=1;I<L.length;I++){var N=L[I].split(",").map(function(M){return parseInt(M)}).filter(function(M){return!R.has(M)});if(A.length+N.length<=256){for(var z=0;z<N.length;z++)A.push(N[z]),R.add(N[z]);P=P.concat(h[L[I]].frames)}}P=new Set(P);for(var G={},W=0;W<A.length;W++)G[A[W]]||(G[A[W]]=W);for(var H=1;H<A.length;)H<<=1;A.length=H;for(var r={loop:r,palette:new Uint32Array(A)},Z=new d.default.GifWriter(c,y.width,y.height,r),Y={},Q=0;Q<n.numFrames;Q++)(function(B){var V=!P.has(B),X=V?[]:A,re=new Uint8Array(y.width*y.height),ne={},ce=new Set,be=(a[B].forEach(function(oe,fe){V?(ne[oe]===void 0&&(ne[oe]=X.length,X.push(oe)),re[fe]=ne[oe]):re[fe]=G[oe],0<B&&a[B-1][fe]!==oe&&ce.add(oe)}),{}),he=X.filter(function(oe){return!ce.has(oe)});if(0<he.length){var he=he[0],le=(V?ne:G)[he];if(0<B){for(var ge=0;ge<a[B].length;ge++)a[B-1][ge]===a[B][ge]&&(re[ge]=le);be.transparent=le,Y.frameOpts.disposal=1}}if(be.delay=n.frames[B].delay/10,V){for(var U=1;U<X.length;)U<<=1;X.length=U,be.palette=new Uint32Array(X)}0<B&&Z.addFrame(0,0,y.width,y.height,Y.pixelPaletteIndex,Y.frameOpts),Y={pixelPaletteIndex:re,frameOpts:be}})(Q);Y.frameOpts.disposal=1,Z.addFrame(0,0,y.width,y.height,Y.pixelPaletteIndex,Y.frameOpts),r=new Blob([c.slice(0,Z.end())],{type:"image/gif"}),o.default.prototype.downloadFile(r,m,"gif")},o.default.prototype.saveFrames=function(y,m,n,a,c){o.default._validateParameters("saveFrames",arguments),n=o.default.prototype.constrain(n=n||3,0,15),n*=1e3;var a=o.default.prototype.constrain(a||15,0,22),h=0,u=o.default.prototype._makeFrame,l=this._curElement.elt,g=[],v=setInterval(function(){g.push(u(y+h,m,l)),h++},1e3/a);setTimeout(function(){if(clearInterval(v),c)c(g);else for(var x=0,k=g;x<k.length;x++){var E=k[x];o.default.prototype.downloadFile(E.imageData,E.filename,E.ext)}g=[]},.01+n)},o.default.prototype._makeFrame=function(y,m,c){var r,c=this?this._curElement.elt:c;if(m)switch(m.toLowerCase()){case"png":r="image/png";break;case"jpeg":case"jpg":r="image/jpeg";break;default:r="image/png"}else m="png",r="image/png";var c=(c=c.toDataURL(r)).replace(r,"image/octet-stream"),a={};return a.imageData=c,a.filename=y,a.ext=m,a},t=o.default,b.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246,omggif:256}],306:[function(t,S,b){function o(l){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(l)}function d(l){return(d=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(g){return o(g)}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":o(g)})(l)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.copy-within"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.copy-within"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0,t("regenerator-runtime/runtime");var s=c(t("../core/main")),p=c(t("../core/helpers")),y=function(l){if(l&&l.__esModule)return l;if(l===null||d(l)!=="object"&&typeof l!="function")return{default:l};var g=r();if(g&&g.has(l))return g.get(l);var v,x={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(v in l){var E;Object.prototype.hasOwnProperty.call(l,v)&&((E=k?Object.getOwnPropertyDescriptor(l,v):null)&&(E.get||E.set)?Object.defineProperty(x,v,E):x[v]=l[v])}return x.default=l,g&&g.set(l,x),x}(t("../core/constants")),m=c(t("omggif")),n=t("gifenc");function r(){var l;return typeof WeakMap!="function"?null:(l=new WeakMap,r=function(){return l},l)}function c(l){return l&&l.__esModule?l:{default:l}}function a(l,g,v,x,k,E,j){try{var C=l[E](j),L=C.value}catch(A){return void v(A)}C.done?g(L):Promise.resolve(L).then(x,k)}function h(l,g,v,x,k,E,j,C,L,A,P){var R,I,N,z,G,W,H,Z,Y;return l===y.COVER&&(R=g,N=v,H=E,Z=j,W=C,Y=L,I=A,z=P,G=Math.max(H/I,Z/z),H/=G,Z/=G,G=W,W=Y,R===y.CENTER?G+=(I-H)/2:R===y.RIGHT&&(G+=I-H),N===y.CENTER?W+=(z-Z)/2:N===y.BOTTOM&&(W+=z-Z),C=(Y={x:G,y:W,w:H,h:Z}).x,L=Y.y,A=Y.w,P=Y.h),l===y.CONTAIN&&(R=g,I=v,N=x,z=k,G=E,W=j,H=A,Z=P,Y=Math.max(H/G,Z/W),H/=Y,Z/=Y,Y=N,N=z,R===y.CENTER?Y+=(G-H)/2:R===y.RIGHT&&(Y+=G-H),I===y.CENTER?N+=(W-Z)/2:I===y.BOTTOM&&(N+=W-Z),x=(l={x:Y,y:N,w:H,h:Z}).x,k=l.y,E=l.w,j=l.h),{sx:C,sy:L,sw:A,sh:P,dx:x,dy:k,dw:E,dh:j}}function u(l,g){return 0<l&&l<g?l:g}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),s.default.prototype.loadImage=function(l,g,v){s.default._validateParameters("loadImage",arguments);var x=new s.default.Image(1,1,this),k=this,E=new Request(l,{method:"GET",mode:"cors"});return fetch(l,E).then(function(j){var C,L=j.headers.get("content-type");L===null&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset."),L&&L.includes("image/gif")?j.arrayBuffer().then(function(A){if(A){for(var A=new Uint8Array(A),P=x,R=g,I=v,N=(function(V){k._decrementPreload()}).bind(k),z=new m.default.GifReader(A),G=(P.width=P.canvas.width=z.width,P.height=P.canvas.height=z.height,[]),W=z.numFrames(),H=new Uint8ClampedArray(P.width*P.height*4),Z=0;Z<W;Z++){var Y=z.frameInfo(Z),Q=P.drawingContext.getImageData(0,0,P.width,P.height),M=(H=Q.data.slice(),function(V,X){try{X.decodeAndBlitFrameRGBA(V,H)}catch(re){s.default._friendlyFileLoadError(8,P.src),typeof I=="function"?I(re):console.error(re)}}(Z,z),new ImageData(H,P.width,P.height)),M=(P.drawingContext.putImageData(M,0,0),Y.delay);M===0&&(M=10),G.push({image:P.drawingContext.getImageData(0,0,P.width,P.height),delay:10*M}),Y.disposal===2?P.drawingContext.clearRect(Y.x,Y.y,Y.width,Y.height):Y.disposal===3&&P.drawingContext.putImageData(Q,0,0,Y.x,Y.y,Y.width,Y.height)}(A=z.loopCount())===null?A=1:A===0&&(A=null),P.drawingContext.putImageData(G[0].image,0,0),1<G.length&&(P.gifProperties={displayIndex:0,loopLimit:A,loopCount:0,frames:G,numFrames:W,playing:!0,timeDisplayed:0,lastChangeTime:0}),typeof R=="function"&&R(P),N()}},function(A){typeof v=="function"?(v(A),k._decrementPreload()):console.error(A)}):((C=new Image).onload=function(){x.width=x.canvas.width=C.width,x.height=x.canvas.height=C.height,x.drawingContext.drawImage(C,0,0),x.modified=!0,typeof g=="function"&&g(x),k._decrementPreload()},C.onerror=function(A){s.default._friendlyFileLoadError(0,C.src),typeof v=="function"?(v(A),k._decrementPreload()):console.error(A)},l.indexOf("data:image/")!==0&&(C.crossOrigin="Anonymous"),C.src=l),x.modified=!0}).catch(function(j){s.default._friendlyFileLoadError(0,l),typeof v=="function"?(v(j),k._decrementPreload()):console.error(j)}),x},s.default.prototype.saveGif=function(){l=regeneratorRuntime.mark(function v(x,k){var E,j,C,L,A,P,R,I,N,z,G,W,H,Z,Y,Q,M,B,V,X,re,ne,ce,be,he,le,ge=arguments;return regeneratorRuntime.wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(E=2<ge.length&&ge[2]!==void 0?ge[2]:{delay:0,units:"seconds",silent:!1,notificationDuration:0,notificationID:"progressBar"},typeof x!="string")throw TypeError("fileName parameter must be a string");U.next=3;break;case 3:if(typeof k!="number")throw TypeError("Duration parameter must be a number");U.next=5;break;case 5:if(j=E&&E.delay||0,C=E&&E.units||"seconds",L=E&&E.silent||!1,A=E&&E.notificationDuration||0,P=E&&E.notificationID||"progressBar",typeof j!="number")throw TypeError("Delay parameter must be a number");U.next=12;break;case 12:if(C!=="seconds"&&C!=="frames")throw TypeError('Units parameter must be either "frames" or "seconds"');U.next=14;break;case 14:if(typeof L!="boolean")throw TypeError("Silent parameter must be a boolean");U.next=16;break;case 16:if(typeof A!="number")throw TypeError("Notification duration parameter must be a number");U.next=18;break;case 18:if(typeof P!="string")throw TypeError("Notification ID parameter must be a string");U.next=20;break;case 20:return this._recording=!0,z=this._targetFrameRate,R=(R=1/(z=z!==1/0&&z!==void 0&&z!==0?z:60)*1e3)<20?20:R,N=(I=C==="seconds"?k*z:k)+(z=C==="seconds"?j*z:j),z=z,this.frameCount=z,G=this._pixelDensity,this.pixelDensity(1),W=[],document.getElementById(P)!==null&&document.getElementById(P).remove(),L||((H=this.createP("")).id(P),H.style("font-size","16px"),H.style("font-family","Montserrat"),H.style("background-color","#ffffffa0"),H.style("padding","8px"),H.style("border-radius","10px"),H.position(0,0)),this._renderer instanceof s.default.RendererGL&&(Y=this.drawingContext,Z=new Uint8Array(Y.drawingBufferWidth*Y.drawingBufferHeight*4)),this.noLoop(),U.next=39,Promise.resolve();case 39:if(z<N)return this.redraw(),be=void 0,be=this._renderer instanceof s.default.RendererGL?(Z=new Uint8Array(Y.drawingBufferWidth*Y.drawingBufferHeight*4),Y.readPixels(0,0,Y.drawingBufferWidth,Y.drawingBufferHeight,Y.RGBA,Y.UNSIGNED_BYTE,Z),function(oe,fe,te){for(var ee=parseInt(te/2),ae=4*fe,_e=new Uint8Array(4*fe),Oe=0;Oe<ee;++Oe){var ue=Oe*ae,je=(te-Oe-1)*ae;_e.set(oe.subarray(ue,ue+ae)),oe.copyWithin(ue,je,je+ae),oe.set(_e,je)}return oe}(Z,this.width,this.height)):this.drawingContext.getImageData(0,0,this.width,this.height).data,W.push(be),z++,L||H.html("Saved frame <b>"+W.length.toString()+"</b> out of "+I.toString()),U.next=48,new Promise(function(oe){return setTimeout(oe,0)});U.next=50;break;case 48:U.next=39;break;case 50:L||H.html("Frames processed, generating color palette..."),this.loop(),this.pixelDensity(G),Q=(0,n.GIFEncoder)(),M=function(oe){for(var fe=new Uint8Array(oe.length*oe[0].length),te=0;te<oe.length;te++)fe.set(oe[te],te*oe[0].length);var ee=(0,n.quantize)(fe,256,{format:"rgba4444",oneBitAlpha:!0});return ee.length===256?ee[ee.length-1]=[255*Math.random(),255*Math.random(),255*Math.random(),0]:ee.push([255*Math.random(),255*Math.random(),255*Math.random(),0]),ee}(W),B={},V=function(oe){for(var fe=oe.length/4,te=new Uint8Array(fe),ee=0;ee<fe;ee++){var ae=oe[4*ee]<<24|oe[4*ee+1]<<16|oe[4*ee+2]<<8|oe[4*ee+3];B[ae]===void 0&&(B[ae]=(0,n.nearestColorIndex)(M,oe.slice(4*ee,4*(ee+1)))),te[ee]=B[ae]}return te},X=M.length-1,re=[],ne=0;case 60:if(!(ne<W.length)){U.next=71;break}if(ce=V(W[ne]),be=ce.slice(),ne===0)Q.writeFrame(ce,this.width,this.height,{palette:M,delay:R,dispose:1});else{for(he=0;he<ce.length;he++)ce[he]===re[he]&&(ce[he]=X);Q.writeFrame(ce,this.width,this.height,{delay:R,transparent:!0,transparentIndex:X,dispose:1})}return re=be,L||H.html("Rendered frame <b>"+ne.toString()+"</b> out of "+I.toString()),U.next=68,new Promise(function(oe){return setTimeout(oe,0)});case 68:ne++,U.next=60;break;case 71:Q.finish(),le=Q.bytesView(),le=new Blob([le],{type:"image/gif"}),W=[],this._recording=!1,this.loop(),L||(H.html("Done. Downloading your gif!"),0<A&&setTimeout(function(){return H.remove()},1e3*A)),s.default.prototype.downloadFile(le,x,"gif");case 80:case"end":return U.stop()}},v,this)});var l,g=function(){var v=this,x=arguments;return new Promise(function(k,E){var j=l.apply(v,x);function C(A){a(j,k,E,C,L,"next",A)}function L(A){a(j,k,E,C,L,"throw",A)}C(void 0)})};return function(v,x){return g.apply(this,arguments)}}(),s.default.prototype.image=function(l,g,v,x,z,G,W,H,Y,A,P,R){s.default._validateParameters("image",arguments);var Z=l.width,I=l.height,N=(R=R||y.CENTER,P=P||y.CENTER,l.elt&&(Z=Z!==void 0?Z:l.elt.width,I=I!==void 0?I:l.elt.height),l.elt&&l.elt.videoWidth&&!l.canvas&&(Z=Z!==void 0?Z:l.elt.videoWidth,I=I!==void 0?I:l.elt.videoHeight),x||Z),z=z||I,G=G||0,W=W||0,H=u(H!==void 0?H:Z,Z),Z=u(Y!==void 0?Y:I,I),Y=1;l.elt&&!l.canvas&&l.elt.style.width&&(Y=l.elt.videoWidth&&!x?l.elt.videoWidth:l.elt.width,Y/=parseInt(l.elt.style.width,10)),G*=Y,W*=Y,Z*=Y,H*=Y,I=h(A,P,R,(I=p.default.modeAdjust(g,v,N,z,this._renderer._imageMode)).x,I.y,I.w,I.h,G,W,H,Z),this._renderer.image(l,I.sx,I.sy,I.sw,I.sh,I.dx,I.dy,I.dw,I.dh)},s.default.prototype.tint=function(){for(var l=arguments.length,g=new Array(l),v=0;v<l;v++)g[v]=arguments[v];s.default._validateParameters("tint",g);var x=this.color.apply(this,g);this._renderer._tint=x.levels},s.default.prototype.noTint=function(){this._renderer._tint=null},s.default.prototype._getTintedImageCanvas=s.default.Renderer2D.prototype._getTintedImageCanvas,s.default.prototype.imageMode=function(l){s.default._validateParameters("imageMode",arguments),l!==y.CORNER&&l!==y.CORNERS&&l!==y.CENTER||(this._renderer._imageMode=l)},t=s.default,b.default=t},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/helpers":279,"../core/main":283,"core-js/modules/es.array.copy-within":154,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.typed-array.uint8-clamped-array":243,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,gifenc:253,omggif:256,"regenerator-runtime/runtime":260}],307:[function(t,S,b){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var o=s(t("../core/main")),d=s(t("./filters"));function s(y){return y&&y.__esModule?y:{default:y}}function p(y,m){for(var n=0;n<m.length;n++){var r=m[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(y,r.key,r)}}o.default.Image=function(){function y(r,c){if(!(this instanceof y))throw new TypeError("Cannot call a class as a function");this.width=r,this.height=c,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),(this._pixelsState=this)._pixelDensity=1,this.gifProperties=null,this._modified=!1,this.pixels=[]}var m,n;return m=y,(n=[{key:"pixelDensity",value:function(r){return r!==void 0?(r<=0&&(o.default._friendlyParamError({type:"INVALID_VALUE",format:{types:["Number"]},position:1},"pixelDensity"),r=1),this._pixelDensity=r,this.width/=r,this.height/=r,this):this._pixelDensity}},{key:"_animateGif",value:function(h){var c,a=this.gifProperties,h=h._lastRealFrameTime||window.performance.now();a.lastChangeTime===0&&(a.lastChangeTime=h),a.playing&&(a.timeDisplayed=h-a.lastChangeTime,c=a.frames[a.displayIndex].delay,a.timeDisplayed>=c&&(c=Math.floor(a.timeDisplayed/c),a.timeDisplayed=0,a.lastChangeTime=h,a.displayIndex+=c,a.loopCount=Math.floor(a.displayIndex/a.numFrames),a.loopLimit!==null&&a.loopCount>=a.loopLimit?a.playing=!1:(h=a.displayIndex%a.numFrames,this.drawingContext.putImageData(a.frames[h].image,0,0),a.displayIndex=h,this.setModified(!0))))}},{key:"_setProperty",value:function(r,c){this[r]=c,this.setModified(!0)}},{key:"loadPixels",value:function(){o.default.Renderer2D.prototype.loadPixels.call(this),this.setModified(!0)}},{key:"updatePixels",value:function(r,c,a,h){o.default.Renderer2D.prototype.updatePixels.call(this,r,c,a,h),this.setModified(!0)}},{key:"get",value:function(r,c,a,h){return o.default._validateParameters("p5.Image.get",arguments),o.default.Renderer2D.prototype.get.apply(this,arguments)}},{key:"_getPixel",value:function(){for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return o.default.Renderer2D.prototype._getPixel.apply(this,c)}},{key:"set",value:function(r,c,a){o.default.Renderer2D.prototype.set.call(this,r,c,a),this.setModified(!0)}},{key:"resize",value:function(r,c){r===0&&c===0?(r=this.canvas.width,c=this.canvas.height):r===0?r=this.canvas.width*c/this.canvas.height:c===0&&(c=this.canvas.height*r/this.canvas.width),r=Math.floor(r),c=Math.floor(c);var a=document.createElement("canvas");if(a.width=r,a.height=c,this.gifProperties)for(var h=this.gifProperties,u=0;u<h.numFrames;u++){for(var l=this.drawingContext.createImageData(r,c),g=(j=j=E=k=x=void 0,h.frames[u].image),v=l,x=0,k=0;k<v.height;k++)for(var E=0;E<v.width;E++){var j=Math.floor(E*g.width/v.width),j=4*(Math.floor(k*g.height/v.height)*g.width+j);v.data[x++]=g.data[j++],v.data[x++]=g.data[j++],v.data[x++]=g.data[j++],v.data[x++]=g.data[+j]}h.frames[u].image=l}a.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,a.width,a.height),this.canvas.width=this.width=r,this.canvas.height=this.height=c,this.drawingContext.drawImage(a,0,0,r,c,0,0,r,c),0<this.pixels.length&&this.loadPixels(),this.setModified(!0)}},{key:"copy",value:function(){for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];o.default.prototype.copy.apply(this,c)}},{key:"mask",value:function(r){var c=this.drawingContext.globalCompositeOperation,a=this._pixelDensity,h=1,u=[r=r===void 0?this:r,0,0,(h=r instanceof o.default.Renderer?r._pInst._pixelDensity:h)*r.width,h*r.height,0,0,a*this.width,a*this.height];if(this.drawingContext.globalCompositeOperation="destination-in",this.gifProperties){for(var l=0;l<this.gifProperties.frames.length;l++)this.drawingContext.putImageData(this.gifProperties.frames[l].image,0,0),this.copy.apply(this,u),this.gifProperties.frames[l].image=this.drawingContext.getImageData(0,0,a*this.width,a*this.height);this.drawingContext.putImageData(this.gifProperties.frames[this.gifProperties.displayIndex].image,0,0)}else this.copy.apply(this,u);this.drawingContext.globalCompositeOperation=c,this.setModified(!0)}},{key:"filter",value:function(r,c){d.default.apply(this.canvas,d.default[r],c),this.setModified(!0)}},{key:"blend",value:function(){for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];o.default._validateParameters("p5.Image.blend",arguments),o.default.prototype.blend.apply(this,c),this.setModified(!0)}},{key:"setModified",value:function(r){this._modified=r}},{key:"isModified",value:function(){return this._modified}},{key:"save",value:function(r,c){this.gifProperties?o.default.prototype.encodeAndDownloadGif(this,r):o.default.prototype.saveCanvas(this.canvas,r,c)}},{key:"reset",value:function(){var r;this.gifProperties&&((r=this.gifProperties).playing=!0,r.timeSinceStart=0,r.timeDisplayed=0,r.lastChangeTime=0,r.loopCount=0,r.displayIndex=0,this.drawingContext.putImageData(r.frames[0].image,0,0))}},{key:"getCurrentFrame",value:function(){var r;if(this.gifProperties)return(r=this.gifProperties).displayIndex%r.numFrames}},{key:"setFrame",value:function(r){var c;this.gifProperties&&(r<(c=this.gifProperties).numFrames&&0<=r?(c.timeDisplayed=0,c.lastChangeTime=0,c.displayIndex=r,this.drawingContext.putImageData(c.frames[r].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero."))}},{key:"numFrames",value:function(){if(this.gifProperties)return this.gifProperties.numFrames}},{key:"play",value:function(){this.gifProperties&&(this.gifProperties.playing=!0)}},{key:"pause",value:function(){this.gifProperties&&(this.gifProperties.playing=!1)}},{key:"delay",value:function(r,c){if(this.gifProperties){var a=this.gifProperties;if(c<a.numFrames&&0<=c)a.frames[c].delay=r;else{var h=!0,c=!1,u=void 0;try{for(var l,g=a.frames[Symbol.iterator]();!(h=(l=g.next()).done);h=!0)l.value.delay=r}catch(x){c=!0,u=x}finally{try{h||g.return==null||g.return()}finally{if(c)throw u}}}}}}])&&p(m.prototype,n),y}(),t=o.default.Image,b.default=t},{"../core/main":283,"./filters":304,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],308:[function(t,S,b){t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.filter"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var o=s(t("../core/main")),d=s(t("./filters"));function s(p){return p&&p.__esModule?p:{default:p}}t("../color/p5.Color"),o.default.prototype.pixels=[],o.default.prototype.blend=function(){for(var p,y=arguments.length,m=new Array(y),n=0;n<y;n++)m[n]=arguments[n];o.default._validateParameters("blend",m),this._renderer?(p=this._renderer).blend.apply(p,m):o.default.Renderer2D.prototype.blend.apply(this,m)},o.default.prototype.copy=function(){for(var p,y,m,n,r,c,a,h,u,l=arguments.length,g=new Array(l),v=0;v<l;v++)g[v]=arguments[v];if(o.default._validateParameters("copy",g),g.length===9)p=g[0],y=g[1],m=g[2],n=g[3],r=g[4],c=g[5],a=g[6],h=g[7],u=g[8];else{if(g.length!==8)throw new Error("Signature not supported");p=this,y=g[0],m=g[1],n=g[2],r=g[3],c=g[4],a=g[5],h=g[6],u=g[7]}o.default.prototype._copyHelper(this,p,y,m,n,r,c,a,h,u)},o.default.prototype._copyHelper=function(p,y,m,n,r,c,a,h,u,l){var g=y.canvas.width/y.width,v=0,x=0;y._renderer&&y._renderer.isP3D&&(v=y.width/2,x=y.height/2),p._renderer&&p._renderer.isP3D?(p.push(),p.resetMatrix(),p.noLights(),p.blendMode(p.BLEND),p.imageMode(p.CORNER),o.default.RendererGL.prototype.image.call(p._renderer,y,m+v,n+x,r,c,a,h,u,l),p.pop()):p.drawingContext.drawImage(y.canvas,g*(m+v),g*(n+x),g*r,g*c,a,h,u,l)},o.default.prototype.getFilterGraphicsLayer=function(){return this._renderer.getFilterGraphicsLayer()},o.default.prototype.filter=function(){for(var p=arguments.length,y=new Array(p),m=0;m<p;m++)y[m]=arguments[m];o.default._validateParameters("filter",y);var a=(function(){var h,u={shader:void 0,operation:void 0,value:void 0,useWebGL:!0};return(arguments.length<=0?void 0:arguments[0])instanceof o.default.Shader?u.shader=arguments.length<=0?void 0:arguments[0]:(u.operation=arguments.length<=0?void 0:arguments[0],1<arguments.length&&typeof(arguments.length<=1?void 0:arguments[1])=="number"&&(u.value=arguments.length<=1?void 0:arguments[1]),((h=arguments.length-1)<0||arguments.length<=h?void 0:arguments[h])===!1&&(u.useWebGL=!1)),u}).apply(void 0,y),n=a.shader,r=a.operation,c=a.value,a=a.useWebGL;this._renderer.isP3D&&n?o.default.RendererGL.prototype.filter.call(this._renderer,n):a||this._renderer.isP3D?(!a&&this._renderer.isP3D&&console.warn("filter() with useWebGL=false is not supported in WEBGL"),this._renderer.isP3D?o.default.RendererGL.prototype.filter.call(this._renderer,r,c):((n=this.getFilterGraphicsLayer()).copy(this._renderer,0,0,this.width,this.height,-this.width/2,-this.height/2,this.width,this.height),this._renderer.clear(),this._renderer.resetMatrix(),n.filter.apply(n,y),this.copy(n._renderer,0,0,this.width,this.height,0,0,this.width,this.height),n.clear())):this.canvas!==void 0?d.default.apply(this.canvas,d.default[r],c):d.default.apply(this.elt,d.default[r],c)},o.default.prototype.get=function(p,y,m,n){var r;return o.default._validateParameters("get",arguments),(r=this._renderer).get.apply(r,arguments)},o.default.prototype.loadPixels=function(){for(var p=arguments.length,y=new Array(p),m=0;m<p;m++)y[m]=arguments[m];o.default._validateParameters("loadPixels",y),this._renderer.loadPixels()},o.default.prototype.set=function(p,y,m){this._renderer.set(p,y,m)},o.default.prototype.updatePixels=function(p,y,m,n){o.default._validateParameters("updatePixels",arguments),this.pixels.length!==0&&this._renderer.updatePixels(p,y,m,n)},t=o.default,b.default=t},{"../color/p5.Color":270,"../core/main":283,"./filters":304,"core-js/modules/es.array.filter":157}],309:[function(t,S,b){function o(c){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var d=y(t("../core/main")),s=(t("whatwg-fetch"),t("es6-promise/auto"),y(t("fetch-jsonp"))),p=y(t("file-saver"));function y(c){return c&&c.__esModule?c:{default:c}}function m(c){return(m=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(a){return o(a)}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":o(a)})(c)}function n(c){return c.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function r(c,a){a&&a!==!0&&a!=="true"||(a="");var h="";return(c=c||"untitled")&&c.includes(".")&&(h=c.split(".").pop()),a&&h!==a&&(h=a,c="".concat(c,".").concat(h)),[c,h]}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),d.default.prototype.loadJSON=function(){for(var c=arguments.length,a=new Array(c),h=0;h<c;h++)a[h]=arguments[h];d.default._validateParameters("loadJSON",a);for(var u,l,g,v=a[0],x={},k="json",E=1;E<a.length;E++){var j=a[E];typeof j=="string"?j!=="jsonp"&&j!=="json"||(k=j):typeof j=="function"?u?l=j:u=j:m(j)==="object"&&(j.hasOwnProperty("jsonpCallback")||j.hasOwnProperty("jsonpCallbackFunction"))&&(k="jsonp",g=j)}var C=this;return this.httpDo(v,"GET",g,k,function(L){for(var A in L)x[A]=L[A];u!==void 0&&u(L),C._decrementPreload()},function(L){if(d.default._friendlyFileLoadError(5,v),!l)throw L;l(L)}),x},d.default.prototype.loadStrings=function(){for(var c=arguments.length,a=new Array(c),h=0;h<c;h++)a[h]=arguments[h];d.default._validateParameters("loadStrings",a);for(var u,l,g=[],v=1;v<a.length;v++){var x=a[v];typeof x=="function"&&(u===void 0?u=x:l===void 0&&(l=x))}var k=this;return d.default.prototype.httpDo.call(this,a[0],"GET","text",function(E){for(var j=E.replace(/\r\n/g,"\r").replace(/\n/g,"\r").split(/\r/),C=0,L=j.length;C<L;C+=32768)Array.prototype.push.apply(g,j.slice(C,Math.min(C+32768,L)));u!==void 0&&u(g),k._decrementPreload()},function(E){if(d.default._friendlyFileLoadError(3,E),!l)throw E;l(E)}),g},d.default.prototype.loadTable=function(c){var a,h,u,l=!1,g=c.substring(c.lastIndexOf(".")+1,c.length);g==="csv"?u=",":g==="ssv"?u=";":g==="tsv"&&(u="	");for(var v=1;v<arguments.length;v++)typeof arguments[v]=="function"?a===void 0?a=arguments[v]:h===void 0&&(h=arguments[v]):typeof arguments[v]=="string"&&(arguments[v]==="header"&&(l=!0),arguments[v]==="csv"?u=",":arguments[v]==="ssv"?u=";":arguments[v]==="tsv"&&(u="	"));var x=new d.default.Table,k=this;return this.httpDo(c,"GET","table",function(E){for(var j,C,L={},A=0,P=[],R=0,I=null,N=function(){L.currentState=A,L.token=""},z=function(){I.push(L.token),N()},G=function(){L.currentState=4,P.push(I),I=null};;){if((j=E[R++])==null){if(L.escaped)throw new Error("Unclosed quote in file.");if(I){z(),G();break}}if(I===null&&(L.escaped=!1,I=[],N()),L.currentState===A){if(j==='"'){L.escaped=!0,L.currentState=1;continue}L.currentState=1}if(L.currentState===1&&L.escaped)if(j==='"')E[R]==='"'?(L.token+='"',R++):(L.escaped=!1,L.currentState=2);else{if(j==="\r")continue;L.token+=j}else j==="\r"?(E[R]===`
`&&R++,z(),G()):j===`
`?(z(),G()):j===u?z():L.currentState===1&&(L.token+=j)}if(l)x.columns=P.shift();else for(var W=0;W<P[0].length;W++)x.columns[W]="null";for(var H=0;H<P.length;H++)(P[H].length!==1||P[H][0]!=="undefined"&&P[H][0]!=="")&&((C=new d.default.TableRow).arr=P[H],C.obj=function(Z,Y){if((Y=Y||[])===void 0)for(var Q=0;Q<Z.length;Q++)Y[Q.toString()]=Q;return Object.fromEntries(Y.map(function(M,B){return[M,Z[B]]}))}(P[H],x.columns),x.addRow(C));typeof a=="function"&&a(x),k._decrementPreload()},function(E){d.default._friendlyFileLoadError(2,c),h?h(E):console.error(E)}),x},d.default.prototype.loadXML=function(){for(var c=arguments.length,a=new Array(c),h=0;h<c;h++)a[h]=arguments[h];for(var u,l,g=new d.default.XML,v=1;v<a.length;v++){var x=a[v];typeof x=="function"&&(u===void 0?u=x:l===void 0&&(l=x))}var k=this;return this.httpDo(a[0],"GET","xml",function(E){for(var j in E)g[j]=E[j];u!==void 0&&u(g),k._decrementPreload()},function(E){if(d.default._friendlyFileLoadError(1,E),!l)throw E;l(E)}),g},d.default.prototype.loadBytes=function(c,a,h){var u={},l=this;return this.httpDo(c,"GET","arrayBuffer",function(g){u.bytes=new Uint8Array(g),typeof a=="function"&&a(u),l._decrementPreload()},function(g){if(d.default._friendlyFileLoadError(6,c),!h)throw g;h(g)}),u},d.default.prototype.httpGet=function(){for(var c=arguments.length,a=new Array(c),h=0;h<c;h++)a[h]=arguments[h];return d.default._validateParameters("httpGet",a),a.splice(1,0,"GET"),d.default.prototype.httpDo.apply(this,a)},d.default.prototype.httpPost=function(){for(var c=arguments.length,a=new Array(c),h=0;h<c;h++)a[h]=arguments[h];return d.default._validateParameters("httpPost",a),a.splice(1,0,"POST"),d.default.prototype.httpDo.apply(this,a)},d.default.prototype.httpDo=function(){for(var c,a,h,u={},l=0,g="text/plain",v=arguments.length-1;0<v&&typeof(v<0||arguments.length<=v?void 0:arguments[v])=="function";v--)l++;var x=arguments.length-l,k=arguments.length<=0?void 0:arguments[0];if(x==2&&typeof k=="string"&&m(arguments.length<=1?void 0:arguments[1])==="object")P=new Request(k,arguments.length<=1?void 0:arguments[1]),a=arguments.length<=2?void 0:arguments[2],h=arguments.length<=3?void 0:arguments[3];else{for(var E,j="GET",C=1;C<arguments.length;C++){var L=C<0||arguments.length<=C?void 0:arguments[C];if(typeof L=="string")L==="GET"||L==="POST"||L==="PUT"||L==="DELETE"?j=L:L==="json"||L==="jsonp"||L==="binary"||L==="arrayBuffer"||L==="xml"||L==="text"||L==="table"?c=L:E=L;else if(typeof L=="number")E=L.toString();else if(m(L)==="object")if(L.hasOwnProperty("jsonpCallback")||L.hasOwnProperty("jsonpCallbackFunction"))for(var A in L)u[A]=L[A];else g=L instanceof d.default.XML?(E=L.serialize(),"application/xml"):(E=JSON.stringify(L),"application/json");else typeof L=="function"&&(a?h=L:a=L)}var x=j==="GET"?new Headers:new Headers({"Content-Type":g}),P=new Request(k,{method:j,mode:"cors",body:E,headers:x})}return(x=(x=(c=c||(k.includes("json")?"json":k.includes("xml")?"xml":"text"))==="jsonp"?(0,s.default)(k,u):fetch(P)).then(function(R){if(!R.ok)throw(I=new Error(R.body)).status=R.status,I.ok=!1,I;var I=0;switch((I=c!=="jsonp"?R.headers.get("content-length"):I)&&64e6<I&&d.default._friendlyFileLoadError(7,k),c){case"json":case"jsonp":return R.json();case"binary":return R.blob();case"arrayBuffer":return R.arrayBuffer();case"xml":return R.text().then(function(N){return N=new DOMParser().parseFromString(N,"text/xml"),new d.default.XML(N.documentElement)});default:return R.text()}})).then(a||function(){}),x.catch(h||console.error),x},window.URL=window.URL||window.webkitURL,d.default.prototype._pWriters=[],d.default.prototype.createWriter=function(c,a){var h,u;for(u in d.default.prototype._pWriters)if(d.default.prototype._pWriters[u].name===c)return h=new d.default.PrintWriter(c+this.millis(),a),d.default.prototype._pWriters.push(h),h;return h=new d.default.PrintWriter(c,a),d.default.prototype._pWriters.push(h),h},d.default.PrintWriter=function(c,a){var h=this;this.name=c,this.content="",this.write=function(u){this.content+=u},this.print=function(u){this.content+="".concat(u,`
`)},this.clear=function(){this.content=""},this.close=function(){var u,l=[];for(u in l.push(this.content),d.default.prototype.writeFile(l,c,a),d.default.prototype._pWriters)d.default.prototype._pWriters[u].name===this.name&&d.default.prototype._pWriters.splice(u,1);h.clear(),h={}}},d.default.prototype.save=function(c,a,h){var u=arguments,l=(this._curElement||this).elt;if(u.length===0)d.default.prototype.saveCanvas(l);else if(u[0]instanceof d.default.Renderer||u[0]instanceof d.default.Graphics)d.default.prototype.saveCanvas(u[0].elt,u[1],u[2]);else if(u.length===1&&typeof u[0]=="string")d.default.prototype.saveCanvas(l,u[0]);else switch(r(u[1],u[2])[1]){case"json":return void d.default.prototype.saveJSON(u[0],u[1],u[2]);case"txt":return void d.default.prototype.saveStrings(u[0],u[1],u[2]);default:u[0]instanceof Array?d.default.prototype.saveStrings(u[0],u[1],u[2]):u[0]instanceof d.default.Table?d.default.prototype.saveTable(u[0],u[1],u[2]):u[0]instanceof d.default.Image?d.default.prototype.saveCanvas(u[0].canvas,u[1]):u[0]instanceof d.default.SoundFile&&d.default.prototype.saveSound(u[0],u[1],u[2],u[3])}},d.default.prototype.saveJSON=function(c,a,h){d.default._validateParameters("saveJSON",arguments),h=h?JSON.stringify(c):JSON.stringify(c,void 0,2),this.saveStrings(h.split(`
`),a,"json")},d.default.prototype.saveJSONObject=d.default.prototype.saveJSON,d.default.prototype.saveJSONArray=d.default.prototype.saveJSON,d.default.prototype.saveStrings=function(c,a,h,u){d.default._validateParameters("saveStrings",arguments);for(var l=this.createWriter(a,h||"txt"),g=0;g<c.length;g++)u?l.write(c[g]+`\r
`):l.write(c[g]+`
`);l.close(),l.clear()},d.default.prototype.saveTable=function(c,a,h){d.default._validateParameters("saveTable",arguments),u=h===void 0?a.substring(a.lastIndexOf(".")+1,a.length):h;var u,l=this.createWriter(a,u),g=c.columns,v=u==="tsv"?"	":",";if(u!=="html"){if(g[0]!=="0"){for(var x=0;x<g.length;x++)x<g.length-1?l.write(g[x]+v):l.write(g[x]);l.write(`
`)}for(var k=0;k<c.rows.length;k++){for(var E=void 0,E=0;E<c.rows[k].arr.length;E++)E<c.rows[k].arr.length-1?u==="csv"&&String(c.rows[k].arr[E]).includes(",")?l.write('"'+c.rows[k].arr[E]+'"'+v):l.write(c.rows[k].arr[E]+v):u==="csv"&&String(c.rows[k].arr[E]).includes(",")?l.write('"'+c.rows[k].arr[E]+'"'):l.write(c.rows[k].arr[E]);l.write(`
`)}}else{if(l.print("<html>"),l.print("<head>"),l.print('  <meta http-equiv="content-type" content="text/html;charset=utf-8" />'),l.print("</head>"),l.print("<body>"),l.print("  <table>"),g[0]!=="0"){l.print("    <tr>");for(var j=0;j<g.length;j++){var C=n(g[j]);l.print("      <td>".concat(C)),l.print("      </td>")}l.print("    </tr>")}for(var L=0;L<c.rows.length;L++){l.print("    <tr>");for(var A=0;A<c.columns.length;A++){var P=n(c.rows[L].getString(A));l.print("      <td>".concat(P)),l.print("      </td>")}l.print("    </tr>")}l.print("  </table>"),l.print("</body>"),l.print("</html>")}l.close(),l.clear()},d.default.prototype.writeFile=function(l,a,h){var u="application/octet-stream",l=(d.default.prototype._isSafari()&&(u="text/plain"),new Blob(l,{type:u}));d.default.prototype.downloadFile(l,a,h)},d.default.prototype.downloadFile=function(c,l,g){var u,l=r(l,g),g=l[0];c instanceof Blob?p.default.saveAs(c,g):((u=document.createElement("a")).href=c,u.download=g,u.onclick=function(v){document.body.removeChild(v.target),v.stopPropagation()},u.style.display="none",document.body.appendChild(u),d.default.prototype._isSafari()&&(c=(c=`Hello, Safari user! To download this file...
1. Go to File --> Save As.
2. Choose "Page Source" as the Format.
`)+'3. Name it with this extension: ."'.concat(l[1],'"'),alert(c)),u.click())},d.default.prototype._checkFileExtension=r,d.default.prototype._isSafari=function(){return window.HTMLElement.toString().includes("Constructor")},t=d.default,b.default=t},{"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.object.from-entries":185,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.iterator":246,"core-js/modules/web.url":248,"es6-promise/auto":249,"fetch-jsonp":251,"file-saver":252,"whatwg-fetch":261}],310:[function(t,S,b){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var o=(t=t("../core/main"))&&t.__esModule?t:{default:t};function d(s,p){for(var y=0;y<p.length;y++){var m=p[y];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(s,m.key,m)}}o.default.Table=function(){function s(){var m=0<arguments.length&&arguments[0]!==void 0?arguments[0]:[],n=this,r=s;if(!(n instanceof r))throw new TypeError("Cannot call a class as a function");this.columns=[],this.rows=m}var p,y;return p=s,(y=[{key:"addRow",value:function(m){if(m=m||new o.default.TableRow,m.arr===void 0||m.obj===void 0)throw new Error("invalid TableRow: ".concat(m));return(m.table=this).rows.push(m),m}},{key:"removeRow",value:function(m){this.rows[m].table=null,m=this.rows.splice(m+1,this.rows.length),this.rows.pop(),this.rows=this.rows.concat(m)}},{key:"getRow",value:function(m){return this.rows[m]}},{key:"getRows",value:function(){return this.rows}},{key:"findRow",value:function(m,n){if(typeof n=="string"){for(var r=0;r<this.rows.length;r++)if(this.rows[r].obj[n]===m)return this.rows[r]}else for(var c=0;c<this.rows.length;c++)if(this.rows[c].arr[n]===m)return this.rows[c];return null}},{key:"findRows",value:function(m,n){var r=[];if(typeof n=="string")for(var c=0;c<this.rows.length;c++)this.rows[c].obj[n]===m&&r.push(this.rows[c]);else for(var a=0;a<this.rows.length;a++)this.rows[a].arr[n]===m&&r.push(this.rows[a]);return r}},{key:"matchRow",value:function(m,n){if(typeof n=="number"){for(var r=0;r<this.rows.length;r++)if(this.rows[r].arr[n].match(m))return this.rows[r]}else for(var c=0;c<this.rows.length;c++)if(this.rows[c].obj[n].match(m))return this.rows[c];return null}},{key:"matchRows",value:function(m,n){var r=[];if(typeof n=="number")for(var c=0;c<this.rows.length;c++)this.rows[c].arr[n].match(m)&&r.push(this.rows[c]);else for(var a=0;a<this.rows.length;a++)this.rows[a].obj[n].match(m)&&r.push(this.rows[a]);return r}},{key:"getColumn",value:function(m){var n=[];if(typeof m=="string")for(var r=0;r<this.rows.length;r++)n.push(this.rows[r].obj[m]);else for(var c=0;c<this.rows.length;c++)n.push(this.rows[c].arr[m]);return n}},{key:"clearRows",value:function(){delete this.rows,this.rows=[]}},{key:"addColumn",value:function(m){this.columns.push(m||null)}},{key:"getColumnCount",value:function(){return this.columns.length}},{key:"getRowCount",value:function(){return this.rows.length}},{key:"removeTokens",value:function(m,n){for(var r=[],c=0;c<m.length;c++)r.push(m.charAt(c).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"));var a=new RegExp(r.join("|"),"g");if(n===void 0)for(var h=0;h<this.columns.length;h++)for(var u=0;u<this.rows.length;u++){var l=(l=this.rows[u].arr[h]).replace(a,"");this.rows[u].arr[h]=l,this.rows[u].obj[this.columns[h]]=l}else if(typeof n=="string")for(var g=0;g<this.rows.length;g++){var v=(v=this.rows[g].obj[n]).replace(a,""),x=(this.rows[g].obj[n]=v,this.columns.indexOf(n));this.rows[g].arr[x]=v}else for(var k=0;k<this.rows.length;k++){var E=(E=this.rows[k].arr[n]).replace(a,"");this.rows[k].arr[n]=E,this.rows[k].obj[this.columns[n]]=E}}},{key:"trim",value:function(m){var n=new RegExp(" ","g");if(m===void 0)for(var r=0;r<this.columns.length;r++)for(var c=0;c<this.rows.length;c++){var a=(a=this.rows[c].arr[r]).replace(n,"");this.rows[c].arr[r]=a,this.rows[c].obj[this.columns[r]]=a}else if(typeof m=="string")for(var h=0;h<this.rows.length;h++){var u=(u=this.rows[h].obj[m]).replace(n,""),l=(this.rows[h].obj[m]=u,this.columns.indexOf(m));this.rows[h].arr[l]=u}else for(var g=0;g<this.rows.length;g++){var v=(v=this.rows[g].arr[m]).replace(n,"");this.rows[g].arr[m]=v,this.rows[g].obj[this.columns[m]]=v}}},{key:"removeColumn",value:function(c){typeof c=="string"?r=this.columns.indexOf(n=c):n=this.columns[r=c];var n,r,c=this.columns.splice(r+1,this.columns.length);this.columns.pop(),this.columns=this.columns.concat(c);for(var a=0;a<this.rows.length;a++){var h=this.rows[a].arr,u=h.splice(r+1,h.length);h.pop(),this.rows[a].arr=h.concat(u),delete this.rows[a].obj[n]}}},{key:"set",value:function(m,n,r){this.rows[m].set(n,r)}},{key:"setNum",value:function(m,n,r){this.rows[m].setNum(n,r)}},{key:"setString",value:function(m,n,r){this.rows[m].setString(n,r)}},{key:"get",value:function(m,n){return this.rows[m].get(n)}},{key:"getNum",value:function(m,n){return this.rows[m].getNum(n)}},{key:"getString",value:function(m,n){return this.rows[m].getString(n)}},{key:"getObject",value:function(m){for(var n,r={},c=0;c<this.rows.length;c++)if(n=this.rows[c].obj,typeof m=="string"){if(!(0<=this.columns.indexOf(m)))throw new Error('This table has no column named "'.concat(m,'"'));r[n[m]]=n}else r[c]=this.rows[c].obj;return r}},{key:"getArray",value:function(){for(var m=[],n=0;n<this.rows.length;n++)m.push(this.rows[n].arr);return m}}])&&d(p.prototype,y),s}(),t=o.default,b.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.join":166,"core-js/modules/es.array.splice":171,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204}],311:[function(t,S,b){t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t};function o(d,s){for(var p=0;p<s.length;p++){var y=s[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(d,y.key,y)}}t.default.TableRow=function(){function d(y,m){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");var n=[];y&&(n=y.split(m=m||",")),this.arr=n,this.obj=Object.fromEntries(n.entries()),this.table=null}var s,p;return s=d,(p=[{key:"set",value:function(y,m){if(typeof y=="string"){var n=this.table.columns.indexOf(y);if(!(0<=n))throw new Error('This table has no column named "'.concat(y,'"'));this.obj[y]=m,this.arr[n]=m}else{if(!(y<this.table.columns.length))throw new Error("Column #".concat(y," is out of the range of this table"));this.arr[y]=m,n=this.table.columns[y],this.obj[n]=m}}},{key:"setNum",value:function(y,m){m=parseFloat(m),this.set(y,m)}},{key:"setString",value:function(y,m){m=m.toString(),this.set(y,m)}},{key:"get",value:function(y){return(typeof y=="string"?this.obj:this.arr)[y]}},{key:"getNum",value:function(y){var m=parseFloat(typeof y=="string"?this.obj[y]:this.arr[y]);if(m.toString()==="NaN")throw"Error: ".concat(this.obj[y]," is NaN (Not a Number)");return m}},{key:"getString",value:function(y){return(typeof y=="string"?this.obj:this.arr)[y].toString()}}])&&o(s.prototype,p),d}(),t=t.default,b.default=t},{"../core/main":283,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.from-entries":185,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.split":206,"core-js/modules/web.dom-collections.iterator":246}],312:[function(t,S,b){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var o=(t=t("../core/main"))&&t.__esModule?t:{default:t};function d(p,y){for(var m=0;m<y.length;m++){var n=y[m];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(p,n.key,n)}}function s(p){for(var y=[],m=0;m<p.length;m++)y.push(new o.default.XML(p[m]));return y}o.default.XML=function(){function p(n){if(!(this instanceof p))throw new TypeError("Cannot call a class as a function");n?this.DOM=n:(n=document.implementation.createDocument(null,"doc"),this.DOM=n.createElement("root"))}var y,m;return y=p,(m=[{key:"getParent",value:function(){return new o.default.XML(this.DOM.parentElement)}},{key:"getName",value:function(){return this.DOM.tagName}},{key:"setName",value:function(n){var r=this.DOM.innerHTML,c=this.DOM.attributes,a=document.implementation.createDocument(null,"default").createElement(n);a.innerHTML=r;for(var h=0;h<c.length;h++)a.setAttribute(c[h].nodeName,c[h].nodeValue);this.DOM=a}},{key:"hasChildren",value:function(){return 0<this.DOM.children.length}},{key:"listChildren",value:function(){for(var n=[],r=0;r<this.DOM.childNodes.length;r++)n.push(this.DOM.childNodes[r].nodeName);return n}},{key:"getChildren",value:function(n){return s(n?this.DOM.getElementsByTagName(n):this.DOM.children)}},{key:"getChild",value:function(n){if(typeof n!="string")return new o.default.XML(this.DOM.children[n]);var r=!0,c=!1,a=void 0;try{for(var h,u=this.DOM.children[Symbol.iterator]();!(r=(h=u.next()).done);r=!0){var l=h.value;if(l.tagName===n)return new o.default.XML(l)}}catch(g){c=!0,a=g}finally{try{r||u.return==null||u.return()}finally{if(c)throw a}}}},{key:"addChild",value:function(n){n instanceof o.default.XML&&this.DOM.appendChild(n.DOM)}},{key:"removeChild",value:function(n){var r=-1;if(typeof n=="string"){for(var c=0;c<this.DOM.children.length;c++)if(this.DOM.children[c].tagName===n){r=c;break}}else r=n;r!==-1&&this.DOM.removeChild(this.DOM.children[r])}},{key:"getAttributeCount",value:function(){return this.DOM.attributes.length}},{key:"listAttributes",value:function(){var n=[],r=!0,c=!1,a=void 0;try{for(var h,u=this.DOM.attributes[Symbol.iterator]();!(r=(h=u.next()).done);r=!0){var l=h.value;n.push(l.nodeName)}}catch(g){c=!0,a=g}finally{try{r||u.return==null||u.return()}finally{if(c)throw a}}return n}},{key:"hasAttribute",value:function(n){var r={},c=!0,a=!1,h=void 0;try{for(var u,l=this.DOM.attributes[Symbol.iterator]();!(c=(u=l.next()).done);c=!0){var g=u.value;r[g.nodeName]=g.nodeValue}}catch(v){a=!0,h=v}finally{try{c||l.return==null||l.return()}finally{if(a)throw h}}return!!r[n]}},{key:"getNum",value:function(n,r){var c={},a=!0,h=!1,u=void 0;try{for(var l,g=this.DOM.attributes[Symbol.iterator]();!(a=(l=g.next()).done);a=!0){var v=l.value;c[v.nodeName]=v.nodeValue}}catch(x){h=!0,u=x}finally{try{a||g.return==null||g.return()}finally{if(h)throw u}}return Number(c[n])||r||0}},{key:"getString",value:function(n,r){var c={},a=!0,h=!1,u=void 0;try{for(var l,g=this.DOM.attributes[Symbol.iterator]();!(a=(l=g.next()).done);a=!0){var v=l.value;c[v.nodeName]=v.nodeValue}}catch(x){h=!0,u=x}finally{try{a||g.return==null||g.return()}finally{if(h)throw u}}return c[n]?String(c[n]):r||null}},{key:"setAttribute",value:function(n,r){this.DOM.setAttribute(n,r)}},{key:"getContent",value:function(n){var r=this.DOM.textContent;return(r=r.replace(/\s\s+/g,","))||n||null}},{key:"setContent",value:function(n){this.DOM.children.length||(this.DOM.textContent=n)}},{key:"serialize",value:function(){return new XMLSerializer().serializeToString(this.DOM)}}])&&d(y.prototype,m),p}(),t=o.default,b.default=t},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],313:[function(t,S,b){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.string.includes"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var o=(t=t("../core/main"))&&t.__esModule?t:{default:t};function d(s){return function(p){if(Array.isArray(p)){for(var y=0,m=new Array(p.length);y<p.length;y++)m[y]=p[y];return m}}(s)||function(p){if(Symbol.iterator in Object(p)||Object.prototype.toString.call(p)==="[object Arguments]")return Array.from(p)}(s)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}o.default.prototype.abs=Math.abs,o.default.prototype.ceil=Math.ceil,o.default.prototype.constrain=function(s,p,y){return o.default._validateParameters("constrain",arguments),Math.max(Math.min(s,y),p)},o.default.prototype.dist=function(){for(var s=arguments.length,p=new Array(s),y=0;y<s;y++)p[y]=arguments[y];return o.default._validateParameters("dist",p),p.length===4?Math.hypot(p[2]-p[0],p[3]-p[1]):p.length===6?Math.hypot(p[3]-p[0],p[4]-p[1],p[5]-p[2]):void 0},o.default.prototype.exp=Math.exp,o.default.prototype.floor=Math.floor,o.default.prototype.lerp=function(s,p,y){return o.default._validateParameters("lerp",arguments),y*(p-s)+s},o.default.prototype.log=Math.log,o.default.prototype.mag=function(s,p){return o.default._validateParameters("mag",arguments),Math.hypot(s,p)},o.default.prototype.map=function(s,p,y,m,n,r){return o.default._validateParameters("map",arguments),s=(s-p)/(y-p)*(n-m)+m,r?m<n?this.constrain(s,m,n):this.constrain(s,n,m):s},o.default.prototype.max=function(){for(var s=function(n){return Math.max.apply(Math,d(n))},p=arguments.length,y=new Array(p),m=0;m<p;m++)y[m]=arguments[m];return Array.isArray(y[0])?s(y[0]):s(y)},o.default.prototype.min=function(){for(var s=function(n){return Math.min.apply(Math,d(n))},p=arguments.length,y=new Array(p),m=0;m<p;m++)y[m]=arguments[m];return Array.isArray(y[0])?s(y[0]):s(y)},o.default.prototype.norm=function(s,p,y){return o.default._validateParameters("norm",arguments),this.map(s,p,y,0,1)},o.default.prototype.pow=Math.pow,o.default.prototype.round=function(s,p){return p?(p=Math.pow(10,p),Math.round(s*p)/p):Math.round(s)},o.default.prototype.sq=function(s){return s*s},o.default.prototype.sqrt=Math.sqrt,o.default.prototype.fract=function(m){o.default._validateParameters("fract",arguments);var p,y=0,m=Number(m);return isNaN(m)||Math.abs(m)===1/0?m:(m<0&&(m=-m,y=1),String(m).includes(".")&&!String(m).includes("e")?(p=String(m),p=+("0"+p.slice(p.indexOf("."))),Math.abs(y-p)):m<1?Math.abs(y-m):0)},t=o.default,b.default=t},{"../core/main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],314:[function(t,S,b){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var o=(t=t("../core/main"))&&t.__esModule?t:{default:t};function d(p,y,m){return(d=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?Reflect.construct:function(n,r,c){var a=[null];return a.push.apply(a,r),r=new(Function.bind.apply(n,a)),c&&s(r,c.prototype),r}).apply(null,arguments)}function s(p,y){return(s=Object.setPrototypeOf||function(m,n){return m.__proto__=n,m})(p,y)}o.default.prototype.createVector=function(p,y,m){return this instanceof o.default?d(o.default.Vector,[this._fromRadians.bind(this),this._toRadians.bind(this)].concat(Array.prototype.slice.call(arguments))):new o.default.Vector(p,y,m)},t=o.default,b.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196}],315:[function(m,S,b){Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0,m=(m=m("../core/main"))&&m.__esModule?m:{default:m};function o(n){return .5*(1-Math.cos(n*Math.PI))}var d,s=4095,p=4,y=.5,m=(m.default.prototype.noise=function(n){var r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;if(d==null){d=new Array(4096);for(var a=0;a<4096;a++)d[a]=Math.random()}n<0&&(n=-n),r<0&&(r=-r),c<0&&(c=-c);for(var h,u,l=Math.floor(n),g=Math.floor(r),v=Math.floor(c),x=n-l,k=r-g,E=c-v,j=0,C=.5,L=0;L<p;L++){var A=l+(g<<4)+(v<<8),P=o(x),R=o(k),I=d[A&s];I+=P*(d[A+1&s]-I),h=d[A+16&s],I+=R*((h+=P*(d[A+16+1&s]-h))-I),h=d[(A+=256)&s],h+=P*(d[A+1&s]-h),u=d[A+16&s],h+=R*((u+=P*(d[A+16+1&s]-u))-h),j+=(I+=o(E)*(h-I))*C,C*=y,l<<=1,g<<=1,v<<=1,1<=(x*=2)&&(l++,x--),1<=(k*=2)&&(g++,k--),1<=(E*=2)&&(v++,E--)}return j},m.default.prototype.noiseDetail=function(n,r){0<n&&(p=n),0<r&&(y=r)},m.default.prototype.noiseSeed=function(n){a=4294967296;var r,c,a,h={setSeed:function(l){c=r=(l??Math.random()*a)>>>0},getSeed:function(){return r},rand:function(){return(c=(1664525*c+1013904223)%a)/a}};h.setSeed(n),d=new Array(4096);for(var u=0;u<4096;u++)d[u]=h.rand()},m.default);b.default=m},{"../core/main":283}],316:[function(t,S,b){function o(r){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(r)}function d(r){return(d=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(c){return o(c)}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":o(c)})(r)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.number.epsilon"),t("core-js/modules/es.number.is-finite"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.some"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.number.epsilon"),t("core-js/modules/es.number.is-finite"),t("core-js/modules/es.string.sub"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var s=(n=t("../core/main"))&&n.__esModule?n:{default:n},p=function(r){if(r&&r.__esModule)return r;if(r===null||d(r)!=="object"&&typeof r!="function")return{default:r};var c=y();if(c&&c.has(r))return c.get(r);var a,h={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in r){var l;Object.prototype.hasOwnProperty.call(r,a)&&((l=u?Object.getOwnPropertyDescriptor(r,a):null)&&(l.get||l.set)?Object.defineProperty(h,a,l):h[a]=r[a])}return h.default=r,c&&c.set(r,h),h}(t("../core/constants"));function y(){var r;return typeof WeakMap!="function"?null:(r=new WeakMap,y=function(){return r},r)}function m(r,c){for(var a=0;a<c.length;a++){var h=c[a];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(r,h.key,h)}}s.default.Vector=function(){function r(){var v=this,u=r;if(!(v instanceof u))throw new TypeError("Cannot call a class as a function");var l,g,v=typeof(arguments.length<=0?void 0:arguments[0])=="function"?(this.isPInst=!0,this._fromRadians=arguments.length<=0?void 0:arguments[0],this._toRadians=arguments.length<=1?void 0:arguments[1],l=(arguments.length<=2?void 0:arguments[2])||0,g=(arguments.length<=3?void 0:arguments[3])||0,(arguments.length<=4?void 0:arguments[4])||0):(l=(arguments.length<=0?void 0:arguments[0])||0,g=(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0);this.x=l,this.y=g,this.z=v}var c,a,h;return c=r,h=[{key:"fromAngle",value:function(u){var l=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;return new s.default.Vector(l*Math.cos(u),l*Math.sin(u),0)}},{key:"fromAngles",value:function(E,x){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:1,v=Math.cos(x),x=Math.sin(x),k=Math.cos(E),E=Math.sin(E);return new s.default.Vector(g*E*x,-g*k,g*E*v)}},{key:"random2D",value:function(){return this.fromAngle(Math.random()*p.TWO_PI)}},{key:"random3D",value:function(){var u=Math.random()*p.TWO_PI,l=2*Math.random()-1,v=Math.sqrt(1-l*l),g=v*Math.cos(u),v=v*Math.sin(u);return new s.default.Vector(g,v,l)}},{key:"copy",value:function(u){return u.copy(u)}},{key:"add",value:function(){for(var u=arguments.length,l=new Array(u),g=0;g<u;g++)l[g]=arguments[g];var v=l[0],x=l[1],k=l[2];return k?k.set(v):(k=v.copy(),l.length===3&&s.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")),k.add(x),k}},{key:"rem",value:function(u,l){if(u instanceof s.default.Vector&&l instanceof s.default.Vector)return(u=u.copy()).rem(l),u}},{key:"sub",value:function(){for(var u=arguments.length,l=new Array(u),g=0;g<u;g++)l[g]=arguments[g];var v=l[0],x=l[1],k=l[2];return k?k.set(v):(k=v.copy(),l.length===3&&s.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")),k.sub(x),k}},{key:"mult",value:function(){for(var u=arguments.length,l=new Array(u),g=0;g<u;g++)l[g]=arguments[g];var v=l[0],x=l[1],k=l[2];return k?k.set(v):(k=v.copy(),l.length===3&&s.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),k.mult(x),k}},{key:"rotate",value:function(){for(var u=arguments.length,l=new Array(u),g=0;g<u;g++)l[g]=arguments[g];var v=l[0],x=l[1],k=l[2];return l.length===2?k=v.copy():(k instanceof s.default.Vector||s.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),k.set(v)),k.rotate(x),k}},{key:"div",value:function(){for(var u=arguments.length,l=new Array(u),g=0;g<u;g++)l[g]=arguments[g];var v=l[0],x=l[1],k=l[2];return k?k.set(v):(k=v.copy(),l.length===3&&s.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),k.div(x),k}},{key:"dot",value:function(u,l){return u.dot(l)}},{key:"cross",value:function(u,l){return u.cross(l)}},{key:"dist",value:function(u,l){return u.dist(l)}},{key:"lerp",value:function(){for(var u=arguments.length,l=new Array(u),g=0;g<u;g++)l[g]=arguments[g];var v=l[0],x=l[1],k=l[2],E=l[3];return E?E.set(v):(E=v.copy(),l.length===4&&s.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),E.lerp(x,k),E}},{key:"slerp",value:function(){for(var u=arguments.length,l=new Array(u),g=0;g<u;g++)l[g]=arguments[g];var v=l[0],x=l[1],k=l[2],E=l[3];return E?E.set(v):(E=v.copy(),l.length===4&&s.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.slerp")),E.slerp(x,k),E}},{key:"mag",value:function(u){return u.mag()}},{key:"magSq",value:function(u){return u.magSq()}},{key:"normalize",value:function(){for(var u=arguments.length,l=new Array(u),g=0;g<u;g++)l[g]=arguments[g];var v=l[0],x=l[1];return l.length<2?x=v.copy():(x instanceof s.default.Vector||s.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize"),x.set(v)),x.normalize()}},{key:"limit",value:function(){for(var u=arguments.length,l=new Array(u),g=0;g<u;g++)l[g]=arguments[g];var v=l[0],x=l[1],k=l[2];return l.length<3?k=v.copy():(k instanceof s.default.Vector||s.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.limit"),k.set(v)),k.limit(x)}},{key:"setMag",value:function(){for(var u=arguments.length,l=new Array(u),g=0;g<u;g++)l[g]=arguments[g];var v=l[0],x=l[1],k=l[2];return l.length<3?k=v.copy():(k instanceof s.default.Vector||s.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.setMag"),k.set(v)),k.setMag(x)}},{key:"heading",value:function(u){return u.heading()}},{key:"angleBetween",value:function(u,l){return u.angleBetween(l)}},{key:"reflect",value:function(){for(var u=arguments.length,l=new Array(u),g=0;g<u;g++)l[g]=arguments[g];var v=l[0],x=l[1],k=l[2];return l.length<3?k=v.copy():(k instanceof s.default.Vector||s.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.reflect"),k.set(v)),k.reflect(x)}},{key:"array",value:function(u){return u.array()}},{key:"equals",value:function(u,l){var g;return u instanceof s.default.Vector?g=u:Array.isArray(u)?g=new s.default.Vector().set(u):s.default._friendlyError("The v1 parameter should be of type Array or p5.Vector","p5.Vector.equals"),g.equals(l)}}],(a=[{key:"toString",value:function(){return"p5.Vector Object : [".concat(this.x,", ").concat(this.y,", ").concat(this.z,"]")}},{key:"set",value:function(u,l,g){return u instanceof s.default.Vector?(this.x=u.x||0,this.y=u.y||0,this.z=u.z||0):Array.isArray(u)?(this.x=u[0]||0,this.y=u[1]||0,this.z=u[2]||0):(this.x=u||0,this.y=l||0,this.z=g||0),this}},{key:"copy",value:function(){return this.isPInst?new s.default.Vector(this._fromRadians,this._toRadians,this.x,this.y,this.z):new s.default.Vector(this.x,this.y,this.z)}},{key:"add",value:function(u,l,g){return u instanceof s.default.Vector?(this.x+=u.x||0,this.y+=u.y||0,this.z+=u.z||0):Array.isArray(u)?(this.x+=u[0]||0,this.y+=u[1]||0,this.z+=u[2]||0):(this.x+=u||0,this.y+=l||0,this.z+=g||0),this}},{key:"calculateRemainder2D",value:function(u,l){return u!==0&&(this.x=this.x%u),l!==0&&(this.y=this.y%l),this}},{key:"calculateRemainder3D",value:function(u,l,g){return u!==0&&(this.x=this.x%u),l!==0&&(this.y=this.y%l),g!==0&&(this.z=this.z%g),this}},{key:"rem",value:function(){for(var u=arguments.length,l=new Array(u),g=0;g<u;g++)l[g]=arguments[g];var v,x,k,E=l[0],j=l[1],C=l[2];if(E instanceof s.default.Vector){if([E.x,E.y,E.z].every(Number.isFinite))return v=parseFloat(E.x),x=parseFloat(E.y),k=parseFloat(E.z),this.calculateRemainder3D(v,x,k)}else if(Array.isArray(E)){if(E.every(Number.isFinite))return E.length===2?this.calculateRemainder2D(E[0],E[1]):E.length===3?this.calculateRemainder3D(E[0],E[1],E[2]):void 0}else if(l.length===1){if(Number.isFinite(E)&&E!==0)return this.x=this.x%E,this.y=this.y%E,this.z=this.z%E,this}else if(l.length===2){if(l.every(Number.isFinite))return this.calculateRemainder2D(E,j)}else if(l.length===3&&l.every(Number.isFinite))return this.calculateRemainder3D(E,j,C)}},{key:"sub",value:function(u,l,g){return u instanceof s.default.Vector?(this.x-=u.x||0,this.y-=u.y||0,this.z-=u.z||0):Array.isArray(u)?(this.x-=u[0]||0,this.y-=u[1]||0,this.z-=u[2]||0):(this.x-=u||0,this.y-=l||0,this.z-=g||0),this}},{key:"mult",value:function(){for(var u=arguments.length,l=new Array(u),g=0;g<u;g++)l[g]=arguments[g];var v,x=l[0],k=l[1],E=l[2];return x instanceof s.default.Vector?Number.isFinite(x.x)&&Number.isFinite(x.y)&&Number.isFinite(x.z)&&typeof x.x=="number"&&typeof x.y=="number"&&typeof x.z=="number"?(this.x*=x.x,this.y*=x.y,this.z*=x.z):console.warn("p5.Vector.prototype.mult:","x contains components that are either undefined or not finite numbers"):Array.isArray(x)?x.every(function(j){return Number.isFinite(j)})&&x.every(function(j){return typeof j=="number"})?x.length===1?(this.x*=x[0],this.y*=x[0],this.z*=x[0]):x.length===2?(this.x*=x[0],this.y*=x[1]):x.length===3&&(this.x*=x[0],this.y*=x[1],this.z*=x[2]):console.warn("p5.Vector.prototype.mult:","x contains elements that are either undefined or not finite numbers"):(v=l).every(function(j){return Number.isFinite(j)})&&v.every(function(j){return typeof j=="number"})?(l.length===1&&(this.x*=x,this.y*=x,this.z*=x),l.length===2&&(this.x*=x,this.y*=k),l.length===3&&(this.x*=x,this.y*=k,this.z*=E)):console.warn("p5.Vector.prototype.mult:","x, y, or z arguments are either undefined or not a finite number"),this}},{key:"div",value:function(){for(var u=arguments.length,l=new Array(u),g=0;g<u;g++)l[g]=arguments[g];var v=l[0],x=l[1],k=l[2];if(v instanceof s.default.Vector)if(Number.isFinite(v.x)&&Number.isFinite(v.y)&&Number.isFinite(v.z)&&typeof v.x=="number"&&typeof v.y=="number"&&typeof v.z=="number"){var E=v.z===0&&this.z===0;if(v.x===0||v.y===0||!E&&v.z===0)return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this.x/=v.x,this.y/=v.y,E||(this.z/=v.z)}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(Array.isArray(v))if(v.every(Number.isFinite)&&v.every(function(j){return typeof j=="number"})){if(v.some(function(j){return j===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;v.length===1?(this.x/=v[0],this.y/=v[0],this.z/=v[0]):v.length===2?(this.x/=v[0],this.y/=v[1]):v.length===3&&(this.x/=v[0],this.y/=v[1],this.z/=v[2])}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(l.every(Number.isFinite)&&l.every(function(j){return typeof j=="number"})){if(l.some(function(j){return j===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;l.length===1&&(this.x/=v,this.y/=v,this.z/=v),l.length===2&&(this.x/=v,this.y/=x),l.length===3&&(this.x/=v,this.y/=x,this.z/=k)}else console.warn("p5.Vector.prototype.div:","x, y, or z arguments are either undefined or not a finite number");return this}},{key:"mag",value:function(){return Math.sqrt(this.magSq())}},{key:"magSq",value:function(){var u=this.x,l=this.y,g=this.z;return u*u+l*l+g*g}},{key:"dot",value:function(u,l,g){return u instanceof s.default.Vector?this.dot(u.x,u.y,u.z):this.x*(u||0)+this.y*(l||0)+this.z*(g||0)}},{key:"cross",value:function(v){var l=this.y*v.z-this.z*v.y,g=this.z*v.x-this.x*v.z,v=this.x*v.y-this.y*v.x;return this.isPInst?new s.default.Vector(this._fromRadians,this._toRadians,l,g,v):new s.default.Vector(l,g,v)}},{key:"dist",value:function(u){return u.copy().sub(this).mag()}},{key:"normalize",value:function(){var u=this.mag();return u!==0&&this.mult(1/u),this}},{key:"limit",value:function(u){var l=this.magSq();return u*u<l&&this.div(Math.sqrt(l)).mult(u),this}},{key:"setMag",value:function(u){return this.normalize().mult(u)}},{key:"heading",value:function(){var u=Math.atan2(this.y,this.x);return this.isPInst?this._fromRadians(u):u}},{key:"setHeading",value:function(u){this.isPInst&&(u=this._toRadians(u));var l=this.mag();return this.x=l*Math.cos(u),this.y=l*Math.sin(u),this}},{key:"rotate",value:function(l){var l=this.heading()+l,g=(this.isPInst&&(l=this._toRadians(l)),this.mag());return this.x=Math.cos(l)*g,this.y=Math.sin(l)*g,this}},{key:"angleBetween",value:function(u){var l;return this.magSq()*u.magSq()==0?NaN:(l=this.cross(u),u=Math.atan2(l.mag(),this.dot(u))*Math.sign(l.z||1),this.isPInst?this._fromRadians(u):u)}},{key:"lerp",value:function(u,l,g,v){return u instanceof s.default.Vector?this.lerp(u.x,u.y,u.z,l):(this.x+=(u-this.x)*v||0,this.y+=(l-this.y)*v||0,this.z+=(g-this.z)*v||0,this)}},{key:"slerp",value:function(u,l){if(l!==0){if(l===1)return this.set(u);var g=this.mag(),v=u.mag();if(g*v==0)this.mult(1-l).add(u.x*l,u.y*l,u.z*l);else{var x=this.cross(u),k=x.mag(),E=Math.atan2(k,this.dot(u));if(0<k)x.x/=k,x.y/=k,x.z/=k;else{if(E<.5*Math.PI)return this.mult(1-l).add(u.x*l,u.y*l,u.z*l),this;this.z===0&&u.z===0?x.set(0,0,1):this.x!==0?x.set(this.y,-this.x,0).normalize():x.set(1,0,0)}k=x.cross(this),u=1-l+l*v/g,x=u*Math.cos(l*E),v=u*Math.sin(l*E),this.x=this.x*x+k.x*v,this.y=this.y*x+k.y*v,this.z=this.z*x+k.z*v}}return this}},{key:"reflect",value:function(u){return u=s.default.Vector.normalize(u),this.sub(u.mult(2*this.dot(u)))}},{key:"array",value:function(){return[this.x||0,this.y||0,this.z||0]}},{key:"equals",value:function(k,l,g){var v,x,k=k instanceof s.default.Vector?(v=k.x||0,x=k.y||0,k.z||0):Array.isArray(k)?(v=k[0]||0,x=k[1]||0,k[2]||0):(v=k||0,x=l||0,g||0);return this.x===v&&this.y===x&&this.z===k}},{key:"clampToZero",value:function(){return this.x=this._clampToZero(this.x),this.y=this._clampToZero(this.y),this.z=this._clampToZero(this.z),this}},{key:"_clampToZero",value:function(u){return Math.abs(+(u||0))<=Number.EPSILON?0:u}}])&&m(c.prototype,a),h&&m(c,h),r}();var n=s.default.Vector;b.default=n},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.every":155,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.some":170,"core-js/modules/es.math.sign":178,"core-js/modules/es.number.constructor":179,"core-js/modules/es.number.epsilon":180,"core-js/modules/es.number.is-finite":181,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],317:[function(y,S,b){Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var o=(y=y("../core/main"))&&y.__esModule?y:{default:y},d="_lcg_random_state",s=4294967296,p=0,y=(o.default.prototype._lcg=function(m){return this[m]=(1664525*this[m]+1013904223)%s,this[m]/s},o.default.prototype._lcgSetSeed=function(m,n){this[m]=(n??Math.random()*s)>>>0},o.default.prototype.randomSeed=function(m){this._lcgSetSeed(d,m),this._gaussian_previous=!1},o.default.prototype.random=function(m,n){var r,c;return o.default._validateParameters("random",arguments),r=this[d]!=null?this._lcg(d):Math.random(),m===void 0?r:n===void 0?Array.isArray(m)?m[Math.floor(r*m.length)]:r*m:(n<m&&(c=m,m=n,n=c),r*(n-m)+m)},o.default.prototype.randomGaussian=function(m){var n,r,c,a,h=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(this._gaussian_previous)n=p,this._gaussian_previous=!1;else{for(;1<=(a=(r=this.random(2)-1)*r+(c=this.random(2)-1)*c););n=r*(a=Math.sqrt(-2*Math.log(a)/a)),p=c*a,this._gaussian_previous=!0}return n*h+(m||0)},o.default);b.default=y},{"../core/main":283}],318:[function(t,S,b){function o(n){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(n)}function d(n){return(d=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(r){return o(r)}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":o(r)})(n)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var s=(m=t("../core/main"))&&m.__esModule?m:{default:m},p=function(n){if(n&&n.__esModule)return n;if(n===null||d(n)!=="object"&&typeof n!="function")return{default:n};var r=y();if(r&&r.has(n))return r.get(n);var c,a={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in n){var u;Object.prototype.hasOwnProperty.call(n,c)&&((u=h?Object.getOwnPropertyDescriptor(n,c):null)&&(u.get||u.set)?Object.defineProperty(a,c,u):a[c]=n[c])}return a.default=n,r&&r.set(n,a),a}(t("../core/constants"));function y(){var n;return typeof WeakMap!="function"?null:(n=new WeakMap,y=function(){return n},n)}s.default.prototype._angleMode=p.RADIANS,s.default.prototype.acos=function(n){return this._fromRadians(Math.acos(n))},s.default.prototype.asin=function(n){return this._fromRadians(Math.asin(n))},s.default.prototype.atan=function(n){return this._fromRadians(Math.atan(n))},s.default.prototype.atan2=function(n,r){return this._fromRadians(Math.atan2(n,r))},s.default.prototype.cos=function(n){return Math.cos(this._toRadians(n))},s.default.prototype.sin=function(n){return Math.sin(this._toRadians(n))},s.default.prototype.tan=function(n){return Math.tan(this._toRadians(n))},s.default.prototype.degrees=function(n){return n*p.RAD_TO_DEG},s.default.prototype.radians=function(n){return n*p.DEG_TO_RAD},s.default.prototype.angleMode=function(n){if(s.default._validateParameters("angleMode",arguments),n===void 0)return this._angleMode;n!==p.DEGREES&&n!==p.RADIANS||n!==this._angleMode&&(n===p.RADIANS?(this._setProperty("pRotationX",this.pRotationX*p.DEG_TO_RAD),this._setProperty("pRotationY",this.pRotationY*p.DEG_TO_RAD),this._setProperty("pRotationZ",this.pRotationZ*p.DEG_TO_RAD)):(this._setProperty("pRotationX",this.pRotationX*p.RAD_TO_DEG),this._setProperty("pRotationY",this.pRotationY*p.RAD_TO_DEG),this._setProperty("pRotationZ",this.pRotationZ*p.RAD_TO_DEG)),this._angleMode=n)},s.default.prototype._toRadians=function(n){return this._angleMode===p.DEGREES?n*p.DEG_TO_RAD:n},s.default.prototype._toDegrees=function(n){return this._angleMode===p.RADIANS?n*p.RAD_TO_DEG:n},s.default.prototype._fromRadians=function(n){return this._angleMode===p.DEGREES?n*p.RAD_TO_DEG:n},s.default.prototype._fromDegrees=function(n){return this._angleMode===p.RADIANS?n*p.DEG_TO_RAD:n};var m=s.default;b.default=m},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],319:[function(t,S,b){t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var o=(t=t("../core/main"))&&t.__esModule?t:{default:t};o.default.prototype.textAlign=function(d,s){var p;return o.default._validateParameters("textAlign",arguments),(p=this._renderer).textAlign.apply(p,arguments)},o.default.prototype.textLeading=function(d){var s;return o.default._validateParameters("textLeading",arguments),(s=this._renderer).textLeading.apply(s,arguments)},o.default.prototype.textSize=function(d){var s;return o.default._validateParameters("textSize",arguments),(s=this._renderer).textSize.apply(s,arguments)},o.default.prototype.textStyle=function(d){var s;return o.default._validateParameters("textStyle",arguments),(s=this._renderer).textStyle.apply(s,arguments)},o.default.prototype.textWidth=function(){for(var d=arguments.length,s=new Array(d),p=0;p<d;p++)s[p]=arguments[p];if(s[0]+="",o.default._validateParameters("textWidth",s),s[0].length===0)return 0;for(var y=s[0].replace(/\t/g,"  ").split(/\r?\n|\r|\n/g),m=[],n=0;n<y.length;n++)m.push(this._renderer.textWidth(y[n]));return Math.max.apply(Math,m)},o.default.prototype.textAscent=function(){for(var d=arguments.length,s=new Array(d),p=0;p<d;p++)s[p]=arguments[p];return o.default._validateParameters("textAscent",s),this._renderer.textAscent()},o.default.prototype.textDescent=function(){for(var d=arguments.length,s=new Array(d),p=0;p<d;p++)s[p]=arguments[p];return o.default._validateParameters("textDescent",s),this._renderer.textDescent()},o.default.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()},o.default.prototype.textWrap=function(d){return o.default._validateParameters("textWrap",[d]),this._renderer.textWrap(d)},t=o.default,b.default=t},{"../core/main":283,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206}],320:[function(t,S,b){function o(c){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(c)}function d(c){return(d=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(a){return o(a)}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":o(a)})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.split"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var s=(r=t("../core/main"))&&r.__esModule?r:{default:r},p=n(t("../core/constants")),y=n(t("opentype.js"));function m(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,m=function(){return c},c)}function n(c){if(c&&c.__esModule)return c;if(c===null||d(c)!=="object"&&typeof c!="function")return{default:c};var a=m();if(a&&a.has(c))return a.get(c);var h,u,l={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in c)Object.prototype.hasOwnProperty.call(c,h)&&((u=g?Object.getOwnPropertyDescriptor(c,h):null)&&(u.get||u.set)?Object.defineProperty(l,h,u):l[h]=c[h]);return l.default=c,a&&a.set(c,l),l}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),s.default.prototype.loadFont=function(c,a,h){s.default._validateParameters("loadFont",arguments);var u=new s.default.Font(this),l=this;return y.load(c,function(x,k){if(x)return s.default._friendlyFileLoadError(4,c),h!==void 0?h(x):void console.error(x,c);u.font=k,a!==void 0&&a(u),l._decrementPreload();var x=c.split("\\").pop().split("/").pop(),k=x.lastIndexOf("."),E=k<1?null:x.slice(k+1);["ttf","otf","woff","woff2"].includes(E)&&(E=x.slice(0,k!==-1?k:0),(x=document.createElement("style")).appendChild(document.createTextNode(`
@font-face {
font-family: `.concat(E,`;
src: url(`).concat(c,`);
}
`))),document.head.appendChild(x))}),u},s.default.prototype.text=function(c,a,h,u,l){var g;return s.default._validateParameters("text",arguments),this._renderer._doFill||this._renderer._doStroke?(g=this._renderer).text.apply(g,arguments):this},s.default.prototype.textFont=function(c,a){if(s.default._validateParameters("textFont",arguments),arguments.length){if(c)return this._renderer._setProperty("_textFont",c),a&&(this._renderer._setProperty("_textSize",a),this._renderer._leadingSet||this._renderer._setProperty("_textLeading",a*p._DEFAULT_LEADMULT)),this._renderer._applyTextProperties();throw new Error("null font passed to textFont")}return this._renderer._textFont};var r=s.default;b.default=r},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,"opentype.js":257}],321:[function(t,S,b){function o(j){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(j)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var d=(d=t("../core/main"))&&d.__esModule?d:{default:d},s=function(j){if(j&&j.__esModule)return j;if(j===null||y(j)!=="object"&&typeof j!="function")return{default:j};var C=p();if(C&&C.has(j))return C.get(j);var L,A={},P=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(L in j){var R;Object.prototype.hasOwnProperty.call(j,L)&&((R=P?Object.getOwnPropertyDescriptor(j,L):null)&&(R.get||R.set)?Object.defineProperty(A,L,R):A[L]=j[L])}return A.default=j,C&&C.set(j,A),A}(t("../core/constants"));function p(){var j;return typeof WeakMap!="function"?null:(j=new WeakMap,p=function(){return j},j)}function y(j){return(y=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(C){return o(C)}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":o(C)})(j)}function m(j,C){for(var L=0;L<C.length;L++){var A=C[L];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(j,A.key,A)}}function n(j,C){var L=j.length;return j[C<0?C%L+L:C%L]}function r(j,C,L,A){var P,R,I;return A?(r.tmpPoint1===void 0&&(r.tmpPoint1=[],r.tmpPoint2=[]),R=r.tmpPoint1,I=r.tmpPoint2,R.x=C.x-j.x,R.y=C.y-j.y,I.x=L.x-C.x,I.y=L.y-C.y,P=R.x*I.x+R.y*I.y,R=Math.sqrt(R.x*R.x+R.y*R.y),I=Math.sqrt(I.x*I.x+I.y*I.y),Math.acos(P/(R*I))<A):(C[0]-j[0])*(L[1]-j[1])-(L[0]-j[0])*(C[1]-j[1])==0}function c(B,X,V,re,ne,R,I,N,z){var G=1-z,H=Math.pow(G,3),Z=Math.pow(G,2),M=z*z,Y=M*z,W=H*B+3*Z*z*V+3*G*z*z*ne+Y*I,H=H*X+3*Z*z*re+3*G*z*z*R+Y*N,Z=B+2*z*(V-B)+M*(ne-2*V+B),Y=X+2*z*(re-X)+M*(R-2*re+X),Q=V+2*z*(ne-V)+M*(I-2*ne+V),M=re+2*z*(R-re)+M*(N-2*R+re),B=G*B+z*V,V=G*X+z*re,X=G*ne+z*I,re=G*R+z*N,ne=90-180*Math.atan2(Z-Q,Y-M)/Math.PI;return(Q<Z||Y<M)&&(ne+=180),{x:W,y:H,m:{x:Z,y:Y},n:{x:Q,y:M},start:{x:B,y:V},end:{x:X,y:re},alpha:ne}}function a(j,C,L,A,P,R,I,N,z){return z==null?k(j,C,L,A,P,R,I,N):c(j,C,L,A,P,R,I,N,function(G,W,H,Z,Y,Q,M,B,V){if(!(V<0||k(G,W,H,Z,Y,Q,M,B)<V)){var X,re=.5,ne=1-re;for(X=k(G,W,H,Z,Y,Q,M,B,ne);.01<Math.abs(X-V);)X=k(G,W,H,Z,Y,Q,M,B,ne+=(X<V?1:-1)*(re/=2));return ne}}(j,C,L,A,P,R,I,N,z))}function h(j,C,L){for(var A,P,R,I,N,z=0,G=0,W=(j=function(H,Z){function Y(ee,ae,_e){var Oe,ue;if(!ee)return["C",ae.x,ae.y,ae.x,ae.y,ae.x,ae.y];switch(ee[0]in{T:1,Q:1}||(ae.qx=ae.qy=null),ee[0]){case"M":ae.X=ee[1],ae.Y=ee[2];break;case"A":ee=["C"].concat(l.apply(0,[ae.x,ae.y].concat(ee.slice(1))));break;case"S":ue=_e==="C"||_e==="S"?(Oe=2*ae.x-ae.bx,2*ae.y-ae.by):(Oe=ae.x,ae.y),ee=["C",Oe,ue].concat(ee.slice(1));break;case"T":_e==="Q"||_e==="T"?(ae.qx=2*ae.x-ae.qx,ae.qy=2*ae.y-ae.qy):(ae.qx=ae.x,ae.qy=ae.y),ee=["C"].concat(x(ae.x,ae.y,ae.qx,ae.qy,ee[1],ee[2]));break;case"Q":ae.qx=ee[1],ae.qy=ee[2],ee=["C"].concat(x(ae.x,ae.y,ee[1],ee[2],ee[3],ee[4]));break;case"L":ee=["C"].concat(v(ae.x,ae.y,ee[1],ee[2]));break;case"H":ee=["C"].concat(v(ae.x,ae.y,ee[1],ae.y));break;case"V":ee=["C"].concat(v(ae.x,ae.y,ae.x,ee[1]));break;case"Z":ee=["C"].concat(v(ae.x,ae.y,ae.X,ae.Y))}return ee}function Q(ee,ae){if(7<ee[ae].length){ee[ae].shift();for(var _e=ee[ae];_e.length;)ce[ae]="A",X&&(be[ae]="A"),ee.splice(ae++,0,["C"].concat(_e.splice(0,6)));ee.splice(ae,1),B=Math.max(V.length,X&&X.length||0)}}function M(ee,ae,_e,Oe,ue){ee&&ae&&ee[ue][0]==="M"&&ae[ue][0]!=="M"&&(ae.splice(ue,0,["M",Oe.x,Oe.y]),_e.bx=0,_e.by=0,_e.x=ee[ue][1],_e.y=ee[ue][2],B=Math.max(V.length,X&&X.length||0))}var B,V=u(H),X=Z&&u(Z),re={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},ne={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},ce=[],be=[],he="",le="";B=Math.max(V.length,X&&X.length||0);for(var ge=0;ge<B;ge++){(he=V[ge]?V[ge][0]:he)!=="C"&&(ce[ge]=he,ge&&(le=ce[ge-1])),V[ge]=Y(V[ge],re,le),ce[ge]!=="A"&&he==="C"&&(ce[ge]="C"),Q(V,ge),X&&((he=X[ge]?X[ge][0]:he)!=="C"&&(be[ge]=he,ge&&(le=be[ge-1])),X[ge]=Y(X[ge],ne,le),be[ge]!=="A"&&he==="C"&&(be[ge]="C"),Q(X,ge)),M(V,X,re,ne,ge),M(X,V,ne,re,ge);var U=V[ge],oe=X&&X[ge],fe=U.length,te=X&&oe.length;re.x=U[fe-2],re.y=U[fe-1],re.bx=parseFloat(U[fe-4])||re.x,re.by=parseFloat(U[fe-3])||re.y,ne.bx=X&&(parseFloat(oe[te-4])||ne.x),ne.by=X&&(parseFloat(oe[te-3])||ne.y),ne.x=X&&oe[te-2],ne.y=X&&oe[te-1]}return X?[V,X]:V}(j)).length;G<W;G++){if((R=j[G])[0]==="M")A=+R[1],P=+R[2];else{if(C<z+(I=a(A,P,R[1],R[2],R[3],R[4],R[5],R[6]))&&!L)return{x:(N=a(A,P,R[1],R[2],R[3],R[4],R[5],R[6],C-z)).x,y:N.y,alpha:N.alpha};z+=I,A=+R[5],P=+R[6]}R.shift()}return N=(N=L?z:c(A,P,R[0],R[1],R[2],R[3],R[4],R[5],1)).alpha?{x:N.x,y:N.y,alpha:N.alpha}:N}function u(j){var C=[],L=0,A=0,P=0,R=0,I=0;if(j){j[0][0]==="M"&&(P=L=+j[0][1],R=A=+j[0][2],I++,C[0]=["M",L,A]);for(var N,z,G=j.length===3&&j[0][0]==="M"&&j[1][0].toUpperCase()==="R"&&j[2][0].toUpperCase()==="Z",W=I,H=j.length;W<H;W++){if(C.push(N=[]),(z=j[W])[0]!==z[0].toUpperCase())switch(N[0]=z[0].toUpperCase(),N[0]){case"A":N[1]=z[1],N[2]=z[2],N[3]=z[3],N[4]=z[4],N[5]=z[5],N[6]=+(z[6]+L),N[7]=+(z[7]+A);break;case"V":N[1]=+z[1]+A;break;case"H":N[1]=+z[1]+L;break;case"R":for(var Z,Y=2,Q=(Z=[L,A].concat(z.slice(1))).length;Y<Q;Y++)Z[Y]=+Z[Y]+L,Z[++Y]=+Z[Y]+A;C.pop(),C=C.concat(g(Z,G));break;case"M":P=+z[1]+L,R=+z[2]+A;break;default:for(var M=1,B=z.length;M<B;M++)N[M]=+z[M]+(M%2?L:A)}else if(z[0]==="R")Z=[L,A].concat(z.slice(1)),C.pop(),C=C.concat(g(Z,G)),N=["R"].concat(z.slice(-2));else for(var V=0,X=z.length;V<X;V++)N[V]=z[V];switch(N[0]){case"Z":L=P,A=R;break;case"H":L=N[1];break;case"V":A=N[1];break;case"M":P=N[N.length-2],R=N[N.length-1];break;default:L=N[N.length-2],A=N[N.length-1]}}}return C}function l(j,C,L,A,X,ce,re,N,z,G){function W(te,ee,ae){return{x:te*Math.cos(ae)-ee*Math.sin(ae),y:te*Math.sin(ae)+ee*Math.cos(ae)}}var H,B=Math.PI,V=120*B/180,Z=B/180*(+X||0),Y=[],Q=(G?(ge=G[0],H=G[1],he=G[2],le=G[3]):(j=(ne=W(j,C,-Z)).x,C=ne.y,1<(Q=(M=(j-(N=(ne=W(N,z,-Z)).x))/2)*M/(L*L)+(ne=(C-(z=ne.y))/2)*ne/(A*A))&&(L*=Q=Math.sqrt(Q),A*=Q),Q=L*L,be=A*A,he=(ce=(ce===re?-1:1)*Math.sqrt(Math.abs((Q*be-Q*ne*ne-be*M*M)/(Q*ne*ne+be*M*M))))*L*ne/A+(j+N)/2,le=ce*-A*M/L+(C+z)/2,ge=Math.asin(((C-le)/A).toFixed(9)),H=Math.asin(((z-le)/A).toFixed(9)),(ge=j<he?B-ge:ge)<0&&(ge=2*B+ge),(H=N<he?B-H:H)<0&&(H=2*B+H),re&&H<ge&&(ge-=2*B),!re&&ge<H&&(H-=2*B)),H-ge),M=(Math.abs(Q)>V&&(be=H,ne=N,ce=z,H=ge+V*(re&&ge<H?1:-1),Y=l(N=he+L*Math.cos(H),z=le+A*Math.sin(H),L,A,X,0,re,ne,ce,[H,be,he,le])),Q=H-ge,Math.cos(ge)),B=Math.sin(ge),V=Math.cos(H),X=Math.sin(H),re=Math.tan(Q/4),ne=4/3*L*re,ce=4/3*A*re,be=[j,C],he=[j+ne*B,C-ce*M],le=[N+ne*X,z-ce*V],ge=[N,z];if(he[0]=2*be[0]-he[0],he[1]=2*be[1]-he[1],G)return[he,le,ge].concat(Y);for(var U=[],oe=0,fe=(Y=[he,le,ge].concat(Y).join().split(",")).length;oe<fe;oe++)U[oe]=oe%2?W(Y[oe-1],Y[oe],Z).y:W(Y[oe],Y[oe+1],Z).x;return U}function g(j,C){for(var L=[],A=0,P=j.length;A<P-2*!C;A+=2){var R=[{x:+j[A-2],y:+j[A-1]},{x:+j[A],y:+j[A+1]},{x:+j[A+2],y:+j[A+3]},{x:+j[A+4],y:+j[A+5]}];C?A?P-4===A?R[3]={x:+j[0],y:+j[1]}:P-2===A&&(R[2]={x:+j[0],y:+j[1]},R[3]={x:+j[2],y:+j[3]}):R[0]={x:+j[P-2],y:+j[P-1]}:P-4===A?R[3]=R[2]:A||(R[0]={x:+j[A],y:+j[A+1]}),L.push(["C",(-R[0].x+6*R[1].x+R[2].x)/6,(-R[0].y+6*R[1].y+R[2].y)/6,(R[1].x+6*R[2].x-R[3].x)/6,(R[1].y+6*R[2].y-R[3].y)/6,R[2].x,R[2].y])}return L}function v(j,C,L,A){return[j,C,L,A,L,A]}function x(j,C,L,A,P,R){return[1/3*j+2/3*L,1/3*C+2/3*A,1/3*P+2/3*L,1/3*R+2/3*A,P,R]}function k(j,C,L,A,P,R,I,N,z){for(var G=(z=1<(z=z??1)?1:z<0?0:z)/2,W=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],H=0,Z=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],Y=0;Y<12;Y++){var M=G*W[Y]+G,Q=E(M,j,L,P,I),M=E(M,C,A,R,N);H+=Z[Y]*Math.sqrt(Q*Q+M*M)}return G*H}function E(j,C,L,A,P){return j*(j*(-3*C+9*L-9*A+3*P)+6*C-12*L+6*A)-3*C+3*L}d.default.Font=function(){function j(A){if(!(this instanceof j))throw new TypeError("Cannot call a class as a function");this.parent=A,this.cache={},this.font=void 0}var C,L;return C=j,(L=[{key:"textBounds",value:function(A){var P=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,R=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,G=3<arguments.length?arguments[3]:void 0,I=4<arguments.length?arguments[4]:void 0,N=I&&I.renderer&&I.renderer._pInst||this.parent,z=N._renderer.drawingContext,G=(z.textAlign||s.LEFT,z.textBaseline||s.BASELINE,G||N._renderer._textSize);if(!ne){for(var W=[],H=[],Z=[],Y=(Z[0]=[],[]),Q=this._scale(G),M=N._renderer.textLeading(),B=0,V=(this.font.forEachGlyph(A,P,R,G,I,function(he,le,ge,U){var oe=he.getMetrics();he.index===0?Z[B+=1]=[]:(Z[B].push(le+oe.xMin*Q),Z[B].push(le+oe.xMax*Q),Y.push(ge+B*M+-oe.yMin*Q),Y.push(ge+B*M+-oe.yMax*Q))}),0<Z[B].length&&(W[B]=Math.min.apply(null,Z[B]),H[B]=Math.max.apply(null,Z[B])),0),X=0;X<=B;X++){W[X]=Math.min.apply(null,Z[X]),H[X]=Math.max.apply(null,Z[X]);var re=H[X]-W[X];V<re&&(V=re)}var z=Math.min.apply(null,W),ne={x:z,y:R=Math.min.apply(null,Y),h:Math.max.apply(null,Y)-R,w:V,advance:z-P},G=this._handleAlignment(N._renderer,A,ne.x,ne.y,ne.w+ne.advance);ne.x=G.x,ne.y=G.y}return ne}},{key:"textToPoints",value:function(A,P,R,I,N){var z,G=P,W=[],H=this.parent,Z=A.split(/\r?\n|\r|\n/g);I=I||this.parent._renderer._textSize;for(var Y,Q,M,B=0;B<Z.length;B++){var V=0;P=G;for(var X=(X=Z[B]).replace("	","  "),re=this._getGlyphs(X),ne=0;ne<re.length;ne++){if(Q=X,!((M=re)[Y=ne].name&&M[Y].name==="space"||Q.length===M.length&&Q[Y]===" "))for(var ce=function(ge){for(var U,oe=[],fe=0;fe<ge.length;fe++)ge[fe].type==="M"&&(U&&oe.push(U),U=[]),U.push(function(te){var ee=[te.type];return te.type==="M"||te.type==="L"?ee.push(te.x,te.y):te.type==="C"?ee.push(te.x1,te.y1,te.x2,te.y2,te.x,te.y):te.type==="Q"&&ee.push(te.x1,te.y1,te.x,te.y),ee}(ge[fe]));return oe.push(U),oe}(re[ne].getPath(P,R,I).commands),be=0;be<ce.length;be++)for(var he=function(ge,U){for(var U=function(_e,Oe){if(y(_e)!=="object")_e=Oe;else for(var ue in Oe)_e[ue]===void 0&&(_e[ue]=Oe[ue]);return _e}(U,{sampleFactor:.1,simplifyThreshold:0}),oe=h(ge,0,1),fe=oe/(oe*U.sampleFactor),te=[],ee=0;ee<oe;ee+=fe)te.push(h(ge,ee));return U.simplifyThreshold&&function(ae){for(var _e=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,Oe=0,ue=ae.length-1;3<ae.length&&0<=ue;--ue)r(n(ae,ue-1),n(ae,ue),n(ae,ue+1),_e)&&(ae.splice(ue%ae.length,1),Oe++)}(te,U.simplifyThreshold),te}(ce[be],N),le=0;le<he.length;le++)he[le].x+=V,z=this._handleAlignment(H._renderer,X,he[le].x,he[le].y),he[le].x=z.x,he[le].y=z.y,W.push(he[le]);V+=re[ne].advanceWidth*this._scale(I)}R+=this.parent._renderer._textLeading}return W}},{key:"_getGlyphs",value:function(A){return this.font.stringToGlyphs(A)}},{key:"_getPath",value:function(A,z,R,I){var N=(I&&I.renderer&&I.renderer._pInst||this.parent)._renderer,z=this._handleAlignment(N,A,z,R);return this.font.getPath(A,z.x,z.y,N._textSize,I)}},{key:"_getPathData",value:function(A,P,R,I){var N=3;return typeof A=="string"&&2<arguments.length?A=this._getPath(A,P,R,I):y(P)==="object"&&(I=P),I&&typeof I.decimals=="number"&&(N=I.decimals),A.toPathData(N)}},{key:"_getSVG",value:function(A,P,R,I){var N=3;return typeof A=="string"&&2<arguments.length?A=this._getPath(A,P,R,I):y(P)==="object"&&(I=P),I&&(typeof I.decimals=="number"&&(N=I.decimals),typeof I.strokeWidth=="number"&&(A.strokeWidth=I.strokeWidth),I.fill!==void 0&&(A.fill=I.fill),I.stroke!==void 0&&(A.stroke=I.stroke)),A.toSVG(N)}},{key:"_renderPath",value:function(G,H,Z,I){var N=I&&I.renderer||this.parent._renderer,z=N.drawingContext,G=(y(G)==="object"&&G.commands?G:this._getPath(G,H,Z,I)).commands,W=(N._clipping||z.beginPath(),!0),H=!1,Z=void 0;try{for(var Y,Q=G[Symbol.iterator]();!(W=(Y=Q.next()).done);W=!0){var M=Y.value;M.type==="M"?z.moveTo(M.x,M.y):M.type==="L"?z.lineTo(M.x,M.y):M.type==="C"?z.bezierCurveTo(M.x1,M.y1,M.x2,M.y2,M.x,M.y):M.type==="Q"?z.quadraticCurveTo(M.x1,M.y1,M.x,M.y):M.type==="Z"&&z.closePath()}}catch(B){H=!0,Z=B}finally{try{W||Q.return==null||Q.return()}finally{if(H)throw Z}}return N._doStroke&&N._strokeSet&&!N._clipping&&z.stroke(),N._doFill&&!N._clipping&&(N._fillSet||N._setFill(s._DEFAULT_TEXT_FILL),z.fill()),this}},{key:"_textWidth",value:function(A,P){return this.font.getAdvanceWidth(A,P)}},{key:"_textAscent",value:function(A){return this.font.ascender*this._scale(A)}},{key:"_textDescent",value:function(A){return-this.font.descender*this._scale(A)}},{key:"_scale",value:function(A){return 1/this.font.unitsPerEm*(A||this.parent._renderer._textSize)}},{key:"_handleAlignment",value:function(A,P,R,I,N){var z=A._textSize;switch(N===void 0&&(N=this._textWidth(P,z)),A._textAlign){case s.CENTER:R-=N/2;break;case s.RIGHT:R-=N}switch(A._textBaseline){case s.TOP:I+=this._textAscent(z);break;case s.CENTER:I+=this._textAscent(z)/2;break;case s.BOTTOM:I-=this._textDescent(z)}return{x:R,y:I}}}])&&m(C.prototype,L),j}(),t=d.default,b.default=t},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],322:[function(t,S,b){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.object.to-string"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.append=function(o,d){return o.push(d),o},t.default.prototype.arrayCopy=function(o,d,s,p,y){var m,n;o=y!==void 0?(n=Math.min(y,o.length),m=p,o.slice(d,n+d)):(n=s!==void 0?(n=s,Math.min(n,o.length)):o.length,s=d,o.slice(m=0,n)),Array.prototype.splice.apply(s,[m,n].concat(o))},t.default.prototype.concat=function(o,d){return o.concat(d)},t.default.prototype.reverse=function(o){return o.reverse()},t.default.prototype.shorten=function(o){return o.pop(),o},t.default.prototype.shuffle=function(o,d){for(var s,p,y=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(o),m=(o=d||y?o:o.slice()).length;1<m;)s=this.random(0,1)*m|0,p=o[--m],o[m]=o[s],o[s]=p;return o},t.default.prototype.sort=function(o,p){var s=p?o.slice(0,Math.min(p,o.length)):o,p=p?o.slice(Math.min(p,o.length)):[];return(s=typeof s[0]=="string"?s.sort():s.sort(function(y,m){return y-m})).concat(p)},t.default.prototype.splice=function(o,d,s){return Array.prototype.splice.apply(o,[s,0].concat(d)),o},t.default.prototype.subset=function(o,d,s){return s!==void 0?o.slice(d,d+s):o.slice(d,o.length)},t=t.default,b.default=t},{"../core/main":283,"core-js/modules/es.array-buffer.constructor":152,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.to-string":190}],323:[function(t,S,b){t("core-js/modules/es.array.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.repeat"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.repeat"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var o=(t=t("../core/main"))&&t.__esModule?t:{default:t};o.default.prototype.float=function(d){return d instanceof Array?d.map(parseFloat):parseFloat(d)},o.default.prototype.int=function(d){var s=1<arguments.length&&arguments[1]!==void 0?arguments[1]:10;return d===1/0||d==="Infinity"?1/0:d===-1/0||d==="-Infinity"?-1/0:typeof d=="string"?parseInt(d,s):typeof d=="number"?0|d:typeof d=="boolean"?d?1:0:d instanceof Array?d.map(function(p){return o.default.prototype.int(p,s)}):void 0},o.default.prototype.str=function(d){return d instanceof Array?d.map(o.default.prototype.str):String(d)},o.default.prototype.boolean=function(d){return typeof d=="number"?d!==0:typeof d=="string"?d.toLowerCase()==="true":typeof d=="boolean"?d:d instanceof Array?d.map(o.default.prototype.boolean):void 0},o.default.prototype.byte=function(d){return d=o.default.prototype.int(d,10),typeof d=="number"?(d+128)%256-128:d instanceof Array?d.map(o.default.prototype.byte):void 0},o.default.prototype.char=function(d){return typeof d!="number"||isNaN(d)?d instanceof Array?d.map(o.default.prototype.char):typeof d=="string"?o.default.prototype.char(parseInt(d,10)):void 0:String.fromCharCode(d)},o.default.prototype.unchar=function(d){return typeof d=="string"&&d.length===1?d.charCodeAt(0):d instanceof Array?d.map(o.default.prototype.unchar):void 0},o.default.prototype.hex=function(d,s){if(s=s??8,d instanceof Array)return d.map(function(y){return o.default.prototype.hex(y,s)});if(d===1/0||d===-1/0)return(d===1/0?"F":"0").repeat(s);if(typeof d=="number"){d<0&&(d=4294967295+d+1);for(var p=Number(d).toString(16).toUpperCase();p.length<s;)p="0".concat(p);return p=p.length>=s?p.substring(p.length-s,p.length):p}},o.default.prototype.unhex=function(d){return d instanceof Array?d.map(o.default.prototype.unhex):parseInt("0x".concat(d),16)},t=o.default,b.default=t},{"../core/main":283,"core-js/modules/es.array.map":168,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.repeat":203}],324:[function(t,S,b){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.pad-start"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.pad-start"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var o=(n=t("../core/main"))&&n.__esModule?n:{default:n};function d(r,c){return function(a){if(Array.isArray(a))return a}(r)||function(a,h){if(Symbol.iterator in Object(a)||Object.prototype.toString.call(a)==="[object Arguments]"){var u=[],l=!0,g=!1,v=void 0;try{for(var x,k=a[Symbol.iterator]();!(l=(x=k.next()).done)&&(u.push(x.value),!h||u.length!==h);l=!0);}catch(E){g=!0,v=E}finally{try{l||k.return==null||k.return()}finally{if(g)throw v}}return u}}(r,c)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function s(r,c,a){var h,u=r<0,g=d((r=Math.abs(r)).toString().split("."),2),l=g[0],g=g[1];return a===void 0?(l=l.padStart(c,"0"),h=g?l+"."+g:l,u?"-"+h:h):(l=(h=d(r.toFixed(a).toString().split("."),2))[0],g=h[1],l=l.padStart(c,"0"),r=g===void 0?l:l+"."+g,u?"-"+r:r)}function p(u,c){var a=(u=u.toString()).indexOf("."),h=a!==-1?u.substring(a):"",u=(u=a!==-1?u.substring(0,a):u).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");if(c===0)h="";else if(c!==void 0)if(c>h.length)for(var l=c-(h+=a===-1?".":"").length+1,g=0;g<l;g++)h+="0";else h=h.substring(0,c+1);return u+h}function y(r){return 0<parseFloat(r)?"+".concat(r.toString()):r.toString()}function m(r){return 0<=parseFloat(r)?" ".concat(r.toString()):r.toString()}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),o.default.prototype.join=function(r,c){return o.default._validateParameters("join",arguments),r.join(c)},o.default.prototype.match=function(r,c){return o.default._validateParameters("match",arguments),r.match(c)},o.default.prototype.matchAll=function(r,c){o.default._validateParameters("matchAll",arguments);for(var a=new RegExp(c,"g"),h=a.exec(r),u=[];h!==null;)u.push(h),h=a.exec(r);return u},o.default.prototype.nf=function(r,c,a){return o.default._validateParameters("nf",arguments),r instanceof Array?r.map(function(h){return s(h,c,a)}):Object.prototype.toString.call(r)==="[object Arguments]"?r.length===3?this.nf(r[0],r[1],r[2]):r.length===2?this.nf(r[0],r[1]):this.nf(r[0]):s(r,c,a)},o.default.prototype.nfc=function(r,c){return o.default._validateParameters("nfc",arguments),r instanceof Array?r.map(function(a){return p(a,c)}):p(r,c)},o.default.prototype.nfp=function(){for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];o.default._validateParameters("nfp",c);var h=o.default.prototype.nf.apply(this,c);return h instanceof Array?h.map(y):y(h)},o.default.prototype.nfs=function(){for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];o.default._validateParameters("nfs",c);var h=o.default.prototype.nf.apply(this,c);return h instanceof Array?h.map(m):m(h)},o.default.prototype.split=function(r,c){return o.default._validateParameters("split",arguments),r.split(c)},o.default.prototype.splitTokens=function(r,c){var a,h;return o.default._validateParameters("splitTokens",arguments),h=c!==void 0?(h=/\]/g.exec(c=c),(a=/\[/g.exec(c))&&h?(c=c.slice(0,h.index)+c.slice(h.index+1),a=/\[/g.exec(c),c=c.slice(0,a.index)+c.slice(a.index+1),new RegExp("[\\[".concat(c,"\\]]"),"g")):h?(c=c.slice(0,h.index)+c.slice(h.index+1),new RegExp("[".concat(c,"\\]]"),"g")):a?(c=c.slice(0,a.index)+c.slice(a.index+1),new RegExp("[".concat(c,"\\[]"),"g")):new RegExp("[".concat(c,"]"),"g")):/\s/g,r.split(h).filter(function(u){return u})},o.default.prototype.trim=function(r){return o.default._validateParameters("trim",arguments),r instanceof Array?r.map(this.trim):r.trim()};var n=o.default;b.default=n},{"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.pad-start":202,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],325:[function(t,S,b){Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.day=function(){return new Date().getDate()},t.default.prototype.hour=function(){return new Date().getHours()},t.default.prototype.minute=function(){return new Date().getMinutes()},t.default.prototype.millis=function(){return this._millisStart===-1?0:window.performance.now()-this._millisStart},t.default.prototype.month=function(){return new Date().getMonth()+1},t.default.prototype.second=function(){return new Date().getSeconds()},t.default.prototype.year=function(){return new Date().getFullYear()},t=t.default,b.default=t},{"../core/main":283}],326:[function(t,S,b){function o(r){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(r)}function d(r){return(d=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(c){return o(c)}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":o(c)})(r)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var s=(n=t("../core/main"))&&n.__esModule?n:{default:n},p=(t("./p5.Geometry"),function(r){if(r&&r.__esModule)return r;if(r===null||d(r)!=="object"&&typeof r!="function")return{default:r};var c=y();if(c&&c.has(r))return c.get(r);var a,h={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in r){var l;Object.prototype.hasOwnProperty.call(r,a)&&((l=u?Object.getOwnPropertyDescriptor(r,a):null)&&(l.get||l.set)?Object.defineProperty(h,a,l):h[a]=r[a])}return h.default=r,c&&c.set(r,h),h}(t("../core/constants")));function y(){var r;return typeof WeakMap!="function"?null:(r=new WeakMap,y=function(){return r},r)}s.default.prototype.beginGeometry=function(){return this._renderer.beginGeometry()},s.default.prototype.endGeometry=function(){return this._renderer.endGeometry()},s.default.prototype.buildGeometry=function(r){return this._renderer.buildGeometry(r)},s.default.prototype.freeGeometry=function(r){this._renderer._freeBuffers(r.gid)},s.default.prototype.plane=function(){var r,c=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,a=1<arguments.length&&arguments[1]!==void 0?arguments[1]:c,h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:1,u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,l=(this._assert3d("plane"),s.default._validateParameters("plane",arguments),"plane|".concat(h,"|").concat(u));return this._renderer.geometryInHash(l)||((r=new s.default.Geometry(h,u,function(){for(var g,v,x=0;x<=this.detailY;x++)for(var k=x/this.detailY,E=0;E<=this.detailX;E++)g=E/this.detailX,v=new s.default.Vector(g-.5,k-.5,0),this.vertices.push(v),this.uvs.push(g,k)})).computeFaces().computeNormals(),h<=1&&u<=1?r._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),this._renderer.createBuffers(l,r)),this._renderer.drawBuffersScaled(l,c,a,1),this},s.default.prototype.box=function(r,c,a,h,u){this._assert3d("box"),s.default._validateParameters("box",arguments),r===void 0&&(r=50),c===void 0&&(c=r),a===void 0&&(a=c);var l,g=this._renderer.attributes&&this._renderer.attributes.perPixelLighting,g=(u===void 0&&(u=g?1:4),"box|".concat(h=h===void 0?g?1:4:h,"|").concat(u));return this._renderer.geometryInHash(g)||((l=new s.default.Geometry(h,u,function(){var v=this;this.edges=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]],[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]].forEach(function(x,k){for(var k=4*k,E=0;E<4;E++){var j=x[E],j=new s.default.Vector((2*(1&j)-1)/2,((2&j)-1)/2,((4&j)/2-1)/2);v.vertices.push(j),v.uvs.push(1&E,(2&E)/2)}v.faces.push([k,1+k,2+k]),v.faces.push([2+k,1+k,3+k])})})).computeNormals(),h<=4&&u<=4?l._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),this._renderer.createBuffers(g,l)),this._renderer.drawBuffersScaled(g,r,c,a),this},s.default.prototype.sphere=function(){var r=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,c=1<arguments.length&&arguments[1]!==void 0?arguments[1]:24,a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:16;return this._assert3d("sphere"),s.default._validateParameters("sphere",arguments),this.ellipsoid(r,r,r,c,a),this};function m(r,c,a,h,u,l,g){r=r<=0?1:r,c=c<0?0:c,a=a<=0?r:a,h=h<3?3:h;for(var v,x,k=(l=l===void 0||l)?-2:0,E=(u=u<1?1:u)+((g=g===void 0?c!==0:g)?2:0),j=Math.atan2(r-c,a),C=Math.sin(j),L=Math.cos(j),A=k;A<=E;++A){var P=A/u,R=a*P,I=void 0,I=A<0?(P=R=0,r):u<A?(R=a,P=1,c):r+(c-r)*P;for(A!==-2&&A!==u+2||(I=0),R-=a/2,v=0;v<h;++v){var N=v/(h-1),G=2*Math.PI*N,z=Math.sin(G),G=Math.cos(G),W=(this.vertices.push(new s.default.Vector(z*I,R,G*I)),void 0),W=A<0?new s.default.Vector(0,-1,0):u<A&&c?new s.default.Vector(0,1,0):new s.default.Vector(z*L,C,G*L);this.vertexNormals.push(W),this.uvs.push(N,P)}}var H=0;if(l){for(x=0;x<h;++x)this.faces.push([H+x,H+h+(x+1)%h,H+h+x]);H+=2*h}for(A=0;A<u;++A){for(v=0;v<h;++v){var Z=(v+1)%h;this.faces.push([H+v,H+Z,H+h+Z]),this.faces.push([H+v,H+h+Z,H+h+v])}H+=h}if(g)for(H+=h,v=0;v<h;++v)this.faces.push([H+v,H+(v+1)%h,H+h])}s.default.prototype.cylinder=function(){var r,c=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,a=1<arguments.length&&arguments[1]!==void 0?arguments[1]:c,h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:24,u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,l=!(4<arguments.length&&arguments[4]!==void 0)||arguments[4],g=!(5<arguments.length&&arguments[5]!==void 0)||arguments[5],v=(this._assert3d("cylinder"),s.default._validateParameters("cylinder",arguments),"cylinder|".concat(h,"|").concat(u,"|").concat(l,"|").concat(g));return this._renderer.geometryInHash(v)||(r=new s.default.Geometry(h,u),m.call(r,1,1,1,h,u,l,g),h<=24&&u<=16?r._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(v,r)),this._renderer.drawBuffersScaled(v,c,a,c),this},s.default.prototype.cone=function(){var r,c=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,a=1<arguments.length&&arguments[1]!==void 0?arguments[1]:c,h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:24,u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,l=!(4<arguments.length&&arguments[4]!==void 0)||arguments[4],g=(this._assert3d("cone"),s.default._validateParameters("cone",arguments),"cone|".concat(h,"|").concat(u,"|").concat(l));return this._renderer.geometryInHash(g)||(r=new s.default.Geometry(h,u),m.call(r,1,0,1,h,u,l,!1),h<=24&&u<=16?r._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(g,r)),this._renderer.drawBuffersScaled(g,c,a,c),this},s.default.prototype.ellipsoid=function(){var r,c=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,a=1<arguments.length&&arguments[1]!==void 0?arguments[1]:c,h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:c,u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:24,l=4<arguments.length&&arguments[4]!==void 0?arguments[4]:16,g=(this._assert3d("ellipsoid"),s.default._validateParameters("ellipsoid",arguments),"ellipsoid|".concat(u,"|").concat(l));return this._renderer.geometryInHash(g)||((r=new s.default.Geometry(u,l,function(){for(var v=0;v<=this.detailY;v++)for(var x=v/this.detailY,k=Math.PI*x-Math.PI/2,E=Math.cos(k),j=Math.sin(k),C=0;C<=this.detailX;C++){var L=C/this.detailX,P=2*Math.PI*L,A=Math.cos(P),P=Math.sin(P),P=new s.default.Vector(E*P,j,E*A);this.vertices.push(P),this.vertexNormals.push(P),this.uvs.push(L,x)}})).computeFaces(),u<=24&&l<=24?r._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),this._renderer.createBuffers(g,r)),this._renderer.drawBuffersScaled(g,c,a,h),this},s.default.prototype.torus=function(r,g,a,h){if(this._assert3d("torus"),s.default._validateParameters("torus",arguments),r===void 0)r=50;else if(!r)return;if(g===void 0)g=10;else if(!g)return;a===void 0&&(a=24),h===void 0&&(h=16);var u,l=(g/r).toPrecision(4),g="torus|".concat(l,"|").concat(a,"|").concat(h);return this._renderer.geometryInHash(g)||((u=new s.default.Geometry(a,h,function(){for(var v=0;v<=this.detailY;v++)for(var x=v/this.detailY,k=2*Math.PI*x,E=Math.cos(k),j=Math.sin(k),C=1+l*E,L=0;L<=this.detailX;L++){var A=L/this.detailX,P=2*Math.PI*A,I=Math.cos(P),P=Math.sin(P),R=new s.default.Vector(C*I,C*P,l*j),I=new s.default.Vector(E*I,E*P,j);this.vertices.push(R),this.vertexNormals.push(I),this.uvs.push(A,x)}})).computeFaces(),a<=24&&h<=16?u._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(g,u)),this._renderer.drawBuffersScaled(g,r,r,r),this},s.default.RendererGL.prototype.point=function(r,c){var a=[];return a.push(new s.default.Vector(r,c,2<arguments.length&&arguments[2]!==void 0?arguments[2]:0)),this._drawPoints(a,this.immediateMode.buffers.point),this},s.default.RendererGL.prototype.triangle=function(g){var c=g[0],a=g[1],h=g[2],u=g[3],l=g[4],g=g[5],v=(this.geometryInHash("tri")||((v=new s.default.Geometry(1,1,function(){var E=[];E.push(new s.default.Vector(0,0,0)),E.push(new s.default.Vector(1,0,0)),E.push(new s.default.Vector(0,1,0)),this.edges=[[0,1],[1,2],[2,0]],this.vertices=E,this.faces=[[0,1,2]],this.uvs=[0,0,1,0,1,1]}))._edgesToVertices(),v.computeNormals(),this.createBuffers("tri",v)),this.uModelMatrix.copy());try{var x=Math.sign(c*u-h*a+h*g-l*u+l*a-c*g),k=new s.default.Matrix([h-c,u-a,0,0,l-c,g-a,0,0,0,0,x,0,c,a,0,1]).mult(this.uModelMatrix);this.uModelMatrix=k,this.drawBuffers("tri")}finally{this.uModelMatrix=v}return this},s.default.RendererGL.prototype.ellipse=function(r){this.arc(r[0],r[1],r[2],r[3],0,p.TWO_PI,p.OPEN,r[4])},s.default.RendererGL.prototype.arc=function(){var r,c=arguments.length<=0?void 0:arguments[0],a=arguments.length<=1?void 0:arguments[1],h=arguments.length<=2?void 0:arguments[2],u=arguments.length<=3?void 0:arguments[3],l=arguments.length<=4?void 0:arguments[4],g=arguments.length<=5?void 0:arguments[5],v=arguments.length<=6?void 0:arguments[6],x=(arguments.length<=7?void 0:arguments[7])||25,k=(Math.abs(g-l)>=p.TWO_PI?"".concat(E="ellipse","|"):"".concat(E="arc","|").concat(l,"|").concat(g,"|").concat(v,"|")).concat(x,"|"),E=(this.geometryInHash(k)||((r=new s.default.Geometry(x,1,function(){if(l.toFixed(10)!==g.toFixed(10)){v!==p.PIE&&v!==void 0||(this.vertices.push(new s.default.Vector(.5,.5,0)),this.uvs.push([.5,.5]));for(var j=0;j<=x;j++){var L=(g-l)*(j/x)+l,C=.5+Math.cos(L)/2,L=.5+Math.sin(L)/2;this.vertices.push(new s.default.Vector(C,L,0)),this.uvs.push([C,L]),j<x-1&&(this.faces.push([0,j+1,j+2]),this.edges.push([j+1,j+2]))}switch(v){case p.PIE:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,1]),this.edges.push([this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,this.vertices.length-1]);break;case p.CHORD:this.edges.push([0,1]),this.edges.push([0,this.vertices.length-1]);break;case p.OPEN:this.edges.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([this.vertices.length-2,this.vertices.length-1])}}})).computeNormals(),x<=50?r._edgesToVertices(r):this._doStroke&&console.log("Cannot apply a stroke to an ".concat(E," with more than 50 detail")),this.createBuffers(k,r)),this.uModelMatrix.copy());try{this.uModelMatrix.translate([c,a,0]),this.uModelMatrix.scale(h,u,1),this.drawBuffers(k)}finally{this.uModelMatrix=E}return this},s.default.RendererGL.prototype.rect=function(r){var c=r[0],a=r[1],h=r[2],u=r[3];if(r[4]===void 0){var v=this._pInst._glAttributes.perPixelLighting,l=r[4]||(v?1:24),g=r[5]||(v?1:16),v="rect|".concat(l,"|").concat(g),x=(this.geometryInHash(v)||((x=new s.default.Geometry(l,g,function(){for(var W=0;W<=this.detailY;W++)for(var H=W/this.detailY,Z=0;Z<=this.detailX;Z++){var Y=Z/this.detailX,Q=new s.default.Vector(Y,H,0);this.vertices.push(Q),this.uvs.push(Y,H)}0<l&&0<g&&(this.edges=[[0,l],[l,(l+1)*(g+1)-1],[(l+1)*(g+1)-1,(l+1)*g],[(l+1)*g,0]])})).computeFaces().computeNormals()._edgesToVertices(),this.createBuffers(v,x)),this.uModelMatrix.copy());try{this.uModelMatrix.translate([c,a,0]),this.uModelMatrix.scale(h,u,1),this.drawBuffers(v)}finally{this.uModelMatrix=x}}else{var v=r[4],x=r[5]===void 0?v:r[5],k=r[6]===void 0?x:r[6],r=r[7]===void 0?k:r[7],P=h,E=u,L=((P+=c)<c&&(L=c,c=P,P=L),(E+=a)<a&&(L=a,a=E,E=L),Math.min((P-c)/2,(E-a)/2)),j=(L<v&&(v=L),L<x&&(x=L),L<k&&(k=L),L<r&&(r=L),c),C=a,L=P,c=E,A=(this.beginShape(),x!==0?(this.vertex(L-x,C),this.quadraticVertex(L,C,L,C+x)):this.vertex(L,C),k!==0?(this.vertex(L,c-k),this.quadraticVertex(L,c,L-k,c)):this.vertex(L,c),r!==0?(this.vertex(j+r,c),this.quadraticVertex(j,c,j,c-r)):this.vertex(j,c),v!==0?(this.vertex(j,C+v),this.quadraticVertex(j,C,j+v,C)):this.vertex(j,C),!(this.immediateMode.geometry.uvs.length=0)),a=!1,P=void 0;try{for(var R,I=this.immediateMode.geometry.vertices[Symbol.iterator]();!(A=(R=I.next()).done);A=!0){var N=R.value,z=(N.x-j)/h,G=(N.y-C)/u;this.immediateMode.geometry.uvs.push(z,G)}}catch(M){a=!0,P=M}finally{try{A||I.return==null||I.return()}finally{if(a)throw P}}this.endShape(p.CLOSE)}return this},s.default.RendererGL.prototype.quad=function(r,c,a,h,u,l,g,v,x,k,E,j){var C=12<arguments.length&&arguments[12]!==void 0?arguments[12]:2,L=13<arguments.length&&arguments[13]!==void 0?arguments[13]:2,A="quad|".concat(r,"|").concat(c,"|").concat(a,"|").concat(h,"|").concat(u,"|").concat(l,"|").concat(g,"|").concat(v,"|").concat(x,"|").concat(k,"|").concat(E,"|").concat(j,"|").concat(C,"|").concat(L);if(!this.geometryInHash(A)){var P=new s.default.Geometry(C,L,function(){for(var Z=1/(this.detailX-1),Y=1/(this.detailY-1),Q=0;Q<this.detailY;Q++)for(var M=0;M<this.detailX;M++){var B=M*Z,V=Q*Y;this.vertices.push(new s.default.Vector((1-B)*((1-V)*r+V*k)+B*((1-V)*h+V*g),(1-B)*((1-V)*c+V*E)+B*((1-V)*u+V*v),(1-B)*((1-V)*a+V*j)+B*((1-V)*l+V*x))),this.uvs.push([B,V])}});P.faces=[];for(var R=0;R<L-1;R++)for(var I=0;I<C-1;I++){var N=I+R*C,z=I+1+(R+1)*C,G=I+(R+1)*C;P.faces.push([N,I+1+R*C,z]),P.faces.push([N,z,G])}P.computeNormals();for(var W=[P.edges.length=0,2,3,1],H=0;H<W.length;H++)P.edges.push([W[H],W[(H+1)%W.length]]);P._edgesToVertices(),this.createBuffers(A,P)}return this.drawBuffers(A),this},s.default.RendererGL.prototype.bezier=function(r,c,a,h,u,l,g,v,x,k,E,j){arguments.length===8&&(E=v,k=g,v=l,g=u,u=h,h=a,a=l=x=j=0);var C=this._pInst._bezierDetail||20;this.beginShape();for(var L=0;L<=C;L++){var A=Math.pow(1-L/C,3),P=L/C*3*Math.pow(1-L/C,2),R=3*Math.pow(L/C,2)*(1-L/C),I=Math.pow(L/C,3);this.vertex(r*A+h*P+g*R+k*I,c*A+u*P+v*R+E*I,a*A+l*P+x*R+j*I)}return this.endShape(),this},s.default.RendererGL.prototype.curve=function(r,c,a,h,u,l,g,v,x,k,E,j){arguments.length===8&&(k=g,E=v,g=u,v=h,u=h=a,a=l=x=j=0);var C=this._pInst._curveDetail;this.beginShape();for(var L=0;L<=C;L++){var A=.5*Math.pow(L/C,3),P=.5*Math.pow(L/C,2),R=L/C*.5;this.vertex(A*(3*h-r-3*g+k)+P*(2*r-5*h+4*g-k)+R*(-r+g)+2*h*.5,A*(3*u-c-3*v+E)+P*(2*c-5*u+4*v-E)+R*(-c+v)+2*u*.5,A*(3*l-a-3*x+j)+P*(2*a-5*l+4*x-j)+R*(-a+x)+2*l*.5)}return this.endShape(),this},s.default.RendererGL.prototype.line=function(){return arguments.length===6?(this.beginShape(p.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]),this.vertex(arguments.length<=3?void 0:arguments[3],arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5]),this.endShape()):arguments.length===4&&(this.beginShape(p.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],0),this.vertex(arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],0),this.endShape()),this},s.default.RendererGL.prototype.bezierVertex=function(){if(this.immediateMode._bezierVertex.length===0)throw Error("vertex() must be used once before calling bezierVertex()");var r,c,a,h,u,l,g=[],v=[],x=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var k=1/this._lutBezierDetail,E=k,j=1,C=0;E<1;){if(l=parseFloat(E.toFixed(6)),this._lookUpTableBezier[C]=this._bezierCoefficients(l),j.toFixed(6)===k.toFixed(6)){l=parseFloat(j.toFixed(6))+parseFloat(E.toFixed(6)),++C,this._lookUpTableBezier[C]=this._bezierCoefficients(l);break}E+=k,j-=k,++C}}for(var L=this._lookUpTableBezier.length,A=[],P=0;P<4;P++)A.push([]);A[0]=this.immediateMode.geometry.vertexColors.slice(-4),A[3]=this.curFillColor.slice();var R=[];for(P=0;P<4;P++)R.push([]);if(R[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),R[3]=this.curStrokeColor.slice(),x===6){this.isBezier=!0;var g=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2],arguments.length<=4?void 0:arguments[4]],v=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3],arguments.length<=5?void 0:arguments[5]],I=Math.hypot(g[0]-g[1],v[0]-v[1]),z=Math.hypot(g[1]-g[2],v[1]-v[2]),N=Math.hypot(g[2]-g[3],v[2]-v[3]),z=I+z+N;for(I/=z,N/=z,u=0;u<4;u++)A[1].push(A[0][u]*(1-I)+A[3][u]*I),A[2].push(A[0][u]*N+A[3][u]*(1-N)),R[1].push(R[0][u]*(1-I)+R[3][u]*I),R[2].push(R[0][u]*N+R[3][u]*(1-N));for(h=0;h<L;h++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],P=r=c=0;P<4;P++){for(u=0;u<4;u++)this.curFillColor[u]+=this._lookUpTableBezier[h][P]*A[P][u],this.curStrokeColor[u]+=this._lookUpTableBezier[h][P]*R[P][u];r+=g[P]*this._lookUpTableBezier[h][P],c+=v[P]*this._lookUpTableBezier[h][P]}this.vertex(r,c)}this.curFillColor=A[3],this.curStrokeColor=R[3],this.immediateMode._bezierVertex[0]=arguments.length<=4?void 0:arguments[4],this.immediateMode._bezierVertex[1]=arguments.length<=5?void 0:arguments[5]}else if(x===9){this.isBezier=!0,g=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3],arguments.length<=6?void 0:arguments[6]],v=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4],arguments.length<=7?void 0:arguments[7]];var G=[this.immediateMode._bezierVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5],arguments.length<=8?void 0:arguments[8]],W=Math.hypot(g[0]-g[1],v[0]-v[1],G[0]-G[1]),z=Math.hypot(g[1]-g[2],v[1]-v[2],G[1]-G[2]),H=Math.hypot(g[2]-g[3],v[2]-v[3],G[2]-G[3]),x=W+z+H;for(W/=x,H/=x,u=0;u<4;u++)A[1].push(A[0][u]*(1-W)+A[3][u]*W),A[2].push(A[0][u]*H+A[3][u]*(1-H)),R[1].push(R[0][u]*(1-W)+R[3][u]*W),R[2].push(R[0][u]*H+R[3][u]*(1-H));for(h=0;h<L;h++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],P=r=c=a=0;P<4;P++){for(u=0;u<4;u++)this.curFillColor[u]+=this._lookUpTableBezier[h][P]*A[P][u],this.curStrokeColor[u]+=this._lookUpTableBezier[h][P]*R[P][u];r+=g[P]*this._lookUpTableBezier[h][P],c+=v[P]*this._lookUpTableBezier[h][P],a+=G[P]*this._lookUpTableBezier[h][P]}this.vertex(r,c,a)}this.curFillColor=A[3],this.curStrokeColor=R[3],this.immediateMode._bezierVertex[0]=arguments.length<=6?void 0:arguments[6],this.immediateMode._bezierVertex[1]=arguments.length<=7?void 0:arguments[7],this.immediateMode._bezierVertex[2]=arguments.length<=8?void 0:arguments[8]}},s.default.RendererGL.prototype.quadraticVertex=function(){if(this.immediateMode._quadraticVertex.length===0)throw Error("vertex() must be used once before calling quadraticVertex()");var r,c,a,h,u,l,g=[],v=[],x=arguments.length;if(this._lookUpTableQuadratic.length===0||this._lutQuadraticDetail!==this._pInst._curveDetail){this._lookUpTableQuadratic=[],this._lutQuadraticDetail=this._pInst._curveDetail;for(var k=1/this._lutQuadraticDetail,E=k,j=1,C=0;E<1;){if(l=parseFloat(E.toFixed(6)),this._lookUpTableQuadratic[C]=this._quadraticCoefficients(l),j.toFixed(6)===k.toFixed(6)){l=parseFloat(j.toFixed(6))+parseFloat(E.toFixed(6)),++C,this._lookUpTableQuadratic[C]=this._quadraticCoefficients(l);break}E+=k,j-=k,++C}}for(var L=this._lookUpTableQuadratic.length,A=[],P=0;P<3;P++)A.push([]);A[0]=this.immediateMode.geometry.vertexColors.slice(-4),A[2]=this.curFillColor.slice();var R=[];for(P=0;P<3;P++)R.push([]);if(R[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),R[2]=this.curStrokeColor.slice(),x===4){this.isQuadratic=!0;var g=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2]],v=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3]],I=Math.hypot(g[0]-g[1],v[0]-v[1]);for(I/=I+Math.hypot(g[1]-g[2],v[1]-v[2]),u=0;u<4;u++)A[1].push(A[0][u]*(1-I)+A[2][u]*I),R[1].push(R[0][u]*(1-I)+R[2][u]*I);for(h=0;h<L;h++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],P=r=c=0;P<3;P++){for(u=0;u<4;u++)this.curFillColor[u]+=this._lookUpTableQuadratic[h][P]*A[P][u],this.curStrokeColor[u]+=this._lookUpTableQuadratic[h][P]*R[P][u];r+=g[P]*this._lookUpTableQuadratic[h][P],c+=v[P]*this._lookUpTableQuadratic[h][P]}this.vertex(r,c)}this.curFillColor=A[2],this.curStrokeColor=R[2],this.immediateMode._quadraticVertex[0]=arguments.length<=2?void 0:arguments[2],this.immediateMode._quadraticVertex[1]=arguments.length<=3?void 0:arguments[3]}else if(x===6){this.isQuadratic=!0,g=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3]],v=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4]];var N=[this.immediateMode._quadraticVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5]],z=Math.hypot(g[0]-g[1],v[0]-v[1],N[0]-N[1]);for(z/=z+Math.hypot(g[1]-g[2],v[1]-v[2],N[1]-N[2]),u=0;u<4;u++)A[1].push(A[0][u]*(1-z)+A[2][u]*z),R[1].push(R[0][u]*(1-z)+R[2][u]*z);for(h=0;h<L;h++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],P=r=c=a=0;P<3;P++){for(u=0;u<4;u++)this.curFillColor[u]+=this._lookUpTableQuadratic[h][P]*A[P][u],this.curStrokeColor[u]+=this._lookUpTableQuadratic[h][P]*R[P][u];r+=g[P]*this._lookUpTableQuadratic[h][P],c+=v[P]*this._lookUpTableQuadratic[h][P],a+=N[P]*this._lookUpTableQuadratic[h][P]}this.vertex(r,c,a)}this.curFillColor=A[2],this.curStrokeColor=R[2],this.immediateMode._quadraticVertex[0]=arguments.length<=3?void 0:arguments[3],this.immediateMode._quadraticVertex[1]=arguments.length<=4?void 0:arguments[4],this.immediateMode._quadraticVertex[2]=arguments.length<=5?void 0:arguments[5]}},s.default.RendererGL.prototype.curveVertex=function(){var r,c,a,h,u,l,g=[],v=[],x=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var k=1/this._lutBezierDetail,E=k,j=1,C=0;E<1;){if(l=parseFloat(E.toFixed(6)),this._lookUpTableBezier[C]=this._bezierCoefficients(l),j.toFixed(6)===k.toFixed(6)){l=parseFloat(j.toFixed(6))+parseFloat(E.toFixed(6)),++C,this._lookUpTableBezier[C]=this._bezierCoefficients(l);break}E+=k,j-=k,++C}}var L=this._lookUpTableBezier.length;if(x===2){if(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.length===8){for(this.isCurve=!0,g=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[6]]),v=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[7]]),u=0;u<L;u++)c=g[0]*this._lookUpTableBezier[u][0]+g[1]*this._lookUpTableBezier[u][1]+g[2]*this._lookUpTableBezier[u][2]+g[3]*this._lookUpTableBezier[u][3],a=v[0]*this._lookUpTableBezier[u][0]+v[1]*this._lookUpTableBezier[u][1]+v[2]*this._lookUpTableBezier[u][2]+v[3]*this._lookUpTableBezier[u][3],this.vertex(c,a);for(u=0;u<x;u++)this.immediateMode._curveVertex.shift()}}else if(x===3&&(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.push(arguments.length<=2?void 0:arguments[2]),this.immediateMode._curveVertex.length===12)){for(this.isCurve=!0,g=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[6],this.immediateMode._curveVertex[9]]),v=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[7],this.immediateMode._curveVertex[10]]),r=this._bezierToCatmull([this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[8],this.immediateMode._curveVertex[11]]),u=0;u<L;u++)c=g[0]*this._lookUpTableBezier[u][0]+g[1]*this._lookUpTableBezier[u][1]+g[2]*this._lookUpTableBezier[u][2]+g[3]*this._lookUpTableBezier[u][3],a=v[0]*this._lookUpTableBezier[u][0]+v[1]*this._lookUpTableBezier[u][1]+v[2]*this._lookUpTableBezier[u][2]+v[3]*this._lookUpTableBezier[u][3],h=r[0]*this._lookUpTableBezier[u][0]+r[1]*this._lookUpTableBezier[u][1]+r[2]*this._lookUpTableBezier[u][2]+r[3]*this._lookUpTableBezier[u][3],this.vertex(c,a,h);for(u=0;u<x;u++)this.immediateMode._curveVertex.shift()}},s.default.RendererGL.prototype.image=function(r,j,a,C,u,l,g,v,x){this._isErasing&&this.blendMode(this._cachedBlendMode),this._pInst.push(),this._pInst.noLights(),this._pInst.noStroke(),this._pInst.texture(r),this._pInst.textureMode(p.NORMAL);var k=0,E=(j<=r.width&&(k=j/r.width),1),j=(j+C<=r.width&&(E=(j+C)/r.width),0),C=(a<=r.height&&(j=a/r.height),1);a+u<=r.height&&(C=(a+u)/r.height),this.beginShape(),this.vertex(l,g,0,k,j),this.vertex(l+v,g,0,E,j),this.vertex(l+v,g+x,0,E,C),this.vertex(l,g+x,0,k,C),this.endShape(p.CLOSE),this._pInst.pop(),this._isErasing&&this.blendMode(p.REMOVE)};var n=s.default;b.default=n},{"../core/constants":272,"../core/main":283,"./p5.Geometry":335,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.math.sign":178,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],327:[function(t,S,b){function o(c){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(c)}function d(c){return(d=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(a){return o(a)}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":o(a)})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.map"),t("core-js/modules/es.object.assign"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var s=(r=t("../core/main"))&&r.__esModule?r:{default:r},p=function(c){if(c&&c.__esModule)return c;if(c===null||d(c)!=="object"&&typeof c!="function")return{default:c};var a=y();if(a&&a.has(c))return a.get(c);var h,u={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in c){var g;Object.prototype.hasOwnProperty.call(c,h)&&((g=l?Object.getOwnPropertyDescriptor(c,h):null)&&(g.get||g.set)?Object.defineProperty(u,h,g):u[h]=c[h])}return u.default=c,a&&a.set(c,u),u}(t("../core/constants"));function y(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,y=function(){return c},c)}function m(c){return function(a){if(Array.isArray(a)){for(var h=0,u=new Array(a.length);h<a.length;h++)u[h]=a[h];return u}}(c)||function(a){if(Symbol.iterator in Object(a)||Object.prototype.toString.call(a)==="[object Arguments]")return Array.from(a)}(c)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function n(c,a){for(var h=0;h<a.length;h++){var u=a[h];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(c,u.key,u)}}var r=function(){function c(u){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");(this.renderer=u)._pInst.push(),this.identityMatrix=new s.default.Matrix,u.uModelMatrix=new s.default.Matrix,this.geometry=new s.default.Geometry,this.geometry.gid="_p5_GeometryBuilder_".concat(c.nextGeometryId),c.nextGeometryId++,this.hasTransform=!1}var a,h;return a=c,(h=[{key:"transformVertices",value:function(u){var l=this;return this.hasTransform?u.map(function(g){return l.renderer.uModelMatrix.multiplyPoint(g)}):u}},{key:"transformNormals",value:function(u){var l=this;return this.hasTransform?u.map(function(g){return l.renderer.uNMatrix.multiplyVec3(g)}):u}},{key:"addGeometry",value:function(u){for(var l,g=this,v=(this.hasTransform=!this.renderer.uModelMatrix.mat4.every(function(k,E){return k===g.identityMatrix.mat4[E]}),this.hasTransform&&this.renderer.uNMatrix.inverseTranspose(this.renderer.uModelMatrix),this.geometry.vertices.length),x=((l=this.geometry.vertices).push.apply(l,m(this.transformVertices(u.vertices))),(l=this.geometry.vertexNormals).push.apply(l,m(this.transformNormals(u.vertexNormals))),(l=this.geometry.uvs).push.apply(l,m(u.uvs)),this.renderer._doFill&&(l=this.geometry.faces).push.apply(l,m(u.faces.map(function(k){return k.map(function(E){return E+v})}))),this.renderer._doStroke&&(l=this.geometry.edges).push.apply(l,m(u.edges.map(function(k){return k.map(function(E){return E+v})}))),m(u.vertexColors));x.length<4*u.vertices.length;)x.push.apply(x,m(this.renderer.curFillColor));(l=this.geometry.vertexColors).push.apply(l,m(x))}},{key:"addImmediate",value:function(){var u=this.renderer.immediateMode.geometry,l=this.renderer.immediateMode.shapeMode,g=[];if(this.renderer._doFill)if(l===p.TRIANGLE_STRIP||l===p.QUAD_STRIP)for(var v=2;v<u.vertices.length;v++)v%2==0?g.push([v,v-1,v-2]):g.push([v,v-2,v-1]);else if(l===p.TRIANGLE_FAN)for(var x=2;x<u.vertices.length;x++)g.push([0,x-1,x]);else for(var k=0;k<u.vertices.length;k+=3)g.push([k,k+1,k+2]);this.addGeometry(Object.assign({},u,{faces:g}))}},{key:"addRetained",value:function(u){this.addGeometry(u.model)}},{key:"finish",value:function(){return this.renderer._pInst.pop(),this.geometry}}])&&n(a.prototype,h),c}();r.nextGeometryId=0,b.default=r},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.every":155,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],328:[function(t,S,b){function o(n){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(n)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var d=(m=t("../core/main"))&&m.__esModule?m:{default:m},s=function(n){if(n&&n.__esModule)return n;if(n===null||y(n)!=="object"&&typeof n!="function")return{default:n};var r=p();if(r&&r.has(n))return r.get(n);var c,a={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in n){var u;Object.prototype.hasOwnProperty.call(n,c)&&((u=h?Object.getOwnPropertyDescriptor(n,c):null)&&(u.get||u.set)?Object.defineProperty(a,c,u):a[c]=n[c])}return a.default=n,r&&r.set(n,a),a}(t("../core/constants"));function p(){var n;return typeof WeakMap!="function"?null:(n=new WeakMap,p=function(){return n},n)}function y(n){return(y=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(r){return o(r)}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":o(r)})(n)}d.default.prototype.orbitControl=function(n,r,c,x){var h=this,u=(this._assert3d("orbitControl"),d.default._validateParameters("orbitControl",arguments),this._renderer._curCamera);n===void 0&&(n=1),r===void 0&&(r=n),c===void 0&&(c=1),y(x)!=="object"&&(x={}),this.contextMenuDisabled!==!0&&(this.canvas.oncontextmenu=function(){return!1},this._setProperty("contextMenuDisabled",!0)),this.wheelDefaultDisabled!==!0&&(this.canvas.onwheel=function(){return!1},this._setProperty("wheelDefaultDisabled",!0));var E=x.disableTouchActions;this.touchActionsDisabled===!0||E!==void 0&&!E||(this.canvas.style["touch-action"]="none",this._setProperty("touchActionsDisabled",!0));var l,g,v,E=x.freeRotation,x=E!==void 0&&E,k=[],E=(this.touches.forEach(function(I){h._renderer.prevTouches.forEach(function(N){I.id===N.id&&(N={x:I.x,y:I.y,px:N.x,py:N.y},k.push(N))})}),this._renderer.prevTouches=this.touches,0),j=0,C=0,L=0,A=0,P=this.height<this.width?this.height:this.width,R=!1;return 0<k.length?(R=0<k[0].x&&k[0].x<this.width&&0<k[0].y&&k[0].y<this.height,k.length===1?(j=-n*((l=k[0]).x-l.px)/P,C=r*(l.y-l.py)/P):(l=k[0],g=k[1],E=-(Math.hypot(l.x-g.x,l.y-g.y)-Math.hypot(l.px-g.px,l.py-g.py))*c*4e-4,L=.5*(l.x+g.x)-.5*(l.px+g.px),A=.5*(l.y+g.y)-.5*(l.py+g.py)),0<this.touches.length?R&&(this._renderer.executeRotateAndMove=!0,this._renderer.executeZoom=!0):(this._renderer.executeRotateAndMove=!1,this._renderer.executeZoom=!1)):(R=0<this.mouseX&&this.mouseX<this.width&&0<this.mouseY&&this.mouseY<this.height,this._mouseWheelDeltaY!==0?(E=Math.sign(this._mouseWheelDeltaY)*c,E*=.01,this._mouseWheelDeltaY=0,R&&(this._renderer.executeZoom=!0)):this._renderer.executeZoom=!1,this.mouseIsPressed?(this.mouseButton===this.LEFT?(j=-n*this.movedX/P,C=r*this.movedY/P):this.mouseButton===this.RIGHT&&(L=this.movedX,A=this.movedY*u.yScale),R&&(this._renderer.executeRotateAndMove=!0)):this._renderer.executeRotateAndMove=!1),E!==0&&this._renderer.executeZoom&&(this._renderer.zoomVelocity+=E),.001<Math.abs(this._renderer.zoomVelocity)?(x?u._orbitFree(0,0,this._renderer.zoomVelocity):u._orbit(0,0,this._renderer.zoomVelocity),u.projMatrix.mat4[15]!==0&&(u.projMatrix.mat4[0]*=Math.pow(10,-this._renderer.zoomVelocity),u.projMatrix.mat4[5]*=Math.pow(10,-this._renderer.zoomVelocity),this._renderer.uPMatrix.mat4[0]=u.projMatrix.mat4[0],this._renderer.uPMatrix.mat4[5]=u.projMatrix.mat4[5]),this._renderer.zoomVelocity*=.85):this._renderer.zoomVelocity=0,j===0&&C===0||!this._renderer.executeRotateAndMove||this._renderer.rotateVelocity.add(.6*j,.6*C),1e-6<this._renderer.rotateVelocity.magSq()?(x?u._orbitFree(-this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0):u._orbit(this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0),this._renderer.rotateVelocity.mult(.85)):this._renderer.rotateVelocity.set(0,0),L===0&&A===0||!this._renderer.executeRotateAndMove||(l=2*L/this.width,g=2*-A/this.height,this._renderer.moveVelocity.add(.15*l,.15*g)),1e-6<this._renderer.moveVelocity.magSq()?(c=u._getLocalAxes(),n=u.eyeX-u.centerX,r=u.eyeY-u.centerY,P=u.eyeZ-u.centerZ,R=Math.sqrt(n*n+r*r+P*P),E=new d.default.Vector(u.centerX,u.centerY,u.centerZ),E=u.cameraMatrix.multiplyPoint(E),(E=this._renderer.uPMatrix.multiplyAndNormalizePoint(E)).x-=this._renderer.moveVelocity.x,E.y-=this._renderer.moveVelocity.y,C=(j=this._renderer.uPMatrix.mat4)[15]===0?(v=(j[8]+E.x)/j[0]*R,(j[9]+E.y)/j[5]*R):(v=(E.x-j[12])/j[0],(E.y-j[13])/j[5]),u.setPosition(u.eyeX+v*c.x[0]+C*c.y[0],u.eyeY+v*c.x[1]+C*c.y[1],u.eyeZ+v*c.x[2]+C*c.y[2]),this._renderer.moveVelocity.mult(.85)):this._renderer.moveVelocity.set(0,0),this},d.default.prototype.debugMode=function(){this._assert3d("debugMode");for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];d.default._validateParameters("debugMode",r);for(var a=this._registeredMethods.post.length-1;0<=a;a--)this._registeredMethods.post[a].toString()!==this._grid().toString()&&this._registeredMethods.post[a].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(a,1);r[0]===s.GRID?this.registerMethod("post",this._grid(r[1],r[2],r[3],r[4],r[5])):r[0]===s.AXES?this.registerMethod("post",this._axesIcon(r[1],r[2],r[3],r[4])):(this.registerMethod("post",this._grid(r[0],r[1],r[2],r[3],r[4])),this.registerMethod("post",this._axesIcon(r[5],r[6],r[7],r[8])))},d.default.prototype.noDebugMode=function(){this._assert3d("noDebugMode");for(var n=this._registeredMethods.post.length-1;0<=n;n--)this._registeredMethods.post[n].toString()!==this._grid().toString()&&this._registeredMethods.post[n].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(n,1)},d.default.prototype._grid=function(n,r,c,a,h){n===void 0&&(n=this.width/2),r===void 0&&(r=Math.round(n/30)<4?4:Math.round(n/30)),c===void 0&&(c=0),a===void 0&&(a=0),h===void 0&&(h=0);var u=n/r,l=n/2;return function(){this.push(),this.stroke(255*this._renderer.curStrokeColor[0],255*this._renderer.curStrokeColor[1],255*this._renderer.curStrokeColor[2]),this._renderer.uModelMatrix.reset();for(var g=0;g<=r;g++)this.beginShape(this.LINES),this.vertex(-l+c,a,g*u-l+h),this.vertex(l+c,a,g*u-l+h),this.endShape();for(var v=0;v<=r;v++)this.beginShape(this.LINES),this.vertex(v*u-l+c,a,-l+h),this.vertex(v*u-l+c,a,l+h),this.endShape();this.pop()}},d.default.prototype._axesIcon=function(n,r,c,a){return n===void 0&&(n=40<this.width/20?this.width/20:40),r===void 0&&(r=-this.width/4),c===void 0&&(c=r),a===void 0&&(a=r),function(){this.push(),this._renderer.uModelMatrix.reset(),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(r,c,a),this.vertex(r+n,c,a),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(r,c,a),this.vertex(r,c+n,a),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(r,c,a),this.vertex(r,c,a+n),this.endShape(),this.pop()}};var m=d.default;b.default=m},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.splice":171,"core-js/modules/es.math.hypot":176,"core-js/modules/es.math.sign":178,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],329:[function(t,S,b){t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.filter"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var o=(t=t("../core/main"))&&t.__esModule?t:{default:t};o.default.prototype.ambientLight=function(d,s,p,y){this._assert3d("ambientLight"),o.default._validateParameters("ambientLight",arguments);var m=this.color.apply(this,arguments);return this._renderer.ambientLightColors.push(m._array[0],m._array[1],m._array[2]),this._renderer._enableLighting=!0,this},o.default.prototype.specularColor=function(d,s,p){this._assert3d("specularColor"),o.default._validateParameters("specularColor",arguments);var y=this.color.apply(this,arguments);return this._renderer.specularColors=[y._array[0],y._array[1],y._array[2]],this},o.default.prototype.directionalLight=function(d,h,a,y,m,n){this._assert3d("directionalLight"),o.default._validateParameters("directionalLight",arguments),d=d instanceof o.default.Color?d:this.color(d,h,a);var r,c,h=arguments[arguments.length-1],a=typeof h=="number"?(r=arguments[arguments.length-3],c=arguments[arguments.length-2],arguments[arguments.length-1]):(r=h.x,c=h.y,h.z),h=Math.sqrt(r*r+c*c+a*a);return this._renderer.directionalLightDirections.push(r/h,c/h,a/h),this._renderer.directionalLightDiffuseColors.push(d._array[0],d._array[1],d._array[2]),Array.prototype.push.apply(this._renderer.directionalLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},o.default.prototype.pointLight=function(d,a,h,y,m,n){this._assert3d("pointLight"),o.default._validateParameters("pointLight",arguments),d=d instanceof o.default.Color?d:this.color(d,a,h);var r,c,a=arguments[arguments.length-1],h=typeof a=="number"?(r=arguments[arguments.length-3],c=arguments[arguments.length-2],arguments[arguments.length-1]):(r=a.x,c=a.y,a.z);return this._renderer.pointLightPositions.push(r,c,h),this._renderer.pointLightDiffuseColors.push(d._array[0],d._array[1],d._array[2]),Array.prototype.push.apply(this._renderer.pointLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},o.default.prototype.imageLight=function(d){this._renderer.activeImageLight=d,this._renderer._enableLighting=!0},o.default.prototype.panorama=function(d){this.filter(this._renderer._getSphereMapping(d))},o.default.prototype.lights=function(){this._assert3d("lights");var d=this.color("rgb(128,128,128)");return this.ambientLight(d),this.directionalLight(d,0,0,-1),this},o.default.prototype.lightFalloff=function(d,s,p){return this._assert3d("lightFalloff"),o.default._validateParameters("lightFalloff",arguments),d<0&&(d=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),s<0&&(s=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),p<0&&(p=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),d===0&&s===0&&p===0&&(d=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),this._renderer.constantAttenuation=d,this._renderer.linearAttenuation=s,this._renderer.quadraticAttenuation=p,this},o.default.prototype.spotLight=function(d,s,p,y,m,n,r,c,a,h,u){this._assert3d("spotLight"),o.default._validateParameters("spotLight",arguments);var l,g,v,x=arguments.length;switch(x){case 11:case 10:l=this.color(d,s,p),g=new o.default.Vector(y,m,n),v=new o.default.Vector(r,c,a);break;case 9:d instanceof o.default.Color?(l=d,g=new o.default.Vector(s,p,y),v=new o.default.Vector(m,n,r),h=c,u=a):y instanceof o.default.Vector?(l=this.color(d,s,p),g=y,v=new o.default.Vector(m,n,r),h=c,u=a):r instanceof o.default.Vector?(l=this.color(d,s,p),g=new o.default.Vector(y,m,n),v=r,h=c,u=a):(l=this.color(d,s,p),g=new o.default.Vector(y,m,n),v=new o.default.Vector(r,c,a));break;case 8:h=(v=d instanceof o.default.Color?(l=d,g=new o.default.Vector(s,p,y),new o.default.Vector(m,n,r)):y instanceof o.default.Vector?(l=this.color(d,s,p),g=y,new o.default.Vector(m,n,r)):(l=this.color(d,s,p),g=new o.default.Vector(y,m,n),r),c);break;case 7:d instanceof o.default.Color&&s instanceof o.default.Vector?(l=d,g=s,v=new o.default.Vector(p,y,m),h=n,u=r):d instanceof o.default.Color&&m instanceof o.default.Vector?(l=d,g=new o.default.Vector(s,p,y),v=m,h=n,u=r):y instanceof o.default.Vector&&m instanceof o.default.Vector?(l=this.color(d,s,p),g=y,v=m,h=n,u=r):v=d instanceof o.default.Color?(l=d,g=new o.default.Vector(s,p,y),new o.default.Vector(m,n,r)):y instanceof o.default.Vector?(l=this.color(d,s,p),g=y,new o.default.Vector(m,n,r)):(l=this.color(d,s,p),g=new o.default.Vector(y,m,n),r);break;case 6:y instanceof o.default.Vector&&m instanceof o.default.Vector?(l=this.color(d,s,p),g=y,v=m,h=n):d instanceof o.default.Color&&m instanceof o.default.Vector?(l=d,g=new o.default.Vector(s,p,y),v=m,h=n):d instanceof o.default.Color&&s instanceof o.default.Vector&&(l=d,g=s,v=new o.default.Vector(p,y,m),h=n);break;case 5:d instanceof o.default.Color&&s instanceof o.default.Vector&&p instanceof o.default.Vector?(l=d,g=s,v=p,h=y,u=m):y instanceof o.default.Vector&&m instanceof o.default.Vector?(l=this.color(d,s,p),g=y,v=m):d instanceof o.default.Color&&m instanceof o.default.Vector?(l=d,g=new o.default.Vector(s,p,y),v=m):d instanceof o.default.Color&&s instanceof o.default.Vector&&(l=d,g=s,v=new o.default.Vector(p,y,m));break;case 4:l=d,g=s,v=p,h=y;break;case 3:l=d,g=s,v=p;break;default:return console.warn("Sorry, input for spotlight() is not in prescribed format. Too ".concat(x<3?"few":"many"," arguments were provided")),this}return this._renderer.spotLightDiffuseColors.push(l._array[0],l._array[1],l._array[2]),Array.prototype.push.apply(this._renderer.spotLightSpecularColors,this._renderer.specularColors),this._renderer.spotLightPositions.push(g.x,g.y,g.z),v.normalize(),this._renderer.spotLightDirections.push(v.x,v.y,v.z),h===void 0&&(h=Math.PI/3),u!==void 0&&u<1?(u=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):u===void 0&&(u=100),h=this._renderer._pInst._toRadians(h),this._renderer.spotLightAngle.push(Math.cos(h)),this._renderer.spotLightConc.push(u),this._renderer._enableLighting=!0,this},o.default.prototype.noLights=function(){this._assert3d("noLights");for(var d=arguments.length,s=new Array(d),p=0;p<d;p++)s[p]=arguments[p];return o.default._validateParameters("noLights",s),this._renderer.activeImageLight=null,this._renderer._enableLighting=!1,this._renderer.ambientLightColors.length=0,this._renderer.specularColors=[1,1,1],this._renderer.directionalLightDirections.length=0,this._renderer.directionalLightDiffuseColors.length=0,this._renderer.directionalLightSpecularColors.length=0,this._renderer.pointLightPositions.length=0,this._renderer.pointLightDiffuseColors.length=0,this._renderer.pointLightSpecularColors.length=0,this._renderer.spotLightPositions.length=0,this._renderer.spotLightDirections.length=0,this._renderer.spotLightDiffuseColors.length=0,this._renderer.spotLightSpecularColors.length=0,this._renderer.spotLightAngle.length=0,this._renderer.spotLightConc.length=0,this._renderer.constantAttenuation=1,this._renderer.linearAttenuation=0,this._renderer.quadraticAttenuation=0,this._renderer._useShininess=1,this._renderer._useMetalness=0,this},t=o.default,b.default=t},{"../core/main":283,"core-js/modules/es.array.filter":157}],330:[function(t,S,b){function o(h){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(h)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0,t("regenerator-runtime/runtime");var d=(a=t("../core/main"))&&a.__esModule?a:{default:a};function s(h){return function(u){if(Array.isArray(u)){for(var l=0,g=new Array(u.length);l<u.length;l++)g[l]=u[l];return g}}(h)||function(u){if(Symbol.iterator in Object(u)||Object.prototype.toString.call(u)==="[object Arguments]")return Array.from(u)}(h)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function p(h,u,l,g,v,x,k){try{var E=h[x](k),j=E.value}catch(C){return void l(C)}E.done?u(j):Promise.resolve(j).then(g,v)}function y(h){return function(){var u=this,l=arguments;return new Promise(function(g,v){var x=h.apply(u,l);function k(j){p(x,g,v,k,E,"next",j)}function E(j){p(x,g,v,k,E,"throw",j)}k(void 0)})}}function m(h){return(m=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(u){return o(u)}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":o(u)})(h)}function n(h,u,l){for(var g=2<arguments.length&&l!==void 0?l:{},v={v:[],vt:[],vn:[]},x={},k=null,E=new Set,j=!1,C=!1,L=0;L<u.length;++L){var A=u[L].trim().split(/\b\s+/);if(0<A.length){if(A[0]==="usemtl")k=A[1];else if(A[0]==="v"||A[0]==="vn"){var P=new d.default.Vector(parseFloat(A[1]),parseFloat(A[2]),parseFloat(A[3]));v[A[0]].push(P)}else if(A[0]==="vt")P=[parseFloat(A[1]),1-parseFloat(A[2])],v[A[0]].push(P);else if(A[0]==="f")for(var R=3;R<A.length;++R){for(var I=[],N=[1,R-1,R],z=0;z<N.length;++z){for(var G,W=A[N[z]],H=W.split("/"),Z=0;Z<H.length;Z++)H[Z]=parseInt(H[Z])-1;x[W]||(x[W]={}),x[W][k]===void 0?(G=h.vertices.length,h.vertices.push(v.v[H[0]].copy()),h.uvs.push(v.vt[H[1]]?v.vt[H[1]].slice():[0,0]),h.vertexNormals.push(v.vn[H[2]]?v.vn[H[2]].copy():new d.default.Vector),x[W][k]=G,I.push(G),k&&g[k]&&g[k].diffuseColor&&E.add(v.v[H[0]])):I.push(x[W][k])}if(I[0]!==I[1]&&I[0]!==I[2]&&I[1]!==I[2])if(h.faces.push(I),k&&g[k]&&g[k].diffuseColor)for(var j=j=!0,Y=g[k].diffuseColor,Q=0;Q<I.length;Q++)h.vertexColors.push(Y[0]),h.vertexColors.push(Y[1]),h.vertexColors.push(Y[2]);else C=!0}}}if(h.vertexNormals.length===0&&h.computeNormals(),j===C)throw new Error("Model coloring is inconsistent. Either all vertices should have colors or none should.")}function r(h,u){if(function(ge){for(var U=new DataView(ge),oe=[115,111,108,105,100],fe=0;fe<5;fe++)if(function(te,ee,ae){for(var _e=0,Oe=te.length;_e<Oe;_e++)if(te[_e]!==ee.getUint8(ae+_e,!1))return;return 1}(oe,U,fe))return;return 1}(u)){for(var l,g,v,x,k,E,j,C=h,L=new DataView(u),A=L.getUint32(80,!0),P=!1,R=0;R<70;R++)L.getUint32(R,!1)===1129270351&&L.getUint8(R+4)===82&&L.getUint8(R+5)===61&&(P=!0,x=[],k=L.getUint8(R+6)/255,E=L.getUint8(R+7)/255,j=L.getUint8(R+8)/255);for(var I=0;I<A;I++){for(var N,z=84+50*I,G=L.getFloat32(z,!0),W=L.getFloat32(4+z,!0),H=L.getFloat32(8+z,!0),Z=(P&&(N=L.getUint16(48+z,!0),v=(32768&N)==0?(l=(31&N)/31,g=(N>>5&31)/31,(N>>10&31)/31):(l=k,g=E,j)),new d.default.Vector(G,W,H)),Y=1;Y<=3;Y++){var Q=z+12*Y,Q=new d.default.Vector(L.getFloat32(Q,!0),L.getFloat32(4+Q,!0),L.getFloat32(8+Q,!0));C.vertices.push(Q),C.vertexNormals.push(Z),P&&x.push(l,g,v)}C.faces.push([3*I,3*I+1,3*I+2]),C.uvs.push([0,0],[0,0],[0,0])}}else if(u=new DataView(u),"TextDecoder"in window)for(var M,B,V=h,X=new TextDecoder("utf-8").decode(u).split(`
`),re="",ne=[],ce=0;ce<X.length;++ce){for(var be=X[ce].trim(),he=be.split(" "),le=0;le<he.length;++le)he[le]===""&&he.splice(le,1);if(he.length!==0)switch(re){case"":if(he[0]!=="solid")return console.error(be),void console.error('Invalid state "'.concat(he[0],'", should be "solid"'));re="solid";break;case"solid":if(he[0]!=="facet"||he[1]!=="normal")return console.error(be),void console.error('Invalid state "'.concat(he[0],'", should be "facet normal"'));M=new d.default.Vector(parseFloat(he[2]),parseFloat(he[3]),parseFloat(he[4])),V.vertexNormals.push(M,M,M),re="facet normal";break;case"facet normal":if(he[0]!=="outer"||he[1]!=="loop")return console.error(be),void console.error('Invalid state "'.concat(he[0],'", should be "outer loop"'));re="vertex";break;case"vertex":if(he[0]==="vertex")B=new d.default.Vector(parseFloat(he[1]),parseFloat(he[2]),parseFloat(he[3])),V.vertices.push(B),V.uvs.push([0,0]),ne.push(V.vertices.indexOf(B));else{if(he[0]!=="endloop")return console.error(be),void console.error('Invalid state "'.concat(he[0],'", should be "vertex" or "endloop"'));V.faces.push(ne),ne=[],re="endloop"}break;case"endloop":if(he[0]!=="endfacet")return console.error(be),void console.error('Invalid state "'.concat(he[0],'", should be "endfacet"'));re="endfacet";break;case"endfacet":if(he[0]!=="endsolid"){if(he[0]!=="facet"||he[1]!=="normal")return console.error(be),void console.error('Invalid state "'.concat(he[0],'", should be "endsolid" or "facet normal"'));M=new d.default.Vector(parseFloat(he[2]),parseFloat(he[3]),parseFloat(he[4])),V.vertexNormals.push(M,M,M),re="facet normal"}break;default:console.error('Invalid state "'.concat(re,'"'))}}else console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)")}t("./p5.Geometry"),d.default.prototype.loadModel=function(h,u){d.default._validateParameters("loadModel",arguments);var l,g,v=!1,x=!1,k=!1,E=h.slice(-4),j=(u&&m(u)==="object"?(v=u.normalize||!1,l=u.successCallback,g=u.failureCallback,E=u.fileType||E,x=u.flipU||!1,k=u.flipV||!1):typeof u=="boolean"?(v=u,l=arguments[2],g=arguments[3],arguments[4]!==void 0&&(E=arguments[4])):(l=typeof u=="function"?u:void 0,g=arguments[2],arguments[3]!==void 0&&(E=arguments[3])),new d.default.Geometry),C=(j.gid="".concat(h,"|").concat(v),this);function L(){return(L=y(regeneratorRuntime.mark(function P(R){var I,N,z,G;return regeneratorRuntime.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:for(I=[],N=0;N<R.length;N++)(z=R[N].match(/^mtllib (.+)/))&&function(){var H="",Z=z[1],Y=h.split("/");H=1<Y.length?(Y.pop(),Y.join("/")+"/"+Z):Z,I.push(function(){return A.apply(this,arguments)}(H).then(function(Q){return Q?(M=C,B=H,new Promise(function(V,X){var re=null,ne={};M.loadStrings(B,function(ce){for(var be=0;be<ce.length;++be){var he,le=ce[be].trim().split(/\s+/);le[0]==="newmtl"?(he=le[1],ne[re=he]={}):le[0]==="Kd"?ne[re].diffuseColor=[parseFloat(le[1]),parseFloat(le[2]),parseFloat(le[3])]:le[0]==="Ka"?ne[re].ambientColor=[parseFloat(le[1]),parseFloat(le[2]),parseFloat(le[3])]:le[0]==="Ks"?ne[re].specularColor=[parseFloat(le[1]),parseFloat(le[2]),parseFloat(le[3])]:le[0]==="map_Kd"&&(ne[re].texturePath=le[1])}V(ne)},X)})):(console.warn("MTL file not found or error in parsing; proceeding without materials: ".concat(H)),{});var M,B}).catch(function(Q){return console.warn("Error loading MTL file: ".concat(H),Q),{}}))}();return W.prev=2,W.next=5,Promise.all(I);case 5:return G=W.sent,G=Object.assign.apply(Object,[{}].concat(s(G))),W.abrupt("return",G);case 10:return W.prev=10,W.t0=W.catch(2),W.abrupt("return",{});case 13:case"end":return W.stop()}},P,null,[[2,10]])}))).apply(this,arguments)}function A(){return(A=y(regeneratorRuntime.mark(function P(R){var I;return regeneratorRuntime.wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return N.prev=0,N.next=3,fetch(R,{method:"HEAD"});case 3:return I=N.sent,N.abrupt("return",I.ok);case 7:return N.prev=7,N.t0=N.catch(0),N.abrupt("return",!1);case 10:case"end":return N.stop()}},P,null,[[0,7]])}))).apply(this,arguments)}return E.match(/\.stl$/i)?this.httpDo(h,"GET","arrayBuffer",function(P){r(j,P),v&&j.normalize(),x&&j.flipU(),k&&j.flipV(),C._decrementPreload(),typeof l=="function"&&l(j)},g):E.match(/\.obj$/i)?this.loadStrings(h,function(){var P=y(regeneratorRuntime.mark(function R(I){var N;return regeneratorRuntime.wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return z.prev=0,z.next=3,function(){return L.apply(this,arguments)}(I);case 3:N=z.sent,n(j,I,N),z.next=11;break;case 7:return z.prev=7,z.t0=z.catch(0),g?g(z.t0):d.default._friendlyError("Error during parsing: "+z.t0.message),z.abrupt("return");case 11:return z.prev=11,v&&j.normalize(),x&&j.flipU(),k&&j.flipV(),j._makeTriangleEdges(),C._decrementPreload(),typeof l=="function"&&l(j),z.finish(11);case 19:case"end":return z.stop()}},R,null,[[0,7,11,19]])}));return function(R){return P.apply(this,arguments)}}(),g):(d.default._friendlyFileLoadError(3,h),g?g():d.default._friendlyError("Sorry, the file type is invalid. Only OBJ and STL files are supported.")),j},d.default.prototype.model=function(h){this._assert3d("model"),d.default._validateParameters("model",arguments),0<h.vertices.length&&(this._renderer.geometryInHash(h.gid)||(h._edgesToVertices(),this._renderer.createBuffers(h.gid,h)),this._renderer.drawBuffers(h.gid))};var c=0,a=(d.default.prototype.createModel=function(h){var u,l,g=1<arguments.length&&arguments[1]!==void 0?arguments[1]:" ",E=2<arguments.length?arguments[2]:void 0,v=(d.default._validateParameters("createModel",arguments),!1),x=!1,k=!1,E=(E&&m(E)==="object"?(v=E.normalize||!1,u=E.successCallback,l=E.failureCallback,x=E.flipU||!1,k=E.flipV||!1):l=typeof E=="boolean"?(v=E,u=arguments[3],arguments[4]):(u=typeof arguments[2]=="function"?arguments[2]:void 0,arguments[3]),new d.default.Geometry);if(E.gid="".concat(g,"|").concat(v,"|").concat(c++),g.match(/\.stl$/i))try{r(E,new TextEncoder().encode(h).buffer)}catch(j){return void(l?l(j):d.default._friendlyError("Error during parsing: "+j.message))}else if(g.match(/\.obj$/i))try{n(E,h.split(`
`))}catch(j){return void(l?l(j):d.default._friendlyError("Error during parsing: "+j.message))}else d.default._friendlyFileLoadError(3,h),l?l():d.default._friendlyError("Sorry, the file type is invalid. Only OBJ and STL files are supported.");return v&&E.normalize(),x&&E.flipU(),k&&E.flipV(),E._makeTriangleEdges(),typeof u=="function"&&u(E),E},d.default);b.default=a},{"../core/main":283,"./p5.Geometry":335,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.from":162,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246,"regenerator-runtime/runtime":260}],331:[function(t,S,b){function o(n){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(n)}function d(n){return(d=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(r){return o(r)}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":o(r)})(n)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var s=(m=t("../core/main"))&&m.__esModule?m:{default:m},p=function(n){if(n&&n.__esModule)return n;if(n===null||d(n)!=="object"&&typeof n!="function")return{default:n};var r=y();if(r&&r.has(n))return r.get(n);var c,a={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in n){var u;Object.prototype.hasOwnProperty.call(n,c)&&((u=h?Object.getOwnPropertyDescriptor(n,c):null)&&(u.get||u.set)?Object.defineProperty(a,c,u):a[c]=n[c])}return a.default=n,r&&r.set(n,a),a}(t("../core/constants"));function y(){var n;return typeof WeakMap!="function"?null:(n=new WeakMap,y=function(){return n},n)}t("./p5.Texture"),s.default.prototype.loadShader=function(n,r,c,a){s.default._validateParameters("loadShader",arguments),a=a||console.error;function h(){l._decrementPreload(),c&&c(u)}var u=new s.default.Shader,l=this,g=!1,v=!1;return this.loadStrings(n,function(x){u._vertSrc=x.join(`
`),v=!0,g&&h()},a),this.loadStrings(r,function(x){u._fragSrc=x.join(`
`),g=!0,v&&h()},a),u},s.default.prototype.createShader=function(n,r,c){return s.default._validateParameters("createShader",arguments),new s.default.Shader(this._renderer,n,r,c)},s.default.prototype.createFilterShader=function(n){s.default._validateParameters("createFilterShader",arguments);var r=n.includes("#version 300 es")?`#version 300 es
    uniform mat4 uModelViewMatrix;
    uniform mat4 uProjectionMatrix;

    in vec3 aPosition;
    in vec2 aTexCoord;
    out vec2 vTexCoord;

    void main() {
      // transferring texcoords for the frag shader
      vTexCoord = aTexCoord;

      // copy position with a fourth coordinate for projection (1.0 is normal)
      vec4 positionVec4 = vec4(aPosition, 1.0);

      // project to 3D space
      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
    }
  `:`
    uniform mat4 uModelViewMatrix;
    uniform mat4 uProjectionMatrix;

    attribute vec3 aPosition;
    // texcoords only come from p5 to vertex shader
    // so pass texcoords on to the fragment shader in a varying variable
    attribute vec2 aTexCoord;
    varying vec2 vTexCoord;

    void main() {
      // transferring texcoords for the frag shader
      vTexCoord = aTexCoord;

      // copy position with a fourth coordinate for projection (1.0 is normal)
      vec4 positionVec4 = vec4(aPosition, 1.0);

      // project to 3D space
      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
    }
  `,r=new s.default.Shader(this._renderer,r,n);return this._renderer.GL?r.ensureCompiledOnContext(this):r.ensureCompiledOnContext(this._renderer.getFilterGraphicsLayer()),r},s.default.prototype.shader=function(n){return this._assert3d("shader"),s.default._validateParameters("shader",arguments),n.ensureCompiledOnContext(this),n.isStrokeShader()?this._renderer.userStrokeShader=n:(this._renderer.userFillShader=n,this._renderer._useNormalMaterial=!1),n.setDefaultUniforms(),this},s.default.prototype.baseMaterialShader=function(){return this._assert3d("baseMaterialShader"),this._renderer.baseMaterialShader()},s.default.prototype.baseNormalShader=function(){return this._assert3d("baseNormalShader"),this._renderer.baseNormalShader()},s.default.prototype.baseColorShader=function(){return this._assert3d("baseColorShader"),this._renderer.baseColorShader()},s.default.prototype.baseStrokeShader=function(){return this._assert3d("baseStrokeShader"),this._renderer.baseStrokeShader()},s.default.prototype.resetShader=function(){return this._renderer.userFillShader=this._renderer.userStrokeShader=null,this},s.default.prototype.texture=function(n){return this._assert3d("texture"),s.default._validateParameters("texture",arguments),n.gifProperties&&n._animateGif(this),this._renderer.drawMode=p.TEXTURE,this._renderer._useNormalMaterial=!1,this._renderer._tex=n,this._renderer._setProperty("_doFill",!0),this},s.default.prototype.textureMode=function(n){n!==p.IMAGE&&n!==p.NORMAL?console.warn("You tried to set ".concat(n," textureMode only supports IMAGE & NORMAL ")):this._renderer.textureMode=n},s.default.prototype.textureWrap=function(n){var r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:n,c=(this._renderer.textureWrapX=n,this._renderer.textureWrapY=r,!0),a=!1,h=void 0;try{for(var u,l=this._renderer.textures.values()[Symbol.iterator]();!(c=(u=l.next()).done);c=!0)u.value.setWrapMode(n,r)}catch(g){a=!0,h=g}finally{try{c||l.return==null||l.return()}finally{if(a)throw h}}},s.default.prototype.normalMaterial=function(){this._assert3d("normalMaterial");for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return s.default._validateParameters("normalMaterial",r),this._renderer.drawMode=p.FILL,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!0,this._renderer.curFillColor=[1,1,1,1],this._renderer._setProperty("_doFill",!0),this.noStroke(),this},s.default.prototype.ambientMaterial=function(n,r,c){this._assert3d("ambientMaterial"),s.default._validateParameters("ambientMaterial",arguments);var a=s.default.prototype.color.apply(this,arguments);return this._renderer._hasSetAmbient=!0,this._renderer.curAmbientColor=a._array,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._setProperty("_doFill",!0),this},s.default.prototype.emissiveMaterial=function(n,r,c,a){this._assert3d("emissiveMaterial"),s.default._validateParameters("emissiveMaterial",arguments);var h=s.default.prototype.color.apply(this,arguments);return this._renderer.curEmissiveColor=h._array,this._renderer._useEmissiveMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},s.default.prototype.specularMaterial=function(n,r,c,a){this._assert3d("specularMaterial"),s.default._validateParameters("specularMaterial",arguments);var h=s.default.prototype.color.apply(this,arguments);return this._renderer.curSpecularColor=h._array,this._renderer._useSpecularMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},s.default.prototype.shininess=function(n){return this._assert3d("shininess"),s.default._validateParameters("shininess",arguments),this._renderer._useShininess=n=n<1?1:n,this},s.default.prototype.metalness=function(n){return this._assert3d("metalness"),n=1-Math.exp(-n/100),this._renderer._useMetalness=n,this},s.default.RendererGL.prototype._applyColorBlend=function(n,h){var c=this.GL,a=this.drawMode===p.TEXTURE,h=h||this.userFillShader||this.userStrokeShader||this.userPointShader||a||this.curBlendMode!==p.BLEND||n[n.length-1]<1||this._isErasing;return h!==this._isBlending&&(h||this.curBlendMode!==p.BLEND&&this.curBlendMode!==p.ADD?c.enable(c.BLEND):c.disable(c.BLEND),c.depthMask(!0),this._isBlending=h),this._applyBlendMode(),n},s.default.RendererGL.prototype._applyBlendMode=function(){if(this._cachedBlendMode!==this.curBlendMode){var n=this.GL;switch(this.curBlendMode){case p.BLEND:n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case p.ADD:n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ONE);break;case p.REMOVE:n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ZERO,n.ONE_MINUS_SRC_ALPHA);break;case p.MULTIPLY:n.blendEquation(n.FUNC_ADD),n.blendFunc(n.DST_COLOR,n.ONE_MINUS_SRC_ALPHA);break;case p.SCREEN:n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ONE_MINUS_SRC_COLOR);break;case p.EXCLUSION:n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD),n.blendFuncSeparate(n.ONE_MINUS_DST_COLOR,n.ONE_MINUS_SRC_COLOR,n.ONE,n.ONE);break;case p.REPLACE:n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO);break;case p.SUBTRACT:n.blendEquationSeparate(n.FUNC_REVERSE_SUBTRACT,n.FUNC_ADD),n.blendFuncSeparate(n.ONE,n.ONE,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case p.DARKEST:this.blendExt?(n.blendEquationSeparate(this.blendExt.MIN||this.blendExt.MIN_EXT,n.FUNC_ADD),n.blendFuncSeparate(n.ONE,n.ONE,n.ONE,n.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case p.LIGHTEST:this.blendExt?(n.blendEquationSeparate(this.blendExt.MAX||this.blendExt.MAX_EXT,n.FUNC_ADD),n.blendFuncSeparate(n.ONE,n.ONE,n.ONE,n.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.")}this._isErasing||(this._cachedBlendMode=this.curBlendMode)}};var m=s.default;b.default=m},{"../core/constants":272,"../core/main":283,"./p5.Texture":343,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],332:[function(t,S,b){t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.string.sub"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var o=(t=t("../core/main"))&&t.__esModule?t:{default:t};function d(s,p){for(var y=0;y<p.length;y++){var m=p[y];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(s,m.key,m)}}o.default.prototype.camera=function(){var s;this._assert3d("camera");for(var p=arguments.length,y=new Array(p),m=0;m<p;m++)y[m]=arguments[m];return o.default._validateParameters("camera",y),(s=this._renderer._curCamera).camera.apply(s,y),this},o.default.prototype.perspective=function(){var s;this._assert3d("perspective");for(var p=arguments.length,y=new Array(p),m=0;m<p;m++)y[m]=arguments[m];return o.default._validateParameters("perspective",y),(s=this._renderer._curCamera).perspective.apply(s,y),this},o.default.prototype.linePerspective=function(s){if(o.default._validateParameters("linePerspective",arguments),!(this._renderer instanceof o.default.RendererGL))throw new Error("linePerspective() must be called in WebGL mode.");if(s===void 0)return this._renderer._curCamera.useLinePerspective;this._renderer._curCamera.useLinePerspective=s},o.default.prototype.ortho=function(){var s;this._assert3d("ortho");for(var p=arguments.length,y=new Array(p),m=0;m<p;m++)y[m]=arguments[m];return o.default._validateParameters("ortho",y),(s=this._renderer._curCamera).ortho.apply(s,y),this},o.default.prototype.frustum=function(){var s;this._assert3d("frustum");for(var p=arguments.length,y=new Array(p),m=0;m<p;m++)y[m]=arguments[m];return o.default._validateParameters("frustum",y),(s=this._renderer._curCamera).frustum.apply(s,y),this},o.default.prototype.createCamera=function(){this._assert3d("createCamera");var s=new o.default.Camera(this._renderer);return s._computeCameraDefaultSettings(),s._setDefaultCamera(),this._renderer._curCamera=s},o.default.Camera=function(){function s(m){if(!(this instanceof s))throw new TypeError("Cannot call a class as a function");this._renderer=m,this.cameraType="default",this.useLinePerspective=!0,this.cameraMatrix=new o.default.Matrix,this.projMatrix=new o.default.Matrix,this.yScale=1}var p,y;return p=s,(y=[{key:"perspective",value:function(a,n,r,c){this.cameraType=0<arguments.length?"custom":"default",a===void 0?(a=this.defaultCameraFOV,this.cameraFOV=a):this.cameraFOV=this._renderer._pInst._toRadians(a),n===void 0&&(n=this.defaultAspectRatio),r===void 0&&(r=this.defaultCameraNear),c===void 0&&(c=this.defaultCameraFar),r<=1e-4&&(r=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),c<r&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.aspectRatio=n,this.cameraNear=r,this.cameraFar=c,this.projMatrix=o.default.Matrix.identity();var a=1/Math.tan(this.cameraFOV/2),h=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(a/n,0,0,0,0,-a*this.yScale,0,0,0,0,(c+r)*h,-1,0,0,2*c*r*h,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix)}},{key:"ortho",value:function(E,k,r,c,a,h){var j=this.fbo||this._renderer,j=(E===void 0&&(E=-j.width/2),k===void 0&&(k=+j.width/2),r===void 0&&(r=-j.height/2),c===void 0&&(c=+j.height/2),a===void 0&&(a=0),h===void 0&&(h=Math.max(j.width,j.height)+800),this.cameraNear=a,k-E),u=c-r,l=(this.cameraFar=h)-a,g=2/j,v=2/u*this.yScale,x=-2/l,k=-(k+E)/j,E=-(c+r)/u,j=-(h+a)/l;this.projMatrix=o.default.Matrix.identity(),this.projMatrix.set(g,0,0,0,0,-v,0,0,0,0,x,0,k,E,j,1),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix),this.cameraType="custom"}},{key:"frustum",value:function(E,k,r,c,a,h){E===void 0&&(E=.05*-this._renderer.width),k===void 0&&(k=.05*+this._renderer.width),r===void 0&&(r=.05*+this._renderer.height),c===void 0&&(c=.05*-this._renderer.height),a===void 0&&(a=this.defaultCameraNear),h===void 0&&(h=this.defaultCameraFar),this.cameraNear=a;var j=k-E,u=c-r,l=(this.cameraFar=h)-a,g=2*a/j,v=2*a/u*this.yScale,x=-2*h*a/l,k=(k+E)/j,E=(c+r)/u,j=-(h+a)/l;this.projMatrix=o.default.Matrix.identity(),this.projMatrix.set(g,0,0,0,0,-v,0,0,k,E,j,-1,0,0,x,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix),this.cameraType="custom"}},{key:"_rotateView",value:function(g,v,x,k){var a=this.centerX,h=this.centerY,u=this.centerZ,l=(a-=this.eyeX,h-=this.eyeY,u-=this.eyeZ,o.default.Matrix.identity(this._renderer._pInst)),g=(l.rotate(this._renderer._pInst._toRadians(g),v,x,k),[a*l.mat4[0]+h*l.mat4[4]+u*l.mat4[8],a*l.mat4[1]+h*l.mat4[5]+u*l.mat4[9],a*l.mat4[2]+h*l.mat4[6]+u*l.mat4[10]]),v=(g[0]+=this.eyeX,g[1]+=this.eyeY,g[2]+=this.eyeZ,this.upX*l.mat4[0]+this.upY*l.mat4[4]+this.upZ*l.mat4[8]),x=this.upX*l.mat4[1]+this.upY*l.mat4[5]+this.upZ*l.mat4[9],k=this.upX*l.mat4[2]+this.upY*l.mat4[6]+this.upZ*l.mat4[10];this.camera(this.eyeX,this.eyeY,this.eyeZ,g[0],g[1],g[2],v,x,k)}},{key:"roll",value:function(r){var n=this._getLocalAxes(),r=o.default.Quat.fromAxisAngle(this._renderer._pInst._toRadians(r),n.z[0],n.z[1],n.z[2]).rotateVector(new o.default.Vector(this.upX,this.upY,this.upZ));this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,r.x,r.y,r.z)}},{key:"pan",value:function(m){var n=this._getLocalAxes();this._rotateView(m,n.y[0],n.y[1],n.y[2])}},{key:"tilt",value:function(m){var n=this._getLocalAxes();this._rotateView(m,n.x[0],n.x[1],n.x[2])}},{key:"lookAt",value:function(m,n,r){this.camera(this.eyeX,this.eyeY,this.eyeZ,m,n,r,this.upX,this.upY,this.upZ)}},{key:"camera",value:function(m,n,r,c,a,h,u,l,g){return m===void 0&&(m=this.defaultEyeX,n=this.defaultEyeY,r=this.defaultEyeZ,c=m,a=n,l=1,g=u=h=0),this.eyeX=m,this.eyeY=n,this.eyeZ=r,c!==void 0&&(this.centerX=c,this.centerY=a,this.centerZ=h),u!==void 0&&(this.upX=u,this.upY=l,this.upZ=g),c=this._getLocalAxes(),this.cameraMatrix.set(c.x[0],c.y[0],c.z[0],0,c.x[1],c.y[1],c.z[1],0,c.x[2],c.y[2],c.z[2],0,0,0,0,1),a=-m,this.cameraMatrix.translate([a,-n,-r]),this._isActive()&&this._renderer.uViewMatrix.set(this.cameraMatrix),this}},{key:"move",value:function(c,a,r){var h=this._getLocalAxes(),c=[h.x[0]*c,h.x[1]*c,h.x[2]*c],a=[h.y[0]*a,h.y[1]*a,h.y[2]*a],h=[h.z[0]*r,h.z[1]*r,h.z[2]*r];this.camera(this.eyeX+c[0]+a[0]+h[0],this.eyeY+c[1]+a[1]+h[1],this.eyeZ+c[2]+a[2]+h[2],this.centerX+c[0]+a[0]+h[0],this.centerY+c[1]+a[1]+h[1],this.centerZ+c[2]+a[2]+h[2],this.upX,this.upY,this.upZ)}},{key:"setPosition",value:function(m,n,r){var c=m-this.eyeX,a=n-this.eyeY,h=r-this.eyeZ;this.camera(m,n,r,this.centerX+c,this.centerY+a,this.centerZ+h,this.upX,this.upY,this.upZ)}},{key:"set",value:function(m){for(var n=0,r=["eyeX","eyeY","eyeZ","centerX","centerY","centerZ","upX","upY","upZ","cameraFOV","aspectRatio","cameraNear","cameraFar","cameraType","yScale","useLinePerspective"];n<r.length;n++){var c=r[n];this[c]=m[c]}this.cameraMatrix=m.cameraMatrix.copy(),this.projMatrix=m.projMatrix.copy(),this._isActive()&&(this._renderer.uModelMatrix.reset(),this._renderer.uViewMatrix.set(this.cameraMatrix),this._renderer.uPMatrix.set(this.projMatrix))}},{key:"slerp",value:function(m,n,r){var c,a,h,u,l,g,v,x,k,E,j,C,L,A,P,R,I,N;r===0?this.set(m):r===1?this.set(n):(this.projMatrix.mat4[15]!==0&&(this.projMatrix.mat4[0]=m.projMatrix.mat4[0]*Math.pow(n.projMatrix.mat4[0]/m.projMatrix.mat4[0],r),this.projMatrix.mat4[5]=m.projMatrix.mat4[5]*Math.pow(n.projMatrix.mat4[5]/m.projMatrix.mat4[5],r),this._isActive()&&(this._renderer.uPMatrix.mat4=this.projMatrix.mat4.slice())),u=new o.default.Vector(m.eyeX,m.eyeY,m.eyeZ),l=new o.default.Vector(n.eyeX,n.eyeY,n.eyeZ),R=new o.default.Vector(m.centerX,m.centerY,m.centerZ),N=new o.default.Vector(n.centerX,n.centerY,n.centerZ),h=o.default.Vector.dist(u,R),c=o.default.Vector.dist(l,N),c=h*Math.pow(c/h,r),h=o.default.Vector.sub(u,l),a=1,1e-6<(I=(A=u.copy().sub(l).sub(R).add(N)).magSq())&&(a=o.default.Vector.dot(h,A)/I,a=Math.max(0,Math.min(a,1))),h=o.default.Vector.lerp(o.default.Vector.lerp(u,R,a),o.default.Vector.lerp(l,N,a),r),A=m.cameraMatrix.createSubMatrix3x3(),I=n.cameraMatrix.createSubMatrix3x3(),u=A.row(2),R=I.row(2),l=A.row(1),N=I.row(1),m=new o.default.Vector,n=new o.default.Vector,g=new o.default.Vector,v=new o.default.Vector,1-(x=.5*((A=(I=I.mult3x3(A.copy().transpose3x3())).diagonal())[0]+A[1]+A[2]-1))<1e-7?(m.set(o.default.Vector.lerp(u,R,r)).normalize(),g.set(m).mult(a*c).add(h),v.set(m).mult((a-1)*c).add(h),n.set(o.default.Vector.lerp(l,N,r)).normalize()):(R=1/(1-x),N=Math.max(A[0],A[1],A[2]),C=I.mat3[1]+I.mat3[3],L=I.mat3[2]+I.mat3[6],P=I.mat3[5]+I.mat3[7],N=N===A[0]?(E=.5*C*(R/=k=Math.sqrt((A[0]-x)*R)),j=.5*L*R,.5*(I.mat3[7]-I.mat3[5])/k):N===A[1]?(j=.5*P*(R/=E=Math.sqrt((A[1]-x)*R)),k=.5*C*R,.5*(I.mat3[2]-I.mat3[6])/E):(k=.5*L*(R/=j=Math.sqrt((A[2]-x)*R)),E=.5*P*R,.5*(I.mat3[3]-I.mat3[1])/j),C=r*Math.atan2(N,x),L=Math.cos(C),A=Math.sin(C),(N=new o.default.Matrix("mat3",[L+(P=1-L)*k*k,P*(R=k*E)+A*j,P*(I=j*k)-A*E,P*R-A*j,L+P*E*E,P*(r=E*j)+A*k,P*I+A*E,P*r-A*k,L+P*j*j])).multiplyVec3(u,m),g.set(m).mult(a*c).add(h),v.set(m).mult((a-1)*c).add(h),N.multiplyVec3(l,n)),this.camera(g.x,g.y,g.z,v.x,v.y,v.z,n.x,n.y,n.z))}},{key:"_computeCameraDefaultSettings",value:function(){this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=800,this.defaultCameraFOV=2*Math.atan(this._renderer.height/2/this.defaultEyeZ),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ}},{key:"_setDefaultCamera",value:function(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"}},{key:"_resize",value:function(){this.cameraType==="default"&&(this._computeCameraDefaultSettings(),this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.perspective())}},{key:"copy",value:function(){var m=new o.default.Camera(this._renderer);return m.cameraFOV=this.cameraFOV,m.aspectRatio=this.aspectRatio,m.eyeX=this.eyeX,m.eyeY=this.eyeY,m.eyeZ=this.eyeZ,m.centerX=this.centerX,m.centerY=this.centerY,m.centerZ=this.centerZ,m.upX=this.upX,m.upY=this.upY,m.upZ=this.upZ,m.cameraNear=this.cameraNear,m.cameraFar=this.cameraFar,m.cameraType=this.cameraType,m.useLinePerspective=this.useLinePerspective,m.cameraMatrix=this.cameraMatrix.copy(),m.projMatrix=this.projMatrix.copy(),m.yScale=this.yScale,m}},{key:"_getLocalAxes",value:function(){var m=this.eyeX-this.centerX,n=this.eyeY-this.centerY,r=this.eyeZ-this.centerZ,u=Math.sqrt(m*m+n*n+r*r),u=(u!==0&&(m/=u,n/=u,r/=u),this.upX),c=(l=this.upY)*r-(g=this.upZ)*n,a=-u*r+g*m,h=u*n-l*m,u=n*h-r*a,l=-m*h+r*c,g=m*a-n*c,v=Math.sqrt(c*c+a*a+h*h),v=(v!==0&&(c/=v,a/=v,h/=v),Math.sqrt(u*u+l*l+g*g));return v!==0&&(u/=v,l/=v,g/=v),{x:[c,a,h],y:[u,l,g],z:[m,n,r]}}},{key:"_orbit",value:function(m,v,g){var a=this.eyeX-this.centerX,h=this.eyeY-this.centerY,u=this.eyeZ-this.centerZ,c=Math.hypot(a,h,u),a=new o.default.Vector(a,h,u).normalize(),h=new o.default.Vector(this.upX,this.upY,this.upZ).normalize(),u=o.default.Vector.cross(h,a).normalize(),l=o.default.Vector.cross(u,h),g=((c=(c*=Math.pow(10,g))<this.cameraNear?this.cameraNear:c)>this.cameraFar&&(c=this.cameraFar),Math.acos(Math.max(-1,Math.min(1,o.default.Vector.dot(a,h))))+v),v=m;(g<=0||g>=Math.PI)&&(this.upX*=-1,this.upY*=-1,this.upZ*=-1),h.mult(Math.cos(g)),l.mult(Math.cos(v)*Math.sin(g)),u.mult(Math.sin(v)*Math.sin(g)),a.set(h).add(l).add(u),this.eyeX=c*a.x+this.centerX,this.eyeY=c*a.y+this.centerY,this.eyeZ=c*a.z+this.centerZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,this.upX,this.upY,this.upZ)}},{key:"_orbitFree",value:function(g,v,k){var a=this.eyeX-this.centerX,h=this.eyeY-this.centerY,u=this.eyeZ-this.centerZ,c=Math.hypot(a,h,u),a=new o.default.Vector(a,h,u).normalize(),h=new o.default.Vector(this.upX,this.upY,this.upZ),u=o.default.Vector.cross(h,a).normalize(),l=o.default.Vector.cross(a,u),E=Math.atan2(v,g),E=(l.mult(Math.sin(E)),u.mult(Math.cos(E)).add(l),Math.sqrt(g*g+v*v)),l=o.default.Vector.cross(a,u),g=((c=(c*=Math.pow(10,k))<this.cameraNear?this.cameraNear:c)>this.cameraFar&&(c=this.cameraFar),Math.cos(E)),v=Math.sin(E),k=h.dot(a),E=h.dot(u),x=k*g+E*v,k=-k*v+E*g,E=h.dot(l);h.x=x*a.x+k*u.x+E*l.x,h.y=x*a.y+k*u.y+E*l.y,h.z=x*a.z+k*u.z+E*l.z,u.mult(-v),a.mult(g).add(u).mult(c),this.camera(a.x+this.centerX,a.y+this.centerY,a.z+this.centerZ,this.centerX,this.centerY,this.centerZ,h.x,h.y,h.z)}},{key:"_isActive",value:function(){return this===this._renderer._curCamera}}])&&d(p.prototype,y),s}(),o.default.prototype.setCamera=function(s){this._renderer._curCamera=s,this._renderer.uPMatrix.set(s.projMatrix),this._renderer.uViewMatrix.set(s.cameraMatrix)},t=o.default.Camera,b.default=t},{"../core/main":283,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.string.sub":208}],333:[function(t,S,b){t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.log2"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.log2"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t};function o(d,s){for(var p=0;p<s.length;p++){var y=s[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(d,y.key,y)}}t.default.DataArray=function(){function d(){var y=0<arguments.length&&arguments[0]!==void 0?arguments[0]:128,m=this,n=d;if(!(m instanceof n))throw new TypeError("Cannot call a class as a function");this.length=0,this.data=new Float32Array(y),this.initialLength=y}var s,p;return s=d,(p=[{key:"dataArray",value:function(){return this.subArray(0,this.length)}},{key:"clear",value:function(){this.length=0}},{key:"rescale",value:function(){var y;this.length<this.data.length/2&&(y=1<<Math.ceil(Math.log2(this.length)),(y=new Float32Array(y)).set(this.data.subarray(0,this.length),0),this.data=y)}},{key:"reset",value:function(){this.clear(),this.data=new Float32Array(this.initialLength)}},{key:"push",value:function(){for(var y=arguments.length,m=new Array(y),n=0;n<y;n++)m[n]=arguments[n];this.ensureLength(this.length+m.length),this.data.set(m,this.length),this.length+=m.length}},{key:"slice",value:function(y,m){return this.data.slice(y,Math.min(m,this.length))}},{key:"subArray",value:function(y,m){return this.data.subarray(y,Math.min(m,this.length))}},{key:"ensureLength",value:function(y){for(;this.data.length<y;){var m=new Float32Array(2*this.data.length);m.set(this.data,0),this.data=m}}}])&&o(s.prototype,p),d}(),t=t.default.DataArray,b.default=t},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.log2":177,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239}],334:[function(C,S,b){function o(L){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(L)}function d(L){return(d=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(A){return o(A)}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":o(A)})(L)}C("core-js/modules/es.symbol"),C("core-js/modules/es.symbol.description"),C("core-js/modules/es.symbol.iterator"),C("core-js/modules/es.array.fill"),C("core-js/modules/es.array.includes"),C("core-js/modules/es.array.iterator"),C("core-js/modules/es.object.get-own-property-descriptor"),C("core-js/modules/es.object.get-prototype-of"),C("core-js/modules/es.object.to-string"),C("core-js/modules/es.reflect.construct"),C("core-js/modules/es.reflect.get"),C("core-js/modules/es.regexp.to-string"),C("core-js/modules/es.string.includes"),C("core-js/modules/es.string.iterator"),C("core-js/modules/es.typed-array.float32-array"),C("core-js/modules/es.typed-array.uint8-array"),C("core-js/modules/es.typed-array.uint8-clamped-array"),C("core-js/modules/es.typed-array.copy-within"),C("core-js/modules/es.typed-array.every"),C("core-js/modules/es.typed-array.fill"),C("core-js/modules/es.typed-array.filter"),C("core-js/modules/es.typed-array.find"),C("core-js/modules/es.typed-array.find-index"),C("core-js/modules/es.typed-array.for-each"),C("core-js/modules/es.typed-array.includes"),C("core-js/modules/es.typed-array.index-of"),C("core-js/modules/es.typed-array.iterator"),C("core-js/modules/es.typed-array.join"),C("core-js/modules/es.typed-array.last-index-of"),C("core-js/modules/es.typed-array.map"),C("core-js/modules/es.typed-array.reduce"),C("core-js/modules/es.typed-array.reduce-right"),C("core-js/modules/es.typed-array.reverse"),C("core-js/modules/es.typed-array.set"),C("core-js/modules/es.typed-array.slice"),C("core-js/modules/es.typed-array.some"),C("core-js/modules/es.typed-array.sort"),C("core-js/modules/es.typed-array.subarray"),C("core-js/modules/es.typed-array.to-locale-string"),C("core-js/modules/es.typed-array.to-string"),C("core-js/modules/es.weak-map"),C("core-js/modules/web.dom-collections.iterator"),C("core-js/modules/es.array.fill"),C("core-js/modules/es.array.includes"),C("core-js/modules/es.array.iterator"),C("core-js/modules/es.object.get-prototype-of"),C("core-js/modules/es.object.to-string"),C("core-js/modules/es.string.includes"),C("core-js/modules/es.typed-array.float32-array"),C("core-js/modules/es.typed-array.uint8-array"),C("core-js/modules/es.typed-array.uint8-clamped-array"),C("core-js/modules/es.typed-array.copy-within"),C("core-js/modules/es.typed-array.every"),C("core-js/modules/es.typed-array.fill"),C("core-js/modules/es.typed-array.filter"),C("core-js/modules/es.typed-array.find"),C("core-js/modules/es.typed-array.find-index"),C("core-js/modules/es.typed-array.for-each"),C("core-js/modules/es.typed-array.includes"),C("core-js/modules/es.typed-array.index-of"),C("core-js/modules/es.typed-array.iterator"),C("core-js/modules/es.typed-array.join"),C("core-js/modules/es.typed-array.last-index-of"),C("core-js/modules/es.typed-array.map"),C("core-js/modules/es.typed-array.reduce"),C("core-js/modules/es.typed-array.reduce-right"),C("core-js/modules/es.typed-array.reverse"),C("core-js/modules/es.typed-array.set"),C("core-js/modules/es.typed-array.slice"),C("core-js/modules/es.typed-array.some"),C("core-js/modules/es.typed-array.sort"),C("core-js/modules/es.typed-array.subarray"),C("core-js/modules/es.typed-array.to-locale-string"),C("core-js/modules/es.typed-array.to-string"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var s=(j=C("../core/main"))&&j.__esModule?j:{default:j},p=function(L){if(L&&L.__esModule)return L;if(L===null||d(L)!=="object"&&typeof L!="function")return{default:L};var A=n();if(A&&A.has(L))return A.get(L);var P,R={},I=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(P in L){var N;Object.prototype.hasOwnProperty.call(L,P)&&((N=I?Object.getOwnPropertyDescriptor(L,P):null)&&(N.get||N.set)?Object.defineProperty(R,P,N):R[P]=L[P])}return R.default=L,A&&A.set(L,R),R}(C("../core/constants")),y=C("./p5.Texture"),m=C("./p5.RendererGL");function n(){var L;return typeof WeakMap!="function"?null:(L=new WeakMap,n=function(){return L},L)}function r(L,A){return function(P){if(Array.isArray(P))return P}(L)||function(P,R){if(Symbol.iterator in Object(P)||Object.prototype.toString.call(P)==="[object Arguments]"){var I=[],N=!0,z=!1,G=void 0;try{for(var W,H=P[Symbol.iterator]();!(N=(W=H.next()).done)&&(I.push(W.value),!R||I.length!==R);N=!0);}catch(Z){z=!0,G=Z}finally{try{N||H.return==null||H.return()}finally{if(z)throw G}}return I}}(L,A)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function c(L,A,P){return A in L?Object.defineProperty(L,A,{value:P,enumerable:!0,configurable:!0,writable:!0}):L[A]=P,L}function a(L,A){if(!(L instanceof A))throw new TypeError("Cannot call a class as a function")}function h(L,A){for(var P=0;P<A.length;P++){var R=A[P];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(L,R.key,R)}}function u(L,A,P){A&&h(L.prototype,A)}function l(L,A,P){return(l=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(z,I,N){var z=function(G,W){for(;!Object.prototype.hasOwnProperty.call(G,W)&&(G=x(G))!==null;);return G}(z,I);if(z)return(z=Object.getOwnPropertyDescriptor(z,I)).get?z.get.call(N):z.value})(L,A,P||L)}function g(L,A){return(g=Object.setPrototypeOf||function(P,R){return P.__proto__=R,P})(L,A)}function v(L){return function(){var A,P=x(L),P=(A=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(A=x(this).constructor,Reflect.construct(P,arguments,A)):P.apply(this,arguments),this);if(!A||d(A)!=="object"&&typeof A!="function"){if(P!==void 0)return P;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return A}}function x(L){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(A){return A.__proto__||Object.getPrototypeOf(A)})(L)}var k=function(L){var A=R;if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(L&&L.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),L&&g(A,L);var P=v(R);function R(I){var N;return a(this,R),(N=P.call(this,I.target._renderer)).fbo=I,N.yScale=-1,N}return u(R,[{key:"_computeCameraDefaultSettings",value:function(){l(x(R.prototype),"_computeCameraDefaultSettings",this).call(this),this.defaultAspectRatio=this.fbo.width/this.fbo.height,this.defaultCameraFOV=2*Math.atan(this.fbo.height/2/this.defaultEyeZ)}}]),R}(s.default.Camera),E=(s.default.FramebufferCamera=k,function(){function L(A,P){a(this,L),this.framebuffer=A,this.property=P}return u(L,[{key:"rawTexture",value:function(){return this.framebuffer[this.property]}},{key:"width",get:function(){return this.framebuffer.width*this.framebuffer.density}},{key:"height",get:function(){return this.framebuffer.height*this.framebuffer.density}}]),L}()),j=(s.default.FramebufferTexture=E,function(){function L(A){var P=this,R=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},I=(a(this,L),this.target=A,this.target._renderer.framebuffers.add(this),this._isClipApplied=!1,this.pixels=[],this.format=R.format||p.UNSIGNED_BYTE,this.channels=R.channels||(A._renderer._pInst._glAttributes.alpha?p.RGBA:p.RGB),this.useDepth=R.depth===void 0||R.depth,this.depthFormat=R.depthFormat||p.FLOAT,this.textureFiltering=R.textureFiltering||p.LINEAR,R.antialias===void 0?this.antialiasSamples=A._renderer._pInst._glAttributes.antialias?2:0:typeof R.antialias=="number"?this.antialiasSamples=R.antialias:this.antialiasSamples=R.antialias?2:0,this.antialias=0<this.antialiasSamples,this.antialias&&A.webglVersion!==p.WEBGL2&&(console.warn("Antialiasing is unsupported in a WebGL 1 context"),this.antialias=!1),this.density=R.density||A.pixelDensity(),A._renderer.GL);if(this.gl=I,R.width&&R.height?(N=A._renderer._adjustDimensions(R.width,R.height),this.width=N.adjustedWidth,this.height=N.adjustedHeight,this._autoSized=!1):(R.width===void 0!=(R.height===void 0)&&console.warn("Please supply both width and height for a framebuffer to give it a size. Only one was given, so the framebuffer will match the size of its canvas."),this.width=A.width,this.height=A.height,this._autoSized=!0),this._checkIfFormatsAvailable(),R.stencil&&!this.useDepth&&console.warn("A stencil buffer can only be used if also using depth. Since the framebuffer has no depth buffer, the stencil buffer will be ignored."),this.useStencil=this.useDepth&&(R.stencil===void 0||R.stencil),this.framebuffer=I.createFramebuffer(),!this.framebuffer)throw new Error("Unable to create a framebuffer");if(this.antialias&&(this.aaFramebuffer=I.createFramebuffer(),!this.aaFramebuffer))throw new Error("Unable to create a framebuffer for antialiasing");this._recreateTextures();var N=this.target._renderer._curCamera;this.defaultCamera=this.createCamera(),this.filterCamera=this.createCamera(),this.target._renderer._curCamera=N,this.draw(function(){return P.target.clear()})}return u(L,[{key:"resize",value:function(A,P){this._autoSized=!1;var R=this.target._renderer._adjustDimensions(A,P);A=R.adjustedWidth,P=R.adjustedHeight,this.width=A,this.height=P,this._handleResize()}},{key:"pixelDensity",value:function(A){if(!A)return this.density;this._autoSized=!1,this.density=A,this._handleResize()}},{key:"autoSized",value:function(A){if(A===void 0)return this._autoSized;this._autoSized=A,this._handleResize()}},{key:"_checkIfFormatsAvailable",value:function(){var A=this.gl,A=(this.useDepth&&this.target.webglVersion===p.WEBGL&&!A.getExtension("WEBGL_depth_texture")&&(console.warn("Unable to create depth textures in this environment. Falling back to a framebuffer without depth."),this.useDepth=!1),this.useDepth&&this.target.webglVersion===p.WEBGL&&this.depthFormat===p.FLOAT&&(console.warn("FLOAT depth format is unavailable in WebGL 1. Defaulting to UNSIGNED_INT."),this.depthFormat=p.UNSIGNED_INT),[p.UNSIGNED_BYTE,p.FLOAT,p.HALF_FLOAT].includes(this.format)||(console.warn("Unknown Framebuffer format. Please use UNSIGNED_BYTE, FLOAT, or HALF_FLOAT. Defaulting to UNSIGNED_BYTE."),this.format=p.UNSIGNED_BYTE),this.useDepth&&![p.UNSIGNED_INT,p.FLOAT].includes(this.depthFormat)&&(console.warn("Unknown Framebuffer depth format. Please use UNSIGNED_INT or FLOAT. Defaulting to FLOAT."),this.depthFormat=p.FLOAT),(0,y.checkWebGLCapabilities)(this.target._renderer));A.float||this.format!==p.FLOAT||(console.warn("This environment does not support FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=p.UNSIGNED_BYTE),this.useDepth&&!A.float&&this.depthFormat===p.FLOAT&&(console.warn("This environment does not support FLOAT depth textures. Falling back to UNSIGNED_INT."),this.depthFormat=p.UNSIGNED_INT),A.halfFloat||this.format!==p.HALF_FLOAT||(console.warn("This environment does not support HALF_FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=p.UNSIGNED_BYTE),this.channels===p.RGB&&[p.FLOAT,p.HALF_FLOAT].includes(this.format)&&(console.warn("FLOAT and HALF_FLOAT formats do not work cross-platform with only RGB channels. Falling back to RGBA."),this.channels=p.RGBA)}},{key:"_recreateTextures",value:function(){var A=this.gl,P=(this._updateSize(),A.getParameter(A.TEXTURE_BINDING_2D)),R=A.getParameter(A.FRAMEBUFFER_BINDING),I=A.createTexture();if(!I)throw new Error("Unable to create color texture");A.bindTexture(A.TEXTURE_2D,I);var N=this._glColorFormat();if(A.texImage2D(A.TEXTURE_2D,0,N.internalFormat,this.width*this.density,this.height*this.density,0,N.format,N.type,null),this.colorTexture=I,A.bindFramebuffer(A.FRAMEBUFFER,this.framebuffer),A.framebufferTexture2D(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.TEXTURE_2D,I,0),this.useDepth){var I=A.createTexture();if(!I)throw new Error("Unable to create depth texture");var z=this._glDepthFormat();A.bindTexture(A.TEXTURE_2D,I),A.texImage2D(A.TEXTURE_2D,0,z.internalFormat,this.width*this.density,this.height*this.density,0,z.format,z.type,null),A.framebufferTexture2D(A.FRAMEBUFFER,this.useStencil?A.DEPTH_STENCIL_ATTACHMENT:A.DEPTH_ATTACHMENT,A.TEXTURE_2D,I,0),this.depthTexture=I}this.antialias&&(this.colorRenderbuffer=A.createRenderbuffer(),A.bindRenderbuffer(A.RENDERBUFFER,this.colorRenderbuffer),A.renderbufferStorageMultisample(A.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,A.getParameter(A.MAX_SAMPLES))),N.internalFormat,this.width*this.density,this.height*this.density),this.useDepth&&(z=this._glDepthFormat(),this.depthRenderbuffer=A.createRenderbuffer(),A.bindRenderbuffer(A.RENDERBUFFER,this.depthRenderbuffer),A.renderbufferStorageMultisample(A.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,A.getParameter(A.MAX_SAMPLES))),z.internalFormat,this.width*this.density,this.height*this.density)),A.bindFramebuffer(A.FRAMEBUFFER,this.aaFramebuffer),A.framebufferRenderbuffer(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.RENDERBUFFER,this.colorRenderbuffer),this.useDepth&&A.framebufferRenderbuffer(A.FRAMEBUFFER,this.useStencil?A.DEPTH_STENCIL_ATTACHMENT:A.DEPTH_ATTACHMENT,A.RENDERBUFFER,this.depthRenderbuffer)),this.useDepth&&(this.depth=new E(this,"depthTexture"),I=A.NEAREST,this.depthP5Texture=new s.default.Texture(this.target._renderer,this.depth,{minFilter:I,magFilter:I}),this.target._renderer.textures.set(this.depth,this.depthP5Texture)),this.color=new E(this,"colorTexture"),N=this.textureFiltering===p.LINEAR?A.LINEAR:A.NEAREST,this.colorP5Texture=new s.default.Texture(this.target._renderer,this.color,{minFilter:N,magFilter:N}),this.target._renderer.textures.set(this.color,this.colorP5Texture),A.bindTexture(A.TEXTURE_2D,P),A.bindFramebuffer(A.FRAMEBUFFER,R)}},{key:"_glColorFormat",value:function(){var A,P,R=this.gl,I=this.format===p.FLOAT?R.FLOAT:this.format===p.HALF_FLOAT?this.target.webglVersion===p.WEBGL2?R.HALF_FLOAT:R.getExtension("OES_texture_half_float").HALF_FLOAT_OES:R.UNSIGNED_BYTE,N=this.channels===p.RGBA?R.RGBA:R.RGB;return{internalFormat:this.target.webglVersion===p.WEBGL2?(c(P={},R.FLOAT,c({},R.RGBA,R.RGBA32F)),c(P,R.HALF_FLOAT,c({},R.RGBA,R.RGBA16F)),c(P,R.UNSIGNED_BYTE,(c(A={},R.RGBA,R.RGBA8),c(A,R.RGB,R.RGB8),A)),P[I][N]):this.format===p.HALF_FLOAT?R.RGBA:N,format:N,type:I}}},{key:"_glDepthFormat",value:function(){var R=this.gl,A=this.useStencil?this.depthFormat===p.FLOAT?R.FLOAT_32_UNSIGNED_INT_24_8_REV:this.target.webglVersion===p.WEBGL2?R.UNSIGNED_INT_24_8:R.getExtension("WEBGL_depth_texture").UNSIGNED_INT_24_8_WEBGL:this.depthFormat===p.FLOAT?R.FLOAT:R.UNSIGNED_INT,P=this.useStencil?R.DEPTH_STENCIL:R.DEPTH_COMPONENT,R=this.useStencil?this.depthFormat===p.FLOAT?R.DEPTH32F_STENCIL8:this.target.webglVersion===p.WEBGL2?R.DEPTH24_STENCIL8:R.DEPTH_STENCIL:this.target.webglVersion===p.WEBGL2?this.depthFormat===p.FLOAT?R.DEPTH_COMPONENT32F:R.DEPTH_COMPONENT24:R.DEPTH_COMPONENT;return{internalFormat:R,format:P,type:A}}},{key:"_updateSize",value:function(){this._autoSized&&(this.width=this.target.width,this.height=this.target.height,this.density=this.target.pixelDensity())}},{key:"_canvasSizeChanged",value:function(){this._autoSized&&this._handleResize()}},{key:"_handleResize",value:function(){var I=this.color,A=this.depth,P=this.colorRenderbuffer,R=this.depthRenderbuffer,I=(this._deleteTexture(I),A&&this._deleteTexture(A),this.gl);P&&I.deleteRenderbuffer(P),R&&I.deleteRenderbuffer(R),this._recreateTextures(),this.defaultCamera._resize()}},{key:"createCamera",value:function(){var A=new k(this);return A._computeCameraDefaultSettings(),A._setDefaultCamera(),this.target._renderer._curCamera=A}},{key:"_deleteTexture",value:function(A){this.gl.deleteTexture(A.rawTexture()),this.target._renderer.textures.delete(A)}},{key:"remove",value:function(){var A=this.gl;this._deleteTexture(this.color),this.depth&&this._deleteTexture(this.depth),A.deleteFramebuffer(this.framebuffer),this.aaFramebuffer&&A.deleteFramebuffer(this.aaFramebuffer),this.depthRenderbuffer&&A.deleteRenderbuffer(this.depthRenderbuffer),this.colorRenderbuffer&&A.deleteRenderbuffer(this.colorRenderbuffer),this.target._renderer.framebuffers.delete(this)}},{key:"begin",value:function(){this.prevFramebuffer=this.target._renderer.activeFramebuffer(),this.prevFramebuffer&&this.prevFramebuffer._beforeEnd(),this.target._renderer.activeFramebuffers.push(this),this._beforeBegin(),this.target.push(),this.target.setCamera(this.defaultCamera),this.target.resetMatrix(),this.target._renderer.uViewMatrix.set(this.target._renderer._curCamera.cameraMatrix),this.target._renderer.uModelMatrix.reset(),this.target._renderer._applyStencilTestIfClipping()}},{key:"_framebufferToBind",value:function(){return this.antialias?this.aaFramebuffer:this.framebuffer}},{key:"_beforeBegin",value:function(){var A=this.gl;A.bindFramebuffer(A.FRAMEBUFFER,this._framebufferToBind()),this.target._renderer.viewport(this.width*this.density,this.height*this.density)}},{key:"_beforeEnd",value:function(){if(this.antialias){var A=this.gl,P=(A.bindFramebuffer(A.READ_FRAMEBUFFER,this.aaFramebuffer),A.bindFramebuffer(A.DRAW_FRAMEBUFFER,this.framebuffer),[[A.COLOR_BUFFER_BIT,this.colorP5Texture.glMagFilter]]);this.useDepth&&P.push([A.DEPTH_BUFFER_BIT,this.depthP5Texture.glMagFilter]);for(var R=0,I=P;R<I.length;R++){var z=r(I[R],2),N=z[0],z=z[1];A.blitFramebuffer(0,0,this.width*this.density,this.height*this.density,0,0,this.width*this.density,this.height*this.density,N,z)}}}},{key:"end",value:function(){var A=this.gl;if(this.target.pop(),this.target._renderer.activeFramebuffers.pop()!==this)throw new Error("It looks like you've called end() while another Framebuffer is active.");this._beforeEnd(),this.prevFramebuffer?this.prevFramebuffer._beforeBegin():(A.bindFramebuffer(A.FRAMEBUFFER,null),this.target._renderer.viewport(this.target._renderer._origViewport.width,this.target._renderer._origViewport.height)),this.target._renderer._applyStencilTestIfClipping()}},{key:"draw",value:function(A){this.begin(),A(),this.end()}},{key:"loadPixels",value:function(){var A=this.gl,P=this.target._renderer.activeFramebuffer(),R=(A.bindFramebuffer(A.FRAMEBUFFER,this.framebuffer),this._glColorFormat());this.pixels=(0,m.readPixelsWebGL)(this.pixels,A,this.framebuffer,0,0,this.width*this.density,this.height*this.density,R.format,R.type),P?A.bindFramebuffer(A.FRAMEBUFFER,P._framebufferToBind()):A.bindFramebuffer(A.FRAMEBUFFER,null)}},{key:"get",value:function(A,P,R,I){s.default._validateParameters("p5.Framebuffer.get",arguments);var N=this._glColorFormat();if(A===void 0&&P===void 0)P=A=0,R=this.width,I=this.height;else if(R===void 0&&I===void 0)return(A<0||P<0||A>=this.width||P>=this.height)&&(console.warn("The x and y values passed to p5.Framebuffer.get are outside of its range and will be clamped."),A=this.target.constrain(A,0,this.width-1),P=this.target.constrain(P,0,this.height-1)),(0,m.readPixelWebGL)(this.gl,this.framebuffer,A*this.density,P*this.density,N.format,N.type);A=this.target.constrain(A,0,this.width-1),P=this.target.constrain(P,0,this.height-1),R=this.target.constrain(R,1,this.width-A),I=this.target.constrain(I,1,this.height-P);for(var z=(0,m.readPixelsWebGL)(void 0,this.gl,this.framebuffer,A*this.density,P*this.density,R*this.density,I*this.density,N.format,N.type),G=new Uint8ClampedArray(R*I*this.density*this.density*4),W=(G.fill(255),N.type===this.gl.RGB?3:4),H=0;H<I*this.density;H++)for(var Z=0;Z<R*this.density;Z++)for(var Y=0;Y<4;Y++){var Q,M=4*(H*R*this.density+Z)+Y;Y<W&&(Q=W==4?M:(H*R*this.density+Z)*W+Y,G[M]=z[Q])}return A=new s.default.Image(R*this.density,I*this.density),A.imageData=A.canvas.getContext("2d").createImageData(A.width,A.height),A.imageData.data.set(G),A.pixels=A.imageData.data,A.updatePixels(),this.density!==1&&A.resize(R,I),A}},{key:"updatePixels",value:function(){var A=this.gl,P=(this.colorP5Texture.bindTexture(),this._glColorFormat()),R=P.format===A.RGBA?4:3,R=this.width*this.height*this.density*this.density*R,I=P.type===A.UNSIGNED_BYTE?Uint8Array:Float32Array;if(!(this.pixels instanceof I)||this.pixels.length!==R)throw new Error("The pixels array has not been set correctly. Please call loadPixels() before updatePixels().");A.texImage2D(A.TEXTURE_2D,0,P.internalFormat,this.width*this.density,this.height*this.density,0,P.format,P.type,this.pixels),this.colorP5Texture.unbindTexture(),I=this.target._renderer.activeFramebuffer(),this.antialias?(this.begin(),this.target.push(),this.target.imageMode(this.target.CENTER),this.target.resetMatrix(),this.target.noStroke(),this.target.clear(),this.target.image(this,0,0),this.target.pop(),this.useDepth&&(A.clearDepth(1),A.clear(A.DEPTH_BUFFER_BIT)),this.end()):(A.bindFramebuffer(A.FRAMEBUFFER,this.framebuffer),this.useDepth&&(A.clearDepth(1),A.clear(A.DEPTH_BUFFER_BIT)),I?A.bindFramebuffer(A.FRAMEBUFFER,I._framebufferToBind()):A.bindFramebuffer(A.FRAMEBUFFER,null))}}]),L}()),C=s.default.Framebuffer=j;b.default=C},{"../core/constants":272,"../core/main":283,"./p5.RendererGL":341,"./p5.Texture":343,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.typed-array.uint8-clamped-array":243,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],335:[function(t,S,b){function o(a){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(a)}function d(a){return(d=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(h){return o(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":o(h)})(a)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.flat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.unscopables.flat"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.entries"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.flat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.unscopables.flat"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.sub"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var s=(c=t("../core/main"))&&c.__esModule?c:{default:c},p=function(a){if(a&&a.__esModule)return a;if(a===null||d(a)!=="object"&&typeof a!="function")return{default:a};var h=y();if(h&&h.has(a))return h.get(a);var u,l={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in a){var v;Object.prototype.hasOwnProperty.call(a,u)&&((v=g?Object.getOwnPropertyDescriptor(a,u):null)&&(v.get||v.set)?Object.defineProperty(l,u,v):l[u]=a[u])}return l.default=a,h&&h.set(a,l),l}(t("../core/constants"));function y(){var a;return typeof WeakMap!="function"?null:(a=new WeakMap,y=function(){return a},a)}function m(a){return function(h){if(Array.isArray(h)){for(var u=0,l=new Array(h.length);u<h.length;u++)l[u]=h[u];return l}}(a)||function(h){if(Symbol.iterator in Object(h)||Object.prototype.toString.call(h)==="[object Arguments]")return Array.from(h)}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function n(a,h){return function(u){if(Array.isArray(u))return u}(a)||function(u,l){if(Symbol.iterator in Object(u)||Object.prototype.toString.call(u)==="[object Arguments]"){var g=[],v=!0,x=!1,k=void 0;try{for(var E,j=u[Symbol.iterator]();!(v=(E=j.next()).done)&&(g.push(E.value),!l||g.length!==l);v=!0);}catch(C){x=!0,k=C}finally{try{v||j.return==null||j.return()}finally{if(x)throw k}}return g}}(a,h)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function r(a,h){for(var u=0;u<h.length;u++){var l=h[u];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(a,l.key,l)}}s.default.Geometry=function(){function a(l,g,v){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.vertices=[],this.boundingBoxCache=null,this.lineVertices=new s.default.DataArray,this.lineTangentsIn=new s.default.DataArray,this.lineTangentsOut=new s.default.DataArray,this.lineSides=new s.default.DataArray,this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.vertexColors=[],this.vertexStrokeColors=[],this.lineVertexColors=new s.default.DataArray,this.detailX=l!==void 0?l:1,this.detailY=g!==void 0?g:1,this.dirtyFlags={},this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,v instanceof Function&&v.call(this)}var h,u;return h=a,(u=[{key:"calculateBoundingBox",value:function(){if(!this.boundingBoxCache){for(var l=new s.default.Vector(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),g=new s.default.Vector(Number.MIN_VALUE,Number.MIN_VALUE,Number.MIN_VALUE),v=0;v<this.vertices.length;v++){var x=this.vertices[v];l.x=Math.min(l.x,x.x),l.y=Math.min(l.y,x.y),l.z=Math.min(l.z,x.z),g.x=Math.max(g.x,x.x),g.y=Math.max(g.y,x.y),g.z=Math.max(g.z,x.z)}var k=new s.default.Vector(g.x-l.x,g.y-l.y,g.z-l.z),E=new s.default.Vector((l.x+g.x)/2,(l.y+g.y)/2,(l.z+g.z)/2);this.boundingBoxCache={min:l,max:g,size:k,offset:E}}return this.boundingBoxCache}},{key:"reset",value:function(){this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear(),this.vertices.length=0,this.edges.length=0,this.vertexColors.length=0,this.vertexStrokeColors.length=0,this.lineVertexColors.clear(),this.vertexNormals.length=0,this.uvs.length=0,this.dirtyFlags={}}},{key:"hasFillTransparency",value:function(){if(this._hasFillTransparency===void 0){this._hasFillTransparency=!1;for(var l=0;l<this.vertexColors.length;l+=4)if(this.vertexColors[l+3]<1){this._hasFillTransparency=!0;break}}return this._hasFillTransparency}},{key:"hasStrokeTransparency",value:function(){if(this._hasStrokeTransparency===void 0){this._hasStrokeTransparency=!1;for(var l=0;l<this.lineVertexColors.length;l+=4)if(this.lineVertexColors[l+3]<1){this._hasStrokeTransparency=!0;break}}return this._hasStrokeTransparency}},{key:"clearColors",value:function(){return this.vertexColors=[],this}},{key:"saveObj",value:function(){var l=this,g=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"model.obj",v="";if(this.vertices.forEach(function(E){v+="v ".concat(E.x," ").concat(E.y," ").concat(E.z,`
`)}),this.uvs&&0<this.uvs.length)for(var x=0;x<this.uvs.length;x+=2)v+="vt ".concat(this.uvs[x]," ").concat(this.uvs[x+1],`
`);this.vertexNormals&&0<this.vertexNormals.length&&this.vertexNormals.forEach(function(E){v+="vn ".concat(E.x," ").concat(E.y," ").concat(E.z,`
`)}),this.faces.forEach(function(E){var j="f";E.forEach(function(C){j=j+" "+(C+1),(0<l.vertexNormals.length||0<l.uvs.length)&&(j+="/",0<l.uvs.length&&(j+=C+1),j+="/",0<l.vertexNormals.length&&(j+=C+1))}),v+=j+`
`});var k=new Blob([v],{type:"text/plain"});s.default.prototype.downloadFile(k,g,"obj")}},{key:"saveStl",value:function(){var l=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"model.stl",g=(1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}).binary,g=g!==void 0&&g,v=l.substring(0,l.lastIndexOf(".")),x=[],k=!0,E=!1,j=void 0;try{for(var C,L=this.faces[Symbol.iterator]();!(k=(C=L.next()).done);k=!0){var A=C.value,P=s.default.Vector.sub(this.vertices[A[1]],this.vertices[A[0]]),R=s.default.Vector.sub(this.vertices[A[2]],this.vertices[A[0]]),I=P.y*R.z-P.z*R.y,N=P.z*R.x-P.x*R.z,z=P.x*R.y-P.y*R.x;x.push(new s.default.Vector(I,N,z).normalize())}}catch(ae){E=!0,j=ae}finally{try{k||L.return==null||L.return()}finally{if(E)throw j}}if(g){var G,W=80,E=2*this.faces.length+3*this.faces.length*4*4+80+4,j=new ArrayBuffer(E);(G=new DataView(j)).setUint32(W,this.faces.length,!0),W+=4;for(var H=0,Z=Object.entries(this.faces);H<Z.length;H++){var Y=n(Z[H],2),M=Y[0],Y=Y[1],M=x[M],Q=(G.setFloat32(W,M.x,!0),W+=4,G.setFloat32(W,M.y,!0),W+=4,G.setFloat32(W,M.z,!0),W+=4,!0),M=!1,B=void 0;try{for(var V,X=Y[Symbol.iterator]();!(Q=(V=X.next()).done);Q=!0){var re=V.value,ne=this.vertices[re];G.setFloat32(W,ne.x,!0),W+=4,G.setFloat32(W,ne.y,!0),W+=4,G.setFloat32(W,ne.z,!0),W+=4}}catch(Oe){M=!0,B=Oe}finally{try{Q||X.return==null||X.return()}finally{if(M)throw B}}G.setUint16(W,0,!0),W+=2}}else{G="solid "+v+`
`;for(var ce=0,be=Object.entries(this.faces);ce<be.length;ce++){var he=n(be[ce],2),ge=he[0],he=he[1],ge=x[ge],le=(G=G+(" facet norm "+ge.x+" "+ge.y+" "+ge.z+`
`)+`  outer loop
`,!0),ge=!1,U=void 0;try{for(var oe,fe=he[Symbol.iterator]();!(le=(oe=fe.next()).done);le=!0){var te=oe.value,ee=this.vertices[te];G+="   vertex "+ee.x+" "+ee.y+" "+ee.z+`
`}}catch(ae){ge=!0,U=ae}finally{try{le||fe.return==null||fe.return()}finally{if(ge)throw U}}G=G+`  endloop
 endfacet
`}G+="endsolid "+v+`
`}g=new Blob([G],{type:"text/plain"}),s.default.prototype.downloadFile(g,l,"stl")}},{key:"flipU",value:function(){this.uvs=this.uvs.flat().map(function(l,g){return g%2==0?1-l:l})}},{key:"flipV",value:function(){this.uvs=this.uvs.flat().map(function(l,g){return g%2==0?l:1-l})}},{key:"computeFaces",value:function(){this.faces.length=0;for(var l,g,v,x=this.detailX+1,k=0;k<this.detailY;k++)for(var E=0;E<this.detailX;E++)g=(k+1)*x+E+1,this.faces.push([k*x+E,l=k*x+E+1,v=(k+1)*x+E]),this.faces.push([v,l,g]);return this}},{key:"_getFaceNormal",value:function(g){var g=this.faces[g],v=this.vertices[g[0]],k=this.vertices[g[1]],g=this.vertices[g[2]],k=s.default.Vector.sub(k,v),g=s.default.Vector.sub(g,v),v=s.default.Vector.cross(k,g),x=s.default.Vector.mag(v),k=x/(s.default.Vector.mag(k)*s.default.Vector.mag(g));return k===0||isNaN(k)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),v):(1<k&&(k=1),v.mult(Math.asin(k)/x))}},{key:"computeNormals",value:function(){var l,g=this,v=0<arguments.length&&arguments[0]!==void 0?arguments[0]:p.FLAT,x=(1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}).roundToPrecision,k=this.vertexNormals,E=this.vertices,j=this.faces;if(v===p.SMOOTH){for(var C={},L=[],A=Math.pow(10,x===void 0?3:x),P=function(G){return Math.round(G*A)/A},R=function(G){return"".concat(P(G.x),",").concat(P(G.y),",").concat(P(G.z))},I=0;I<E.length;I++){var N=E[I],z=R(N);C[z]===void 0&&(C[z]=L.length,L.push(N))}j.forEach(function(G){for(var W=0;W<3;++W){var H=G[W],H=E[H],H=R(H);G[W]=C[H]}}),this.edges.forEach(function(G){for(var W=0;W<2;++W){var H=G[W],H=E[H],H=R(H);G[W]=C[H]}}),this.vertices=E=L}for(l=k.length=0;l<E.length;++l)k.push(new s.default.Vector);for(j.forEach(function(G,W){for(var H=g._getFaceNormal(W),Z=0;Z<3;++Z){var Y=G[Z];k[Y].add(H)}}),l=0;l<E.length;++l)k[l].normalize();return this}},{key:"averageNormals",value:function(){for(var l=0;l<=this.detailY;l++){var g=this.detailX+1,v=s.default.Vector.add(this.vertexNormals[l*g],this.vertexNormals[l*g+this.detailX]),v=s.default.Vector.div(v,2);this.vertexNormals[l*g]=v,this.vertexNormals[l*g+this.detailX]=v}return this}},{key:"averagePoleNormals",value:function(){for(var l=new s.default.Vector(0,0,0),g=0;g<this.detailX;g++)l.add(this.vertexNormals[g]);for(var l=s.default.Vector.div(l,this.detailX),v=0;v<this.detailX;v++)this.vertexNormals[v]=l;l=new s.default.Vector(0,0,0);for(var x=this.vertices.length-1;x>this.vertices.length-1-this.detailX;x--)l.add(this.vertexNormals[x]);l=s.default.Vector.div(l,this.detailX);for(var k=this.vertices.length-1;k>this.vertices.length-1-this.detailX;k--)this.vertexNormals[k]=l;return this}},{key:"_makeTriangleEdges",value:function(){for(var l=this.edges.length=0;l<this.faces.length;l++)this.edges.push([this.faces[l][0],this.faces[l][1]]),this.edges.push([this.faces[l][1],this.faces[l][2]]),this.edges.push([this.faces[l][2],this.faces[l][0]]);return this}},{key:"_edgesToVertices",value:function(){this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear();for(var l,g=new Map,v=new Set,x=0;x<this.edges.length;x++){var k,E=this.edges[x-1],j=this.edges[x],C=this.vertices[j[0]],L=this.vertices[j[1]],A=0<this.vertexStrokeColors.length&&E?this.vertexStrokeColors.slice(4*E[1],4*(E[1]+1)):[0,0,0,0],P=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*j[0],4*(j[0]+1)):[0,0,0,0],R=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*j[1],4*(j[1]+1)):[0,0,0,0],I=L.copy().sub(C).normalize(),N=0<I.magSq();N&&this._addSegment(C,L,P,R,I),0<x&&E[1]===j[0]?v.has(j[0])||(v.add(j[0]),g.delete(j[0]),l&&N&&I.dot(l)<1-1e-8&&this._addJoin(C,l,I,P)):(N&&!v.has(j[0])&&((k=g.get(j[0]))?(this._addJoin(C,k.dir,I,P),g.delete(j[0]),v.add(j[0])):g.set(j[0],{point:C,dir:I.copy().mult(-1),color:P})),l&&!v.has(E[1])&&((k=g.get(E[1]))?(this._addJoin(this.vertices[E[1]],l,k.dir.copy().mult(-1),A),g.delete(E[1]),v.add(E[1])):g.set(E[1],{point:this.vertices[E[1]],dir:l,color:A}),l=void 0)),x!==this.edges.length-1||v.has(j[1])||((C=g.get(j[1]))?(this._addJoin(L,I,C.dir.copy().mult(-1),R),g.delete(j[1]),v.add(j[1])):g.set(j[1],{point:L,dir:I,color:R})),N&&(l=I)}var z=!0,G=!1,W=void 0;try{for(var H,Z=g.values()[Symbol.iterator]();!(z=(H=Z.next()).done);z=!0){var Y=H.value,Q=Y.point,M=Y.dir,B=Y.color;this._addCap(Q,M,B)}}catch(V){G=!0,W=V}finally{try{z||Z.return==null||Z.return()}finally{if(G)throw W}}return this}},{key:"_addSegment",value:function(E,j,v,x,k){var E=E.array(),j=j.array(),C=k.array();this.lineSides.push(1,1,-1,1,-1,-1);for(var L=0,A=[this.lineTangentsIn,this.lineTangentsOut];L<A.length;L++)for(var P=A[L],R=0;R<6;R++)P.push.apply(P,m(C));return(k=this.lineVertices).push.apply(k,m(E).concat(m(j),m(E),m(j),m(j),m(E))),(k=this.lineVertexColors).push.apply(k,m(v).concat(m(x),m(v),m(x),m(x),m(v))),this}},{key:"_addCap",value:function(l,g,v){for(var x,k=l.array(),E=g.array(),j=[0,0,0],C=0;C<6;C++)(x=this.lineVertices).push.apply(x,m(k)),(x=this.lineTangentsIn).push.apply(x,m(E)),(x=this.lineTangentsOut).push.apply(x,j),(x=this.lineVertexColors).push.apply(x,m(v));return this.lineSides.push(-1,2,-2,1,2,-1),this}},{key:"_addJoin",value:function(l,g,v,x){for(var k,E=l.array(),j=g.array(),C=v.array(),L=0;L<12;L++)(k=this.lineVertices).push.apply(k,m(E)),(k=this.lineTangentsIn).push.apply(k,m(j)),(k=this.lineTangentsOut).push.apply(k,m(C)),(k=this.lineVertexColors).push.apply(k,m(x));return this.lineSides.push(-1,-3,-2,-1,0,-3),this.lineSides.push(3,1,2,3,0,1),this}},{key:"normalize",value:function(){if(0<this.vertices.length){for(var l=this.vertices[0].copy(),g=this.vertices[0].copy(),v=0;v<this.vertices.length;v++)l.x=Math.max(l.x,this.vertices[v].x),g.x=Math.min(g.x,this.vertices[v].x),l.y=Math.max(l.y,this.vertices[v].y),g.y=Math.min(g.y,this.vertices[v].y),l.z=Math.max(l.z,this.vertices[v].z),g.z=Math.min(g.z,this.vertices[v].z);for(var x=s.default.Vector.lerp(l,g,.5),k=s.default.Vector.sub(l,g),E=200/Math.max(Math.max(k.x,k.y),k.z),j=0;j<this.vertices.length;j++)this.vertices[j].sub(x),this.vertices[j].mult(E)}return this}}])&&r(h.prototype,u),a}();var c=s.default.Geometry;b.default=c},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array-buffer.constructor":152,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.flat":160,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.unscopables.flat":173,"core-js/modules/es.map":175,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.entries":184,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],336:[function(y,S,b){y("core-js/modules/es.array.iterator"),y("core-js/modules/es.object.to-string"),y("core-js/modules/es.typed-array.float32-array"),y("core-js/modules/es.typed-array.copy-within"),y("core-js/modules/es.typed-array.every"),y("core-js/modules/es.typed-array.fill"),y("core-js/modules/es.typed-array.filter"),y("core-js/modules/es.typed-array.find"),y("core-js/modules/es.typed-array.find-index"),y("core-js/modules/es.typed-array.for-each"),y("core-js/modules/es.typed-array.includes"),y("core-js/modules/es.typed-array.index-of"),y("core-js/modules/es.typed-array.iterator"),y("core-js/modules/es.typed-array.join"),y("core-js/modules/es.typed-array.last-index-of"),y("core-js/modules/es.typed-array.map"),y("core-js/modules/es.typed-array.reduce"),y("core-js/modules/es.typed-array.reduce-right"),y("core-js/modules/es.typed-array.reverse"),y("core-js/modules/es.typed-array.set"),y("core-js/modules/es.typed-array.slice"),y("core-js/modules/es.typed-array.some"),y("core-js/modules/es.typed-array.sort"),y("core-js/modules/es.typed-array.subarray"),y("core-js/modules/es.typed-array.to-locale-string"),y("core-js/modules/es.typed-array.to-string"),y("core-js/modules/es.array.iterator"),y("core-js/modules/es.object.to-string"),y("core-js/modules/es.typed-array.float32-array"),y("core-js/modules/es.typed-array.copy-within"),y("core-js/modules/es.typed-array.every"),y("core-js/modules/es.typed-array.fill"),y("core-js/modules/es.typed-array.filter"),y("core-js/modules/es.typed-array.find"),y("core-js/modules/es.typed-array.find-index"),y("core-js/modules/es.typed-array.for-each"),y("core-js/modules/es.typed-array.includes"),y("core-js/modules/es.typed-array.index-of"),y("core-js/modules/es.typed-array.iterator"),y("core-js/modules/es.typed-array.join"),y("core-js/modules/es.typed-array.last-index-of"),y("core-js/modules/es.typed-array.map"),y("core-js/modules/es.typed-array.reduce"),y("core-js/modules/es.typed-array.reduce-right"),y("core-js/modules/es.typed-array.reverse"),y("core-js/modules/es.typed-array.set"),y("core-js/modules/es.typed-array.slice"),y("core-js/modules/es.typed-array.some"),y("core-js/modules/es.typed-array.sort"),y("core-js/modules/es.typed-array.subarray"),y("core-js/modules/es.typed-array.to-locale-string"),y("core-js/modules/es.typed-array.to-string"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var o=(y=y("../core/main"))&&y.__esModule?y:{default:y};function d(m,n){for(var r=0;r<n.length;r++){var c=n[r];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(m,c.key,c)}}var s=Array,p=function(m){return Array.isArray(m)},y=(typeof Float32Array<"u"&&(s=Float32Array,p=function(m){return Array.isArray(m)||m instanceof Float32Array}),o.default.Matrix=function(){function m(){var a=this,h=m;if(a instanceof h)return arguments.length&&((a=arguments.length-1)<0||arguments.length<=a?void 0:arguments[a])instanceof o.default&&(this.p5=(h=arguments.length-1)<0||arguments.length<=h?void 0:arguments[h]),(arguments.length<=0?void 0:arguments[0])==="mat3"?this.mat3=Array.isArray(arguments.length<=1?void 0:arguments[1])?arguments.length<=1?void 0:arguments[1]:new s([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:new s([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this;throw new TypeError("Cannot call a class as a function")}var n,r,c;return n=m,c=[{key:"identity",value:function(a){return new o.default.Matrix(a)}}],(r=[{key:"reset",value:function(){return this.mat3?this.mat3.set([1,0,0,0,1,0,0,0,1]):this.mat4&&this.mat4.set([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this}},{key:"set",value:function(a){var h=arguments;if(a instanceof o.default.Matrix?h=a.mat4:p(a)&&(h=a),h.length!==16)o.default._friendlyError("Expected 16 values but received ".concat(h.length,"."),"p5.Matrix.set");else for(var u=0;u<16;u++)this.mat4[u]=h[u];return this}},{key:"get",value:function(){return new o.default.Matrix(this.mat4,this.p5)}},{key:"copy",value:function(){var a;return this.mat3!==void 0?((a=new o.default.Matrix("mat3",this.p5)).mat3[0]=this.mat3[0],a.mat3[1]=this.mat3[1],a.mat3[2]=this.mat3[2],a.mat3[3]=this.mat3[3],a.mat3[4]=this.mat3[4],a.mat3[5]=this.mat3[5],a.mat3[6]=this.mat3[6],a.mat3[7]=this.mat3[7],a.mat3[8]=this.mat3[8]):((a=new o.default.Matrix(this.p5)).mat4[0]=this.mat4[0],a.mat4[1]=this.mat4[1],a.mat4[2]=this.mat4[2],a.mat4[3]=this.mat4[3],a.mat4[4]=this.mat4[4],a.mat4[5]=this.mat4[5],a.mat4[6]=this.mat4[6],a.mat4[7]=this.mat4[7],a.mat4[8]=this.mat4[8],a.mat4[9]=this.mat4[9],a.mat4[10]=this.mat4[10],a.mat4[11]=this.mat4[11],a.mat4[12]=this.mat4[12],a.mat4[13]=this.mat4[13],a.mat4[14]=this.mat4[14],a.mat4[15]=this.mat4[15]),a}},{key:"transpose",value:function(a){var h,u,l,g,v,x;return a instanceof o.default.Matrix?(h=a.mat4[1],u=a.mat4[2],l=a.mat4[3],g=a.mat4[6],v=a.mat4[7],x=a.mat4[11],this.mat4[0]=a.mat4[0],this.mat4[1]=a.mat4[4],this.mat4[2]=a.mat4[8],this.mat4[3]=a.mat4[12],this.mat4[4]=h,this.mat4[5]=a.mat4[5],this.mat4[6]=a.mat4[9],this.mat4[7]=a.mat4[13],this.mat4[8]=u,this.mat4[9]=g,this.mat4[10]=a.mat4[10],this.mat4[11]=a.mat4[14],this.mat4[12]=l,this.mat4[13]=v,this.mat4[14]=x,this.mat4[15]=a.mat4[15]):p(a)&&(h=a[1],u=a[2],l=a[3],g=a[6],v=a[7],x=a[11],this.mat4[0]=a[0],this.mat4[1]=a[4],this.mat4[2]=a[8],this.mat4[3]=a[12],this.mat4[4]=h,this.mat4[5]=a[5],this.mat4[6]=a[9],this.mat4[7]=a[13],this.mat4[8]=u,this.mat4[9]=g,this.mat4[10]=a[10],this.mat4[11]=a[14],this.mat4[12]=l,this.mat4[13]=v,this.mat4[14]=x,this.mat4[15]=a[15]),this}},{key:"invert",value:function(z){z instanceof o.default.Matrix?(h=z.mat4[0],u=z.mat4[1],l=z.mat4[2],g=z.mat4[3],v=z.mat4[4],x=z.mat4[5],k=z.mat4[6],E=z.mat4[7],j=z.mat4[8],C=z.mat4[9],L=z.mat4[10],A=z.mat4[11],P=z.mat4[12],R=z.mat4[13],I=z.mat4[14],N=z.mat4[15]):p(z)&&(h=z[0],u=z[1],l=z[2],g=z[3],v=z[4],x=z[5],k=z[6],E=z[7],j=z[8],C=z[9],L=z[10],A=z[11],P=z[12],R=z[13],I=z[14],N=z[15]);var h,u,l,g,v,x,k,E,j,C,L,A,P,R,I,N,z=h*x-u*v,G=h*k-l*v,W=h*E-g*v,H=u*k-l*x,Z=u*E-g*x,Y=l*E-g*k,Q=j*R-C*P,M=j*I-L*P,B=j*N-A*P,V=C*I-L*R,X=C*N-A*R,re=L*N-A*I,ne=z*re-G*X+W*V+H*B-Z*M+Y*Q;return ne?(this.mat4[0]=(x*re-k*X+E*V)*(ne=1/ne),this.mat4[1]=(l*X-u*re-g*V)*ne,this.mat4[2]=(R*Y-I*Z+N*H)*ne,this.mat4[3]=(L*Z-C*Y-A*H)*ne,this.mat4[4]=(k*B-v*re-E*M)*ne,this.mat4[5]=(h*re-l*B+g*M)*ne,this.mat4[6]=(I*W-P*Y-N*G)*ne,this.mat4[7]=(j*Y-L*W+A*G)*ne,this.mat4[8]=(v*X-x*B+E*Q)*ne,this.mat4[9]=(u*B-h*X-g*Q)*ne,this.mat4[10]=(P*Z-R*W+N*z)*ne,this.mat4[11]=(C*W-j*Z-A*z)*ne,this.mat4[12]=(x*M-v*V-k*Q)*ne,this.mat4[13]=(h*V-u*M+l*Q)*ne,this.mat4[14]=(R*G-P*H-I*z)*ne,this.mat4[15]=(j*H-C*G+L*z)*ne,this):null}},{key:"invert3x3",value:function(){var a=this.mat3[0],h=this.mat3[1],u=this.mat3[2],l=this.mat3[3],g=this.mat3[4],v=this.mat3[5],x=this.mat3[6],k=this.mat3[7],E=this.mat3[8],j=E*g-v*k,C=-E*l+v*x,L=k*l-g*x,A=a*j+h*C+u*L;return A?(this.mat3[0]=j*(A=1/A),this.mat3[1]=(-E*h+u*k)*A,this.mat3[2]=(v*h-u*g)*A,this.mat3[3]=C*A,this.mat3[4]=(E*a-u*x)*A,this.mat3[5]=(-v*a+u*l)*A,this.mat3[6]=L*A,this.mat3[7]=(-k*a+h*x)*A,this.mat3[8]=(g*a-h*l)*A,this):null}},{key:"transpose3x3",value:function(a){var h=(a=a===void 0?this.mat3:a)[1],u=a[2],l=a[5];return this.mat3[0]=a[0],this.mat3[1]=a[3],this.mat3[2]=a[6],this.mat3[3]=h,this.mat3[4]=a[4],this.mat3[5]=a[7],this.mat3[6]=u,this.mat3[7]=l,this.mat3[8]=a[8],this}},{key:"inverseTranspose",value:function(a){if(a=a.mat4,this.mat3===void 0?o.default._friendlyError("sorry, this function only works with mat3"):(this.mat3[0]=a[0],this.mat3[1]=a[1],this.mat3[2]=a[2],this.mat3[3]=a[4],this.mat3[4]=a[5],this.mat3[5]=a[6],this.mat3[6]=a[8],this.mat3[7]=a[9],this.mat3[8]=a[10]),a=this.invert3x3(),a)a.transpose3x3(this.mat3);else for(var h=0;h<9;h++)this.mat3[h]=0;return this}},{key:"determinant",value:function(){var a=this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4],h=this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4],u=this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4],l=this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5],g=this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5],v=this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6],x=this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12],k=this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12],E=this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12],j=this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13],C=this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13];return a*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-h*C+u*j+l*E-g*k+v*x}},{key:"mult",value:function(u){var h;if(u===this||u===this.mat4)h=this.copy().mat4;else if(u instanceof o.default.Matrix)h=u.mat4;else if(p(u))h=u;else{if(arguments.length!==16)return;h=arguments}var u=this.mat4[0],l=this.mat4[1],g=this.mat4[2],v=this.mat4[3];return this.mat4[0]=u*h[0]+l*h[4]+g*h[8]+v*h[12],this.mat4[1]=u*h[1]+l*h[5]+g*h[9]+v*h[13],this.mat4[2]=u*h[2]+l*h[6]+g*h[10]+v*h[14],this.mat4[3]=u*h[3]+l*h[7]+g*h[11]+v*h[15],u=this.mat4[4],l=this.mat4[5],g=this.mat4[6],v=this.mat4[7],this.mat4[4]=u*h[0]+l*h[4]+g*h[8]+v*h[12],this.mat4[5]=u*h[1]+l*h[5]+g*h[9]+v*h[13],this.mat4[6]=u*h[2]+l*h[6]+g*h[10]+v*h[14],this.mat4[7]=u*h[3]+l*h[7]+g*h[11]+v*h[15],u=this.mat4[8],l=this.mat4[9],g=this.mat4[10],v=this.mat4[11],this.mat4[8]=u*h[0]+l*h[4]+g*h[8]+v*h[12],this.mat4[9]=u*h[1]+l*h[5]+g*h[9]+v*h[13],this.mat4[10]=u*h[2]+l*h[6]+g*h[10]+v*h[14],this.mat4[11]=u*h[3]+l*h[7]+g*h[11]+v*h[15],u=this.mat4[12],l=this.mat4[13],g=this.mat4[14],v=this.mat4[15],this.mat4[12]=u*h[0]+l*h[4]+g*h[8]+v*h[12],this.mat4[13]=u*h[1]+l*h[5]+g*h[9]+v*h[13],this.mat4[14]=u*h[2]+l*h[6]+g*h[10]+v*h[14],this.mat4[15]=u*h[3]+l*h[7]+g*h[11]+v*h[15],this}},{key:"apply",value:function(u){var h;if(u===this||u===this.mat4)h=this.copy().mat4;else if(u instanceof o.default.Matrix)h=u.mat4;else if(p(u))h=u;else{if(arguments.length!==16)return;h=arguments}var u=this.mat4,l=u[0],g=u[4],v=u[8],x=u[12],l=(u[0]=h[0]*l+h[1]*g+h[2]*v+h[3]*x,u[4]=h[4]*l+h[5]*g+h[6]*v+h[7]*x,u[8]=h[8]*l+h[9]*g+h[10]*v+h[11]*x,u[12]=h[12]*l+h[13]*g+h[14]*v+h[15]*x,u[1]),g=u[5],v=u[9],x=u[13],l=(u[1]=h[0]*l+h[1]*g+h[2]*v+h[3]*x,u[5]=h[4]*l+h[5]*g+h[6]*v+h[7]*x,u[9]=h[8]*l+h[9]*g+h[10]*v+h[11]*x,u[13]=h[12]*l+h[13]*g+h[14]*v+h[15]*x,u[2]),g=u[6],v=u[10],x=u[14],l=(u[2]=h[0]*l+h[1]*g+h[2]*v+h[3]*x,u[6]=h[4]*l+h[5]*g+h[6]*v+h[7]*x,u[10]=h[8]*l+h[9]*g+h[10]*v+h[11]*x,u[14]=h[12]*l+h[13]*g+h[14]*v+h[15]*x,u[3]),g=u[7],v=u[11],x=u[15];return u[3]=h[0]*l+h[1]*g+h[2]*v+h[3]*x,u[7]=h[4]*l+h[5]*g+h[6]*v+h[7]*x,u[11]=h[8]*l+h[9]*g+h[10]*v+h[11]*x,u[15]=h[12]*l+h[13]*g+h[14]*v+h[15]*x,this}},{key:"scale",value:function(a,h,u){return a instanceof o.default.Vector?(h=a.y,u=a.z,a=a.x):a instanceof Array&&(h=a[1],u=a[2],a=a[0]),this.mat4[0]*=a,this.mat4[1]*=a,this.mat4[2]*=a,this.mat4[3]*=a,this.mat4[4]*=h,this.mat4[5]*=h,this.mat4[6]*=h,this.mat4[7]*=h,this.mat4[8]*=u,this.mat4[9]*=u,this.mat4[10]*=u,this.mat4[11]*=u,this}},{key:"rotate",value:function(z,X,V,l){X instanceof o.default.Vector?(V=X.y,l=X.z,X=X.x):X instanceof Array&&(V=X[1],l=X[2],X=X[0]);var g=Math.sqrt(X*X+V*V+l*l),g=(X*=1/g,V*=1/g,l*=1/g,this.mat4[0]),v=this.mat4[1],x=this.mat4[2],k=this.mat4[3],E=this.mat4[4],j=this.mat4[5],C=this.mat4[6],L=this.mat4[7],A=this.mat4[8],P=this.mat4[9],R=this.mat4[10],I=this.mat4[11],N=Math.sin(z),z=Math.cos(z),G=1-z,W=X*X*G+z,H=V*X*G+l*N,Z=l*X*G-V*N,Y=X*V*G-l*N,Q=V*V*G+z,M=l*V*G+X*N,B=X*l*G+V*N,V=V*l*G-X*N,X=l*l*G+z;return this.mat4[0]=g*W+E*H+A*Z,this.mat4[1]=v*W+j*H+P*Z,this.mat4[2]=x*W+C*H+R*Z,this.mat4[3]=k*W+L*H+I*Z,this.mat4[4]=g*Y+E*Q+A*M,this.mat4[5]=v*Y+j*Q+P*M,this.mat4[6]=x*Y+C*Q+R*M,this.mat4[7]=k*Y+L*Q+I*M,this.mat4[8]=g*B+E*V+A*X,this.mat4[9]=v*B+j*V+P*X,this.mat4[10]=x*B+C*V+R*X,this.mat4[11]=k*B+L*V+I*X,this}},{key:"translate",value:function(l){var h=l[0],u=l[1],l=l[2]||0;this.mat4[12]+=this.mat4[0]*h+this.mat4[4]*u+this.mat4[8]*l,this.mat4[13]+=this.mat4[1]*h+this.mat4[5]*u+this.mat4[9]*l,this.mat4[14]+=this.mat4[2]*h+this.mat4[6]*u+this.mat4[10]*l,this.mat4[15]+=this.mat4[3]*h+this.mat4[7]*u+this.mat4[11]*l}},{key:"rotateX",value:function(a){this.rotate(a,1,0,0)}},{key:"rotateY",value:function(a){this.rotate(a,0,1,0)}},{key:"rotateZ",value:function(a){this.rotate(a,0,0,1)}},{key:"perspective",value:function(g,h,u,l){var g=1/Math.tan(g/2),v=1/(u-l);return this.mat4[0]=g/h,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=g,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(l+u)*v,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*l*u*v,this.mat4[15]=0,this}},{key:"ortho",value:function(a,h,u,l,g,v){var x=1/(a-h),k=1/(u-l),E=1/(g-v);return this.mat4[0]=-2*x,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*k,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*E,this.mat4[11]=0,this.mat4[12]=(a+h)*x,this.mat4[13]=(l+u)*k,this.mat4[14]=(v+g)*E,this.mat4[15]=1,this}},{key:"multiplyVec4",value:function(a,h,u,l){var g=new Array(4),v=this.mat4;return g[0]=v[0]*a+v[4]*h+v[8]*u+v[12]*l,g[1]=v[1]*a+v[5]*h+v[9]*u+v[13]*l,g[2]=v[2]*a+v[6]*h+v[10]*u+v[14]*l,g[3]=v[3]*a+v[7]*h+v[11]*u+v[15]*l,g}},{key:"multiplyPoint",value:function(u){var l=u.x,h=u.y,u=u.z,l=this.multiplyVec4(l,h,u,1);return new o.default.Vector(l[0],l[1],l[2])}},{key:"multiplyAndNormalizePoint",value:function(u){var l=u.x,h=u.y,u=u.z,l=this.multiplyVec4(l,h,u,1);return l[0]/=l[3],l[1]/=l[3],l[2]/=l[3],new o.default.Vector(l[0],l[1],l[2])}},{key:"multiplyDirection",value:function(u){var l=u.x,h=u.y,u=u.z,l=this.multiplyVec4(l,h,u,0);return new o.default.Vector(l[0],l[1],l[2])}},{key:"mult3x3",value:function(u){var h;if(u===this||u===this.mat3)h=this.copy().mat3;else if(u instanceof o.default.Matrix)h=u.mat3;else if(p(u))h=u;else{if(arguments.length!==9)return;h=arguments}var u=this.mat3[0],l=this.mat3[1],g=this.mat3[2];return this.mat3[0]=u*h[0]+l*h[3]+g*h[6],this.mat3[1]=u*h[1]+l*h[4]+g*h[7],this.mat3[2]=u*h[2]+l*h[5]+g*h[8],u=this.mat3[3],l=this.mat3[4],g=this.mat3[5],this.mat3[3]=u*h[0]+l*h[3]+g*h[6],this.mat3[4]=u*h[1]+l*h[4]+g*h[7],this.mat3[5]=u*h[2]+l*h[5]+g*h[8],u=this.mat3[6],l=this.mat3[7],g=this.mat3[8],this.mat3[6]=u*h[0]+l*h[3]+g*h[6],this.mat3[7]=u*h[1]+l*h[4]+g*h[7],this.mat3[8]=u*h[2]+l*h[5]+g*h[8],this}},{key:"column",value:function(a){return new o.default.Vector(this.mat3[3*a],this.mat3[3*a+1],this.mat3[3*a+2])}},{key:"row",value:function(a){return new o.default.Vector(this.mat3[a],this.mat3[a+3],this.mat3[a+6])}},{key:"diagonal",value:function(){return this.mat3!==void 0?[this.mat3[0],this.mat3[4],this.mat3[8]]:[this.mat4[0],this.mat4[5],this.mat4[10],this.mat4[15]]}},{key:"multiplyVec3",value:function(a,h){return(h=h===void 0?a.copy():h).x=this.row(0).dot(a),h.y=this.row(1).dot(a),h.z=this.row(2).dot(a),h}},{key:"createSubMatrix3x3",value:function(){var a=new o.default.Matrix("mat3");return a.mat3[0]=this.mat4[0],a.mat3[1]=this.mat4[1],a.mat3[2]=this.mat4[2],a.mat3[3]=this.mat4[4],a.mat3[4]=this.mat4[5],a.mat3[5]=this.mat4[6],a.mat3[6]=this.mat4[8],a.mat3[7]=this.mat4[9],a.mat3[8]=this.mat4[10],a}}])&&d(n.prototype,r),c&&d(n,c),m}(),o.default.Matrix);b.default=y},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239}],337:[function(t,S,b){Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var o=(t=t("../core/main"))&&t.__esModule?t:{default:t};function d(s,p){for(var y=0;y<p.length;y++){var m=p[y];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(s,m.key,m)}}o.default.Quat=function(){function s(n,r,c,a){if(!(this instanceof s))throw new TypeError("Cannot call a class as a function");this.w=n,this.vec=new o.default.Vector(r,c,a)}var p,y,m;return p=s,m=[{key:"fromAxisAngle",value:function(n,u,c,a){var h=Math.cos(n/2),u=new o.default.Vector(u,c,a).normalize().mult(Math.sin(n/2));return new o.default.Quat(h,u.x,u.y,u.z)}}],(y=[{key:"conjugate",value:function(){return new o.default.Quat(this.w,-this.vec.x,-this.vec.y,-this.vec.z)}},{key:"multiply",value:function(n){return new o.default.Quat(this.w*n.w-this.vec.x*n.vec.x-this.vec.y*n.vec.y-this.vec.z-n.vec.z,this.w*n.vec.x+this.vec.x*n.w+this.vec.y*n.vec.z-this.vec.z*n.vec.y,this.w*n.vec.y-this.vec.x*n.vec.z+this.vec.y*n.w+this.vec.z*n.vec.x,this.w*n.vec.z+this.vec.x*n.vec.y-this.vec.y*n.vec.x+this.vec.z*n.w)}},{key:"rotateVector",value:function(n){return new o.default.Vector.mult(n,this.w*this.w-this.vec.dot(this.vec)).add(o.default.Vector.mult(this.vec,2*n.dot(this.vec))).add(o.default.Vector.mult(this.vec,2*this.w).cross(n)).clampToZero()}},{key:"rotateBy",value:function(n){return n.multiply(this).multiply(n.conjugate()).vec.clampToZero()}}])&&d(p.prototype,y),m&&d(p,m),s}(),t=o.default.Quat,b.default=t},{"../core/main":283}],338:[function(t,S,b){t("core-js/modules/es.array.map"),t("core-js/modules/es.array.map"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t};function o(d,s){for(var p=0;p<s.length;p++){var y=s[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(d,y.key,y)}}t.default.RenderBuffer=function(){function d(y,m,n,r,c,a){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");this.size=y,this.src=m,this.dst=n,this.attr=r,this._renderer=c,this.map=a}var s,p;return s=d,(p=[{key:"_prepareBuffer",value:function(y,m){var n,r,c,u=m.attributes,a=this._renderer.GL,h=y.model||y,u=u[this.attr];u&&(n=y[this.dst],0<(r=h[this.src]).length?((c=!n)&&(y[this.dst]=n=a.createBuffer()),a.bindBuffer(a.ARRAY_BUFFER,n),!c&&h.dirtyFlags[this.src]===!1||(c=(y=this.map)?y(r):r,this._renderer._bindBuffer(n,a.ARRAY_BUFFER,c),h.dirtyFlags[this.src]=!1),m.enableAttrib(u,this.size)):(y=u.location)!==-1&&this._renderer.registerEnabled.has(y)&&(a.disableVertexAttribArray(y),this._renderer.registerEnabled.delete(y)))}}])&&o(s.prototype,p),d}(),t=t.default.RenderBuffer,b.default=t},{"../core/main":283,"core-js/modules/es.array.map":168}],339:[function(t,S,b){function o(c){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(c)}function d(c){return(d=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(a){return o(a)}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":o(a)})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.find-index"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.map"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.find-index"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.map"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var s=(r=t("../core/main"))&&r.__esModule?r:{default:r},p=function(c){if(c&&c.__esModule)return c;if(c===null||d(c)!=="object"&&typeof c!="function")return{default:c};var a=y();if(a&&a.has(c))return a.get(c);var h,u={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in c){var g;Object.prototype.hasOwnProperty.call(c,h)&&((g=l?Object.getOwnPropertyDescriptor(c,h):null)&&(g.get||g.set)?Object.defineProperty(u,h,g):u[h]=c[h])}return u.default=c,a&&a.set(c,u),u}(t("../core/constants"));function y(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,y=function(){return c},c)}function m(c){return function(a){if(Array.isArray(a)){for(var h=0,u=new Array(a.length);h<a.length;h++)u[h]=a[h];return u}}(c)||function(a){if(Symbol.iterator in Object(a)||Object.prototype.toString.call(a)==="[object Arguments]")return Array.from(a)}(c)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t("./p5.RenderBuffer"),s.default.RendererGL.prototype.beginShape=function(c){return this.immediateMode.shapeMode=c!==void 0?c:p.TESS,this.immediateMode.geometry.reset(),this.immediateMode.contourIndices=[],this};var n={vertices:1,vertexNormals:1,vertexColors:4,vertexStrokeColors:4,uvs:2},r=(s.default.RendererGL.prototype.beginContour=function(){if(this.immediateMode.shapeMode!==p.TESS)throw new Error("WebGL mode can only use contours with beginShape(TESS).");this.immediateMode.contourIndices.push(this.immediateMode.geometry.vertices.length)},s.default.RendererGL.prototype.vertex=function(c,a){if(this.immediateMode.shapeMode===p.QUADS&&this.immediateMode.geometry.vertices.length%6==3)for(var h in n){var u=n[h],h=this.immediateMode.geometry[h];h.push.apply(h,m(h.slice(h.length-3*u,h.length-2*u)).concat(m(h.slice(h.length-u,h.length))))}var l,g,v=l=g=0,x=(arguments.length===3?v=arguments[2]:arguments.length===4?(l=arguments[2],g=arguments[3]):arguments.length===5&&(v=arguments[2],l=arguments[3],g=arguments[4]),new s.default.Vector(c,a,v)),x=(this.immediateMode.geometry.vertices.push(x),this.immediateMode.geometry.vertexNormals.push(this._currentNormal),this.curFillColor||[.5,.5,.5,1]),x=(this.immediateMode.geometry.vertexColors.push(x[0],x[1],x[2],x[3]),this.curStrokeColor||[.5,.5,.5,1]);return this.immediateMode.geometry.vertexStrokeColors.push(x[0],x[1],x[2],x[3]),this.textureMode!==p.IMAGE||this.isProcessingVertices||(this._tex!==null?0<this._tex.width&&0<this._tex.height&&(l/=this._tex.width,g/=this._tex.height):this.userFillShader===void 0&&this.userStrokeShader===void 0&&this.userPointShader===void 0&&this._tex===null&&4<=arguments.length&&console.warn("You must first call texture() before using vertex() with image based u and v coordinates")),this.immediateMode.geometry.uvs.push(l,g),this.immediateMode._bezierVertex[0]=c,this.immediateMode._bezierVertex[1]=a,this.immediateMode._bezierVertex[2]=v,this.immediateMode._quadraticVertex[0]=c,this.immediateMode._quadraticVertex[1]=a,this.immediateMode._quadraticVertex[2]=v,this},s.default.RendererGL.prototype.normal=function(c,a,h){return c instanceof s.default.Vector?this._currentNormal=c:this._currentNormal=new s.default.Vector(c,a,h),this},s.default.RendererGL.prototype.endShape=function(c,a,h,u,l,g){var v,x=6<arguments.length&&arguments[6]!==void 0?arguments[6]:1;return this.immediateMode.shapeMode===p.POINTS?this._drawPoints(this.immediateMode.geometry.vertices,this.immediateMode.buffers.point):(this.immediateMode.geometry.vertices.length===3&&this.immediateMode.shapeMode===p.TESS&&(this.immediateMode.shapeMode=p.TRIANGLES),this.isProcessingVertices=!0,this._processVertices.apply(this,arguments),v=this.isProcessingVertices=!1,this.immediateMode.shapeMode!==p.LINE_STRIP&&this.immediateMode.shapeMode!==p.LINES||(this.immediateMode.shapeMode=p.TRIANGLE_FAN,v=!0),this.immediateMode.shapeMode===p.QUADS?this.immediateMode.shapeMode=p.TRIANGLES:this.immediateMode.shapeMode===p.QUAD_STRIP&&(this.immediateMode.shapeMode=p.TRIANGLE_STRIP),this._doFill&&!v&&!this.geometryBuilder&&3<=this.immediateMode.geometry.vertices.length&&this._drawImmediateFill(x),this._doStroke&&!this.geometryBuilder&&1<=this.immediateMode.geometry.lineVertices.length&&this._drawImmediateStroke(),this.geometryBuilder&&this.geometryBuilder.addImmediate(),this.isBezier=!1,this.isQuadratic=!1,this.isCurve=!1,this.immediateMode._bezierVertex.length=0,this.immediateMode._quadraticVertex.length=0,this.immediateMode._curveVertex.length=0),this},s.default.RendererGL.prototype._processVertices=function(c){var a;this.immediateMode.geometry.vertices.length!==0&&(a=this._doStroke,c=c===p.CLOSE,a&&(this.immediateMode.geometry.edges=this._calculateEdges(this.immediateMode.shapeMode,this.immediateMode.geometry.vertices,c),this.geometryBuilder||this.immediateMode.geometry._edgesToVertices()),a=this.immediateMode.shapeMode===p.TESS,c=0<this.immediateMode.contourIndices.length,this._doFill&&(this.isBezier||this.isQuadratic||this.isCurve||a||c)&&this.immediateMode.shapeMode!==p.LINES&&this._tesselateShape())},s.default.RendererGL.prototype._calculateEdges=function(c,a,h){var u=[],l=0,g=this.immediateMode.contourIndices.slice(),v=0;switch(c){case p.TRIANGLE_STRIP:for(l=0;l<a.length-2;l++)u.push([l,l+1]),u.push([l,l+2]);u.push([l,l+1]);break;case p.TRIANGLE_FAN:for(l=1;l<a.length-1;l++)u.push([0,l]),u.push([l,l+1]);u.push([0,a.length-1]);break;case p.TRIANGLES:for(l=0;l<a.length-2;l+=3)u.push([l,l+1]),u.push([l+1,l+2]),u.push([l+2,l]);break;case p.LINES:for(l=0;l<a.length-1;l+=2)u.push([l,l+1]);break;case p.QUADS:for(l=0;l<a.length-5;l+=6)u.push([l,l+1]),u.push([l+1,l+2]),u.push([l+3,l+5]),u.push([l+4,l+5]);break;case p.QUAD_STRIP:for(l=0;l<a.length-2;l+=2)u.push([l,l+1]),u.push([l,l+2]),u.push([l+1,l+3]);u.push([l,l+1]);break;default:for(l=0;l<a.length;l++)l+1<a.length&&l+1!==g[0]?u.push([l,l+1]):((h||v)&&u.push([l,v]),0<g.length&&(v=g.shift()))}return c!==p.TESS&&h&&u.push([a.length-1,0]),u},s.default.RendererGL.prototype._tesselateShape=function(){for(var c=this,a=(this.immediateMode.shapeMode=p.TRIANGLES,[[]]),h=0;h<this.immediateMode.geometry.vertices.length;h++)0<this.immediateMode.contourIndices.length&&this.immediateMode.contourIndices[0]===h&&(this.immediateMode.contourIndices.shift(),a.push([])),a[a.length-1].push(this.immediateMode.geometry.vertices[h].x,this.immediateMode.geometry.vertices[h].y,this.immediateMode.geometry.vertices[h].z,this.immediateMode.geometry.uvs[2*h],this.immediateMode.geometry.uvs[2*h+1],this.immediateMode.geometry.vertexColors[4*h],this.immediateMode.geometry.vertexColors[4*h+1],this.immediateMode.geometry.vertexColors[4*h+2],this.immediateMode.geometry.vertexColors[4*h+3],this.immediateMode.geometry.vertexNormals[h].x,this.immediateMode.geometry.vertexNormals[h].y,this.immediateMode.geometry.vertexNormals[h].z);for(var u,l=this._triangulate(a),g=this.immediateMode.geometry.vertices,v=(this.immediateMode.geometry.vertices=[],this.immediateMode.geometry.vertexNormals=[],this.immediateMode.geometry.uvs=[],[]),x=0,k=l.length;x<k;x+=s.default.RendererGL.prototype.tessyVertexSize)v.push.apply(v,m(l.slice(x+5,x+9))),this.normal.apply(this,m(l.slice(x+9,x+12))),this.vertex.apply(this,m(l.slice(x,x+5)));this.geometryBuilder&&(u=new Map,this.immediateMode.geometry.edges=this.immediateMode.geometry.edges.map(function(E){return E.map(function(j){if(!u.has(j)){var C=g[j],L=c.immediateMode.geometry.vertices.findIndex(function(G){return C.x===G.x&&C.y===G.y&&C.z===G.z});if(L===-1){for(var A=1/0,P=0,R=0;R<c.immediateMode.geometry.vertices.length;R++){var N=c.immediateMode.geometry.vertices[R],z=C.x-N.x,I=C.y-N.y,N=C.z-N.z,z=z*z+I*I+N*N;z<A&&(A=z,P=R)}L=P}u.set(j,L)}return u.get(j)})})),this.immediateMode.geometry.vertexColors=v},s.default.RendererGL.prototype._drawImmediateFill=function(){var c,a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:1,h=this.GL,u=(this._useVertexColor=0<this.immediateMode.geometry.vertexColors.length,c=this._getImmediateFillShader(),this._setFillUniforms(c),!0),l=!1,g=void 0;try{for(var v,x=this.immediateMode.buffers.fill[Symbol.iterator]();!(u=(v=x.next()).done);u=!0)v.value._prepareBuffer(this.immediateMode.geometry,c)}catch(k){l=!0,g=k}finally{try{u||x.return==null||x.return()}finally{if(l)throw g}}if(c.disableRemainingAttributes(),this._applyColorBlend(this.curFillColor,this.immediateMode.geometry.hasFillTransparency()),a===1)h.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length);else try{h.drawArraysInstanced(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length,a)}catch{console.log(" p5.js says: Instancing is only supported in WebGL2 mode")}c.unbindShader()},s.default.RendererGL.prototype._drawImmediateStroke=function(){var c=this.GL,a=(this._useLineColor=0<this.immediateMode.geometry.vertexStrokeColors.length,this._getImmediateStrokeShader()),h=(this._setStrokeUniforms(a),!0),u=!1,l=void 0;try{for(var g,v=this.immediateMode.buffers.stroke[Symbol.iterator]();!(h=(g=v.next()).done);h=!0)g.value._prepareBuffer(this.immediateMode.geometry,a)}catch(x){u=!0,l=x}finally{try{h||v.return==null||v.return()}finally{if(u)throw l}}a.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor,this.immediateMode.geometry.hasFillTransparency()),c.drawArrays(c.TRIANGLES,0,this.immediateMode.geometry.lineVertices.length/3),a.unbindShader()},s.default.RendererGL);b.default=r},{"../core/constants":272,"../core/main":283,"./p5.RenderBuffer":338,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.find-index":158,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.map":175,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],340:[function(t,S,b){function o(n){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(n)}function d(n){return(d=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(r){return o(r)}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":o(r)})(n)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.uint16-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.uint16-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var s=(m=t("../core/main"))&&m.__esModule?m:{default:m},p=(t("./p5.RendererGL"),t("./p5.RenderBuffer"),function(n){if(n&&n.__esModule)return n;if(n===null||d(n)!=="object"&&typeof n!="function")return{default:n};var r=y();if(r&&r.has(n))return r.get(n);var c,a={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in n){var u;Object.prototype.hasOwnProperty.call(n,c)&&((u=h?Object.getOwnPropertyDescriptor(n,c):null)&&(u.get||u.set)?Object.defineProperty(a,c,u):a[c]=n[c])}return a.default=n,r&&r.set(n,a),a}(t("../core/constants")));function y(){var n;return typeof WeakMap!="function"?null:(n=new WeakMap,y=function(){return n},n)}s.default.RendererGL.prototype.freeGeometry=function(n){n.gid?this._freeBuffers(n.gid):console.warn("The model you passed to freeGeometry does not have an id!")},s.default.RendererGL.prototype._initBufferDefaults=function(n){var r;return this._freeBuffers(n),1e3<Object.keys(this.retainedMode.geometry).length&&(r=Object.keys(this.retainedMode.geometry)[0],this._freeBuffers(r)),this.retainedMode.geometry[n]={}},s.default.RendererGL.prototype._freeBuffers=function(n){var r,c=this.retainedMode.geometry[n];function a(h){var u=!0,l=!1,g=void 0;try{for(var v,x=h[Symbol.iterator]();!(u=(v=x.next()).done);u=!0){var k=v.value;c[k.dst]&&(r.deleteBuffer(c[k.dst]),c[k.dst]=null)}}catch(E){l=!0,g=E}finally{try{u||x.return==null||x.return()}finally{if(l)throw g}}}c&&(delete this.retainedMode.geometry[n],r=this.GL,c.indexBuffer&&r.deleteBuffer(c.indexBuffer),a(this.retainedMode.buffers.stroke),a(this.retainedMode.buffers.fill))},s.default.RendererGL.prototype.createBuffers=function(l,r){var c,a,h,u=this.GL,l=this._initBufferDefaults(l),g=(l.model=r,l.indexBuffer);return r.faces.length?(g=g||(l.indexBuffer=u.createBuffer()),h=(a=(c=s.default.RendererGL.prototype._flatten(r.faces)).some(function(v){return 65535<v}))?Uint32Array:Uint16Array,this._bindBuffer(g,u.ELEMENT_ARRAY_BUFFER,c,h),l.indexBufferType=a?u.UNSIGNED_INT:u.UNSIGNED_SHORT,l.vertexCount=3*r.faces.length):(g&&(u.deleteBuffer(g),l.indexBuffer=null),l.vertexCount=r.vertices?r.vertices.length:0),l.lineVertexCount=r.lineVertices?r.lineVertices.length/3:0,l},s.default.RendererGL.prototype.drawBuffers=function(n){var r=this.GL,c=this.retainedMode.geometry[n];if(!this.geometryBuilder&&this._doFill&&0<this.retainedMode.geometry[n].vertexCount){this._useVertexColor=0<c.model.vertexColors.length;var a=this._getRetainedFillShader(),h=(this._setFillUniforms(a),!0),u=!1,l=void 0;try{for(var g,v=this.retainedMode.buffers.fill[Symbol.iterator]();!(h=(g=v.next()).done);h=!0)g.value._prepareBuffer(c,a)}catch(C){u=!0,l=C}finally{try{h||v.return==null||v.return()}finally{if(u)throw l}}a.disableRemainingAttributes(),c.indexBuffer&&this._bindBuffer(c.indexBuffer,r.ELEMENT_ARRAY_BUFFER),this._applyColorBlend(this.curFillColor,c.model.hasFillTransparency()),this._drawElements(r.TRIANGLES,n),a.unbindShader()}if(!this.geometryBuilder&&this._doStroke&&0<c.lineVertexCount){this._useLineColor=0<c.model.vertexStrokeColors.length;var x=this._getRetainedStrokeShader(),k=(this._setStrokeUniforms(x),!0),u=!1,l=void 0;try{for(var E,j=this.retainedMode.buffers.stroke[Symbol.iterator]();!(k=(E=j.next()).done);k=!0)E.value._prepareBuffer(c,x)}catch(A){u=!0,l=A}finally{try{k||j.return==null||j.return()}finally{if(u)throw l}}x.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor,c.model.hasStrokeTransparency()),this._drawArrays(r.TRIANGLES,n),x.unbindShader()}return this.geometryBuilder&&this.geometryBuilder.addRetained(c),this},s.default.RendererGL.prototype.drawBuffersScaled=function(n,r,c,a){var h=this.uModelMatrix.copy();try{this.uModelMatrix.scale(r,c,a),this.drawBuffers(n)}finally{this.uModelMatrix=h}},s.default.RendererGL.prototype._drawArrays=function(n,r){return this.GL.drawArrays(n,0,this.retainedMode.geometry[r].lineVertexCount),this},s.default.RendererGL.prototype._drawElements=function(n,c){var c=this.retainedMode.geometry[c],a=this.GL;if(c.indexBuffer){if(this._pInst.webglVersion!==p.WEBGL2&&c.indexBufferType===a.UNSIGNED_INT&&!a.getExtension("OES_element_index_uint"))throw new Error("Unable to render a 3d model with > 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.");a.drawElements(a.TRIANGLES,c.vertexCount,c.indexBufferType,0)}else a.drawArrays(n||a.TRIANGLES,0,c.vertexCount)},s.default.RendererGL.prototype._drawPoints=function(n,r){var c=this.GL,a=this._getImmediatePointShader();this._setPointUniforms(a),this._bindBuffer(r,c.ARRAY_BUFFER,this._vToNArray(n),Float32Array,c.STATIC_DRAW),a.enableAttrib(a.attributes.aPosition,3),this._applyColorBlend(this.curStrokeColor),c.drawArrays(c.Points,0,n.length),a.unbindShader()};var m=s.default.RendererGL;b.default=m},{"../core/constants":272,"../core/main":283,"./p5.RenderBuffer":338,"./p5.RendererGL":341,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.some":170,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint16-array":240,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],341:[function(R,S,b){function o(H){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Z){return typeof Z}:function(Z){return Z&&typeof Symbol=="function"&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z})(H)}function d(H){return(d=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(Z){return o(Z)}:function(Z){return Z&&typeof Symbol=="function"&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":o(Z)})(H)}R("core-js/modules/es.symbol"),R("core-js/modules/es.symbol.description"),R("core-js/modules/es.symbol.iterator"),R("core-js/modules/es.array.concat"),R("core-js/modules/es.array.copy-within"),R("core-js/modules/es.array.every"),R("core-js/modules/es.array.fill"),R("core-js/modules/es.array.flat"),R("core-js/modules/es.array.flat-map"),R("core-js/modules/es.array.from"),R("core-js/modules/es.array.includes"),R("core-js/modules/es.array.iterator"),R("core-js/modules/es.array.map"),R("core-js/modules/es.array.slice"),R("core-js/modules/es.array.some"),R("core-js/modules/es.array.unscopables.flat"),R("core-js/modules/es.array.unscopables.flat-map"),R("core-js/modules/es.map"),R("core-js/modules/es.object.assign"),R("core-js/modules/es.object.get-own-property-descriptor"),R("core-js/modules/es.object.get-prototype-of"),R("core-js/modules/es.object.to-string"),R("core-js/modules/es.reflect.construct"),R("core-js/modules/es.reflect.get"),R("core-js/modules/es.regexp.to-string"),R("core-js/modules/es.set"),R("core-js/modules/es.string.includes"),R("core-js/modules/es.string.iterator"),R("core-js/modules/es.typed-array.float32-array"),R("core-js/modules/es.typed-array.float64-array"),R("core-js/modules/es.typed-array.int16-array"),R("core-js/modules/es.typed-array.uint8-array"),R("core-js/modules/es.typed-array.uint16-array"),R("core-js/modules/es.typed-array.uint32-array"),R("core-js/modules/es.typed-array.copy-within"),R("core-js/modules/es.typed-array.every"),R("core-js/modules/es.typed-array.fill"),R("core-js/modules/es.typed-array.filter"),R("core-js/modules/es.typed-array.find"),R("core-js/modules/es.typed-array.find-index"),R("core-js/modules/es.typed-array.for-each"),R("core-js/modules/es.typed-array.includes"),R("core-js/modules/es.typed-array.index-of"),R("core-js/modules/es.typed-array.iterator"),R("core-js/modules/es.typed-array.join"),R("core-js/modules/es.typed-array.last-index-of"),R("core-js/modules/es.typed-array.map"),R("core-js/modules/es.typed-array.reduce"),R("core-js/modules/es.typed-array.reduce-right"),R("core-js/modules/es.typed-array.reverse"),R("core-js/modules/es.typed-array.set"),R("core-js/modules/es.typed-array.slice"),R("core-js/modules/es.typed-array.some"),R("core-js/modules/es.typed-array.sort"),R("core-js/modules/es.typed-array.subarray"),R("core-js/modules/es.typed-array.to-locale-string"),R("core-js/modules/es.typed-array.to-string"),R("core-js/modules/es.weak-map"),R("core-js/modules/web.dom-collections.iterator"),R("core-js/modules/es.symbol"),R("core-js/modules/es.symbol.description"),R("core-js/modules/es.symbol.iterator"),R("core-js/modules/es.array.concat"),R("core-js/modules/es.array.copy-within"),R("core-js/modules/es.array.every"),R("core-js/modules/es.array.fill"),R("core-js/modules/es.array.flat"),R("core-js/modules/es.array.flat-map"),R("core-js/modules/es.array.from"),R("core-js/modules/es.array.includes"),R("core-js/modules/es.array.iterator"),R("core-js/modules/es.array.map"),R("core-js/modules/es.array.slice"),R("core-js/modules/es.array.some"),R("core-js/modules/es.array.unscopables.flat"),R("core-js/modules/es.array.unscopables.flat-map"),R("core-js/modules/es.map"),R("core-js/modules/es.object.assign"),R("core-js/modules/es.object.to-string"),R("core-js/modules/es.set"),R("core-js/modules/es.string.includes"),R("core-js/modules/es.string.iterator"),R("core-js/modules/es.typed-array.float32-array"),R("core-js/modules/es.typed-array.float64-array"),R("core-js/modules/es.typed-array.int16-array"),R("core-js/modules/es.typed-array.uint8-array"),R("core-js/modules/es.typed-array.uint16-array"),R("core-js/modules/es.typed-array.uint32-array"),R("core-js/modules/es.typed-array.copy-within"),R("core-js/modules/es.typed-array.every"),R("core-js/modules/es.typed-array.fill"),R("core-js/modules/es.typed-array.filter"),R("core-js/modules/es.typed-array.find"),R("core-js/modules/es.typed-array.find-index"),R("core-js/modules/es.typed-array.for-each"),R("core-js/modules/es.typed-array.includes"),R("core-js/modules/es.typed-array.index-of"),R("core-js/modules/es.typed-array.iterator"),R("core-js/modules/es.typed-array.join"),R("core-js/modules/es.typed-array.last-index-of"),R("core-js/modules/es.typed-array.map"),R("core-js/modules/es.typed-array.reduce"),R("core-js/modules/es.typed-array.reduce-right"),R("core-js/modules/es.typed-array.reverse"),R("core-js/modules/es.typed-array.set"),R("core-js/modules/es.typed-array.slice"),R("core-js/modules/es.typed-array.some"),R("core-js/modules/es.typed-array.sort"),R("core-js/modules/es.typed-array.subarray"),R("core-js/modules/es.typed-array.to-locale-string"),R("core-js/modules/es.typed-array.to-string"),R("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(b,"__esModule",{value:!0}),b.readPixelsWebGL=G,b.readPixelWebGL=W,b.default=void 0;var s=c(R("../core/main")),p=function(H){if(H&&H.__esModule)return H;if(H===null||d(H)!=="object"&&typeof H!="function")return{default:H};var Z=r();if(Z&&Z.has(H))return Z.get(H);var Y,Q={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(Y in H){var B;Object.prototype.hasOwnProperty.call(H,Y)&&((B=M?Object.getOwnPropertyDescriptor(H,Y):null)&&(B.get||B.set)?Object.defineProperty(Q,Y,B):Q[Y]=H[Y])}return Q.default=H,Z&&Z.set(H,Q),Q}(R("../core/constants")),y=c(R("./GeometryBuilder")),m=c(R("libtess")),n=(R("./p5.Shader"),R("./p5.Camera"),R("../core/p5.Renderer"),R("./p5.Matrix"),R("./p5.Framebuffer"),R("path"),R("./p5.Texture"));function r(){var H;return typeof WeakMap!="function"?null:(H=new WeakMap,r=function(){return H},H)}function c(H){return H&&H.__esModule?H:{default:H}}function a(H){return function(Z){if(Array.isArray(Z)){for(var Y=0,Q=new Array(Z.length);Y<Z.length;Y++)Q[Y]=Z[Y];return Q}}(H)||function(Z){if(Symbol.iterator in Object(Z)||Object.prototype.toString.call(Z)==="[object Arguments]")return Array.from(Z)}(H)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function h(H,Z){for(var Y=0;Y<Z.length;Y++){var Q=Z[Y];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(H,Q.key,Q)}}function u(H,Z,Y){return(u=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(V,M,B){var V=function(X,re){for(;!Object.prototype.hasOwnProperty.call(X,re)&&(X=x(X))!==null;);return X}(V,M);if(V)return(V=Object.getOwnPropertyDescriptor(V,M)).get?V.get.call(B):V.value})(H,Z,Y||H)}function l(H,Z){return(l=Object.setPrototypeOf||function(Y,Q){return Y.__proto__=Q,Y})(H,Z)}function g(H){return function(){var Z,Y,Q=x(H);return Z=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(Z=x(this).constructor,Reflect.construct(Q,arguments,Z)):Q.apply(this,arguments),Q=this,!(Y=Z)||d(Y)!=="object"&&typeof Y!="function"?v(Q):Y}}function v(H){if(H===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return H}function x(H){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(Z){return Z.__proto__||Object.getPrototypeOf(Z)})(H)}function k(H,Z,Y){Z in H?Object.defineProperty(H,Z,{value:Y,enumerable:!0,configurable:!0,writable:!0}):H[Z]=Y}function E(H,Z){P+="#define STROKE_CAP_".concat(H," ").concat(Z,`
`),L[p[H]]=Z}function j(H,Z){P+="#define STROKE_JOIN_".concat(H," ").concat(Z,`
`),A[p[H]]=Z}var C,L={},A={},P="",R=(E("ROUND",0),E("PROJECT",1),E("SQUARE",2),j("ROUND",0),j("MITER",1),j("BEVEL",2),`#define PI 3.141592

precision highp float;
precision highp int;

uniform mat4 uViewMatrix;

uniform bool uUseLighting;

uniform int uAmbientLightCount;
uniform vec3 uAmbientColor[5];
uniform mat3 uCameraRotation;
uniform int uDirectionalLightCount;
uniform vec3 uLightingDirection[5];
uniform vec3 uDirectionalDiffuseColors[5];
uniform vec3 uDirectionalSpecularColors[5];

uniform int uPointLightCount;
uniform vec3 uPointLightLocation[5];
uniform vec3 uPointLightDiffuseColors[5];	
uniform vec3 uPointLightSpecularColors[5];

uniform int uSpotLightCount;
uniform float uSpotLightAngle[5];
uniform float uSpotLightConc[5];
uniform vec3 uSpotLightDiffuseColors[5];
uniform vec3 uSpotLightSpecularColors[5];
uniform vec3 uSpotLightLocation[5];
uniform vec3 uSpotLightDirection[5];

uniform bool uSpecular;
uniform float uShininess;
uniform float uMetallic;

uniform float uConstantAttenuation;
uniform float uLinearAttenuation;
uniform float uQuadraticAttenuation;

// setting from  _setImageLightUniforms()
// boolean to initiate the calculateImageDiffuse and calculateImageSpecular
uniform bool uUseImageLight;
// texture for use in calculateImageDiffuse
uniform sampler2D environmentMapDiffused;
// texture for use in calculateImageSpecular
uniform sampler2D environmentMapSpecular;

const float specularFactor = 2.0;
const float diffuseFactor = 0.73;

struct LightResult {
  float specular;
  float diffuse;
};

float _phongSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float shininess) {

  vec3 R = reflect(lightDirection, surfaceNormal);
  return pow(max(0.0, dot(R, viewDirection)), shininess);
}

float _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {
  return max(0.0, dot(-lightDirection, surfaceNormal));
}

LightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector, float shininess, float metallic) {

  vec3 lightDir = normalize(lightVector);

  //compute our diffuse & specular terms
  LightResult lr;
  float specularIntensity = mix(1.0, 0.4, metallic);
  float diffuseIntensity = mix(1.0, 0.1, metallic);
  if (uSpecular)
    lr.specular = (_phongSpecular(lightDir, viewDirection, normal, shininess)) * specularIntensity;
    lr.diffuse = _lambertDiffuse(lightDir, normal) * diffuseIntensity;
  return lr;
}

// converts the range of "value" from [min1 to max1] to [min2 to max2]
float map(float value, float min1, float max1, float min2, float max2) {
  return min2 + (value - min1) * (max2 - min2) / (max1 - min1);
}

vec2 mapTextureToNormal( vec3 v ){
  // x = r sin(phi) cos(theta)   
  // y = r cos(phi)  
  // z = r sin(phi) sin(theta)
  float phi = acos( v.y );
  // if phi is 0, then there are no x, z components
  float theta = 0.0;
  // else 
  theta = acos(v.x / sin(phi));
  float sinTheta = v.z / sin(phi);
  if (sinTheta < 0.0) {
    // Turn it into -theta, but in the 0-2PI range
    theta = 2.0 * PI - theta;
  }
  theta = theta / (2.0 * 3.14159);
  phi = phi / 3.14159 ;
  
  vec2 angles = vec2( fract(theta + 0.25), 1.0 - phi );
  return angles;
}


vec3 calculateImageDiffuse(vec3 vNormal, vec3 vViewPosition, float metallic){
  // make 2 separate builds 
  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);  // hardcoded world camera position
  vec3 worldNormal = normalize(vNormal * uCameraRotation);
  vec2 newTexCoor = mapTextureToNormal( worldNormal );
  vec4 texture = TEXTURE( environmentMapDiffused, newTexCoor );
  // this is to make the darker sections more dark
  // png and jpg usually flatten the brightness so it is to reverse that
  return mix(smoothstep(vec3(0.0), vec3(1.0), texture.xyz), vec3(0.0), metallic);
}

vec3 calculateImageSpecular(vec3 vNormal, vec3 vViewPosition, float shininess, float metallic){
  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);
  vec3 worldNormal = normalize(vNormal);
  vec3 lightDirection = normalize( vViewPosition - worldCameraPosition );
  vec3 R = reflect(lightDirection, worldNormal) * uCameraRotation;
  vec2 newTexCoor = mapTextureToNormal( R );
#ifdef WEBGL2
  // In p5js the range of shininess is >= 1,
  // Therefore roughness range will be ([0,1]*8)*20 or [0, 160]
  // The factor of 8 is because currently the getSpecularTexture
  // only calculated 8 different levels of roughness
  // The factor of 20 is just to spread up this range so that,
  // [1, max] of shininess is converted to [0,160] of roughness
  float roughness = 20. / shininess;
  vec4 outColor = textureLod(environmentMapSpecular, newTexCoor, roughness * 8.);
#else
  vec4 outColor = TEXTURE(environmentMapSpecular, newTexCoor);
#endif
  // this is to make the darker sections more dark
  // png and jpg usually flatten the brightness so it is to reverse that
  return mix(
    pow(outColor.xyz, vec3(10)),
    pow(outColor.xyz, vec3(1.2)),
    metallic 
  );
}

void totalLight(
  vec3 modelPosition,
  vec3 normal,
  float shininess,
  float metallic,
  out vec3 totalDiffuse,
  out vec3 totalSpecular
) {

  totalSpecular = vec3(0.0);

  if (!uUseLighting) {
    totalDiffuse = vec3(1.0);
    return;
  }

  totalDiffuse = vec3(0.0);

  vec3 viewDirection = normalize(-modelPosition);

  for (int j = 0; j < 5; j++) {
    if (j < uDirectionalLightCount) {
      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;
      vec3 lightColor = uDirectionalDiffuseColors[j];
      vec3 specularColor = uDirectionalSpecularColors[j];
      LightResult result = _light(viewDirection, normal, lightVector, shininess, metallic);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if (j < uPointLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
      //calculate attenuation
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);
      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];
      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];

      LightResult result = _light(viewDirection, normal, lightVector, shininess, metallic);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if(j < uSpotLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);

      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;
      float spotDot = dot(normalize(lightVector), normalize(lightDirection));
      float spotFalloff;
      if(spotDot < uSpotLightAngle[j]) {
        spotFalloff = 0.0;
      }
      else {
        spotFalloff = pow(spotDot, uSpotLightConc[j]);
      }
      lightFalloff *= spotFalloff;

      vec3 lightColor = uSpotLightDiffuseColors[j];
      vec3 specularColor = uSpotLightSpecularColors[j];
     
      LightResult result = _light(viewDirection, normal, lightVector, shininess, metallic);
      
      totalDiffuse += result.diffuse * lightColor * lightFalloff;
      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;
    }
  }

  if( uUseImageLight ){
    totalDiffuse += calculateImageDiffuse(normal, modelPosition, metallic);
    totalSpecular += calculateImageSpecular(normal, modelPosition, shininess, metallic);
  }

  totalDiffuse *= diffuseFactor;
  totalSpecular *= specularFactor;
}
`),I={sphereMappingFrag:`#define PI 3.141592

precision highp float;
  
uniform sampler2D uSampler;
uniform mat3 uNewNormalMatrix;
uniform float uFovY;
uniform float uAspect;

varying vec2 vTexCoord;
  
void main() {
    float uFovX = uFovY * uAspect; 
    vec4 newTexColor = texture2D(uSampler, vTexCoord);
    float angleY = mix(uFovY/2.0,  -uFovY/2.0, vTexCoord.y);
    float angleX = mix(uFovX/2.0, -uFovX/2.0, vTexCoord.x);
    vec3 rotatedNormal = vec3( angleX, angleY, 1.0 );
    rotatedNormal = uNewNormalMatrix * normalize(rotatedNormal);
    float temp = rotatedNormal.z;
    rotatedNormal.z = rotatedNormal.x;
    rotatedNormal.x = -temp;
    vec2 suv;
    suv.y = 0.5 + 0.5 * (-rotatedNormal.y);
    suv.x = atan(rotatedNormal.z, rotatedNormal.x) / (2.0 * PI) + 0.5;
    newTexColor = texture2D(uSampler, suv.xy);
    gl_FragColor = newTexColor;
}
`,immediateVert:`IN vec3 aPosition;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uResolution;
uniform float uPointSize;

OUT vec4 vColor;
void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
  gl_PointSize = uPointSize;
}
`,vertexColorVert:`IN vec3 aPosition;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

OUT vec4 vColor;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
}
`,vertexColorFrag:`IN vec4 vColor;
void main(void) {
  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;
}
`,normalVert:`IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform vec4 uMaterialColor;
uniform bool uUseVertexColor;

OUT vec3 vVertexNormal;
OUT highp vec2 vVertTexCoord;
OUT vec4 vColor;

void main(void) {
  HOOK_beforeVertex();
  vec4 positionVec4 = vec4(HOOK_getWorldPosition(
    (uModelViewMatrix * vec4(HOOK_getLocalPosition(aPosition), 1.0)).xyz
  ), 1.);

  gl_Position = uProjectionMatrix * positionVec4;

  vVertexNormal = HOOK_getWorldNormal(normalize(uNormalMatrix * HOOK_getLocalNormal(aNormal)));
  vVertTexCoord = HOOK_getUV(aTexCoord);
  vColor = HOOK_getVertexColor(uUseVertexColor ? aVertexColor : uMaterialColor);
  HOOK_afterVertex();
}
`,normalFrag:`IN vec3 vVertexNormal;
void main(void) {
  HOOK_beforeFragment();
  OUT_COLOR = HOOK_getFinalColor(vec4(vVertexNormal, 1.0));
  HOOK_afterFragment();
}
`,basicFrag:`IN vec4 vColor;
void main(void) {
  HOOK_beforeFragment();
  OUT_COLOR = HOOK_getFinalColor(vec4(vColor.rgb, 1.) * vColor.a);
  HOOK_afterFragment();
}
`,lightVert:R+`// include lighting.glgl

IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

OUT highp vec2 vVertTexCoord;
OUT vec3 vDiffuseColor;
OUT vec3 vSpecularColor;
OUT vec4 vColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;

  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);
  vVertTexCoord = aTexCoord;

  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);

  for (int i = 0; i < 8; i++) {
    if (i < uAmbientLightCount) {
      vDiffuseColor += uAmbientColor[i];
    }
  }
  
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,lightTextureFrag:`uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;
uniform bool uEmissive;

IN highp vec2 vVertTexCoord;
IN vec3 vDiffuseColor;
IN vec3 vSpecularColor;
IN vec4 vColor;

void main(void) {
  if(uEmissive && !isTexture) {
    OUT_COLOR = vColor;
  }
  else {
    vec4 baseColor = isTexture
      // Textures come in with premultiplied alpha. To apply tint and still have
      // premultiplied alpha output, we need to multiply the RGB channels by the
      // tint RGB, and all channels by the tint alpha.
      ? TEXTURE(uSampler, vVertTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)
      // Colors come in with unmultiplied alpha, so we need to multiply the RGB
      // channels by alpha to convert it to premultiplied alpha.
      : vec4(vColor.rgb * vColor.a, vColor.a);
    OUT_COLOR = vec4(baseColor.rgb * vDiffuseColor + vSpecularColor, baseColor.a);
  }
}
`,phongVert:`precision highp int;

IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform vec3 uAmbientColor[5];

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;
uniform int uAmbientLightCount;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

OUT vec3 vNormal;
OUT vec2 vTexCoord;
OUT vec3 vViewPosition;
OUT vec3 vAmbientColor;
OUT vec4 vColor;

void main(void) {
  HOOK_beforeVertex();
  vec4 viewModelPosition = vec4(HOOK_getWorldPosition(
    (uModelViewMatrix * vec4(HOOK_getLocalPosition(aPosition), 1.0)).xyz
  ), 1.);

  // Pass varyings to fragment shader
  vViewPosition = viewModelPosition.xyz;
  gl_Position = uProjectionMatrix * viewModelPosition;  

  vNormal = HOOK_getWorldNormal(uNormalMatrix * HOOK_getLocalNormal(aNormal));
  vTexCoord = HOOK_getUV(aTexCoord);

  // TODO: this should be a uniform
  vAmbientColor = vec3(0.0);
  for (int i = 0; i < 5; i++) {
    if (i < uAmbientLightCount) {
      vAmbientColor += uAmbientColor[i];
    }
  }
  
  vColor = HOOK_getVertexColor((uUseVertexColor ? aVertexColor : uMaterialColor));
  HOOK_afterVertex();
}
`,phongFrag:R+`// include lighting.glsl
precision highp int;

uniform bool uHasSetAmbient;
uniform vec4 uSpecularMatColor;
uniform vec4 uAmbientMatColor;
uniform vec4 uEmissiveMatColor;

uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;

IN vec3 vNormal;
IN vec2 vTexCoord;
IN vec3 vViewPosition;
IN vec3 vAmbientColor;
IN vec4 vColor;

struct ColorComponents {
  vec3 baseColor;
  float opacity;
  vec3 ambientColor;
  vec3 specularColor;
  vec3 diffuse;
  vec3 ambient;
  vec3 specular;
  vec3 emissive;
};

struct Inputs {
  vec3 normal;
  vec2 texCoord;
  vec3 ambientLight;
  vec3 ambientMaterial;
  vec3 specularMaterial;
  vec3 emissiveMaterial;
  vec4 color;
  float shininess;
  float metalness;
};

void main(void) {
  HOOK_beforeFragment();

  Inputs inputs;
  inputs.normal = normalize(vNormal);
  inputs.texCoord = vTexCoord;
  inputs.ambientLight = vAmbientColor;
  inputs.color = isTexture
      // Textures come in with premultiplied alpha. To apply tint and still have
      // premultiplied alpha output, we need to multiply the RGB channels by the
      // tint RGB, and all channels by the tint alpha.
      ? TEXTURE(uSampler, vTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)
      // Colors come in with unmultiplied alpha, so we need to multiply the RGB
      // channels by alpha to convert it to premultiplied alpha.
      : vec4(vColor.rgb * vColor.a, vColor.a);
  inputs.shininess = uShininess;
  inputs.metalness = uMetallic;
  inputs.ambientMaterial = uHasSetAmbient ? uAmbientMatColor.rgb : inputs.color.rgb;
  inputs.specularMaterial = uSpecularMatColor.rgb;
  inputs.emissiveMaterial = uEmissiveMatColor.rgb;
  inputs = HOOK_getPixelInputs(inputs);

  vec3 diffuse;
  vec3 specular;
  totalLight(vViewPosition, inputs.normal, inputs.shininess, inputs.metalness, diffuse, specular);

  // Calculating final color as result of all lights (plus emissive term).

  vec2 texCoord = inputs.texCoord;
  vec4 baseColor = inputs.color;
  ColorComponents c;
  c.opacity = baseColor.a;
  c.baseColor = baseColor.rgb;
  c.ambientColor = inputs.ambientMaterial;
  c.specularColor = inputs.specularMaterial;
  c.diffuse = diffuse;
  c.ambient = inputs.ambientLight;
  c.specular = specular;
  c.emissive = inputs.emissiveMaterial;
  OUT_COLOR = HOOK_getFinalColor(HOOK_combineColors(c));
  HOOK_afterFragment();
}
`,fontVert:`IN vec3 aPosition;
IN vec2 aTexCoord;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

uniform vec4 uGlyphRect;
uniform float uGlyphOffset;

OUT vec2 vTexCoord;
OUT float w;

void main() {
  vec4 positionVec4 = vec4(aPosition, 1.0);

  // scale by the size of the glyph's rectangle
  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;

  // Expand glyph bounding boxes by 1px on each side to give a bit of room
  // for antialiasing
  vec3 newOrigin = (uModelViewMatrix * vec4(0., 0., 0., 1.)).xyz;
  vec3 newDX = (uModelViewMatrix * vec4(1., 0., 0., 1.)).xyz;
  vec3 newDY = (uModelViewMatrix * vec4(0., 1., 0., 1.)).xyz;
  vec2 pixelScale = vec2(
    1. / length(newOrigin - newDX),
    1. / length(newOrigin - newDY)
  );
  vec2 offset = pixelScale * normalize(aTexCoord - vec2(0.5, 0.5)) * vec2(1., -1.);
  vec2 textureOffset = offset * (1. / vec2(
    uGlyphRect.z - uGlyphRect.x,
    uGlyphRect.w - uGlyphRect.y
  ));

  // move to the corner of the glyph
  positionVec4.xy += uGlyphRect.xy;

  // move to the letter's line offset
  positionVec4.x += uGlyphOffset;

  positionVec4.xy += offset;
  
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vTexCoord = aTexCoord + textureOffset;
  w = gl_Position.w;
}
`,fontFrag:`#ifndef WEBGL2
#extension GL_OES_standard_derivatives : enable
#endif

#if 0
  // simulate integer math using floats
	#define int float
	#define ivec2 vec2
	#define INT(x) float(x)

	int ifloor(float v) { return floor(v); }
	ivec2 ifloor(vec2 v) { return floor(v); }

#else
  // use native integer math
	precision highp int;
	#define INT(x) x

	int ifloor(float v) { return int(v); }
	int ifloor(int v) { return v; }
	ivec2 ifloor(vec2 v) { return ivec2(v); }

#endif

uniform sampler2D uSamplerStrokes;
uniform sampler2D uSamplerRowStrokes;
uniform sampler2D uSamplerRows;
uniform sampler2D uSamplerColStrokes;
uniform sampler2D uSamplerCols;

uniform ivec2 uStrokeImageSize;
uniform ivec2 uCellsImageSize;
uniform ivec2 uGridImageSize;

uniform ivec2 uGridOffset;
uniform ivec2 uGridSize;
uniform vec4 uMaterialColor;

IN vec2 vTexCoord;

// some helper functions
int ROUND(float v) { return ifloor(v + 0.5); }
ivec2 ROUND(vec2 v) { return ifloor(v + 0.5); }
float saturate(float v) { return clamp(v, 0.0, 1.0); }
vec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }

int mul(float v1, int v2) {
  return ifloor(v1 * float(v2));
}

ivec2 mul(vec2 v1, ivec2 v2) {
  return ifloor(v1 * vec2(v2) + 0.5);
}

// unpack a 16-bit integer from a float vec2
int getInt16(vec2 v) {
  ivec2 iv = ROUND(v * 255.0);
  return iv.x * INT(128) + iv.y;
}

vec2 pixelScale;
vec2 coverage = vec2(0.0);
vec2 weight = vec2(0.5);
const float minDistance = 1.0/8192.0;
const float hardness = 1.05; // amount of antialias

// the maximum number of curves in a glyph
const int N = INT(250);

// retrieves an indexed pixel from a sampler
vec4 getTexel(sampler2D sampler, int pos, ivec2 size) {
  int width = size.x;
  int y = ifloor(pos / width);
  int x = pos - y * width;  // pos % width

  return TEXTURE(sampler, (vec2(x, y) + 0.5) / vec2(size));
}

void calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {

  // get the coefficients of the quadratic in t
  vec2 a = p0 - p1 * 2.0 + p2;
  vec2 b = p0 - p1;
  vec2 c = p0 - vTexCoord;

  // found out which values of 't' it crosses the axes
  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));
  vec2 t1 = ((b - surd) / a).yx;
  vec2 t2 = ((b + surd) / a).yx;

  // approximate straight lines to avoid rounding errors
  if (abs(a.y) < 0.001)
    t1.x = t2.x = c.y / (2.0 * b.y);

  if (abs(a.x) < 0.001)
    t1.y = t2.y = c.x / (2.0 * b.x);

  // plug into quadratic formula to find the corrdinates of the crossings
  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;
  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;
}

void coverageX(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  // determine on which side of the x-axis the points lie
  bool y0 = p0.y > vTexCoord.y;
  bool y1 = p1.y > vTexCoord.y;
  bool y2 = p2.y > vTexCoord.y;

  // could web be under the curve (after t1)?
  if (y1 ? !y2 : y0) {
    // add the coverage for t1
    coverage.x += saturate(C1.x + 0.5);
    // calculate the anti-aliasing for t1
    weight.x = min(weight.x, abs(C1.x));
  }

  // are we outside the curve (after t2)?
  if (y1 ? !y0 : y2) {
    // subtract the coverage for t2
    coverage.x -= saturate(C2.x + 0.5);
    // calculate the anti-aliasing for t2
    weight.x = min(weight.x, abs(C2.x));
  }
}

// this is essentially the same as coverageX, but with the axes swapped
void coverageY(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  bool x0 = p0.x > vTexCoord.x;
  bool x1 = p1.x > vTexCoord.x;
  bool x2 = p2.x > vTexCoord.x;

  if (x1 ? !x2 : x0) {
    coverage.y -= saturate(C1.y + 0.5);
    weight.y = min(weight.y, abs(C1.y));
  }

  if (x1 ? !x0 : x2) {
    coverage.y += saturate(C2.y + 0.5);
    weight.y = min(weight.y, abs(C2.y));
  }
}

void main() {

  // calculate the pixel scale based on screen-coordinates
  pixelScale = hardness / fwidth(vTexCoord);

  // which grid cell is this pixel in?
  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));

  // intersect curves in this row
  {
    // the index into the row info bitmap
    int rowIndex = gridCoord.y + uGridOffset.y;
    // fetch the info texel
    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);
    // unpack the rowInfo
    int rowStrokeIndex = getInt16(rowInfo.xy);
    int rowStrokeCount = getInt16(rowInfo.zw);

    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {
      if (iRowStroke >= rowStrokeCount)
        break;

      // each stroke is made up of 3 points: the start and control point
      // and the start of the next curve.
      // fetch the indices of this pair of strokes:
      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);

      // unpack the stroke index
      int strokePos = getInt16(strokeIndices.xy);

      // fetch the two strokes
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);

      // calculate the coverage
      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  // intersect curves in this column
  {
    int colIndex = gridCoord.x + uGridOffset.x;
    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);
    int colStrokeIndex = getInt16(colInfo.xy);
    int colStrokeCount = getInt16(colInfo.zw);
    
    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {
      if (iColStroke >= colStrokeCount)
        break;

      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);

      int strokePos = getInt16(strokeIndices.xy);
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);
      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  weight = saturate(1.0 - weight * 2.0);
  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.
  float antialias = abs(dot(coverage, weight) / distance);
  float cover = min(abs(coverage.x), abs(coverage.y));
  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;
  OUT_COLOR *= saturate(max(antialias, cover));
}
`,lineVert:P+`/*
  Part of the Processing project - http://processing.org
  Copyright (c) 2012-15 The Processing Foundation
  Copyright (c) 2004-12 Ben Fry and Casey Reas
  Copyright (c) 2001-04 Massachusetts Institute of Technology
  This library is free software; you can redistribute it and/or
  modify it under the terms of the GNU Lesser General Public
  License as published by the Free Software Foundation, version 2.1.
  This library is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
  Lesser General Public License for more details.
  You should have received a copy of the GNU Lesser General
  Public License along with this library; if not, write to the
  Free Software Foundation, Inc., 59 Temple Place, Suite 330,
  Boston, MA  02111-1307  USA
*/

#define PROCESSING_LINE_SHADER

precision mediump int;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uStrokeWeight;

uniform bool uUseLineColor;
uniform vec4 uMaterialColor;

uniform vec4 uViewport;
uniform int uPerspective;
uniform int uStrokeJoin;

IN vec4 aPosition;
IN vec3 aTangentIn;
IN vec3 aTangentOut;
IN float aSide;
IN vec4 aVertexColor;

OUT vec4 vColor;
OUT vec2 vTangent;
OUT vec2 vCenter;
OUT vec2 vPosition;
OUT float vMaxDist;
OUT float vCap;
OUT float vJoin;
OUT float vStrokeWeight;

vec2 lineIntersection(vec2 aPoint, vec2 aDir, vec2 bPoint, vec2 bDir) {
  // Rotate and translate so a starts at the origin and goes out to the right
  bPoint -= aPoint;
  vec2 rotatedBFrom = vec2(
    bPoint.x*aDir.x + bPoint.y*aDir.y,
    bPoint.y*aDir.x - bPoint.x*aDir.y
  );
  vec2 bTo = bPoint + bDir;
  vec2 rotatedBTo = vec2(
    bTo.x*aDir.x + bTo.y*aDir.y,
    bTo.y*aDir.x - bTo.x*aDir.y
  );
  float intersectionDistance =
    rotatedBTo.x + (rotatedBFrom.x - rotatedBTo.x) * rotatedBTo.y /
    (rotatedBTo.y - rotatedBFrom.y);
  return aPoint + aDir * intersectionDistance;
}

void main() {
  HOOK_beforeVertex();
  // Caps have one of either the in or out tangent set to 0
  vCap = (aTangentIn == vec3(0.)) != (aTangentOut == (vec3(0.)))
    ? 1. : 0.;

  // Joins have two unique, defined tangents
  vJoin = (
    aTangentIn != vec3(0.) &&
    aTangentOut != vec3(0.) &&
    aTangentIn != aTangentOut
  ) ? 1. : 0.;

  vec4 localPosition = vec4(HOOK_getLocalPosition(aPosition.xyz), 1.);
  vec4 posp = vec4(HOOK_getWorldPosition((uModelViewMatrix * localPosition).xyz), 1.);
  vec4 posqIn = posp + uModelViewMatrix * vec4(aTangentIn, 0);
  vec4 posqOut = posp + uModelViewMatrix * vec4(aTangentOut, 0);
  float strokeWeight = HOOK_getStrokeWeight(uStrokeWeight);
  vStrokeWeight = strokeWeight;

  float facingCamera = pow(
    // The word space tangent's z value is 0 if it's facing the camera
    abs(normalize(posqIn-posp).z),

    // Using pow() here to ramp \`facingCamera\` up from 0 to 1 really quickly
    // so most lines get scaled and don't get clipped
    0.25
  );

  // Moving vertices slightly toward the camera
  // to avoid depth-fighting with the fill triangles.
  // A mix of scaling and offsetting is used based on distance
  // Discussion here:
  // https://github.com/processing/p5.js/issues/7200 

  // using a scale <1 moves the lines towards nearby camera
  // in order to prevent popping effects due to half of
  // the line disappearing behind the geometry faces.
  float zDistance = -posp.z; 
  float distanceFactor = smoothstep(0.0, 800.0, zDistance); 
  
  // Discussed here:
  // http://www.opengl.org/discussion_boards/ubbthreads.php?ubb=showflat&Number=252848  
  float scale = mix(1., 0.995, facingCamera);
  float dynamicScale = mix(scale, 1.0, distanceFactor); // Closer = more scale, farther = less

  posp.xyz = posp.xyz * dynamicScale;
  posqIn.xyz = posqIn.xyz * dynamicScale;
  posqOut.xyz = posqOut.xyz * dynamicScale;

  // Moving vertices slightly toward camera when far away 
  // https://github.com/processing/p5.js/issues/6956 
  float zOffset = mix(-0.00045, -1., facingCamera);
  float dynamicZAdjustment = mix(0.0, zOffset, distanceFactor); // Closer = less zAdjustment, farther = more

  posp.z -= dynamicZAdjustment;
  posqIn.z -= dynamicZAdjustment;
  posqOut.z -= dynamicZAdjustment;
  
  vec4 p = uProjectionMatrix * posp;
  vec4 qIn = uProjectionMatrix * posqIn;
  vec4 qOut = uProjectionMatrix * posqOut;
  vCenter = HOOK_getLineCenter(p.xy);

  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])
  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw

  // prevent division by W by transforming the tangent formula (div by 0 causes
  // the line to disappear, see https://github.com/processing/processing/issues/5183)
  // t = screen_q - screen_p
  //
  // tangent is normalized and we don't care which aDirection it points to (+-)
  // t = +- normalize( screen_q - screen_p )
  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )
  //
  // extract common factor, <1,1> - <1,1> cancels out
  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )
  //
  // convert to common divisor
  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )
  //
  // remove the common scalar divisor/factor, not needed due to normalize and +-
  // (keep uViewport - can't remove because it has different components for x and y
  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)
  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )

  vec2 tangentIn = normalize((qIn.xy*p.w - p.xy*qIn.w) * uViewport.zw);
  vec2 tangentOut = normalize((qOut.xy*p.w - p.xy*qOut.w) * uViewport.zw);

  vec2 curPerspScale;
  if(uPerspective == 1) {
    // Perspective ---
    // convert from world to clip by multiplying with projection scaling factor
    // to get the right thickness (see https://github.com/processing/processing/issues/5182)

    // The y value of the projection matrix may be flipped if rendering to a Framebuffer.
    // Multiplying again by its sign here negates the flip to get just the scale.
    curPerspScale = (uProjectionMatrix * vec4(1, sign(uProjectionMatrix[1][1]), 0, 0)).xy;
  } else {
    // No Perspective ---
    // multiply by W (to cancel out division by W later in the pipeline) and
    // convert from screen to clip (derived from clip to screen above)
    curPerspScale = p.w / (0.5 * uViewport.zw);
  }

  vec2 offset;
  if (vJoin == 1.) {
    vTangent = normalize(tangentIn + tangentOut);
    vec2 normalIn = vec2(-tangentIn.y, tangentIn.x);
    vec2 normalOut = vec2(-tangentOut.y, tangentOut.x);
    float side = sign(aSide);
    float sideEnum = abs(aSide);

    // We generate vertices for joins on either side of the centerline, but
    // the "elbow" side is the only one needing a join. By not setting the
    // offset for the other side, all its vertices will end up in the same
    // spot and not render, effectively discarding it.
    if (sign(dot(tangentOut, vec2(-tangentIn.y, tangentIn.x))) != side) {
      // Side enums:
      //   1: the side going into the join
      //   2: the middle of the join
      //   3: the side going out of the join
      if (sideEnum == 2.) {
        // Calculate the position + tangent on either side of the join, and
        // find where the lines intersect to find the elbow of the join
        vec2 c = (posp.xy/posp.w + vec2(1.,1.)) * 0.5 * uViewport.zw;
        vec2 intersection = lineIntersection(
          c + (side * normalIn * strokeWeight / 2.),
          tangentIn,
          c + (side * normalOut * strokeWeight / 2.),
          tangentOut
        );
        offset = (intersection - c);

        // When lines are thick and the angle of the join approaches 180, the
        // elbow might be really far from the center. We'll apply a limit to
        // the magnitude to avoid lines going across the whole screen when this
        // happens.
        float mag = length(offset);
        float maxMag = 3. * strokeWeight;
        if (mag > maxMag) {
          offset *= maxMag / mag;
        }
      } else if (sideEnum == 1.) {
        offset = side * normalIn * strokeWeight / 2.;
      } else if (sideEnum == 3.) {
        offset = side * normalOut * strokeWeight / 2.;
      }
    }
    if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 avgNormal = vec2(-vTangent.y, vTangent.x);
      vMaxDist = abs(dot(avgNormal, normalIn * strokeWeight / 2.));
    } else {
      vMaxDist = strokeWeight / 2.;
    }
  } else {
    vec2 tangent = aTangentIn == vec3(0.) ? tangentOut : tangentIn;
    vTangent = tangent;
    vec2 normal = vec2(-tangent.y, tangent.x);

    float normalOffset = sign(aSide);
    // Caps will have side values of -2 or 2 on the edge of the cap that
    // extends out from the line
    float tangentOffset = abs(aSide) - 1.;
    offset = (normal * normalOffset + tangent * tangentOffset) *
      strokeWeight * 0.5;
    vMaxDist = strokeWeight / 2.;
  }
  vPosition = HOOK_getLinePosition(vCenter + offset);

  gl_Position.xy = p.xy + offset.xy * curPerspScale;
  gl_Position.zw = p.zw;
  
  vColor = HOOK_getVertexColor(uUseLineColor ? aVertexColor : uMaterialColor);
  HOOK_afterVertex();
}
`,lineFrag:P+`precision mediump int;

uniform vec4 uMaterialColor;
uniform int uStrokeCap;
uniform int uStrokeJoin;

IN vec4 vColor;
IN vec2 vTangent;
IN vec2 vCenter;
IN vec2 vPosition;
IN float vStrokeWeight;
IN float vMaxDist;
IN float vCap;
IN float vJoin;

float distSquared(vec2 a, vec2 b) {
  vec2 aToB = b - a;
  return dot(aToB, aToB);
}

struct Inputs {
  vec4 color;
  vec2 tangent;
  vec2 center;
  vec2 position;
  float strokeWeight;
};

void main() {
  HOOK_beforeFragment();

  Inputs inputs;
  inputs.color = vColor;
  inputs.tangent = vTangent;
  inputs.center = vCenter;
  inputs.position = vPosition;
  inputs.strokeWeight = vStrokeWeight;
  inputs = HOOK_getPixelInputs(inputs);

  if (vCap > 0.) {
    if (
      uStrokeCap == STROKE_CAP_ROUND &&
      HOOK_shouldDiscard(distSquared(inputs.position, inputs.center) > inputs.strokeWeight * inputs.strokeWeight * 0.25)
    ) {
      discard;
    } else if (
      uStrokeCap == STROKE_CAP_SQUARE &&
      HOOK_shouldDiscard(dot(inputs.position - inputs.center, inputs.tangent) > 0.)
    ) {
      discard;
    // Use full area for PROJECT
    } else if (HOOK_shouldDiscard(false)) {
      discard;
    }
  } else if (vJoin > 0.) {
    if (
      uStrokeJoin == STROKE_JOIN_ROUND &&
      HOOK_shouldDiscard(distSquared(inputs.position, inputs.center) > inputs.strokeWeight * inputs.strokeWeight * 0.25)
    ) {
      discard;
    } else if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 normal = vec2(-inputs.tangent.y, inputs.tangent.x);
      if (HOOK_shouldDiscard(abs(dot(inputs.position - inputs.center, normal)) > vMaxDist)) {
        discard;
      }
    // Use full area for MITER
    } else if (HOOK_shouldDiscard(false)) {
      discard;
    }
  }
  OUT_COLOR = HOOK_getFinalColor(vec4(inputs.color.rgb, 1.) * inputs.color.a);
  HOOK_afterFragment();
}
`,pointVert:`IN vec3 aPosition;
uniform float uPointSize;
OUT float vStrokeWeight;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

void main() {
  HOOK_beforeVertex();
  vec4 viewModelPosition = vec4(HOOK_getWorldPosition(
    (uModelViewMatrix * vec4(HOOK_getLocalPosition(aPosition), 1.0)).xyz
  ), 1.);
  gl_Position = uProjectionMatrix * viewModelPosition;  

  float pointSize = HOOK_getPointSize(uPointSize);

	gl_PointSize = pointSize;
	vStrokeWeight = pointSize;
  HOOK_afterVertex();
}
`,pointFrag:`precision mediump int;
uniform vec4 uMaterialColor;
IN float vStrokeWeight;

void main(){
  HOOK_beforeFragment();
  float mask = 0.0;

  // make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)
  // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant

  mask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));

  // if strokeWeight is 1 or less lets just draw a square
  // this prevents weird artifacting from carving circles when our points are really small
  // if strokeWeight is larger than 1, we just use it as is

  mask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));

  // throw away the borders of the mask
  // otherwise we get weird alpha blending issues

  if(HOOK_shouldDiscard(mask > 0.98)){
    discard;
  }

  OUT_COLOR = HOOK_getFinalColor(vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a);
  HOOK_afterFragment();
}
`,imageLightVert:`precision highp float;
attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;

varying vec3 localPos;
varying vec3 vWorldNormal;
varying vec3 vWorldPosition;
varying vec2 vTexCoord;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

void main() {
  // Multiply the position by the matrix.
  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;  
  
  // orient the normals and pass to the fragment shader
  vWorldNormal = uNormalMatrix * aNormal;
  
  // send the view position to the fragment shader
  vWorldPosition = (uModelViewMatrix * vec4(aPosition, 1.0)).xyz;
  
  localPos = vWorldPosition;
  vTexCoord = aTexCoord;
}


/*
in the vertex shader we'll compute the world position and world oriented normal of the vertices and pass those to the fragment shader as varyings.
*/
`,imageLightDiffusedFrag:`precision highp float;
varying vec3 localPos;

// the HDR cubemap converted (can be from an equirectangular environment map.)
uniform sampler2D environmentMap;
varying vec2 vTexCoord;

const float PI = 3.14159265359;

vec2 nTOE( vec3 v ){
  // x = r sin(phi) cos(theta)   
  // y = r cos(phi)  
  // z = r sin(phi) sin(theta)
  float phi = acos( v.y );
  // if phi is 0, then there are no x, z components
  float theta = 0.0;
  // else 
  theta = acos(v.x / sin(phi));
  float sinTheta = v.z / sin(phi);
  if (sinTheta < 0.0) {
    // Turn it into -theta, but in the 0-2PI range
    theta = 2.0 * PI - theta;
  }
  theta = theta / (2.0 * 3.14159);
  phi = phi / 3.14159 ;
  
  vec2 angles = vec2( phi, theta );
  return angles;
}

float random(vec2 p) {
  vec3 p3  = fract(vec3(p.xyx) * .1031);
  p3 += dot(p3, p3.yzx + 33.33);
  return fract((p3.x + p3.y) * p3.z);
}

void main()
{   	 
	// the sample direction equals the hemisphere's orientation
  float phi = vTexCoord.x * 2.0 * PI;
  float theta = vTexCoord.y * PI;
  float x = sin(theta) * cos(phi);
  float y = sin(theta) * sin(phi);
  float z = cos(theta);
  vec3 normal = vec3( x, y, z);

	// Discretely sampling the hemisphere given the integral's
  // spherical coordinates translates to the following fragment code:
	vec3 irradiance = vec3(0.0);  
	vec3 up	= vec3(0.0, 1.0, 0.0);
	vec3 right = normalize(cross(up, normal));
	up = normalize(cross(normal, right));

	//  We specify a fixed sampleDelta delta value to traverse
  // the hemisphere; decreasing or increasing the sample delta
  // will increase or decrease the accuracy respectively.
	const float sampleDelta = 0.100;
	float nrSamples = 0.0;
  float randomOffset = random(gl_FragCoord.xy) * sampleDelta;
	for(float rawPhi = 0.0; rawPhi < 2.0 * PI; rawPhi += sampleDelta)
	{
    float phi = rawPhi + randomOffset;
    for(float rawTheta = 0.0; rawTheta < ( 0.5 ) * PI; rawTheta += sampleDelta)
    {
      float theta = rawTheta + randomOffset;
      // spherical to cartesian (in tangent space) // tangent space to world // add each sample result to irradiance
      float x = sin(theta) * cos(phi);
      float y = sin(theta) * sin(phi);
      float z = cos(theta);
      vec3 tangentSample = vec3( x, y, z);
      
      vec3 sampleVec = tangentSample.x * right + tangentSample.y * up + tangentSample.z * normal;
        irradiance += (texture2D(environmentMap, nTOE(sampleVec)).xyz) * cos(theta) * sin(theta);
      nrSamples++;
    }
	}
	// divide by the total number of samples taken, giving us the average sampled irradiance.
	irradiance = PI * irradiance * (1.0 / float(nrSamples )) ;
  
 
	gl_FragColor = vec4(irradiance, 1.0);
}`,imageLightSpecularFrag:`precision highp float;\r
varying vec3 localPos;\r
varying vec2 vTexCoord;\r
\r
// our texture\r
uniform sampler2D environmentMap;\r
uniform float roughness;\r
\r
const float PI = 3.14159265359;\r
\r
float VanDerCorput(int bits);\r
vec2 HammersleyNoBitOps(int i, int N);\r
vec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness);\r
\r
\r
vec2 nTOE( vec3 v ){\r
  // x = r sin(phi) cos(theta)   \r
  // y = r cos(phi)  \r
  // z = r sin(phi) sin(theta)\r
  float phi = acos( v.y );\r
  // if phi is 0, then there are no x, z components\r
  float theta = 0.0;\r
  // else \r
  theta = acos(v.x / sin(phi));\r
  float sinTheta = v.z / sin(phi);\r
  if (sinTheta < 0.0) {\r
    // Turn it into -theta, but in the 0-2PI range\r
    theta = 2.0 * PI - theta;\r
  }\r
  theta = theta / (2.0 * 3.14159);\r
  phi = phi / 3.14159 ;\r
  \r
  vec2 angles = vec2( phi, theta );\r
  return angles;\r
}\r
\r
\r
void main(){\r
  const int SAMPLE_COUNT = 400; // 4096\r
  int lowRoughnessLimit = int(pow(2.0,(roughness+0.1)*20.0));\r
  float totalWeight = 0.0;\r
  vec3 prefilteredColor = vec3(0.0);\r
  float phi = vTexCoord.x * 2.0 * PI;\r
  float theta = vTexCoord.y * PI;\r
  float x = sin(theta) * cos(phi);\r
  float y = sin(theta) * sin(phi);\r
  float z = cos(theta);\r
  vec3 N = vec3(x,y,z);\r
  vec3 V = N;\r
  for (int i = 0; i < SAMPLE_COUNT; ++i)\r
  {\r
    // break at smaller sample numbers for low roughness levels\r
    if(i == lowRoughnessLimit)\r
    {\r
      break;\r
    }\r
    vec2 Xi = HammersleyNoBitOps(i, SAMPLE_COUNT);\r
    vec3 H = ImportanceSampleGGX(Xi, N, roughness);\r
    vec3 L = normalize(2.0 * dot(V, H) * H - V);\r
\r
    float NdotL = max(dot(N, L), 0.0);\r
    if (NdotL > 0.0)\r
    {\r
      prefilteredColor += texture2D(environmentMap, nTOE(L)).xyz * NdotL;\r
      totalWeight += NdotL;\r
    }\r
  }\r
  prefilteredColor = prefilteredColor / totalWeight;\r
\r
  gl_FragColor = vec4(prefilteredColor, 1.0);\r
}\r
\r
vec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness){\r
  float a = roughness * roughness;\r
\r
  float phi = 2.0 * PI * Xi.x;\r
  float cosTheta = sqrt((1.0 - Xi.y) / (1.0 + (a * a - 1.0) * Xi.y));\r
  float sinTheta = sqrt(1.0 - cosTheta * cosTheta);\r
  // from spherical coordinates to cartesian coordinates\r
  vec3 H;\r
  H.x = cos(phi) * sinTheta;\r
  H.y = sin(phi) * sinTheta;\r
  H.z = cosTheta;\r
\r
  // from tangent-space vector to world-space sample vector\r
  vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);\r
  vec3 tangent = normalize(cross(up, N));\r
  vec3 bitangent = cross(N, tangent);\r
\r
  vec3 sampleVec = tangent * H.x + bitangent * H.y + N * H.z;\r
  return normalize(sampleVec);\r
}\r
\r
\r
float VanDerCorput(int n, int base)\r
{\r
#ifdef WEBGL2\r
\r
    uint bits = uint(n);\r
    bits = (bits << 16u) | (bits >> 16u);\r
    bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);\r
    bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);\r
    bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);\r
    bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);\r
    return float(bits) * 2.3283064365386963e-10; // / 0x100000000\r
\r
#else\r
\r
  float invBase = 1.0 / float(base);\r
  float denom = 1.0;\r
  float result = 0.0;\r
\r
\r
  for (int i = 0; i < 32; ++i)\r
  {\r
        if (n > 0)\r
        {\r
        denom = mod(float(n), 2.0);\r
        result += denom * invBase;\r
        invBase = invBase / 2.0;\r
        n = int(float(n) / 2.0);\r
        }\r
  }\r
\r
\r
  return result;\r
\r
#endif\r
}\r
\r
vec2 HammersleyNoBitOps(int i, int N)\r
{\r
  return vec2(float(i) / float(N), VanDerCorput(i, 2));\r
}\r
`},N=I.sphereMappingFrag;for(C in I)I[C]=`#ifdef WEBGL2

#define IN in
#define OUT out

#ifdef FRAGMENT_SHADER
out vec4 outColor;
#define OUT_COLOR outColor
#endif
#define TEXTURE texture

#else

#ifdef FRAGMENT_SHADER
#define IN varying
#else
#define IN attribute
#endif
#define OUT varying
#define TEXTURE texture2D

#ifdef FRAGMENT_SHADER
#define OUT_COLOR gl_FragColor
#endif

#endif
`+I[C];k(R={},p.GRAY,`precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  return dot(color, vec3(0.2126, 0.7152, 0.0722));
}

void main() {
  vec4 tex = texture2D(tex0, vTexCoord);
  float gray = luma(tex.rgb);
  gl_FragColor = vec4(gray, gray, gray, tex.a);
}
`),k(R,p.ERODE,`// Reduces the bright areas in an image

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform vec2 texelSize;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  // weights 77, 151, 28 taken from src/image/filters.js
  return dot(color, vec3(0.300781, 0.589844, 0.109375));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float lum = luma(color.rgb);

  // set current color as the darkest neighbor color

  vec4 neighbors[4];
  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));
  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));
  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));
  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));

  for (int i = 0; i < 4; i++) {
    vec4 neighborColor = neighbors[i];
    float neighborLum = luma(neighborColor.rgb);

    if (neighborLum < lum) {
      color = neighborColor;
      lum = neighborLum;
    }
  }

  gl_FragColor = color;
}
`),k(R,p.DILATE,`// Increase the bright areas in an image

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform vec2 texelSize;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  // weights 77, 151, 28 taken from src/image/filters.js
  return dot(color, vec3(0.300781, 0.589844, 0.109375));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float lum = luma(color.rgb);

  // set current color as the brightest neighbor color

  vec4 neighbors[4];
  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));
  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));
  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));
  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));

  for (int i = 0; i < 4; i++) {
    vec4 neighborColor = neighbors[i];
    float neighborLum = luma(neighborColor.rgb);

    if (neighborLum > lum) {
      color = neighborColor;
      lum = neighborLum;
    }
  }

  gl_FragColor = color;
}
`),k(R,p.BLUR,`precision highp float;

// Two-pass blur filter, unweighted kernel.
// See also a similar blur at Adam Ferriss' repo of shader examples:
// https://github.com/aferriss/p5jsShaderExamples/blob/gh-pages/4_image-effects/4-9_single-pass-blur/effect.frag


uniform sampler2D tex0;
varying vec2 vTexCoord;
uniform vec2 direction;
uniform vec2 canvasSize;
uniform float radius;

float random(vec2 p) {
  vec3 p3  = fract(vec3(p.xyx) * .1031);
  p3 += dot(p3, p3.yzx + 33.33);
  return fract((p3.x + p3.y) * p3.z);
}

// This isn't a real Gaussian weight, it's a quadratic weight. It's what the
// CPU mode's blur uses though, so we also use it here to match.
float quadWeight(float x, float e) {
  return pow(e-abs(x), 2.);
}

void main(){
  vec2 uv = vTexCoord;

  // A reasonable maximum number of samples
  const float maxSamples = 64.0;

  float numSamples = floor(7. * radius);
  if (fract(numSamples / 2.) == 0.) {
    numSamples++;
  }
  vec4 avg = vec4(0.0);
  float total = 0.0;

  // Calculate the spacing to avoid skewing if numSamples > maxSamples
  float spacing = 1.0;
  if (numSamples > maxSamples) {
    spacing = numSamples / maxSamples;
    numSamples = maxSamples;
  }

  float randomOffset = (spacing - 1.0) * mix(-0.5, 0.5, random(gl_FragCoord.xy));
  for (float i = 0.0; i < maxSamples; i++) {
    if (i >= numSamples) break;

    float sample = i * spacing - (numSamples - 1.0) * 0.5 * spacing + randomOffset;
    vec2 sampleCoord = uv + vec2(sample, sample) / canvasSize * direction;
    float weight = quadWeight(sample, (numSamples - 1.0) * 0.5 * spacing);

    avg += weight * texture2D(tex0, sampleCoord);
    total += weight;
  }

  avg /= total;
  gl_FragColor = avg;
}
`),k(R,p.POSTERIZE,`// Limit color space for a stylized cartoon / poster effect

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform float filterParameter;

vec3 quantize(vec3 color, float n) {
  // restrict values to N options/bins
  // and floor each channel to nearest value
  //
  // eg. when N = 5, values = 0.0, 0.25, 0.50, 0.75, 1.0
  // then quantize (0.1, 0.7, 0.9) -> (0.0, 0.5, 1.0)

  color = color * n;
  color = floor(color);
  color = color / (n - 1.0);
  return color;
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);

  vec3 restrictedColor = quantize(color.rgb / color.a, filterParameter);

  gl_FragColor = vec4(restrictedColor.rgb * color.a, color.a);
}
`),k(R,p.OPAQUE,`// Set alpha channel to entirely opaque

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  gl_FragColor = vec4(color.rgb / color.a, 1.0);
}
`),k(R,p.INVERT,`// Set each pixel to inverse value
// Note that original INVERT does not change the opacity, so this follows suit

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

void main() {
vec4 color = texture2D(tex0, vTexCoord);
vec3 origColor = color.rgb / color.a;
vec3 invertedColor = vec3(1.0) - origColor;
gl_FragColor = vec4(invertedColor * color.a, color.a);
}
`),k(R,p.THRESHOLD,`// Convert pixels to either white or black, 
// depending on if their luma is above or below filterParameter

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform float filterParameter;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  return dot(color, vec3(0.2126, 0.7152, 0.0722));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float gray = luma(color.rgb / color.a);
  // floor() used to match src/image/filters.js
  float threshold = floor(filterParameter * 255.0) / 255.0;
  float blackOrWhite = step(threshold, gray);
  gl_FragColor = vec4(vec3(blackOrWhite) * color.a, color.a);
}
`);var z=R;function G(H,Z,be,Q,M,B,V,X,re,ne){var ce=Z.getParameter(Z.FRAMEBUFFER_BINDING),be=(Z.bindFramebuffer(Z.FRAMEBUFFER,be),X===Z.RGBA?4:3),he=B*V*be,le=re===Z.UNSIGNED_BYTE?Uint8Array:Float32Array;if(H instanceof le&&H.length===he||(H=new le(he)),Z.readPixels(Q,ne?ne-M-V:M,B,V,X,re,H),Z.bindFramebuffer(Z.FRAMEBUFFER,ce),ne)for(var ge=Math.floor(V/2),U=new le(B*be),oe=0;oe<ge;oe++){var fe=oe*B*4,te=(V-oe-1)*B*4;U.set(H.subarray(fe,fe+4*B)),H.copyWithin(fe,te,te+4*B),H.set(U,te)}return H}function W(H,re,Y,Q,M,B,V){var X=H.getParameter(H.FRAMEBUFFER_BINDING),re=(H.bindFramebuffer(H.FRAMEBUFFER,re),M===H.RGBA?4:3),re=new(B===H.UNSIGNED_BYTE?Uint8Array:Float32Array)(re);return H.readPixels(Y,V?V-Q-1:Q,1,1,M,B,re),H.bindFramebuffer(H.FRAMEBUFFER,X),Array.from(re)}s.default.prototype.setAttributes=function(H,Z){if(this._glAttributes===void 0)console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.");else{var Y=!0;if(Z!==void 0?(this._glAttributes===null&&(this._glAttributes={}),this._glAttributes[H]!==Z&&(this._glAttributes[H]=Z,Y=!1)):H instanceof Object&&this._glAttributes!==H&&(this._glAttributes=H,Y=!1),this._renderer.isP3D&&!Y){if(!this._setupDone){for(var Q in this._renderer.retainedMode.geometry)if(this._renderer.retainedMode.geometry.hasOwnProperty(Q))return void s.default._friendlyError("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()")}this.push(),this._renderer._resetContext(),this.pop(),this._renderer._curCamera&&(this._renderer._curCamera._renderer=this._renderer)}}},s.default.RendererGL=function(H){var Z=Q;if(typeof H!="function"&&H!==null)throw new TypeError("Super expression must either be null or a function");Z.prototype=Object.create(H&&H.prototype,{constructor:{value:Z,writable:!0,configurable:!0}}),H&&l(Z,H);var Y=g(Q);function Q(M,B,V,X){if(this instanceof Q)return(M=Y.call(this,M,B,V))._setAttributeDefaults(B),M._initContext(),M.isP3D=!0,M.geometryBuilder=void 0,M.GL=M.drawingContext,M._pInst._setProperty("drawingContext",M.drawingContext),M._isErasing=!1,M._clipDepths=[],M._isClipApplied=!1,M._stencilTestOn=!1,M._enableLighting=!1,M.ambientLightColors=[],M.mixedAmbientLight=[],M.mixedSpecularColor=[],M.specularColors=[1,1,1],M.directionalLightDirections=[],M.directionalLightDiffuseColors=[],M.directionalLightSpecularColors=[],M.pointLightPositions=[],M.pointLightDiffuseColors=[],M.pointLightSpecularColors=[],M.spotLightPositions=[],M.spotLightDirections=[],M.spotLightDiffuseColors=[],M.spotLightSpecularColors=[],M.spotLightAngle=[],M.spotLightConc=[],M.activeImageLight=null,M.diffusedTextures=new Map,M.specularTextures=new Map,M.drawMode=p.FILL,M.curFillColor=M._cachedFillStyle=[1,1,1,1],M.curAmbientColor=M._cachedFillStyle=[1,1,1,1],M.curSpecularColor=M._cachedFillStyle=[0,0,0,0],M.curEmissiveColor=M._cachedFillStyle=[0,0,0,0],M.curStrokeColor=M._cachedStrokeStyle=[0,0,0,1],M.curBlendMode=p.BLEND,M.preEraseBlend=void 0,M._cachedBlendMode=void 0,M.webglVersion===p.WEBGL2?M.blendExt=M.GL:M.blendExt=M.GL.getExtension("EXT_blend_minmax"),M._isBlending=!1,M._hasSetAmbient=!1,M._useSpecularMaterial=!1,M._useEmissiveMaterial=!1,M._useNormalMaterial=!1,M._useShininess=1,M._useMetalness=0,M._useLineColor=!1,M._useVertexColor=!1,M.registerEnabled=new Set,M._tint=[255,255,255,255],M.constantAttenuation=1,M.linearAttenuation=0,M.quadraticAttenuation=0,M.uModelMatrix=new s.default.Matrix,M.uViewMatrix=new s.default.Matrix,M.uMVMatrix=new s.default.Matrix,M.uPMatrix=new s.default.Matrix,M.uNMatrix=new s.default.Matrix("mat3"),M.curMatrix=new s.default.Matrix("mat3"),M._currentNormal=new s.default.Vector(0,0,1),M._curCamera=new s.default.Camera(v(M)),M._curCamera._computeCameraDefaultSettings(),M._curCamera._setDefaultCamera(),M.filterCamera=new s.default.Camera(v(M)),M.filterCamera._computeCameraDefaultSettings(),M.filterCamera._setDefaultCamera(),M.prevTouches=[],M.zoomVelocity=0,M.rotateVelocity=new s.default.Vector(0,0),M.moveVelocity=new s.default.Vector(0,0),M.executeZoom=!1,M.executeRotateAndMove=!1,M.specularShader=void 0,M.sphereMapping=void 0,M.diffusedShader=void 0,M._defaultLightShader=void 0,M._defaultImmediateModeShader=void 0,M._defaultNormalShader=void 0,M._defaultColorShader=void 0,M._defaultPointShader=void 0,M.userFillShader=void 0,M.userStrokeShader=void 0,M.userPointShader=void 0,M.retainedMode={geometry:{},buffers:{stroke:[new s.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",v(M)),new s.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",v(M)),new s.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",v(M)),new s.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",v(M)),new s.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",v(M))],fill:[new s.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",v(M),M._vToNArray),new s.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",v(M),M._vToNArray),new s.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",v(M)),new s.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",v(M)),new s.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",v(M),M._flatten)],text:[new s.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",v(M),M._vToNArray),new s.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",v(M),M._flatten)]}},M.immediateMode={geometry:new s.default.Geometry,shapeMode:p.TRIANGLE_FAN,contourIndices:[],_bezierVertex:[],_quadraticVertex:[],_curveVertex:[],buffers:{fill:[new s.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",v(M),M._vToNArray),new s.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",v(M),M._vToNArray),new s.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",v(M)),new s.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",v(M)),new s.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",v(M),M._flatten)],stroke:[new s.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",v(M)),new s.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",v(M)),new s.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",v(M)),new s.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",v(M)),new s.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",v(M))],point:M.GL.createBuffer()}},M.pointSize=5,M.curStrokeWeight=1,M.curStrokeCap=p.ROUND,M.curStrokeJoin=p.ROUND,M.textures=new Map,M.framebuffers=new Set,M.activeFramebuffers=[],M.filterShader=void 0,M.filterLayer=void 0,M.filterLayerTemp=void 0,M.defaultFilterShaders={},M.textureMode=p.IMAGE,M.textureWrapX=p.CLAMP,M.textureWrapY=p.CLAMP,M._tex=null,M._curveTightness=6,M._lookUpTableBezier=[],M._lookUpTableQuadratic=[],M._lutBezierDetail=0,M._lutQuadraticDetail=0,M.isProcessingVertices=!1,M._tessy=M._initTessy(),M.fontInfos={},M._curShader=void 0,M;throw new TypeError("Cannot call a class as a function")}return Z=Q,(H=[{key:"beginGeometry",value:function(){if(this.geometryBuilder)throw new Error("It looks like `beginGeometry()` is being called while another p5.Geometry is already being build.");this.geometryBuilder=new y.default(this)}},{key:"endGeometry",value:function(){var M;if(this.geometryBuilder)return M=this.geometryBuilder.finish(),this.geometryBuilder=void 0,M;throw new Error("Make sure you call beginGeometry() before endGeometry()!")}},{key:"buildGeometry",value:function(M){return this.beginGeometry(),M(),this.endGeometry()}},{key:"_setAttributeDefaults",value:function(M){var B={alpha:!0,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!0,preserveDrawingBuffer:!0,perPixelLighting:!0,version:2};M._glAttributes===null?M._glAttributes=B:M._glAttributes=Object.assign(B,M._glAttributes)}},{key:"_initContext",value:function(){if(this._pInst._glAttributes.version!==1&&(this.drawingContext=this.canvas.getContext("webgl2",this._pInst._glAttributes)),this.webglVersion=this.drawingContext?p.WEBGL2:p.WEBGL,this._pInst._setProperty("webglVersion",this.webglVersion),this.drawingContext||(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes)),this.drawingContext===null)throw new Error("Error creating webgl context");var M=this.drawingContext;M.enable(M.DEPTH_TEST),M.depthFunc(M.LEQUAL),M.viewport(0,0,M.drawingBufferWidth,M.drawingBufferHeight),M.pixelStorei(M.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)}},{key:"_getParam",value:function(){var M=this.drawingContext;return M.getParameter(M.MAX_TEXTURE_SIZE)}},{key:"_adjustDimensions",value:function(M,B){this._maxTextureSize||(this._maxTextureSize=this._getParam());var X=this._maxTextureSize,X=(s.default.prototype._maxAllowedPixelDimensions,Math.floor(X/this.pixelDensity())),V=Math.min(M,X),X=Math.min(B,X);return V===M&&X===B||console.warn("Warning: The requested width/height exceeds hardware limits. "+"Adjusting dimensions to width: ".concat(V,", height: ").concat(X,".")),{adjustedWidth:V,adjustedHeight:X}}},{key:"_resetContext",value:function(M,B){var V,X=this.width,re=this.height,ce=this.canvas.id,ne=this._pInst instanceof s.default.Graphics,ce=(ne?((V=this._pInst).canvas.parentNode.removeChild(V.canvas),V.canvas=document.createElement("canvas"),(V._pInst._userNode||document.body).appendChild(V.canvas),s.default.Element.call(V,V.canvas,V._pInst),V.width=X,V.height=re):((V=this.canvas)&&V.parentNode.removeChild(V),(V=document.createElement("canvas")).id=ce,(this._pInst._userNode||document.body).appendChild(V),this._pInst.canvas=V,this.canvas=V),new s.default.RendererGL(this._pInst.canvas,this._pInst,!ne));this._pInst._setProperty("_renderer",ce),ce.resize(X,re),ce._applyDefaults(),ne||this._pInst._elements.push(ce),typeof B=="function"&&setTimeout(function(){B.apply(window._renderer,M)},0)}},{key:"_update",value:function(){this.uModelMatrix.reset(),this.uViewMatrix.set(this._curCamera.cameraMatrix),this.ambientLightColors.length=0,this.specularColors=[1,1,1],this.directionalLightDirections.length=0,this.directionalLightDiffuseColors.length=0,this.directionalLightSpecularColors.length=0,this.pointLightPositions.length=0,this.pointLightDiffuseColors.length=0,this.pointLightSpecularColors.length=0,this.spotLightPositions.length=0,this.spotLightDirections.length=0,this.spotLightDiffuseColors.length=0,this.spotLightSpecularColors.length=0,this.spotLightAngle.length=0,this.spotLightConc.length=0,this._enableLighting=!1,this._tint=[255,255,255,255],this.GL.clearStencil(0),this.GL.clear(this.GL.DEPTH_BUFFER_BIT|this.GL.STENCIL_BUFFER_BIT),this.GL.disable(this.GL.STENCIL_TEST)}},{key:"background",value:function(){var X=(X=this._pInst).color.apply(X,arguments),M=X.levels[0]/255,B=X.levels[1]/255,V=X.levels[2]/255,X=X.levels[3]/255;this.clear(M,B,V,X)}},{key:"fill",value:function(M,B,V,X){var re=s.default.prototype.color.apply(this._pInst,arguments);this.curFillColor=re._array,this.drawMode=p.FILL,this._useNormalMaterial=!1,this._tex=null}},{key:"stroke",value:function(M,B,V,X){var re=s.default.prototype.color.apply(this._pInst,arguments);this.curStrokeColor=re._array}},{key:"strokeCap",value:function(M){this.curStrokeCap=M}},{key:"strokeJoin",value:function(M){this.curStrokeJoin=M}},{key:"getFilterLayer",value:function(){return this.filterLayer||(this.filterLayer=this._pInst.createFramebuffer()),this.filterLayer}},{key:"getFilterLayerTemp",value:function(){return this.filterLayerTemp||(this.filterLayerTemp=this._pInst.createFramebuffer()),this.filterLayerTemp}},{key:"matchSize",value:function(M,B){M.width===B.width&&M.height===B.height||M.resize(B.width,B.height),M.pixelDensity()!==B.pixelDensity()&&M.pixelDensity(B.pixelDensity())}},{key:"filter",value:function(){var M,B,V=this,X=this.getFilterLayer(),re=void 0,ne=void 0,ce=(typeof(arguments.length<=0?void 0:arguments[0])=="string"?(ne=arguments.length<=0?void 0:arguments[0],k(M={},p.BLUR,3),k(M,p.POSTERIZE,4),k(M,p.THRESHOLD,.5),re=ne in(M=M)&&(arguments.length<=1?void 0:arguments[1])===void 0?M[ne]:arguments.length<=1?void 0:arguments[1],ne in this.defaultFilterShaders||(this.defaultFilterShaders[ne]=new s.default.Shader(X._renderer,`uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

attribute vec3 aPosition;
// texcoords only come from p5 to vertex shader
// so pass texcoords on to the fragment shader in a varying variable
attribute vec2 aTexCoord;
varying vec2 vTexCoord;

void main() {
  // transferring texcoords for the frag shader
  vTexCoord = aTexCoord;

  // copy position with a fourth coordinate for projection (1.0 is normal)
  vec4 positionVec4 = vec4(aPosition, 1.0);

  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
}
`,z[ne])),this.filterShader=this.defaultFilterShaders[ne]):this.filterShader=arguments.length<=0?void 0:arguments[0],this.activeFramebuffer()||this),be=(this.matchSize(X,ce),X.draw(function(){return V._pInst.clear()}),[1/(ce.width*ce.pixelDensity()),1/(ce.height*ce.pixelDensity())]);ne===p.BLUR?(B=this.getFilterLayerTemp(),this.matchSize(B,ce),this._pInst.push(),this._pInst.noStroke(),this._pInst.blendMode(p.BLEND),this._pInst.shader(this.filterShader),this.filterShader.setUniform("texelSize",be),this.filterShader.setUniform("canvasSize",[ce.width,ce.height]),this.filterShader.setUniform("radius",Math.max(1,re)),B.draw(function(){V.filterShader.setUniform("direction",[1,0]),V.filterShader.setUniform("tex0",ce),V._pInst.clear(),V._pInst.shader(V.filterShader),V._pInst.noLights(),V._pInst.plane(ce.width,ce.height)}),X.draw(function(){V.filterShader.setUniform("direction",[0,1]),V.filterShader.setUniform("tex0",B),V._pInst.clear(),V._pInst.shader(V.filterShader),V._pInst.noLights(),V._pInst.plane(ce.width,ce.height)}),this._pInst.pop()):X.draw(function(){V._pInst.noStroke(),V._pInst.blendMode(p.BLEND),V._pInst.shader(V.filterShader),V.filterShader.setUniform("tex0",ce),V.filterShader.setUniform("texelSize",be),V.filterShader.setUniform("canvasSize",[ce.width,ce.height]),V.filterShader.setUniform("filterParameter",re),V._pInst.noLights(),V._pInst.plane(ce.width,ce.height)}),this._pInst.push(),this._pInst.noStroke(),this.clear(),this._pInst.push(),this._pInst.imageMode(p.CORNER),this._pInst.blendMode(p.BLEND),ce.filterCamera._resize(),this._pInst.setCamera(ce.filterCamera),this._pInst.resetMatrix(),this._pInst.image(X,-ce.width/2,-ce.height/2,ce.width,ce.height),this._pInst.clearDepth(),this._pInst.pop(),this._pInst.pop()}},{key:"pixelDensity",value:function(M){return M?this._pInst.pixelDensity(M):this._pInst.pixelDensity()}},{key:"blendMode",value:function(M){M===p.DARKEST||M===p.LIGHTEST||M===p.ADD||M===p.BLEND||M===p.SUBTRACT||M===p.SCREEN||M===p.EXCLUSION||M===p.REPLACE||M===p.MULTIPLY||M===p.REMOVE?this.curBlendMode=M:M!==p.BURN&&M!==p.OVERLAY&&M!==p.HARD_LIGHT&&M!==p.SOFT_LIGHT&&M!==p.DODGE||console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")}},{key:"erase",value:function(M,B){this._isErasing||(this.preEraseBlend=this.curBlendMode,this._isErasing=!0,this.blendMode(p.REMOVE),this._cachedFillStyle=this.curFillColor.slice(),this.curFillColor=[1,1,1,M/255],this._cachedStrokeStyle=this.curStrokeColor.slice(),this.curStrokeColor=[1,1,1,B/255])}},{key:"noErase",value:function(){this._isErasing&&(this.curFillColor=this._cachedFillStyle.slice(),this.curStrokeColor=this._cachedStrokeStyle.slice(),this.curBlendMode=this.preEraseBlend,this.blendMode(this.preEraseBlend),this._isErasing=!1,this._applyBlendMode())}},{key:"drawTarget",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||this}},{key:"beginClip",value:function(){var M=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},M=(u(x(Q.prototype),"beginClip",this).call(this,M),this.drawTarget()._isClipApplied=!0,this.GL);M.clearStencil(0),M.clear(M.STENCIL_BUFFER_BIT),M.enable(M.STENCIL_TEST),this._stencilTestOn=!0,M.stencilFunc(M.ALWAYS,1,255),M.stencilOp(M.KEEP,M.KEEP,M.REPLACE),M.disable(M.DEPTH_TEST),this._pInst.push(),this._pInst.resetShader(),this._doFill&&this._pInst.fill(0,0),this._doStroke&&this._pInst.stroke(0,0)}},{key:"endClip",value:function(){this._pInst.pop();var M=this.GL;M.stencilOp(M.KEEP,M.KEEP,M.KEEP),M.stencilFunc(this._clipInvert?M.EQUAL:M.NOTEQUAL,0,255),M.enable(M.DEPTH_TEST),this._clipDepths.push(this._pushPopDepth),u(x(Q.prototype),"endClip",this).call(this)}},{key:"_clearClip",value:function(){this.GL.clearStencil(1),this.GL.clear(this.GL.STENCIL_BUFFER_BIT),0<this._clipDepths.length&&this._clipDepths.pop(),this.drawTarget()._isClipApplied=!1}},{key:"strokeWeight",value:function(M){this.curStrokeWeight!==M&&(this.pointSize=M,this.curStrokeWeight=M)}},{key:"_getPixel",value:function(M,B){var V=this.GL;return W(V,null,M,B,V.RGBA,V.UNSIGNED_BYTE,this._pInst.height*this._pInst.pixelDensity())}},{key:"loadPixels",value:function(){var M,B,V=this._pixelsState;this._pInst._glAttributes.preserveDrawingBuffer!==!0?console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true."):(M=this._pInst._pixelDensity,B=this.GL,V._setProperty("pixels",G(V.pixels,B,null,0,0,this.width*M,this.height*M,B.RGBA,B.UNSIGNED_BYTE,this.height*M)))}},{key:"updatePixels",value:function(){var M=this._getTempFramebuffer();M.pixels=this._pixelsState.pixels,M.updatePixels(),this._pInst.push(),this._pInst.resetMatrix(),this._pInst.clear(),this._pInst.imageMode(p.CENTER),this._pInst.image(M,0,0),this._pInst.pop(),this.GL.clearDepth(1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"_getTempFramebuffer",value:function(){return this._tempFramebuffer||(this._tempFramebuffer=this._pInst.createFramebuffer({format:p.UNSIGNED_BYTE,useDepth:this._pInst._glAttributes.depth,depthFormat:p.UNSIGNED_INT,antialias:this._pInst._glAttributes.antialias})),this._tempFramebuffer}},{key:"geometryInHash",value:function(M){return this.retainedMode.geometry[M]!==void 0}},{key:"viewport",value:function(M,B){this._viewport=[0,0,M,B],this.GL.viewport(0,0,M,B)}},{key:"resize",value:function(re,X){s.default.Renderer.prototype.resize.call(this,re,X),this._origViewport={width:this.GL.drawingBufferWidth,height:this.GL.drawingBufferHeight},this.viewport(this._origViewport.width,this._origViewport.height),this._curCamera._resize();var re=this._pixelsState,V=(re.pixels!==void 0&&re._setProperty("pixels",new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4)),!0),X=!1,re=void 0;try{for(var ne,ce=this.framebuffers[Symbol.iterator]();!(V=(ne=ce.next()).done);V=!0)ne.value._canvasSizeChanged()}catch(be){X=!0,re=be}finally{try{V||ce.return==null||ce.return()}finally{if(X)throw re}}}},{key:"clear",value:function(){var M=(arguments.length<=0?void 0:arguments[0])||0,B=(arguments.length<=1?void 0:arguments[1])||0,V=(arguments.length<=2?void 0:arguments[2])||0,X=(arguments.length<=3?void 0:arguments[3])||0,re=this.activeFramebuffer();re&&re.format===p.UNSIGNED_BYTE&&!re.antialias&&X===0&&(X=1e-10),this.GL.clearColor(M*X,B*X,V*X,X),this.GL.clearDepth(1),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)}},{key:"clearDepth",value:function(){this.GL.clearDepth(0<arguments.length&&arguments[0]!==void 0?arguments[0]:1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"applyMatrix",value:function(M,B,V,X,re,ne){arguments.length===16?s.default.Matrix.prototype.apply.apply(this.uModelMatrix,arguments):this.uModelMatrix.apply([M,B,0,0,V,X,0,0,0,0,1,0,re,ne,0,1])}},{key:"translate",value:function(M,B,V){return M instanceof s.default.Vector&&(V=M.z,B=M.y,M=M.x),this.uModelMatrix.translate([M,B,V]),this}},{key:"scale",value:function(M,B,V){return this.uModelMatrix.scale(M,B,V),this}},{key:"rotate",value:function(M,B){return B===void 0?this.rotateZ(M):(s.default.Matrix.prototype.rotate.apply(this.uModelMatrix,arguments),this)}},{key:"rotateX",value:function(M){return this.rotate(M,1,0,0),this}},{key:"rotateY",value:function(M){return this.rotate(M,0,1,0),this}},{key:"rotateZ",value:function(M){return this.rotate(M,0,0,1),this}},{key:"push",value:function(){var M=s.default.Renderer.prototype.push.apply(this),B=M.properties;return B.uModelMatrix=this.uModelMatrix.copy(),B.uViewMatrix=this.uViewMatrix.copy(),B.uPMatrix=this.uPMatrix.copy(),B._curCamera=this._curCamera,this._curCamera=this._curCamera.copy(),B.ambientLightColors=this.ambientLightColors.slice(),B.specularColors=this.specularColors.slice(),B.directionalLightDirections=this.directionalLightDirections.slice(),B.directionalLightDiffuseColors=this.directionalLightDiffuseColors.slice(),B.directionalLightSpecularColors=this.directionalLightSpecularColors.slice(),B.pointLightPositions=this.pointLightPositions.slice(),B.pointLightDiffuseColors=this.pointLightDiffuseColors.slice(),B.pointLightSpecularColors=this.pointLightSpecularColors.slice(),B.spotLightPositions=this.spotLightPositions.slice(),B.spotLightDirections=this.spotLightDirections.slice(),B.spotLightDiffuseColors=this.spotLightDiffuseColors.slice(),B.spotLightSpecularColors=this.spotLightSpecularColors.slice(),B.spotLightAngle=this.spotLightAngle.slice(),B.spotLightConc=this.spotLightConc.slice(),B.userFillShader=this.userFillShader,B.userStrokeShader=this.userStrokeShader,B.userPointShader=this.userPointShader,B.pointSize=this.pointSize,B.curStrokeWeight=this.curStrokeWeight,B.curStrokeColor=this.curStrokeColor,B.curFillColor=this.curFillColor,B.curAmbientColor=this.curAmbientColor,B.curSpecularColor=this.curSpecularColor,B.curEmissiveColor=this.curEmissiveColor,B._hasSetAmbient=this._hasSetAmbient,B._useSpecularMaterial=this._useSpecularMaterial,B._useEmissiveMaterial=this._useEmissiveMaterial,B._useShininess=this._useShininess,B._useMetalness=this._useMetalness,B.constantAttenuation=this.constantAttenuation,B.linearAttenuation=this.linearAttenuation,B.quadraticAttenuation=this.quadraticAttenuation,B._enableLighting=this._enableLighting,B._useNormalMaterial=this._useNormalMaterial,B._tex=this._tex,B.drawMode=this.drawMode,B._currentNormal=this._currentNormal,B.curBlendMode=this.curBlendMode,B.activeImageLight=this.activeImageLight,B.textureMode=this.textureMode,M}},{key:"pop",value:function(){var M;0<this._clipDepths.length&&this._pushPopDepth===this._clipDepths[this._clipDepths.length-1]&&this._clearClip();for(var B=arguments.length,V=new Array(B),X=0;X<B;X++)V[X]=arguments[X];(M=u(x(Q.prototype),"pop",this)).call.apply(M,[this].concat(V)),this._applyStencilTestIfClipping()}},{key:"_applyStencilTestIfClipping",value:function(){var M=this.drawTarget();M._isClipApplied!==this._stencilTestOn&&(M._isClipApplied?(this.GL.enable(this.GL.STENCIL_TEST),this._stencilTestOn=!0):(this.GL.disable(this.GL.STENCIL_TEST),this._stencilTestOn=!1))}},{key:"resetMatrix",value:function(){return this.uModelMatrix.reset(),this.uViewMatrix.set(this._curCamera.cameraMatrix),this}},{key:"_getImmediateStrokeShader",value:function(){var M=this.userStrokeShader;return M&&M.isStrokeShader()?M:this._getLineShader()}},{key:"_getRetainedStrokeShader",value:function(){return this._getImmediateStrokeShader()}},{key:"_getSphereMapping",value:function(M){return this.sphereMapping||(this.sphereMapping=this._pInst.createFilterShader(N)),this.uNMatrix.inverseTranspose(this.uViewMatrix),this.uNMatrix.invert3x3(this.uNMatrix),this.sphereMapping.setUniform("uFovY",this._curCamera.cameraFOV),this.sphereMapping.setUniform("uAspect",this._curCamera.aspectRatio),this.sphereMapping.setUniform("uNewNormalMatrix",this.uNMatrix.mat3),this.sphereMapping.setUniform("uSampler",M),this.sphereMapping}},{key:"_getImmediateFillShader",value:function(){var M=this.userFillShader;if(this._useNormalMaterial&&(!M||!M.isNormalShader()))return this._getNormalShader();if(this._enableLighting){if(!M||!M.isLightShader())return this._getLightShader()}else if(this._tex){if(!M||!M.isTextureShader())return this._getLightShader()}else if(!M)return this._getImmediateModeShader();return M}},{key:"_getRetainedFillShader",value:function(){if(this._useNormalMaterial)return this._getNormalShader();var M=this.userFillShader;if(this._enableLighting){if(!M||!M.isLightShader())return this._getLightShader()}else if(this._tex){if(!M||!M.isTextureShader())return this._getLightShader()}else if(!M)return this._getColorShader();return M}},{key:"_getImmediatePointShader",value:function(){var M=this.userPointShader;return M&&M.isPointShader()?M:this._getPointShader()}},{key:"_getRetainedLineShader",value:function(){return this._getImmediateLineShader()}},{key:"baseMaterialShader",value:function(){if(this._pInst._glAttributes.perPixelLighting)return this._getLightShader();throw new Error("The material shader does not support hooks without perPixelLighting. Try turning it back on.")}},{key:"_getLightShader",value:function(){return this._defaultLightShader||(this._pInst._glAttributes.perPixelLighting?this._defaultLightShader=new s.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+I.phongVert,this._webGL2CompatibilityPrefix("frag","highp")+I.phongFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","vec3 getLocalNormal":"(vec3 normal) { return normal; }","vec3 getWorldNormal":"(vec3 normal) { return normal; }","vec2 getUV":"(vec2 uv) { return uv; }","vec4 getVertexColor":"(vec4 color) { return color; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","Inputs getPixelInputs":"(Inputs inputs) { return inputs; }","vec4 combineColors":`(ColorComponents components) {
                vec4 color = vec4(0.);
                color.rgb += components.diffuse * components.baseColor;
                color.rgb += components.ambient * components.ambientColor;
                color.rgb += components.specular * components.specularColor;
                color.rgb += components.emissive;
                color.a = components.opacity;
                return color;
              }`,"vec4 getFinalColor":"(vec4 color) { return color; }","void afterFragment":"() {}"}}):this._defaultLightShader=new s.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+I.lightVert,this._webGL2CompatibilityPrefix("frag","highp")+I.lightTextureFrag)),this._defaultLightShader}},{key:"_getImmediateModeShader",value:function(){return this._defaultImmediateModeShader||(this._defaultImmediateModeShader=new s.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+I.immediateVert,this._webGL2CompatibilityPrefix("frag","mediump")+I.vertexColorFrag)),this._defaultImmediateModeShader}},{key:"baseNormalShader",value:function(){return this._getNormalShader()}},{key:"_getNormalShader",value:function(){return this._defaultNormalShader||(this._defaultNormalShader=new s.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+I.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+I.normalFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","vec3 getLocalNormal":"(vec3 normal) { return normal; }","vec3 getWorldNormal":"(vec3 normal) { return normal; }","vec2 getUV":"(vec2 uv) { return uv; }","vec4 getVertexColor":"(vec4 color) { return color; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","vec4 getFinalColor":"(vec4 color) { return color; }","void afterFragment":"() {}"}})),this._defaultNormalShader}},{key:"baseColorShader",value:function(){return this._getColorShader()}},{key:"_getColorShader",value:function(){return this._defaultColorShader||(this._defaultColorShader=new s.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+I.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+I.basicFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","vec3 getLocalNormal":"(vec3 normal) { return normal; }","vec3 getWorldNormal":"(vec3 normal) { return normal; }","vec2 getUV":"(vec2 uv) { return uv; }","vec4 getVertexColor":"(vec4 color) { return color; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","vec4 getFinalColor":"(vec4 color) { return color; }","void afterFragment":"() {}"}})),this._defaultColorShader}},{key:"pointShader",value:function(){return this._getPointShader()}},{key:"_getPointShader",value:function(){return this._defaultPointShader||(this._defaultPointShader=new s.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+I.pointVert,this._webGL2CompatibilityPrefix("frag","mediump")+I.pointFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","float getPointSize":"(float size) { return size; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","vec4 getFinalColor":"(vec4 color) { return color; }","bool shouldDiscard":"(bool outside) { return outside; }","void afterFragment":"() {}"}})),this._defaultPointShader}},{key:"baseStrokeShader",value:function(){return this._getLineShader()}},{key:"_getLineShader",value:function(){return this._defaultLineShader||(this._defaultLineShader=new s.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+I.lineVert,this._webGL2CompatibilityPrefix("frag","mediump")+I.lineFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","float getStrokeWeight":"(float weight) { return weight; }","vec2 getLineCenter":"(vec2 center) { return center; }","vec2 getLinePosition":"(vec2 position) { return position; }","vec4 getVertexColor":"(vec4 color) { return color; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","Inputs getPixelInputs":"(Inputs inputs) { return inputs; }","vec4 getFinalColor":"(vec4 color) { return color; }","bool shouldDiscard":"(bool outside) { return outside; }","void afterFragment":"() {}"}})),this._defaultLineShader}},{key:"_getFontShader",value:function(){return this._defaultFontShader||(this.webglVersion===p.WEBGL&&this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new s.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+I.fontVert,this._webGL2CompatibilityPrefix("frag","highp")+I.fontFrag)),this._defaultFontShader}},{key:"_webGL2CompatibilityPrefix",value:function(M,B){var V="";return this.webglVersion===p.WEBGL2&&(V+=`#version 300 es
#define WEBGL2
`),M==="vert"?V+=`#define VERTEX_SHADER
`:M==="frag"&&(V+=`#define FRAGMENT_SHADER
`),B&&(V+="precision ".concat(B,` float;
`)),V}},{key:"_getEmptyTexture",value:function(){var M;return this._emptyTexture||((M=new s.default.Image(1,1)).set(0,0,255),this._emptyTexture=new s.default.Texture(this,M)),this._emptyTexture}},{key:"getTexture",value:function(M){M instanceof s.default.Framebuffer&&(M=M.color);var B=this.textures.get(M);return B||(B=new s.default.Texture(this,M),this.textures.set(M,B),B)}},{key:"getDiffusedTexture",value:function(M){var B,V,X=this;return this.diffusedTextures.get(M)!=null?this.diffusedTextures.get(M):(B=Math.floor(M.height/M.width*200),V=this._pInst.createFramebuffer({width:200,height:B,density:1}),this.diffusedShader||(this.diffusedShader=this._pInst.createShader(I.imageLightVert,I.imageLightDiffusedFrag)),V.draw(function(){X._pInst.shader(X.diffusedShader),X.diffusedShader.setUniform("environmentMap",M),X._pInst.noStroke(),X._pInst.rectMode(p.CENTER),X._pInst.noLights(),X._pInst.rect(0,0,200,B)}),this.diffusedTextures.set(M,V),V)}},{key:"getSpecularTexture",value:function(M){var B=this;if(this.specularTextures.get(M)!=null)return this.specularTextures.get(M);for(var V,X=[],re=this._pInst.createFramebuffer({width:512,height:512,density:1}),ne=Math.log(512)/Math.log(2),ce=(this.specularShader||(this.specularShader=this._pInst.createShader(I.imageLightVert,I.imageLightSpecularFrag)),512);1<=ce;ce/=2)(function(be){re.resize(be,be);var he=1-Math.log(be)/Math.log(2)/ne;re.draw(function(){B._pInst.shader(B.specularShader),B._pInst.clear(),B.specularShader.setUniform("environmentMap",M),B.specularShader.setUniform("roughness",he),B._pInst.noStroke(),B._pInst.noLights(),B._pInst.plane(be,be)}),X.push(re.get().drawingContext.getImageData(0,0,be,be))})(ce);return re.remove(),V=new n.MipmapTexture(this,X,{}),this.specularTextures.set(M,V),V}},{key:"activeFramebuffer",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||null}},{key:"createFramebuffer",value:function(M){return new s.default.Framebuffer(this,M)}},{key:"_setStrokeUniforms",value:function(M){M.bindShader(),M.setUniform("uUseLineColor",this._useLineColor),M.setUniform("uMaterialColor",this.curStrokeColor),M.setUniform("uStrokeWeight",this.curStrokeWeight),M.setUniform("uStrokeCap",L[this.curStrokeCap]),M.setUniform("uStrokeJoin",A[this.curStrokeJoin])}},{key:"_setFillUniforms",value:function(M){var B=this,V=(M.bindShader(),this.mixedSpecularColor=a(this.curSpecularColor),0<this._useMetalness&&(this.mixedSpecularColor=this.mixedSpecularColor.map(function(X,re){return B.curFillColor[re]*B._useMetalness+X*(1-B._useMetalness)})),M.setUniform("uUseVertexColor",this._useVertexColor),M.setUniform("uMaterialColor",this.curFillColor),M.setUniform("isTexture",!!this._tex),this._tex&&M.setUniform("uSampler",this._tex),M.setUniform("uTint",this._tint),M.setUniform("uHasSetAmbient",this._hasSetAmbient),M.setUniform("uAmbientMatColor",this.curAmbientColor),M.setUniform("uSpecularMatColor",this.mixedSpecularColor),M.setUniform("uEmissiveMatColor",this.curEmissiveColor),M.setUniform("uSpecular",this._useSpecularMaterial),M.setUniform("uEmissive",this._useEmissiveMaterial),M.setUniform("uShininess",this._useShininess),M.setUniform("uMetallic",this._useMetalness),this._setImageLightUniforms(M),M.setUniform("uUseLighting",this._enableLighting),this.pointLightDiffuseColors.length/3),V=(M.setUniform("uPointLightCount",V),M.setUniform("uPointLightLocation",this.pointLightPositions),M.setUniform("uPointLightDiffuseColors",this.pointLightDiffuseColors),M.setUniform("uPointLightSpecularColors",this.pointLightSpecularColors),this.directionalLightDiffuseColors.length/3),V=(M.setUniform("uDirectionalLightCount",V),M.setUniform("uLightingDirection",this.directionalLightDirections),M.setUniform("uDirectionalDiffuseColors",this.directionalLightDiffuseColors),M.setUniform("uDirectionalSpecularColors",this.directionalLightSpecularColors),this.ambientLightColors.length/3),V=(this.mixedAmbientLight=a(this.ambientLightColors),0<this._useMetalness&&(this.mixedAmbientLight=this.mixedAmbientLight.map(function(X){return X-=B._useMetalness,Math.max(0,X)})),M.setUniform("uAmbientLightCount",V),M.setUniform("uAmbientColor",this.mixedAmbientLight),this.spotLightDiffuseColors.length/3);M.setUniform("uSpotLightCount",V),M.setUniform("uSpotLightAngle",this.spotLightAngle),M.setUniform("uSpotLightConc",this.spotLightConc),M.setUniform("uSpotLightDiffuseColors",this.spotLightDiffuseColors),M.setUniform("uSpotLightSpecularColors",this.spotLightSpecularColors),M.setUniform("uSpotLightLocation",this.spotLightPositions),M.setUniform("uSpotLightDirection",this.spotLightDirections),M.setUniform("uConstantAttenuation",this.constantAttenuation),M.setUniform("uLinearAttenuation",this.linearAttenuation),M.setUniform("uQuadraticAttenuation",this.quadraticAttenuation),M.bindTextures()}},{key:"_setImageLightUniforms",value:function(M){var B;M.setUniform("uUseImageLight",this.activeImageLight!=null),this.activeImageLight&&(B=this.getDiffusedTexture(this.activeImageLight),M.setUniform("environmentMapDiffused",B),B=this.getSpecularTexture(this.activeImageLight),M.setUniform("environmentMapSpecular",B))}},{key:"_setPointUniforms",value:function(M){M.bindShader(),M.setUniform("uMaterialColor",this.curStrokeColor),M.setUniform("uPointSize",this.pointSize*this._pInst._pixelDensity)}},{key:"_bindBuffer",value:function(M,B,V,X,re){B=B||this.GL.ARRAY_BUFFER,this.GL.bindBuffer(B,M),V!==void 0&&((M=V)instanceof s.default.DataArray?M=V.dataArray():M instanceof(X||Float32Array)||(M=new(X||Float32Array)(M)),this.GL.bufferData(B,M,re||this.GL.STATIC_DRAW))}},{key:"_arraysEqual",value:function(M,B){return M.length===B.length&&M.every(function(V,X){return V===B[X]})}},{key:"_isTypedArray",value:function(M){return[Float32Array,Float64Array,Int16Array,Uint16Array,Uint32Array].some(function(B){return M instanceof B})}},{key:"_flatten",value:function(M){return M.flat()}},{key:"_vToNArray",value:function(M){return M.flatMap(function(B){return[B.x,B.y,B.z]})}},{key:"_bezierCoefficients",value:function(M){var B=M*M,V=1-M,X=V*V;return[X*V,3*X*M,3*V*B,B*M]}},{key:"_quadraticCoefficients",value:function(M){var B=1-M;return[B*B,2*B*M,M*M]}},{key:"_bezierToCatmull",value:function(M){return[M[1],M[1]+(M[2]-M[0])/this._curveTightness,M[2]-(M[3]-M[1])/this._curveTightness,M[2]]}},{key:"_initTessy",value:function(){var M=new m.default.GluTesselator;return M.gluTessCallback(m.default.gluEnum.GLU_TESS_VERTEX_DATA,function(B,V){var X=!0,re=!1,ne=void 0;try{for(var ce,be=B[Symbol.iterator]();!(X=(ce=be.next()).done);X=!0){var he=ce.value;V.push(he)}}catch(le){re=!0,ne=le}finally{try{X||be.return==null||be.return()}finally{if(re)throw ne}}}),M.gluTessCallback(m.default.gluEnum.GLU_TESS_BEGIN,function(B){B!==m.default.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: ".concat(B))}),M.gluTessCallback(m.default.gluEnum.GLU_TESS_ERROR,function(B){console.log("error callback"),console.log("error number: ".concat(B))}),M.gluTessCallback(m.default.gluEnum.GLU_TESS_COMBINE,function(B,V,X){for(var re=new Array(s.default.RendererGL.prototype.tessyVertexSize).fill(0),ne=0;ne<X.length;ne++)for(var ce=0;ce<re.length;ce++)X[ne]!==0&&V[ne]&&(re[ce]+=V[ne][ce]*X[ne]);return re}),M.gluTessCallback(m.default.gluEnum.GLU_TESS_EDGE_FLAG,function(B){}),M.gluTessProperty(m.default.gluEnum.GLU_TESS_WINDING_RULE,m.default.windingRule.GLU_TESS_WINDING_NONZERO),M}},{key:"_triangulate",value:function(M){var B=M[0]?M[0][2]:void 0,V=!0,X=!0,he=!1,ge=void 0;try{for(var re,ne=M[Symbol.iterator]();!(X=(re=ne.next()).done);X=!0)for(var ce=re.value,be=0;be<ce.length;be+=s.default.RendererGL.prototype.tessyVertexSize)if(ce[be+2]!==B){V=!1;break}}catch(_e){he=!0,ge=_e}finally{try{X||ne.return==null||ne.return()}finally{if(he)throw ge}}V?this._tessy.gluTessNormal(0,0,1):this._tessy.gluTessNormal(0,0,0);var he=[],le=(this._tessy.gluTessBeginPolygon(he),!0),ge=!1,U=void 0;try{for(var oe,fe=M[Symbol.iterator]();!(le=(oe=fe.next()).done);le=!0){var te=oe.value;this._tessy.gluTessBeginContour();for(var ee=0;ee<te.length;ee+=s.default.RendererGL.prototype.tessyVertexSize){var ae=te.slice(ee,ee+s.default.RendererGL.prototype.tessyVertexSize);this._tessy.gluTessVertex(ae,ae)}this._tessy.gluTessEndContour()}}catch(_e){ge=!0,U=_e}finally{try{le||fe.return==null||fe.return()}finally{if(ge)throw U}}return this._tessy.gluTessEndPolygon(),he}}])&&h(Z.prototype,H),Q}(s.default.Renderer),s.default.prototype._assert3d=function(H){if(!this._renderer.isP3D)throw new Error("".concat(H,"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information."))},s.default.RendererGL.prototype.tessyVertexSize=12,R=s.default.RendererGL,b.default=R},{"../core/constants":272,"../core/main":283,"../core/p5.Renderer":286,"./GeometryBuilder":327,"./p5.Camera":332,"./p5.Framebuffer":334,"./p5.Matrix":336,"./p5.Shader":342,"./p5.Texture":343,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.copy-within":154,"core-js/modules/es.array.every":155,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.flat":160,"core-js/modules/es.array.flat-map":159,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.array.unscopables.flat":173,"core-js/modules/es.array.unscopables.flat-map":172,"core-js/modules/es.map":175,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.float64-array":220,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.int16-array":224,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint16-array":240,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,libtess:255,path:258}],342:[function(t,S,b){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var o=(t=t("../core/main"))&&t.__esModule?t:{default:t};function d(p,y){return function(m){if(Array.isArray(m))return m}(p)||function(m,n){if(Symbol.iterator in Object(m)||Object.prototype.toString.call(m)==="[object Arguments]"){var r=[],c=!0,a=!1,h=void 0;try{for(var u,l=m[Symbol.iterator]();!(c=(u=l.next()).done)&&(r.push(u.value),!n||r.length!==n);c=!0);}catch(g){a=!0,h=g}finally{try{c||l.return==null||l.return()}finally{if(a)throw h}}return r}}(p,y)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function s(p,y){for(var m=0;m<y.length;m++){var n=y[m];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(p,n.key,n)}}o.default.Shader=function(){function p(n,r,c){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:{},h=this,u=p;if(!(h instanceof u))throw new TypeError("Cannot call a class as a function");this._renderer=n,this._vertSrc=r,this._fragSrc=c,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[],this.hooks={uniforms:a.uniforms||{},declarations:a.declarations,helpers:a.helpers||{},vertex:a.vertex||{},fragment:a.fragment||{},modified:{vertex:a.modified&&a.modified.vertex||{},fragment:a.modified&&a.modified.fragment||{}}}}var y,m;return y=p,(m=[{key:"shaderSrc",value:function(v,r){var c,a,h,u,l,v=d(v.split("void main"),2),g=v[0],v=v[1],x="";for(c in this.hooks.uniforms)x+="uniform ".concat(c,`;
`);for(a in this.hooks.declarations&&(x+=this.hooks.declarations+`
`),this.hooks[r].declarations&&(x+=this.hooks[r].declarations+`
`),this.hooks.helpers)x+="".concat(a).concat(this.hooks.helpers[a],`
`);for(h in this.hooks[r])h!=="declarations"&&(u=(l=d(h.split(" "),2))[0],l=l[1],this.hooks.modified[r][h]&&(x+="#define AUGMENTED_HOOK_"+l+`
`),x+=u+" HOOK_"+l+this.hooks[r][h]+`
`);return g+x+"void main"+v}},{key:"version",value:function(){var n=/#version (.+)$/.exec(this.vertSrc());return n?n[1]:"100 es"}},{key:"vertSrc",value:function(){return this.shaderSrc(this._vertSrc,"vertex")}},{key:"fragSrc",value:function(){return this.shaderSrc(this._fragSrc,"fragment")}},{key:"inspectHooks",value:function(){for(var n in console.log("==== Vertex shader hooks: ===="),this.hooks.vertex)console.log((this.hooks.modified.vertex[n]?"[MODIFIED] ":"")+n+this.hooks.vertex[n]);for(var r in console.log(""),console.log("==== Fragment shader hooks: ===="),this.hooks.fragment)console.log((this.hooks.modified.fragment[r]?"[MODIFIED] ":"")+r+this.hooks.fragment[r]);for(var c in console.log(""),console.log("==== Helper functions: ===="),this.hooks.helpers)console.log(c+this.hooks.helpers[c])}},{key:"modify",value:function(n){o.default._validateParameters("p5.Shader.modify",arguments);var r,c={vertex:{},fragment:{},helpers:{}};for(r in n)r!=="declarations"&&r!=="uniforms"&&(r==="vertexDeclarations"?c.vertex.declarations=(c.vertex.declarations||"")+`
`+n[r]:r==="fragmentDeclarations"?c.fragment.declarations=(c.fragment.declarations||"")+`
`+n[r]:this.hooks.vertex[r]?c.vertex[r]=n[r]:this.hooks.fragment[r]?c.fragment[r]=n[r]:c.helpers[r]=n[r]);var a,h,u=Object.assign({},this.hooks.modified.vertex),l=Object.assign({},this.hooks.modified.fragment);for(a in c.vertex||{})a!=="declarations"&&(u[a]=!0);for(h in c.fragment||{})h!=="declarations"&&(l[h]=!0);return new o.default.Shader(this._renderer,this._vertSrc,this._fragSrc,{declarations:(this.hooks.declarations||"")+`
`+(n.declarations||""),uniforms:Object.assign({},this.hooks.uniforms,n.uniforms||{}),fragment:Object.assign({},this.hooks.fragment,c.fragment||{}),vertex:Object.assign({},this.hooks.vertex,c.vertex||{}),helpers:Object.assign({},this.hooks.helpers,c.helpers||{}),modified:{vertex:u,fragment:l}})}},{key:"init",value:function(){if(this._glProgram===0){var n,r=this._renderer.GL;if(this._vertShader=r.createShader(r.VERTEX_SHADER),r.shaderSource(this._vertShader,this.vertSrc()),r.compileShader(this._vertShader),!r.getShaderParameter(this._vertShader,r.COMPILE_STATUS))return n=r.getShaderInfoLog(this._vertShader),console.error(n),null;if(this._fragShader=r.createShader(r.FRAGMENT_SHADER),r.shaderSource(this._fragShader,this.fragSrc()),r.compileShader(this._fragShader),!r.getShaderParameter(this._fragShader,r.COMPILE_STATUS))return n=r.getShaderInfoLog(this._fragShader),console.error(n),null;this._glProgram=r.createProgram(),r.attachShader(this._glProgram,this._vertShader),r.attachShader(this._glProgram,this._fragShader),r.linkProgram(this._glProgram),r.getProgramParameter(this._glProgram,r.LINK_STATUS)||o.default._friendlyError("Snap! Error linking shader program: ".concat(r.getProgramInfoLog(this._glProgram))),this._loadAttributes(),this._loadUniforms()}return this}},{key:"setDefaultUniforms",value:function(){for(var n in this.hooks.uniforms){var r=d(n.split(" "),2)[1],n=this.hooks.uniforms[n],c=void 0;(c=n instanceof Function?n():n)!=null&&this.setUniform(r,c)}}},{key:"copyToContext",value:function(n){var r=new o.default.Shader(n._renderer,this._vertSrc,this._fragSrc);return r.ensureCompiledOnContext(n),r}},{key:"ensureCompiledOnContext",value:function(n){if(this._glProgram!==0&&this._renderer!==n._renderer)throw new Error("The shader being run is attached to a different context. Do you need to copy it to this context first with .copyToContext()?");this._glProgram===0&&(this._renderer=n._renderer,this.init())}},{key:"_loadAttributes",value:function(){if(!this._loadedAttributes){this.attributes={};for(var n=this._renderer.GL,r=n.getProgramParameter(this._glProgram,n.ACTIVE_ATTRIBUTES),c=0;c<r;++c){var a=n.getActiveAttrib(this._glProgram,c),h=a.name,u=n.getAttribLocation(this._glProgram,h),l={};l.name=h,l.location=u,l.index=c,l.type=a.type,l.size=a.size,this.attributes[h]=l}this._loadedAttributes=!0}}},{key:"_loadUniforms",value:function(){if(!this._loadedUniforms){for(var n=this._renderer.GL,r=n.getProgramParameter(this._glProgram,n.ACTIVE_UNIFORMS),c=0,a=0;a<r;++a){var h=n.getActiveUniform(this._glProgram,a),u={},l=(u.location=n.getUniformLocation(this._glProgram,h.name),u.size=h.size,h.name);1<h.size&&(l=l.substring(0,l.indexOf("[0]"))),u.name=l,u.type=h.type,u._cachedData=void 0,u.type===n.SAMPLER_2D&&(u.samplerIndex=c,c++,this.samplers.push(u)),u.isArray=1<h.size||u.type===n.FLOAT_MAT3||u.type===n.FLOAT_MAT4||u.type===n.FLOAT_VEC2||u.type===n.FLOAT_VEC3||u.type===n.FLOAT_VEC4||u.type===n.INT_VEC2||u.type===n.INT_VEC4||u.type===n.INT_VEC3,this.uniforms[l]=u}this._loadedUniforms=!0}}},{key:"compile",value:function(){}},{key:"bindShader",value:function(){this.init(),this._bound||(this.useProgram(),this._bound=!0,this._setMatrixUniforms(),this.setUniform("uViewport",this._renderer._viewport))}},{key:"unbindShader",value:function(){return this._bound&&(this.unbindTextures(),this._bound=!1),this}},{key:"bindTextures",value:function(){var n=this._renderer.GL,r=!0,c=!1,a=void 0;try{for(var h,u=this.samplers[Symbol.iterator]();!(r=(h=u.next()).done);r=!0){var l=h.value,g=l.texture;g===void 0&&(g=this._renderer._getEmptyTexture()),n.activeTexture(n.TEXTURE0+l.samplerIndex),g.bindTexture(),g.update(),n.uniform1i(l.location,l.samplerIndex)}}catch(v){c=!0,a=v}finally{try{r||u.return==null||u.return()}finally{if(c)throw a}}}},{key:"updateTextures",value:function(){var n=!0,r=!1,c=void 0;try{for(var a,h=this.samplers[Symbol.iterator]();!(n=(a=h.next()).done);n=!0){var u=a.value.texture;u&&u.update()}}catch(l){r=!0,c=l}finally{try{n||h.return==null||h.return()}finally{if(r)throw c}}}},{key:"unbindTextures",value:function(){var n=!0,r=!1,c=void 0;try{for(var a,h=this.samplers[Symbol.iterator]();!(n=(a=h.next()).done);n=!0){var u=a.value;this.setUniform(u.name,this._renderer._getEmptyTexture())}}catch(l){r=!0,c=l}finally{try{n||h.return==null||h.return()}finally{if(r)throw c}}}},{key:"_setMatrixUniforms",value:function(){var n=this._renderer.uModelMatrix,r=this._renderer.uViewMatrix,c=this._renderer.uPMatrix,a=n.copy().mult(r),h=(this._renderer.uMVMatrix=a).copy();h.mult(c),this.isStrokeShader()&&this.setUniform("uPerspective",this._renderer._curCamera.useLinePerspective?1:0),this.setUniform("uViewMatrix",r.mat4),this.setUniform("uProjectionMatrix",c.mat4),this.setUniform("uModelMatrix",n.mat4),this.setUniform("uModelViewMatrix",a.mat4),this.setUniform("uModelViewProjectionMatrix",h.mat4),this.uniforms.uNormalMatrix&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3)),this.uniforms.uCameraRotation&&(this._renderer.curMatrix.inverseTranspose(this._renderer.uViewMatrix),this.setUniform("uCameraRotation",this._renderer.curMatrix.mat3))}},{key:"useProgram",value:function(){var n=this._renderer.GL;return this._renderer._curShader!==this&&(n.useProgram(this._glProgram),this._renderer._curShader=this),this}},{key:"setUniform",value:function(n,r){var c=this.uniforms[n];if(c){var a=this._renderer.GL;if(c.isArray){if(c._cachedData&&this._renderer._arraysEqual(c._cachedData,r))return;c._cachedData=r.slice(0)}else{if(c._cachedData&&c._cachedData===r)return;Array.isArray(r)?c._cachedData=r.slice(0):c._cachedData=r}var h=c.location;switch(this.useProgram(),c.type){case a.BOOL:r===!0?a.uniform1i(h,1):a.uniform1i(h,0);break;case a.INT:1<c.size?r.length&&a.uniform1iv(h,r):a.uniform1i(h,r);break;case a.FLOAT:1<c.size?r.length&&a.uniform1fv(h,r):a.uniform1f(h,r);break;case a.FLOAT_MAT3:a.uniformMatrix3fv(h,!1,r);break;case a.FLOAT_MAT4:a.uniformMatrix4fv(h,!1,r);break;case a.FLOAT_VEC2:1<c.size?r.length&&a.uniform2fv(h,r):a.uniform2f(h,r[0],r[1]);break;case a.FLOAT_VEC3:1<c.size?r.length&&a.uniform3fv(h,r):a.uniform3f(h,r[0],r[1],r[2]);break;case a.FLOAT_VEC4:1<c.size?r.length&&a.uniform4fv(h,r):a.uniform4f(h,r[0],r[1],r[2],r[3]);break;case a.INT_VEC2:1<c.size?r.length&&a.uniform2iv(h,r):a.uniform2i(h,r[0],r[1]);break;case a.INT_VEC3:1<c.size?r.length&&a.uniform3iv(h,r):a.uniform3i(h,r[0],r[1],r[2]);break;case a.INT_VEC4:1<c.size?r.length&&a.uniform4iv(h,r):a.uniform4i(h,r[0],r[1],r[2],r[3]);break;case a.SAMPLER_2D:if(typeof r=="number"){if(r<a.TEXTURE0||r>a.TEXTURE31||r!==Math.ceil(r))return console.log(" p5.js says: You're trying to use a number as the data for a texture.Please use a texture."),this;a.activeTexture(r),a.uniform1i(h,r)}else a.activeTexture(a.TEXTURE0+c.samplerIndex),c.texture=r instanceof o.default.Texture?r:this._renderer.getTexture(r),a.uniform1i(h,c.samplerIndex),c.texture.src.gifProperties&&c.texture.src._animateGif(this._renderer._pInst);break;case a.SAMPLER_CUBE:case a.SAMPLER_3D:case a.SAMPLER_2D_SHADOW:case a.SAMPLER_2D_ARRAY:case a.SAMPLER_2D_ARRAY_SHADOW:case a.SAMPLER_CUBE_SHADOW:case a.INT_SAMPLER_2D:case a.INT_SAMPLER_3D:case a.INT_SAMPLER_CUBE:case a.INT_SAMPLER_2D_ARRAY:case a.UNSIGNED_INT_SAMPLER_2D:case a.UNSIGNED_INT_SAMPLER_3D:case a.UNSIGNED_INT_SAMPLER_CUBE:case a.UNSIGNED_INT_SAMPLER_2D_ARRAY:typeof r=="number"&&(r<a.TEXTURE0||r>a.TEXTURE31||r!==Math.ceil(r)?console.log(" p5.js says: You're trying to use a number as the data for a texture.Please use a texture."):(a.activeTexture(r),a.uniform1i(h,r)))}return this}}},{key:"isLightShader",value:function(){return[this.attributes.aNormal,this.uniforms.uUseLighting,this.uniforms.uAmbientLightCount,this.uniforms.uDirectionalLightCount,this.uniforms.uPointLightCount,this.uniforms.uAmbientColor,this.uniforms.uDirectionalDiffuseColors,this.uniforms.uDirectionalSpecularColors,this.uniforms.uPointLightLocation,this.uniforms.uPointLightDiffuseColors,this.uniforms.uPointLightSpecularColors,this.uniforms.uLightingDirection,this.uniforms.uSpecular].some(function(n){return n!==void 0})}},{key:"isNormalShader",value:function(){return this.attributes.aNormal!==void 0}},{key:"isTextureShader",value:function(){return 0<this.samplers.length}},{key:"isColorShader",value:function(){return this.attributes.aVertexColor!==void 0||this.uniforms.uMaterialColor!==void 0}},{key:"isTexLightShader",value:function(){return this.isLightShader()&&this.isTextureShader()}},{key:"isStrokeShader",value:function(){return this.uniforms.uStrokeWeight!==void 0}},{key:"enableAttrib",value:function(n,r,c,a,h,u){var l;return n&&(n=n.location)!==-1&&(l=this._renderer.GL,this._renderer.registerEnabled.has(n)||(l.enableVertexAttribArray(n),this._renderer.registerEnabled.add(n)),this._renderer.GL.vertexAttribPointer(n,r,c||l.FLOAT,a||!1,h||0,u||0)),this}},{key:"disableRemainingAttributes",value:function(){var n=this,r=!0,c=!1,a=void 0;try{for(var h,u=this._renderer.registerEnabled.values()[Symbol.iterator]();!(r=(h=u.next()).done);r=!0)(function(){var l=h.value;Object.keys(n.attributes).some(function(g){return n.attributes[g].location===l})||(n._renderer.GL.disableVertexAttribArray(l),n._renderer.registerEnabled.delete(l))})()}catch(l){c=!0,a=l}finally{try{r||u.return==null||u.return()}finally{if(c)throw a}}}}])&&s(y.prototype,m),p}(),t=o.default.Shader,b.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.function.name":174,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],343:[function(t,S,b){function o(g){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(g)}function d(g){return(d=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(v){return o(v)}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":o(v)})(g)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(b,"__esModule",{value:!0}),b.checkWebGLCapabilities=l,b.default=b.MipmapTexture=void 0;var s=(u=t("../core/main"))&&u.__esModule?u:{default:u},p=function(g){if(g&&g.__esModule)return g;if(g===null||d(g)!=="object"&&typeof g!="function")return{default:g};var v=y();if(v&&v.has(g))return v.get(g);var x,k={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(x in g){var j;Object.prototype.hasOwnProperty.call(g,x)&&((j=E?Object.getOwnPropertyDescriptor(g,x):null)&&(j.get||j.set)?Object.defineProperty(k,x,j):k[x]=g[x])}return k.default=g,v&&v.set(g,k),k}(t("../core/constants"));function y(){var g;return typeof WeakMap!="function"?null:(g=new WeakMap,y=function(){return g},g)}function m(g,v){return(m=Object.setPrototypeOf||function(x,k){return x.__proto__=k,x})(g,v)}function n(g){return function(){var v,x=r(g),x=(v=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(v=r(this).constructor,Reflect.construct(x,arguments,v)):x.apply(this,arguments),this);if(!v||d(v)!=="object"&&typeof v!="function"){if(x!==void 0)return x;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return v}}function r(g){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(v){return v.__proto__||Object.getPrototypeOf(v)})(g)}function c(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function a(g,v){for(var x=0;x<v.length;x++){var k=v[x];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(g,k.key,k)}}function h(g,v,x){v&&a(g.prototype,v)}s.default.Texture=function(){function g(C,x,j){c(this,g),this._renderer=C;var E=this._renderer.GL,j=(j=j||{},this.src=x,this.glTex=void 0,this.glTarget=E.TEXTURE_2D,this.glFormat=j.format||E.RGBA,this.mipmaps=!1,this.glMinFilter=j.minFilter||E.LINEAR,this.glMagFilter=j.magFilter||E.LINEAR,this.glWrapS=j.wrapS||E.CLAMP_TO_EDGE,this.glWrapT=j.wrapT||E.CLAMP_TO_EDGE,this.glDataType=j.dataType||E.UNSIGNED_BYTE,l(C)),C=(this.glFormat!==E.HALF_FLOAT||j.halfFloat||(console.log("This device does not support dataType HALF_FLOAT. Falling back to FLOAT."),this.glDataType=E.FLOAT),this.glFormat!==E.HALF_FLOAT||this.glMinFilter!==E.LINEAR&&this.glMagFilter!==E.LINEAR||j.halfFloatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===E.LINEAR&&(this.glMinFilter=E.NEAREST),this.glMagFilter===E.LINEAR&&(this.glMagFilter=E.NEAREST)),this.glFormat!==E.FLOAT||j.float||(console.log("This device does not support dataType FLOAT. Falling back to UNSIGNED_BYTE."),this.glDataType=E.UNSIGNED_BYTE),this.glFormat!==E.FLOAT||this.glMinFilter!==E.LINEAR&&this.glMagFilter!==E.LINEAR||j.floatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===E.LINEAR&&(this.glMinFilter=E.NEAREST),this.glMagFilter===E.LINEAR&&(this.glMagFilter=E.NEAREST)),this.isSrcMediaElement=s.default.MediaElement!==void 0&&x instanceof s.default.MediaElement,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=s.default.Element!==void 0&&x instanceof s.default.Element&&!(x instanceof s.default.Graphics)&&!(x instanceof s.default.Renderer),this.isSrcP5Image=x instanceof s.default.Image,this.isSrcP5Graphics=x instanceof s.default.Graphics,this.isSrcP5Renderer=x instanceof s.default.Renderer,this.isImageData=typeof ImageData<"u"&&x instanceof ImageData,this.isFramebufferTexture=x instanceof s.default.FramebufferTexture,this._getTextureDataFromSource());return this.width=C.width,this.height=C.height,this.init(C),this}return h(g,[{key:"_getTextureDataFromSource",value:function(){var v;return this.isFramebufferTexture?v=this.src.rawTexture():this.isSrcP5Image?v=this.src.canvas:this.isSrcMediaElement||this.isSrcP5Graphics||this.isSrcP5Renderer||this.isSrcHTMLElement?(this.src._ensureCanvas&&this.src._ensureCanvas(),v=this.src.canvas||this.src.elt):this.isImageData&&(v=this.src),v}},{key:"init",value:function(v){var x,k=this._renderer.GL;this.isFramebufferTexture||(this.glTex=k.createTexture()),this.glWrapS=this._renderer.textureWrapX,this.glWrapT=this._renderer.textureWrapY,this.setWrapMode(this.glWrapS,this.glWrapT),this.bindTexture(),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,this.glMagFilter),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,this.glMinFilter),this.isFramebufferTexture||(this.width===0||this.height===0||this.isSrcMediaElement&&!this.src.loadedmetadata?(x=new Uint8Array([1,1,1,1]),k.texImage2D(this.glTarget,0,k.RGBA,1,1,0,this.glFormat,this.glDataType,x)):k.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,v))}},{key:"update",value:function(){var v,x,k,E=this.src;return E.width!==0&&E.height!==0&&!this.isFramebufferTexture&&(v=this._getTextureDataFromSource(),x=!1,k=this._renderer.GL,v.width!==this.width||v.height!==this.height?(x=!0,this.width=v.width||E.width,this.height=v.height||E.height,this.isSrcP5Image?E.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&E.setModified(!0)):this.isSrcP5Image?E.isModified()&&E.setModified(!(x=!0)):this.isSrcMediaElement?E.isModified()?E.setModified(!(x=!0)):E.loadedmetadata&&this._videoPrevUpdateTime!==E.time()&&(this._videoPrevUpdateTime=E.time(),x=!0):this.isImageData?E._dirty&&(x=!(E._dirty=!1)):x=!0,x&&(this.bindTexture(),k.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,v)),x)}},{key:"bindTexture",value:function(){return this._renderer.GL.bindTexture(this.glTarget,this.getTexture()),this}},{key:"unbindTexture",value:function(){this._renderer.GL.bindTexture(this.glTarget,null)}},{key:"getTexture",value:function(){return this.isFramebufferTexture?this.src.rawTexture():this.glTex}},{key:"setInterpolation",value:function(v,x){var k=this._renderer.GL;this.glMinFilter=this.glFilter(v),this.glMagFilter=this.glFilter(x),this.bindTexture(),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,this.glMinFilter),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,this.glMagFilter),this.unbindTexture()}},{key:"glFilter",value:function(v){var x=this._renderer.GL;return v===p.NEAREST?x.NEAREST:x.LINEAR}},{key:"setWrapMode",value:function(v,x){function k(L){return(L&L-1)==0}var E=this._renderer.GL,C=this._getTextureDataFromSource(),C=C.naturalWidth&&C.naturalHeight?(j=C.naturalWidth,C.naturalHeight):(j=this.width,this.height),j=k(j),C=k(C);v===p.REPEAT?this._renderer.webglVersion===p.WEBGL2||j&&C?this.glWrapS=E.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=E.CLAMP_TO_EDGE):v===p.MIRROR?this._renderer.webglVersion===p.WEBGL2||j&&C?this.glWrapS=E.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=E.CLAMP_TO_EDGE):this.glWrapS=E.CLAMP_TO_EDGE,x===p.REPEAT?this._renderer.webglVersion===p.WEBGL2||j&&C?this.glWrapT=E.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=E.CLAMP_TO_EDGE):x===p.MIRROR?this._renderer.webglVersion===p.WEBGL2||j&&C?this.glWrapT=E.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=E.CLAMP_TO_EDGE):this.glWrapT=E.CLAMP_TO_EDGE,this.bindTexture(),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_S,this.glWrapS),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_T,this.glWrapT),this.unbindTexture()}}]),g}();var u=function(g){var v=k;if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),g&&m(v,g);var x=n(k);function k(E,j,C){return c(this,k),j=(E=x.call(this,E,j,C))._renderer.GL,E.glMinFilter===j.LINEAR&&(E.glMinFilter=j.LINEAR_MIPMAP_LINEAR),E}return h(k,[{key:"glFilter",value:function(E){return this._renderer.GL.LINEAR_MIPMAP_LINEAR}},{key:"_getTextureDataFromSource",value:function(){return this.src}},{key:"init",value:function(E){var j=this._renderer.GL;this.glTex=j.createTexture(),this.bindTexture();for(var C=0;C<E.length;C++)j.texImage2D(this.glTarget,C,this.glFormat,this.glFormat,this.glDataType,E[C]);this.glMinFilter=j.LINEAR_MIPMAP_LINEAR,j.texParameteri(j.TEXTURE_2D,j.TEXTURE_MAG_FILTER,this.glMagFilter),j.texParameteri(j.TEXTURE_2D,j.TEXTURE_MIN_FILTER,this.glMinFilter),this.unbindTexture()}},{key:"update",value:function(){}}]),k}(s.default.Texture);function l(E){var v=E.GL,E=E.webglVersion,x=E===p.WEBGL2?v.getExtension("EXT_color_buffer_float")&&v.getExtension("EXT_float_blend"):v.getExtension("OES_texture_float"),k=x&&v.getExtension("OES_texture_float_linear"),E=E===p.WEBGL2?v.getExtension("EXT_color_buffer_float"):v.getExtension("OES_texture_half_float");return{float:x,floatLinear:k,halfFloat:E,halfFloatLinear:E&&v.getExtension("OES_texture_half_float_linear")}}b.MipmapTexture=u,t=s.default.Texture,b.default=t},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],344:[function(t,S,b){function o(g){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(g)}function d(g){return(d=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(v){return o(v)}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":o(v)})(g)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.sub"),t("core-js/modules/web.dom-collections.iterator");var s,p=(s=t("../core/main"))&&s.__esModule?s:{default:s},y=function(g){if(g&&g.__esModule)return g;if(g===null||d(g)!=="object"&&typeof g!="function")return{default:g};var v=m();if(v&&v.has(g))return v.get(g);var x,k={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(x in g){var j;Object.prototype.hasOwnProperty.call(g,x)&&((j=E?Object.getOwnPropertyDescriptor(g,x):null)&&(j.get||j.set)?Object.defineProperty(k,x,j):k[x]=g[x])}return k.default=g,v&&v.set(g,k),k}(t("../core/constants"));function m(){var g;return typeof WeakMap!="function"?null:(g=new WeakMap,m=function(){return g},g)}function n(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function r(g,v){for(var x=0;x<v.length;x++){var k=v[x];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(g,k.key,k)}}function c(g,v,x){v&&r(g.prototype,v)}t("./p5.Shader"),t("./p5.RendererGL.Retained"),p.default.RendererGL.prototype._applyTextProperties=function(){this._setProperty("_textAscent",null),this._setProperty("_textDescent",null)},p.default.RendererGL.prototype.textWidth=function(g){return this._isOpenType()?this._textFont._textWidth(g,this._textSize):0};var a=function(){function g(v,x){n(this,g),this.width=v,this.height=x,this.infos=[]}return c(g,[{key:"findImage",value:function(v){var x,k,E=this.width*this.height;if(E<v)throw new Error("font is too complex to render in 3D");for(var j=this.infos.length-1;0<=j;--j){var C=this.infos[j];if(C.index+v<E){k=(x=C).imageData;break}}if(!x){try{k=new ImageData(this.width,this.height)}catch{var L=document.getElementsByTagName("canvas")[0],A=!L,P=(L||((L=document.createElement("canvas")).style.display="none",document.body.appendChild(L)),L.getContext("2d"));P&&(k=P.createImageData(this.width,this.height)),A&&document.body.removeChild(L)}this.infos.push(x={index:0,imageData:k})}return P=x.index,x.index+=v,k._dirty=!0,{imageData:k,index:P}}}]),g}();function h(C,v,x,k,E){var j=C.imageData.data,C=4*C.index++;j[C++]=v,j[C++]=x,j[C++]=k,j[+C]=E}var u=Math.sqrt(3),l=function(){function g(v){n(this,g),this.font=v,this.strokeImageInfos=new a(64,64),this.colDimImageInfos=new a(64,64),this.rowDimImageInfos=new a(64,64),this.colCellImageInfos=new a(64,64),this.rowCellImageInfos=new a(64,64),this.glyphInfos={}}return c(g,[{key:"getGlyphInfo",value:function(v){var x=this.glyphInfos[v.index];if(!x){var k=v.getBoundingBox(),E=k.x1,j=k.y1,C=k.x2-E,L=k.y2-j,A=v.path.commands;if(C==0||L==0||!A.length)return this.glyphInfos[v.index]={};for(var P=[],R=[],I=[],N=8;0<=N;--N)I.push([]);for(N=8;0<=N;--N)R.push([]);var z,G,W,H,Z=function(){function Me(Le,qe,Ye,Ee){n(this,Me),this.p0=Le,this.c0=qe,this.c1=Ye,this.p1=Ee}return c(Me,[{key:"toQuadratic",value:function(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:(3*(this.c0.x+this.c1.x)-(this.p0.x+this.p1.x))/4,cy:(3*(this.c0.y+this.c1.y)-(this.p0.y+this.p1.y))/4}}},{key:"quadError",value:function(){return p.default.Vector.sub(p.default.Vector.sub(this.p1,this.p0),p.default.Vector.mult(p.default.Vector.sub(this.c1,this.c0),3)).mag()/2}},{key:"split",value:function(Xe){var qe=p.default.Vector.lerp(this.p0,this.c0,Xe),Ee=p.default.Vector.lerp(this.c0,this.c1,Xe),Ye=p.default.Vector.lerp(qe,Ee,Xe),Ee=(this.c1=p.default.Vector.lerp(this.c1,this.p1,Xe),this.c0=p.default.Vector.lerp(Ee,this.c1,Xe),p.default.Vector.lerp(Ye,this.c0,Xe)),Xe=new Me(this.p0,qe,Ye,Ee);return this.p0=Ee,Xe}},{key:"splitInflections",value:function(){var Le=p.default.Vector.sub(this.c0,this.p0),qe=p.default.Vector.sub(p.default.Vector.sub(this.c1,this.c0),Le),Ye=p.default.Vector.sub(p.default.Vector.sub(p.default.Vector.sub(this.p1,this.c1),Le),p.default.Vector.mult(qe,2)),Ee=[],Xe=qe.x*Ye.y-qe.y*Ye.x;return Xe!==0&&0<=(Le=(Ye=Le.x*Ye.y-Le.y*Ye.x)*Ye-4*Xe*(Le.x*qe.y-Le.y*qe.x))&&(Xe<0&&(Xe=-Xe,Ye=-Ye),Le=(-Ye+(qe=Math.sqrt(Le)))/(2*Xe),0<(Ye=(-Ye-qe)/(2*Xe))&&Ye<1&&(Ee.push(this.split(Ye)),Le=1-(1-Le)/(1-Ye)),0<Le&&Le<1&&Ee.push(this.split(Le))),Ee.push(this),Ee}}]),Me}(),Y=!0,Q=!1,M=void 0;try{for(var B,V=A[Symbol.iterator]();!(Y=(B=V.next()).done);Y=!0){var X=B.value,re=(X.x-E)/C,ne=(X.y-j)/L;if(!ue(z,G,re,ne)){switch(X.type){case"M":W=re,H=ne;break;case"L":Oe(z,G,re,ne);break;case"Q":var ce=(X.x1-E)/C,be=(X.y1-j)/L;ae([z,re,ce],[G,ne,be],{x:z,y:G,cx:ce,cy:be});break;case"Z":ue(z,G,W,H)?P.push({x:z,y:G}):(Oe(z,G,W,H),P.push({x:W,y:H}));break;case"C":for(var he=function(pe,Ie,Ue,Ye,Ee,Xe,De,ie){var pe=new Z(new p.default.Vector(pe,Ie),new p.default.Vector(Ue,Ye),new p.default.Vector(Ee,Xe),new p.default.Vector(De,ie)).splitInflections(),$=[],de=30/u,Se=!0,Ie=!1,Ue=void 0;try{for(var et,lt=pe[Symbol.iterator]();!(Se=(et=lt.next()).done);Se=!0){for(var it=et.value,ct=[],Ct=void 0;!(.125<=(Ct=de/it.quadError()));){var wt=Math.pow(Ct,.3333333333333333),ht=it.split(wt),bt=it.split(1-wt/(1-wt));$.push(ht),ct.push(it),it=bt}Ct<1&&$.push(it.split(.5)),$.push(it),Array.prototype.push.apply($,ct.reverse())}}catch(kt){Ie=!0,Ue=kt}finally{try{Se||lt.return==null||lt.return()}finally{if(Ie)throw Ue}}return $}(z,G,(X.x1-E)/C,(X.y1-j)/L,(X.x2-E)/C,(X.y2-j)/L,re,ne),le=0;le<he.length;le++){var ge=he[le].toQuadratic();ae([ge.x,ge.x1,ge.cx],[ge.y,ge.y1,ge.cy],ge)}break;default:throw new Error("unknown command type: ".concat(X.type))}z=re,G=ne}}}catch(Me){Q=!0,M=Me}finally{try{Y||V.return==null||V.return()}finally{if(Q)throw M}}for(var U=P.length,oe=this.strokeImageInfos.findImage(U),fe=oe.index,te=0;te<U;++te){var ee=P[te];h(oe,_e(ee.x),_e(ee.y),_e(ee.cx),_e(ee.cy))}(x=this.glyphInfos[v.index]={glyph:v,uGlyphRect:[k.x1,-k.y1,k.x2,-k.y2],strokeImageInfo:oe,strokes:P,colInfo:je(I,this.colDimImageInfos,this.colCellImageInfos),rowInfo:je(R,this.rowDimImageInfos,this.rowCellImageInfos)}).uGridOffset=[x.colInfo.dimOffset,x.rowInfo.dimOffset]}return x;function ae(Me,Le,qe){var Ye=P.length;function Ee($,de,Se){for(var Ie=$.length;0<Ie--;){var Ue=$[Ie];Ue<de&&(de=Ue),Se<Ue&&(Se=Ue)}return{min:de,max:Se}}P.push(qe);for(var qe=Ee(Me,1,0),Me=Math.max(Math.floor(9*qe.min-.5),0),Xe=Math.min(Math.ceil(9*qe.max+.5),9),De=Me;De<Xe;++De)I[De].push(Ye);for(var qe=Ee(Le,1,0),Me=Math.max(Math.floor(9*qe.min-.5),0),ie=Math.min(Math.ceil(9*qe.max+.5),9),pe=Me;pe<ie;++pe)R[pe].push(Ye)}function _e(Me){return(Me=(qe=255)*Me)<(Le=0)?Le:qe<Me?qe:Me;var Le,qe}function Oe(Me,Le,qe,Ye){ae([Me,qe],[Le,Ye],{x:Me,y:Le,cx:(Me+qe)/2,cy:(Le+Ye)/2})}function ue(Me,Le,qe,Ye){return Math.abs(qe-Me)<1e-5&&Math.abs(Ye-Le)<1e-5}function je(Me,Le,qe){for(var Ye=Me.length,Ee=Le.findImage(Ye),Le=Ee.index,Xe=0,De=0;De<Ye;++De)Xe+=Me[De].length;for(var ie=qe.findImage(Xe),pe=0;pe<Ye;++pe){var $=Me[pe],de=$.length,Se=ie.index;h(Ee,Se>>7,127&Se,de>>7,127&de);for(var Ie=0;Ie<de;++Ie){var Ue=$[Ie]+fe;h(ie,Ue>>7,127&Ue,0,0)}}return{cellImageInfo:ie,dimOffset:Le,dimImageInfo:Ee}}}}]),g}();p.default.RendererGL.prototype._renderText=function(g,v,x,k,E){if(this._textFont&&typeof this._textFont!="string"){if(!(E<=k)&&this._doFill){if(this._isOpenType()){g.push();var E=this._doStroke,j=this.drawMode,C=(this._doStroke=!1,this.drawMode=y.TEXTURE,this._textFont.font),L=(L=this._textFont._fontInfo)||(this._textFont._fontInfo=new l(C)),x=this._textFont._handleAlignment(this,v,x,k),k=this._textSize/C.unitsPerEm,A=(this.translate(x.x,x.y,0),this.scale(k,k,1),this.GL),x=!this._defaultFontShader,P=this._getFontShader(),R=(P.init(),P.bindShader(),x&&(P.setUniform("uGridImageSize",[64,64]),P.setUniform("uCellsImageSize",[64,64]),P.setUniform("uStrokeImageSize",[64,64]),P.setUniform("uGridSize",[9,9])),this._applyColorBlend(this.curFillColor),this.retainedMode.geometry.glyph),I=(R||((k=this._textGeom=new p.default.Geometry(1,1,function(){for(var le=0;le<=1;le++)for(var ge=0;ge<=1;ge++)this.vertices.push(new p.default.Vector(ge,le,0)),this.uvs.push(ge,le)})).computeFaces().computeNormals(),R=this.createBuffers("glyph",k)),!0),x=!1,k=void 0;try{for(var N,z=this.retainedMode.buffers.text[Symbol.iterator]();!(I=(N=z.next()).done);I=!0)N.value._prepareBuffer(R,P)}catch(le){x=!0,k=le}finally{try{I||z.return==null||z.return()}finally{if(x)throw k}}this._bindBuffer(R.indexBuffer,A.ELEMENT_ARRAY_BUFFER),P.setUniform("uMaterialColor",this.curFillColor),A.pixelStorei(A.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);try{var G=0,W=null,H=C.stringToGlyphs(v),Z=!0,Y=!1,Q=void 0;try{for(var M,B=H[Symbol.iterator]();!(Z=(M=B.next()).done);Z=!0){var V,X,re=M.value,ne=(W&&(G+=C.getKerningValue(W,re)),L.getGlyphInfo(re));ne.uGlyphRect&&(V=ne.rowInfo,X=ne.colInfo,P.setUniform("uSamplerStrokes",ne.strokeImageInfo.imageData),P.setUniform("uSamplerRowStrokes",V.cellImageInfo.imageData),P.setUniform("uSamplerRows",V.dimImageInfo.imageData),P.setUniform("uSamplerColStrokes",X.cellImageInfo.imageData),P.setUniform("uSamplerCols",X.dimImageInfo.imageData),P.setUniform("uGridOffset",ne.uGridOffset),P.setUniform("uGlyphRect",ne.uGlyphRect),P.setUniform("uGlyphOffset",G),P.bindTextures(),A.drawElements(A.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)),G+=re.advanceWidth,W=re}}catch(le){Y=!0,Q=le}finally{try{Z||B.return==null||B.return()}finally{if(Y)throw Q}}}finally{P.unbindShader(),this._doStroke=E,this.drawMode=j,A.pixelStorei(A.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),g.pop()}}else console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts are supported");return g}}else console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.")}},{"../core/constants":272,"../core/main":283,"./p5.RendererGL.Retained":340,"./p5.Shader":342,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}]},{},[267])(267)})}(ia)),ia.exports}var Jf=Qf();const Pl=Da(Jf);function eh(f,w,T){let t=T&&T.state;t&&(typeof t=="object"&&w.copy(t,w),f.state=()=>w.copy(w,{}))}function th(f,w){let T=new rh(f),t=()=>T.next();return t.double=()=>t()+(t()*2097152|0)*11102230246251565e-32,t.int32=()=>T.next()*4294967296|0,t.quick=t,eh(t,T,w),t}class rh{constructor(w){w==null&&(w=+new Date);let T=4022871197;this.c=1,this.s0=t(" "),this.s1=t(" "),this.s2=t(" "),this.s0-=t(w),this.s0<0&&(this.s0+=1),this.s1-=t(w),this.s1<0&&(this.s1+=1),this.s2-=t(w),this.s2<0&&(this.s2+=1);function t(S){S=String(S);for(let b=0;b<S.length;b++){T+=S.charCodeAt(b);let o=.02519603282416938*T;T=o>>>0,o-=T,o*=T,T=o>>>0,o-=T,T+=o*4294967296}return(T>>>0)*23283064365386963e-26}}next(){let{c:w,s0:T,s1:t,s2:S}=this,b=2091639*T+w*23283064365386963e-26;return this.s0=t,this.s1=S,this.s2=b-(this.c=b|0)}copy(w,T){return T.c=w.c,T.s0=w.s0,T.s1=w.s1,T.s2=w.s2,T}}/**
 * @fileoverview p5.brush - A comprehensive toolset for brush management in p5.js.
 * @version 1.1.4
 * @license MIT
 * @author Alejandro Campos Uribe
 *
 * @description
 * p5.brush is a p5.js library dedicated to the creation and management of custom brushes.
 * It extends the drawing capabilities of p5.js by allowing users to simulate a wide range
 * of brush strokes, vector fields, hatching patterns, and fill textures. These features
 * are essential for emulating the nuanced effects found in traditional sketching and painting.
 * Whether for digital art applications or procedural generation of graphics, p5.brush provides
 * a robust framework for artists and developers to create rich, dynamic, and textured visuals.
 *
 * @example
 * // Basic usage:
 * brush.pick('marker'); // Select brush type
 * brush.stroke(255, 0, 0); // Set brush color
 * brush.strokeWeight(10); // Set brush size
 * brush.line(25, 25, 75, 75); // Draw a line
 *
 * // Add a new brush type:
 * brush.add('customBrush', { /* parameters for the brush *\/ });
 * brush.pick('customBrush');
 *
 * // Use the custom brush for a vector-field line:
 * brush.field('field_name') // Pick a flowfield
 * brush.flowLine(50, 50, 100, PI / 4); // Draw a line within the vector-field
 *
 * // Fill textures:
 * brush.noStroke();
 * brush.fill('#FF0000', 90); // Set fill color to red and opacity to 90
 * brush.bleed(0.3); // Set bleed effect for a watercolor-like appearance
 * brush.rect(100, 100, 50, 50); // Fill a rectangle with the bleed effect
 *
 * @license
 * MIT License
 *
 * Copyright (c) 2023-2024 Alejandro Campos Uribe
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
 * DEALINGS IN THE SOFTWARE.
 */let Mt,fi=!1,rc=!1,js=!1,hi=!1;function nc(f=!1){let w=js&&f?hi:!1;fi&&nh(!1),!f&&js&&(f=hi),Mt=f||window.self,Cr.load(w),rc=!0}function nh(f=!0){fi&&(Cr.masks[0].remove(),Cr.masks[0]=null,Cr.masks[1].remove(),Cr.masks[1]=null,Cr.masks[2].remove(),Cr.masks[2]=null,f&&brush.load())}function oc(){fi||(rc||nc(),fr.create(),lh(Mt.width/250),fi=!0)}let Ys=new th(Math.random());const Tt={random(f=0,w=1){return f+Ys()*(w-f)},randInt(f,w){return Math.floor(this.random(f,w))},gaussian(f=0,w=1){const T=1-Ys(),t=Ys();return Math.sqrt(-2*Math.log(T))*Math.cos(2*Math.PI*t)*w+f},weightedRand(f){let w,T,t=[];for(w in f)for(T=0;T<10*f[w];T++)t.push(w);return t[Math.floor(Ys()*t.length)]},map(f,w,T,t,S,b=!1){let o=t+(f-w)/(T-w)*(S-t);return b?t<S?this.constrain(o,t,S):this.constrain(o,S,t):o},constrain(f,w,T){return Math.max(Math.min(f,T),w)},cos(f){return this.c[Math.floor(4*((f%360+360)%360))]},sin(f){return this.s[Math.floor(4*((f%360+360)%360))]},isPrecalculationDone:!1,preCalculation(){if(this.isPrecalculationDone)return;const f=1440,w=2*Math.PI/f;this.c=new Float64Array(f),this.s=new Float64Array(f);for(let T=0;T<f;T++){const t=T*w;Tt.c[T]=Math.cos(t),Tt.s[T]=Math.sin(t)}this.isPrecalculationDone=!0},isNumber:f=>!isNaN(f),toDegrees:f=>((Mt.angleMode()==="radians"?f*180/Math.PI:f)%360+360)%360,dist:(f,w,T,t)=>Math.hypot(T-f,t-w)};Tt.preCalculation();function oh(f,w,T,t){return(Math.atan2(-(t-w),T-f)*(180/Math.PI)%360+360)%360}const Vr={translation:[0,0],rotation:0,trans(){return this.translation=[Mt._renderer.uModelMatrix.mat4[12],Mt._renderer.uModelMatrix.mat4[13]],this.translation}};let sc=1;function sh(f){sc*=f}const Cr={loaded:!1,isBlending:!1,isCaching:!0,currentColor:new Float32Array(3),load(f){this.type=js&&!f?0:f?2:1,this.masks=[];for(let w=0;w<3;w++)switch(this.type){case 0:this.masks[w]=Mt.createGraphics(Mt.width,Mt.height,w==1?Mt.WEBGL:Mt.P2D);break;case 1:this.masks[w]=createGraphics(Mt.width,Mt.height,w==1?WEBGL:P2D);break;case 2:this.masks[w]=f.createGraphics(f.width,f.height,w==1?f.WEBGL:f.P2D);break}for(let w of this.masks)w.pixelDensity(Mt.pixelDensity()),w.clear(),w.angleMode(Mt.DEGREES),w.noSmooth();this.shader=Mt.createShader(this.vert,this.frag),Cr.loaded=!0},getPigment(f){let w=f.levels,T=new Float32Array(3);return T[0]=w[0]/255,T[1]=w[1]/255,T[2]=w[2]/255,T},color1:new Float32Array(3),color2:new Float32Array(3),blending1:!1,blending2:!1,blend(f=!1,w=!1,T=!1){if(oc(),this.isBlending=T?this.blending1:this.blending2,this.currentColor=T?this.color1:this.color2,!this.isBlending){if(f)this.currentColor=this.getPigment(f),T?(this.blending1=!0,this.color1=this.currentColor):(this.blending2=!0,this.color2=this.currentColor);else if(w){T||Ll();return}}if((f?this.getPigment(f):this.currentColor).toString()!==this.currentColor.toString()||w||!this.isCaching){if(Ll(),this.isBlending){Mt.push(),Mt.translate(-Vr.trans()[0],-Vr.trans()[1]),Mt.shader(this.shader),this.shader.setUniform("addColor",this.currentColor),this.shader.setUniform("source",Mt._renderer),this.shader.setUniform("active",Cr.watercolor),this.shader.setUniform("random",[Tt.random(),Tt.random(),Tt.random()]);let S=T?this.masks[1]:this.masks[0];this.shader.setUniform("mask",S),Mt.fill(0,0,0,0),Mt.noStroke(),Mt.rect(-Mt.width/2,-Mt.height/2,Mt.width,Mt.height),Mt.pop(),S.clear()}w||(this.currentColor=this.getPigment(f),T?this.color1=this.currentColor:this.color2=this.currentColor)}w&&(this.isBlending=!1,T?this.blending1=this.isBlending:this.blending2=this.isBlending)},vert:"precision highp float;attribute vec3 aPosition;attribute vec2 aTexCoord;uniform mat4 uModelViewMatrix,uProjectionMatrix;varying vec2 vVertTexCoord;void main(){gl_Position=uProjectionMatrix*uModelViewMatrix*vec4(aPosition,1);vVertTexCoord=aTexCoord;}",frag:`precision highp float;varying vec2 vVertTexCoord;uniform sampler2D source,mask;uniform vec4 addColor;uniform vec3 random;uniform bool active;
        #ifndef SPECTRAL
        #define SPECTRAL
        float x(float v){return v<.04045?v/12.92:pow((v+.055)/1.055,2.4);}float v(float v){return v<.0031308?v*12.92:1.055*pow(v,1./2.4)-.055;}vec3 m(vec3 v){return vec3(x(v[0]),x(v[1]),x(v[2]));}vec3 f(vec3 f){return clamp(vec3(v(f[0]),v(f[1]),v(f[2])),0.,1.);}void f(vec3 v,out float m,out float f,out float x,out float y,out float z,out float i,out float r){m=min(v.x,min(v.y,v.z));v-=m;f=min(v.y,v.z);x=min(v.x,v.z);y=min(v.x,v.y);z=min(max(0.,v.x-v.z),max(0.,v.x-v.y));i=min(max(0.,v.y-v.z),max(0.,v.y-v.x));r=min(max(0.,v.z-v.y),max(0.,v.z-v.x));}void f(vec3 v,inout float i[38]){float x,y,d,z,o,m,e;f(v,x,y,d,z,o,m,e);i[0]=max(1e-4,x+y*.96853629+d*.51567122+z*.02055257+o*.03147571+m*.49108579+e*.97901834);i[1]=max(1e-4,x+y*.96855103+d*.5401552+z*.02059936+o*.03146636+m*.46944057+e*.97901649);i[2]=max(1e-4,x+y*.96859338+d*.62645502+z*.02062723+o*.03140624+m*.4016578+e*.97901118);i[3]=max(1e-4,x+y*.96877345+d*.75595012+z*.02073387+o*.03119611+m*.2449042+e*.97892146);i[4]=max(1e-4,x+y*.96942204+d*.92826996+z*.02114202+o*.03053888+m*.0682688+e*.97858555);i[5]=max(1e-4,x+y*.97143709+d*.97223624+z*.02233154+o*.02856855+m*.02732883+e*.97743705);i[6]=max(1e-4,x+y*.97541862+d*.98616174+z*.02556857+o*.02459485+m*.013606+e*.97428075);i[7]=max(1e-4,x+y*.98074186+d*.98955255+z*.03330189+o*.0192952+m*.01000187+e*.96663223);i[8]=max(1e-4,x+y*.98580992+d*.98676237+z*.05185294+o*.01423112+m*.01284127+e*.94822893);i[9]=max(1e-4,x+y*.98971194+d*.97312575+z*.10087639+o*.01033111+m*.02636635+e*.89937713);i[10]=max(1e-4,x+y*.99238027+d*.91944277+z*.24000413+o*.00765876+m*.07058713+e*.76070164);i[11]=max(1e-4,x+y*.99409844+d*.32564851+z*.53589066+o*.00593693+m*.70421692+e*.4642044);i[12]=max(1e-4,x+y*.995172+d*.13820628+z*.79874659+o*.00485616+m*.85473994+e*.20123039);i[13]=max(1e-4,x+y*.99576545+d*.05015143+z*.91186529+o*.00426186+m*.95081565+e*.08808402);i[14]=max(1e-4,x+y*.99593552+d*.02912336+z*.95399623+o*.00409039+m*.9717037+e*.04592894);i[15]=max(1e-4,x+y*.99564041+d*.02421691+z*.97137099+o*.00438375+m*.97651888+e*.02860373);i[16]=max(1e-4,x+y*.99464769+d*.02660696+z*.97939505+o*.00537525+m*.97429245+e*.02060067);i[17]=max(1e-4,x+y*.99229579+d*.03407586+z*.98345207+o*.00772962+m*.97012917+e*.01656701);i[18]=max(1e-4,x+y*.98638762+d*.04835936+z*.98553736+o*.0136612+m*.9425863+e*.01451549);i[19]=max(1e-4,x+y*.96829712+d*.0001172+z*.98648905+o*.03181352+m*.99989207+e*.01357964);i[20]=max(1e-4,x+y*.89228016+d*8.554e-5+z*.98674535+o*.10791525+m*.99989891+e*.01331243);i[21]=max(1e-4,x+y*.53740239+d*.85267882+z*.98657555+o*.46249516+m*.13823139+e*.01347661);i[22]=max(1e-4,x+y*.15360445+d*.93188793+z*.98611877+o*.84604333+m*.06968113+e*.01387181);i[23]=max(1e-4,x+y*.05705719+d*.94810268+z*.98559942+o*.94275572+m*.05628787+e*.01435472);i[24]=max(1e-4,x+y*.03126539+d*.94200977+z*.98507063+o*.96860996+m*.06111561+e*.01479836);i[25]=max(1e-4,x+y*.02205445+d*.91478045+z*.98460039+o*.97783966+m*.08987709+e*.0151525);i[26]=max(1e-4,x+y*.01802271+d*.87065445+z*.98425301+o*.98187757+m*.13656016+e*.01540513);i[27]=max(1e-4,x+y*.0161346+d*.78827548+z*.98403909+o*.98377315+m*.22169624+e*.01557233);i[28]=max(1e-4,x+y*.01520947+d*.65738359+z*.98388535+o*.98470202+m*.32176956+e*.0156571);i[29]=max(1e-4,x+y*.01475977+d*.59909403+z*.98376116+o*.98515481+m*.36157329+e*.01571025);i[30]=max(1e-4,x+y*.01454263+d*.56817268+z*.98368246+o*.98537114+m*.4836192+e*.01571916);i[31]=max(1e-4,x+y*.01444459+d*.54031997+z*.98365023+o*.98546685+m*.46488579+e*.01572133);i[32]=max(1e-4,x+y*.01439897+d*.52110241+z*.98361309+o*.98550011+m*.47440306+e*.01572502);i[33]=max(1e-4,x+y*.0143762+d*.51041094+z*.98357259+o*.98551031+m*.4857699+e*.01571717);i[34]=max(1e-4,x+y*.01436343+d*.50526577+z*.98353856+o*.98550741+m*.49267971+e*.01571905);i[35]=max(1e-4,x+y*.01435687+d*.5025508+z*.98351247+o*.98551323+m*.49625685+e*.01571059);i[36]=max(1e-4,x+y*.0143537+d*.50126452+z*.98350101+o*.98551563+m*.49807754+e*.01569728);i[37]=max(1e-4,x+y*.01435408+d*.50083021+z*.98350852+o*.98551547+m*.49889859+e*.0157002);}vec3 t(vec3 x){mat3 i;i[0]=vec3(3.24306333,-1.53837619,-.49893282);i[1]=vec3(-.96896309,1.87542451,.04154303);i[2]=vec3(.05568392,-.20417438,1.05799454);float v=dot(i[0],x),y=dot(i[1],x),o=dot(i[2],x);return f(vec3(v,y,o));}vec3 d(float m[38]){vec3 i=vec3(0);i+=m[0]*vec3(6.469e-5,1.84e-6,.00030502);i+=m[1]*vec3(.00021941,6.21e-6,.00103681);i+=m[2]*vec3(.00112057,3.101e-5,.00531314);i+=m[3]*vec3(.00376661,.00010475,.01795439);i+=m[4]*vec3(.01188055,.00035364,.05707758);i+=m[5]*vec3(.02328644,.00095147,.11365162);i+=m[6]*vec3(.03455942,.00228226,.17335873);i+=m[7]*vec3(.03722379,.00420733,.19620658);i+=m[8]*vec3(.03241838,.0066888,.18608237);i+=m[9]*vec3(.02123321,.0098884,.13995048);i+=m[10]*vec3(.01049099,.01524945,.08917453);i+=m[11]*vec3(.00329584,.02141831,.04789621);i+=m[12]*vec3(.00050704,.03342293,.02814563);i+=m[13]*vec3(.00094867,.05131001,.01613766);i+=m[14]*vec3(.00627372,.07040208,.0077591);i+=m[15]*vec3(.01686462,.08783871,.00429615);i+=m[16]*vec3(.02868965,.09424905,.00200551);i+=m[17]*vec3(.04267481,.09795667,.00086147);i+=m[18]*vec3(.05625475,.09415219,.00036904);i+=m[19]*vec3(.0694704,.08678102,.00019143);i+=m[20]*vec3(.08305315,.07885653,.00014956);i+=m[21]*vec3(.0861261,.0635267,9.231e-5);i+=m[22]*vec3(.09046614,.05374142,6.813e-5);i+=m[23]*vec3(.08500387,.04264606,2.883e-5);i+=m[24]*vec3(.07090667,.03161735,1.577e-5);i+=m[25]*vec3(.05062889,.02088521,3.94e-6);i+=m[26]*vec3(.03547396,.01386011,1.58e-6);i+=m[27]*vec3(.02146821,.00810264,0);i+=m[28]*vec3(.01251646,.0046301,0);i+=m[29]*vec3(.00680458,.00249138,0);i+=m[30]*vec3(.00346457,.0012593,0);i+=m[31]*vec3(.00149761,.00054165,0);i+=m[32]*vec3(.0007697,.00027795,0);i+=m[33]*vec3(.00040737,.00014711,0);i+=m[34]*vec3(.00016901,6.103e-5,0);i+=m[35]*vec3(9.522e-5,3.439e-5,0);i+=m[36]*vec3(4.903e-5,1.771e-5,0);i+=m[37]*vec3(2e-5,7.22e-6,0);return i;}float d(float y,float m,float v){float z=m*pow(v,2.);return z/(y*pow(1.-v,2.)+z);}vec3 f(vec3 v,vec3 y,float z){vec3 x=m(v),o=m(y);float i[38],a[38];f(x,i);f(o,a);float r=d(i)[1],e=d(a)[1];z=d(r,e,z);float s[38];for(int u=0;u<38;u++){float p=(1.-z)*(pow(1.-i[u],2.)/(2.*i[u]))+z*(pow(1.-a[u],2.)/(2.*a[u]));s[u]=1.+p-sqrt(pow(p,2.)+2.*p);}return t(d(s));}vec4 f(vec4 v,vec4 x,float y){return vec4(f(v.xyz,x.xyz,y),mix(v.w,x.w,y));}
        #endif
        float d(vec2 m,vec2 v,float y,out vec2 i){vec2 f=vec2(m.x+m.y*.5,m.y),x=floor(f),o=fract(f);float z=step(o.y,o.x);vec2 d=vec2(z,1.-z),r=x+d,e=x+1.,a=vec2(x.x-x.y*.5,x.y),p=vec2(a.x+d.x-d.y*.5,a.y+d.y),s=vec2(a.x+.5,a.y+1.),w=m-a,g=m-p,k=m-s;vec3 u,c,t,A;if(any(greaterThan(v,vec2(0)))){t=vec3(a.x,p.x,s);A=vec3(a.y,p.y,s.y);if(v.x>0.)t=mod(vec3(a.x,p.x,s),v.x);if(v.y>0.)A=mod(vec3(a.y,p.y,s.y),v.y);u=floor(t+.5*A+.5);c=floor(A+.5);}else u=vec3(x.x,r.x,e),c=vec3(x.y,r.y,e.y);vec3 S=mod(u,289.);S=mod((S*51.+2.)*S+c,289.);S=mod((S*34.+10.)*S,289.);vec3 b=S*.07482+y,C=cos(b),D=sin(b);vec2 h=vec2(C.x,D),B=vec2(C.y,D.y),E=vec2(C.z,D.z);vec3 F=.8-vec3(dot(w,w),dot(g,g),dot(k,k));F=max(F,0.);vec3 G=F*F,H=G*G,I=vec3(dot(h,w),dot(B,g),dot(E,k)),J=G*F,K=-8.*J*I;i=10.9*(H.x*h+K.x*w+(H.y*B+K.y*g)+(H.z*E+K.z*k));return 10.9*dot(H,I);}vec4 d(vec3 v,float x){return vec4(mix(v,vec3(dot(vec3(.299,.587,.114),v)),x),1);}float f(vec2 v,float x,float y,float f){return fract(sin(dot(v,vec2(x,y)))*f);}void main(){vec4 v=texture2D(mask,vVertTexCoord);if(v.x>0.){vec2 x=vec2(12.9898,78.233),o=vec2(7.9898,58.233),m=vec2(17.9898,3.233);float y=f(vVertTexCoord,x.x,x.y,43358.5453)*2.-1.,z=f(vVertTexCoord,o.x,o.y,43213.5453)*2.-1.,e=f(vVertTexCoord,m.x,m.y,33358.5453)*2.-1.;const vec2 i=vec2(0);vec2 s;vec4 r;if(active){float a=d(vVertTexCoord*5.,i,10.*random.x,s),p=d(vVertTexCoord*5.,i,10.*random.y,s),g=d(vVertTexCoord*5.,i,10.*random.z,s),k=.25+.25*d(vVertTexCoord*4.,i,3.*random.x,s);r=vec4(d(addColor.xyz,k).xyz+vec3(a,p,g)*.03*abs(addColor.x-addColor.y-addColor.z),1);}else r=vec4(addColor.xyz,1);if(v.w>.7){float a=.5*(v.w-.7);r=r*(1.-a)-vec4(.5)*a;}vec3 a=f(texture2D(source,vVertTexCoord).xyz,r.xyz,.9*v.w);gl_FragColor=vec4(a+.01*vec3(y,z,e),1);}}`};function Ll(){Mt.push(),Mt.translate(-Vr.trans()[0],-Vr.trans()[1]),Mt.image(Cr.masks[2],-Mt.width/2,-Mt.height/2),Cr.masks[2].clear(),Mt.pop()}function ic(f){f.registerMethod("afterSetup",()=>Cr.blend(!1,!0)),f.registerMethod("afterSetup",()=>Cr.blend(!1,!0,!0)),f.registerMethod("post",()=>Cr.blend(!1,!0)),f.registerMethod("post",()=>Cr.blend(!1,!0,!0))}typeof p5<"u"&&ic(p5.prototype);function ih(f){js=!0,hi=f,Mt=f,ic(f)}function hs(f,w){fr.list.set(f,{gen:w}),fr.current=f,fr.refresh()}const fr={isActive:!1,list:new Map,current:"",step_length(){return Math.min(Mt.width,Mt.height)/1e3},create(){this.R=Mt.width*.01,this.left_x=-1*Mt.width,this.top_y=-1*Mt.height,this.num_columns=Math.round(2*Mt.width/this.R),this.num_rows=Math.round(2*Mt.height/this.R),this.addStandard()},flow_field(){return this.list.get(this.current).field},refresh(f=0){this.list.get(this.current).field=this.list.get(this.current).gen(f,this.genField())},genField(){let f=new Array(this.num_columns);for(let w=0;w<this.num_columns;w++)f[w]=new Float64Array(this.num_rows);return f},addStandard(){hs("curved",function(f,w){let T=Tt.randInt(-25,-15);Tt.randInt(0,100)%2==0&&(T=T*-1);for(let t=0;t<fr.num_columns;t++)for(let S=0;S<fr.num_rows;S++){let b=Mt.noise(t*.02+f*.03,S*.02+f*.03),o=Tt.map(b,0,1,-T,T);w[t][S]=3*o}return w}),hs("truncated",function(f,w){let T=Tt.randInt(-25,-15)+5*Tt.sin(f);Tt.randInt(0,100)%2==0&&(T=T*-1);let t=Tt.randInt(5,10);for(let S=0;S<fr.num_columns;S++)for(let b=0;b<fr.num_rows;b++){let o=Mt.noise(S*.02,b*.02),d=Math.round(Tt.map(o,0,1,-T,T)/t)*t;w[S][b]=4*d}return w}),hs("zigzag",function(f,w){let T=Tt.randInt(-30,-15)+Math.abs(44*Tt.sin(f));Tt.randInt(0,100)%2==0&&(T=T*-1);let t=T,S=0;for(let b=0;b<fr.num_columns;b++){for(let o=0;o<fr.num_rows;o++)w[b][o]=S,S=S+t,t=-1*t;S=S+t,t=-1*t}return w}),hs("waves",function(f,w){let T=Tt.randInt(10,15)+5*Tt.sin(f),t=Tt.randInt(3,6)+3*Tt.cos(f),S=Tt.randInt(20,35);for(let b=0;b<fr.num_columns;b++)for(let o=0;o<fr.num_rows;o++){let d=Tt.sin(T*b)*(S*Tt.cos(o*t))+Tt.randInt(-3,3);w[b][o]=d}return w}),hs("seabed",function(f,w){let T=Tt.random(.4,.8),t=Tt.randInt(18,26);for(let S=0;S<fr.num_columns;S++)for(let b=0;b<fr.num_rows;b++){let o=Tt.randInt(15,20),d=t*Tt.sin(T*b*S+o);w[S][b]=1.1*d*Tt.cos(f)}return w})}};class ah{constructor(w,T){this.update(w,T),this.plotted=0}update(w,T){this.x=w,this.y=T,fr.isActive&&(this.x_offset=this.x-fr.left_x+Vr.trans()[0],this.y_offset=this.y-fr.top_y+Vr.trans()[1],this.column_index=Math.round(this.x_offset/fr.R),this.row_index=Math.round(this.y_offset/fr.R))}reset(){this.plotted=0}isIn(){return fr.isActive?this.column_index>=0&&this.row_index>=0&&this.column_index<fr.num_columns&&this.row_index<fr.num_rows:this.isInCanvas()}isInCanvas(){let w=Mt.width,T=Mt.height;return this.x>=-w-Vr.trans()[0]&&this.x<=w-Vr.trans()[0]&&this.y>=-T-Vr.trans()[1]&&this.y<=T-Vr.trans()[1]}angle(){return this.isIn()&&fr.isActive?fr.flow_field()[this.column_index][this.row_index]:0}moveTo(w,T,t=Kt.spacing(),S=!0){if(this.isIn()){let b,o;S||(b=Tt.cos(-T),o=Tt.sin(-T));for(let d=0;d<w/t;d++){if(S){let y=this.angle();b=Tt.cos(y-T),o=Tt.sin(y-T)}let s=t*b,p=t*o;this.plotted+=t,this.update(this.x+s,this.y+p)}}else this.plotted+=t}plotTo(w,T,t,S){if(this.isIn()){const b=1/S;for(let o=0;o<T/t;o++){let d=this.angle(),s=w.angle(this.plotted),p=t*Tt.cos(d-s),y=t*Tt.sin(d-s);this.plotted+=t*b,this.update(this.x+p,this.y+y)}}else this.plotted+=t/sh}}function lh(f){for(let w of lc){let T=Kt.list.get(w[0]).param;T.weight*=f,T.vibration*=f,T.spacing*=f}ac=f}let ac=1;const Kt={isActive:!0,list:new Map,c:"#000000",w:1,cr:null,name:"HB",spacing(){return this.p=this.list.get(this.name).param,this.p.type==="default"||this.p.type==="spray"?this.p.spacing/this.w:this.p.spacing},initializeDrawingState(f,w,T,t,S){this.position=new ah(f,w),this.length=T,this.flow=t,this.plot=S,S&&S.calcIndex(0)},draw(f,w){w||(this.dir=f),this.pushState();const T=this.spacing(),t=Math.round(w?this.length*f/T:this.length/T);for(let S=0;S<t;S++)this.tip(),w?this.position.plotTo(this.plot,T,T,f):this.position.moveTo(T,f,T,this.flow);this.popState()},drawTip(f){this.pushState(!0),this.tip(f),this.popState(!0)},pushState(f=!1){if(this.p=this.list.get(this.name).param,!f){this.a=this.p.pressure.type!=="custom"?Tt.random(-1,1):0,this.b=this.p.pressure.type!=="custom"?Tt.random(1,1.5):0,this.cp=this.p.pressure.type!=="custom"?Tt.random(3,3.5):Tt.random(-.2,.2);const[w,T]=this.p.pressure.min_max;this.min=w,this.max=T}this.c=Mt.color(this.c),this.mask=this.p.blend?this.p.type==="image"?Cr.masks[1]:Cr.masks[0]:Cr.masks[2],Vr.trans(),this.mask.push(),this.mask.noStroke(),this.p.type==="image"?this.mask.translate(Vr.translation[0],Vr.translation[1]):this.mask.translate(Vr.translation[0]+Mt.width/2,Vr.translation[1]+Mt.height/2),this.mask.rotate(-0),this.mask.scale(sc),this.p.blend&&(Cr.watercolor=!1,this.p.type!=="image"?Cr.blend(this.c):Cr.blend(this.c,!1,!0),f||this.markerTip()),this.alpha=this.calculateAlpha(),this.applyColor(this.alpha)},popState(f=!1){this.p.blend&&!f&&this.markerTip(),this.mask.pop()},tip(f=!1){let w=f||this.calculatePressure();if(this.isInsideClippingArea())switch(this.p.type){case"spray":this.drawSpray(w);break;case"marker":this.drawMarker(w);break;case"custom":case"image":this.drawCustomOrImage(w,this.alpha);break;default:this.drawDefault(w);break}},calculatePressure(){return this.plot?this.simPressure()*this.plot.pressure(this.position.plotted):this.simPressure()},simPressure(){return this.p.pressure.type==="custom"?Tt.map(this.p.pressure.curve(this.position.plotted/this.length)+this.cp,0,1,this.min,this.max,!0):this.gauss()},gauss(f=.5+Kt.p.pressure.curve[0]*Kt.a,w=1-Kt.p.pressure.curve[1]*Kt.b,T=Kt.cp,t=Kt.min,S=Kt.max){return Tt.map(1/(1+Math.pow(Math.abs((this.position.plotted-f*this.length)/(w*this.length/2)),2*T)),0,1,t,S)},calculateAlpha(){return this.p.type!=="default"&&this.p.type!=="spray"?this.p.opacity/this.w:this.p.opacity},applyColor(f){this.p.blend?this.mask.fill(255,0,0,f/2):(this.c.setAlpha(f),this.mask.fill(this.c))},isInsideClippingArea(){if(Kt.cr)return this.position.x>=Kt.cr[0]&&this.position.x<=Kt.cr[2]&&this.position.y>=Kt.cr[1]&&this.position.y<=Kt.cr[3];{let f=.55*Mt.width,w=.55*Mt.height;return this.position.x>=-f-Vr.trans()[0]&&this.position.x<=f-Vr.trans()[0]&&this.position.y>=-w-Vr.trans()[1]&&this.position.y<=w-Vr.trans()[1]}},drawSpray(f){let w=this.w*this.p.vibration*f+this.w*Tt.gaussian()*this.p.vibration/3,T=this.p.weight*Tt.random(.9,1.1);const t=this.p.quality/f;for(let S=0;S<t;S++){let b=Tt.random(.9,1.1),o=b*w*Tt.random(-1,1),d=Tt.random(-1,1),s=Math.pow(b*w,2),p=Math.sqrt(s-Math.pow(o,2));this.mask.circle(this.position.x+o,this.position.y+d*p,T)}},drawMarker(f,w=!0){let T=w?this.w*this.p.vibration:0,t=w?T*Tt.random(-1,1):0,S=w?T*Tt.random(-1,1):0;this.mask.circle(this.position.x+t,this.position.y+S,this.w*this.p.weight*f)},drawCustomOrImage(f,w,T=!0){this.mask.push();let t=T?this.w*this.p.vibration:0,S=T?t*Tt.random(-1,1):0,b=T?t*Tt.random(-1,1):0;this.mask.translate(this.position.x+S,this.position.y+b),this.adjustSizeAndRotation(this.w*f,w),this.p.tip(this.mask),this.mask.pop()},drawDefault(f){let w=this.w*this.p.vibration*(this.p.definition+(1-this.p.definition)*Tt.gaussian()*this.gauss(.5,.9,5,.2,1.2)/f);Tt.random(0,this.p.quality*f)>.4&&this.mask.circle(this.position.x+.7*w*Tt.random(-1,1),this.position.y+w*Tt.random(-1,1),f*this.p.weight*Tt.random(.85,1.15))},adjustSizeAndRotation(f,w){if(this.mask.scale(f),this.p.type==="image"&&(this.p.blend?this.mask.tint(255,0,0,w/2):this.mask.tint(this.mask.red(this.c),this.mask.green(this.c),this.mask.blue(this.c),w)),this.p.rotate==="random")this.mask.rotate(Tt.randInt(0,360));else if(this.p.rotate==="natural"){let T=(this.plot?-this.plot.angle(this.position.plotted):-this.dir)+(this.flow?this.position.angle():0);this.mask.rotate(T)}},markerTip(){if(this.isInsideClippingArea()){let f=this.calculatePressure(),w=this.calculateAlpha(f);if(this.mask.fill(255,0,0,w/1.5),Kt.p.type==="marker")for(let T=1;T<5;T++)this.drawMarker(f*T/5,!1);else if(Kt.p.type==="custom"||Kt.p.type==="image")for(let T=1;T<5;T++)this.drawCustomOrImage(f*T/5,w,!1)}}};function uh(f,w){const T=w.type==="marker"||w.type==="custom"||w.type==="image";!T&&w.type!=="spray"&&(w.type="default"),w.type==="image"&&(xa.add(w.image.src),w.tip=()=>Kt.mask.image(xa.tips.get(Kt.p.image.src),-Kt.p.weight/2,-Kt.p.weight/2,Kt.p.weight,Kt.p.weight)),w.blend=!!(T&&w.blend!==!1||w.blend),Kt.list.set(f,{param:w,colors:[],buffers:[]})}function Dl(f){Kt.name=f}function Nl(f,w,T){arguments.length>0&&(Kt.c=arguments.length<2?f:[f,w,T]),Kt.isActive=!0}function Fl(f){Kt.w=f}function Bl(f,w,T,t){oc();let S=Tt.dist(f,w,T,t);if(S==0)return;Kt.initializeDrawingState(f,w,S,!1,!1);let b=oh(f,w,T,t);Kt.draw(b,!1)}const xa={tips:new Map,add(f){this.tips.set(f,!1)},imageToWhite(f){f.loadPixels();for(let w=0;w<4*f.width*f.height;w+=4){let T=(f.pixels[w]+f.pixels[w+1]+f.pixels[w+2])/3;f.pixels[w]=f.pixels[w+1]=f.pixels[w+2]=255,f.pixels[w+3]=255-T}f.updatePixels()},load(){for(let f of this.tips.keys()){let T=(js?hi:window.self).loadImage(f,()=>xa.imageToWhite(T));this.tips.set(f,T)}}},ch=["weight","vibration","definition","quality","opacity","spacing","pressure","type","tip","rotate"],lc=[["pen",[.35,.12,.5,8,200,.3,{curve:[.15,.2],min_max:[1.4,.9]}]],["rotring",[.2,.05,1,3,250,.15,{curve:[.05,.2],min_max:[1.7,.8]}]],["2B",[.35,.5,.1,8,180,.2,{curve:[.15,.2],min_max:[1.3,1]}]],["HB",[.3,.5,.4,4,180,.25,{curve:[.15,.2],min_max:[1.2,.9]}]],["2H",[.2,.4,.3,2,150,.2,{curve:[.15,.2],min_max:[1.2,.9]}]],["cpencil",[.4,.6,.8,7,120,.15,{curve:[.15,.2],min_max:[.95,1.2]}]],["charcoal",[.5,2,.8,300,110,.06,{curve:[.15,.2],min_max:[1.3,.8]}]],["hatch_brush",[.2,.4,.3,2,150,.15,{curve:[.5,.7],min_max:[1,1.5]}]],["spray",[.3,12,15,40,80,.65,{curve:[0,.1],min_max:[.15,1.2]},"spray"]],["marker",[2.5,.12,null,null,25,.4,{curve:[.35,.25],min_max:[1.5,1]},"marker"]],["marker2",[2.5,.12,null,null,25,.35,{curve:[.35,.25],min_max:[1.3,.95]},"custom",function(f){let w=ac;f.rect(-1.5*w,-1.5*w,3*w,3*w),f.rect(1*w,1*w,1*w,1*w)},"natural"]]];for(let f of lc){let w={};for(let T=0;T<f[1].length;T++)w[ch[T]]=f[1][T];uh(f[0],w)}var aa={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var Ul;function dh(){return Ul||(Ul=1,function(f,w){(function(T){f.exports=T()})(function(){return function T(t,S,b){function o(p,y){if(!S[p]){if(!t[p]){var m=typeof uo=="function"&&uo;if(!y&&m)return m(p,!0);if(d)return d(p,!0);var n=new Error("Cannot find module '"+p+"'");throw n.code="MODULE_NOT_FOUND",n}var r=S[p]={exports:{}};t[p][0].call(r.exports,function(c){var a=t[p][1][c];return o(a||c)},r,r.exports,T,t,S,b)}return S[p].exports}for(var d=typeof uo=="function"&&uo,s=0;s<b.length;s++)o(b[s]);return o}({1:[function(T,t,S){var b=T("./utils"),o=T("./support"),d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";S.encode=function(s){for(var p,y,m,n,r,c,a,h=[],u=0,l=s.length,g=l,v=b.getTypeOf(s)!=="string";u<s.length;)g=l-u,m=v?(p=s[u++],y=u<l?s[u++]:0,u<l?s[u++]:0):(p=s.charCodeAt(u++),y=u<l?s.charCodeAt(u++):0,u<l?s.charCodeAt(u++):0),n=p>>2,r=(3&p)<<4|y>>4,c=1<g?(15&y)<<2|m>>6:64,a=2<g?63&m:64,h.push(d.charAt(n)+d.charAt(r)+d.charAt(c)+d.charAt(a));return h.join("")},S.decode=function(s){var p,y,m,n,r,c,a=0,h=0,u="data:";if(s.substr(0,u.length)===u)throw new Error("Invalid base64 input, it looks like a data url.");var l,g=3*(s=s.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(s.charAt(s.length-1)===d.charAt(64)&&g--,s.charAt(s.length-2)===d.charAt(64)&&g--,g%1!=0)throw new Error("Invalid base64 input, bad content length.");for(l=o.uint8array?new Uint8Array(0|g):new Array(0|g);a<s.length;)p=d.indexOf(s.charAt(a++))<<2|(n=d.indexOf(s.charAt(a++)))>>4,y=(15&n)<<4|(r=d.indexOf(s.charAt(a++)))>>2,m=(3&r)<<6|(c=d.indexOf(s.charAt(a++))),l[h++]=p,r!==64&&(l[h++]=y),c!==64&&(l[h++]=m);return l}},{"./support":30,"./utils":32}],2:[function(T,t,S){var b=T("./external"),o=T("./stream/DataWorker"),d=T("./stream/Crc32Probe"),s=T("./stream/DataLengthProbe");function p(y,m,n,r,c){this.compressedSize=y,this.uncompressedSize=m,this.crc32=n,this.compression=r,this.compressedContent=c}p.prototype={getContentWorker:function(){var y=new o(b.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new s("data_length")),m=this;return y.on("end",function(){if(this.streamInfo.data_length!==m.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),y},getCompressedWorker:function(){return new o(b.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},p.createWorkerFrom=function(y,m,n){return y.pipe(new d).pipe(new s("uncompressedSize")).pipe(m.compressWorker(n)).pipe(new s("compressedSize")).withStreamInfo("compression",m)},t.exports=p},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(T,t,S){var b=T("./stream/GenericWorker");S.STORE={magic:"\0\0",compressWorker:function(){return new b("STORE compression")},uncompressWorker:function(){return new b("STORE decompression")}},S.DEFLATE=T("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(T,t,S){var b=T("./utils"),o=function(){for(var d,s=[],p=0;p<256;p++){d=p;for(var y=0;y<8;y++)d=1&d?3988292384^d>>>1:d>>>1;s[p]=d}return s}();t.exports=function(d,s){return d!==void 0&&d.length?b.getTypeOf(d)!=="string"?function(p,y,m,n){var r=o,c=n+m;p^=-1;for(var a=n;a<c;a++)p=p>>>8^r[255&(p^y[a])];return-1^p}(0|s,d,d.length,0):function(p,y,m,n){var r=o,c=n+m;p^=-1;for(var a=n;a<c;a++)p=p>>>8^r[255&(p^y.charCodeAt(a))];return-1^p}(0|s,d,d.length,0):0}},{"./utils":32}],5:[function(T,t,S){S.base64=!1,S.binary=!1,S.dir=!1,S.createFolders=!0,S.date=null,S.compression=null,S.compressionOptions=null,S.comment=null,S.unixPermissions=null,S.dosPermissions=null},{}],6:[function(T,t,S){var b=null;b=typeof Promise<"u"?Promise:T("lie"),t.exports={Promise:b}},{lie:37}],7:[function(T,t,S){var b=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=T("pako"),d=T("./utils"),s=T("./stream/GenericWorker"),p=b?"uint8array":"array";function y(m,n){s.call(this,"FlateWorker/"+m),this._pako=null,this._pakoAction=m,this._pakoOptions=n,this.meta={}}S.magic="\b\0",d.inherits(y,s),y.prototype.processChunk=function(m){this.meta=m.meta,this._pako===null&&this._createPako(),this._pako.push(d.transformTo(p,m.data),!1)},y.prototype.flush=function(){s.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},y.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this._pako=null},y.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var m=this;this._pako.onData=function(n){m.push({data:n,meta:m.meta})}},S.compressWorker=function(m){return new y("Deflate",m)},S.uncompressWorker=function(){return new y("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(T,t,S){function b(r,c){var a,h="";for(a=0;a<c;a++)h+=String.fromCharCode(255&r),r>>>=8;return h}function o(r,c,a,h,u,l){var g,v,x=r.file,k=r.compression,E=l!==p.utf8encode,j=d.transformTo("string",l(x.name)),C=d.transformTo("string",p.utf8encode(x.name)),L=x.comment,A=d.transformTo("string",l(L)),P=d.transformTo("string",p.utf8encode(L)),R=C.length!==x.name.length,I=P.length!==L.length,N="",z="",G="",W=x.dir,H=x.date,Z={crc32:0,compressedSize:0,uncompressedSize:0};c&&!a||(Z.crc32=r.crc32,Z.compressedSize=r.compressedSize,Z.uncompressedSize=r.uncompressedSize);var Y=0;c&&(Y|=8),E||!R&&!I||(Y|=2048);var Q=0,M=0;W&&(Q|=16),u==="UNIX"?(M=798,Q|=function(V,X){var re=V;return V||(re=X?16893:33204),(65535&re)<<16}(x.unixPermissions,W)):(M=20,Q|=function(V){return 63&(V||0)}(x.dosPermissions)),g=H.getUTCHours(),g<<=6,g|=H.getUTCMinutes(),g<<=5,g|=H.getUTCSeconds()/2,v=H.getUTCFullYear()-1980,v<<=4,v|=H.getUTCMonth()+1,v<<=5,v|=H.getUTCDate(),R&&(z=b(1,1)+b(y(j),4)+C,N+="up"+b(z.length,2)+z),I&&(G=b(1,1)+b(y(A),4)+P,N+="uc"+b(G.length,2)+G);var B="";return B+=`
\0`,B+=b(Y,2),B+=k.magic,B+=b(g,2),B+=b(v,2),B+=b(Z.crc32,4),B+=b(Z.compressedSize,4),B+=b(Z.uncompressedSize,4),B+=b(j.length,2),B+=b(N.length,2),{fileRecord:m.LOCAL_FILE_HEADER+B+j+N,dirRecord:m.CENTRAL_FILE_HEADER+b(M,2)+B+b(A.length,2)+"\0\0\0\0"+b(Q,4)+b(h,4)+j+N+A}}var d=T("../utils"),s=T("../stream/GenericWorker"),p=T("../utf8"),y=T("../crc32"),m=T("../signature");function n(r,c,a,h){s.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=c,this.zipPlatform=a,this.encodeFileName=h,this.streamFiles=r,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}d.inherits(n,s),n.prototype.push=function(r){var c=r.meta.percent||0,a=this.entriesCount,h=this._sources.length;this.accumulate?this.contentBuffer.push(r):(this.bytesWritten+=r.data.length,s.prototype.push.call(this,{data:r.data,meta:{currentFile:this.currentFile,percent:a?(c+100*(a-h-1))/a:100}}))},n.prototype.openedSource=function(r){this.currentSourceOffset=this.bytesWritten,this.currentFile=r.file.name;var c=this.streamFiles&&!r.file.dir;if(c){var a=o(r,c,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:a.fileRecord,meta:{percent:0}})}else this.accumulate=!0},n.prototype.closedSource=function(r){this.accumulate=!1;var c=this.streamFiles&&!r.file.dir,a=o(r,c,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(a.dirRecord),c)this.push({data:function(h){return m.DATA_DESCRIPTOR+b(h.crc32,4)+b(h.compressedSize,4)+b(h.uncompressedSize,4)}(r),meta:{percent:100}});else for(this.push({data:a.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},n.prototype.flush=function(){for(var r=this.bytesWritten,c=0;c<this.dirRecords.length;c++)this.push({data:this.dirRecords[c],meta:{percent:100}});var a=this.bytesWritten-r,h=function(u,l,g,v,x){var k=d.transformTo("string",x(v));return m.CENTRAL_DIRECTORY_END+"\0\0\0\0"+b(u,2)+b(u,2)+b(l,4)+b(g,4)+b(k.length,2)+k}(this.dirRecords.length,a,r,this.zipComment,this.encodeFileName);this.push({data:h,meta:{percent:100}})},n.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},n.prototype.registerPrevious=function(r){this._sources.push(r);var c=this;return r.on("data",function(a){c.processChunk(a)}),r.on("end",function(){c.closedSource(c.previous.streamInfo),c._sources.length?c.prepareNextSource():c.end()}),r.on("error",function(a){c.error(a)}),this},n.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},n.prototype.error=function(r){var c=this._sources;if(!s.prototype.error.call(this,r))return!1;for(var a=0;a<c.length;a++)try{c[a].error(r)}catch{}return!0},n.prototype.lock=function(){s.prototype.lock.call(this);for(var r=this._sources,c=0;c<r.length;c++)r[c].lock()},t.exports=n},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(T,t,S){var b=T("../compressions"),o=T("./ZipFileWorker");S.generateWorker=function(d,s,p){var y=new o(s.streamFiles,p,s.platform,s.encodeFileName),m=0;try{d.forEach(function(n,r){m++;var c=function(l,g){var v=l||g,x=b[v];if(!x)throw new Error(v+" is not a valid compression method !");return x}(r.options.compression,s.compression),a=r.options.compressionOptions||s.compressionOptions||{},h=r.dir,u=r.date;r._compressWorker(c,a).withStreamInfo("file",{name:n,dir:h,date:u,comment:r.comment||"",unixPermissions:r.unixPermissions,dosPermissions:r.dosPermissions}).pipe(y)}),y.entriesCount=m}catch(n){y.error(n)}return y}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(T,t,S){function b(){if(!(this instanceof b))return new b;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new b;for(var d in this)typeof this[d]!="function"&&(o[d]=this[d]);return o}}(b.prototype=T("./object")).loadAsync=T("./load"),b.support=T("./support"),b.defaults=T("./defaults"),b.version="3.10.1",b.loadAsync=function(o,d){return new b().loadAsync(o,d)},b.external=T("./external"),t.exports=b},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(T,t,S){var b=T("./utils"),o=T("./external"),d=T("./utf8"),s=T("./zipEntries"),p=T("./stream/Crc32Probe"),y=T("./nodejsUtils");function m(n){return new o.Promise(function(r,c){var a=n.decompressed.getContentWorker().pipe(new p);a.on("error",function(h){c(h)}).on("end",function(){a.streamInfo.crc32!==n.decompressed.crc32?c(new Error("Corrupted zip : CRC32 mismatch")):r()}).resume()})}t.exports=function(n,r){var c=this;return r=b.extend(r||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:d.utf8decode}),y.isNode&&y.isStream(n)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):b.prepareContent("the loaded zip file",n,!0,r.optimizedBinaryString,r.base64).then(function(a){var h=new s(r);return h.load(a),h}).then(function(a){var h=[o.Promise.resolve(a)],u=a.files;if(r.checkCRC32)for(var l=0;l<u.length;l++)h.push(m(u[l]));return o.Promise.all(h)}).then(function(a){for(var h=a.shift(),u=h.files,l=0;l<u.length;l++){var g=u[l],v=g.fileNameStr,x=b.resolve(g.fileNameStr);c.file(x,g.decompressed,{binary:!0,optimizedBinaryString:!0,date:g.date,dir:g.dir,comment:g.fileCommentStr.length?g.fileCommentStr:null,unixPermissions:g.unixPermissions,dosPermissions:g.dosPermissions,createFolders:r.createFolders}),g.dir||(c.file(x).unsafeOriginalName=v)}return h.zipComment.length&&(c.comment=h.zipComment),c})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(T,t,S){var b=T("../utils"),o=T("../stream/GenericWorker");function d(s,p){o.call(this,"Nodejs stream input adapter for "+s),this._upstreamEnded=!1,this._bindStream(p)}b.inherits(d,o),d.prototype._bindStream=function(s){var p=this;(this._stream=s).pause(),s.on("data",function(y){p.push({data:y,meta:{percent:0}})}).on("error",function(y){p.isPaused?this.generatedError=y:p.error(y)}).on("end",function(){p.isPaused?p._upstreamEnded=!0:p.end()})},d.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},d.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=d},{"../stream/GenericWorker":28,"../utils":32}],13:[function(T,t,S){var b=T("readable-stream").Readable;function o(d,s,p){b.call(this,s),this._helper=d;var y=this;d.on("data",function(m,n){y.push(m)||y._helper.pause(),p&&p(n)}).on("error",function(m){y.emit("error",m)}).on("end",function(){y.push(null)})}T("../utils").inherits(o,b),o.prototype._read=function(){this._helper.resume()},t.exports=o},{"../utils":32,"readable-stream":16}],14:[function(T,t,S){t.exports={isNode:typeof Buffer<"u",newBufferFrom:function(b,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(b,o);if(typeof b=="number")throw new Error('The "data" argument must not be a number');return new Buffer(b,o)},allocBuffer:function(b){if(Buffer.alloc)return Buffer.alloc(b);var o=new Buffer(b);return o.fill(0),o},isBuffer:function(b){return Buffer.isBuffer(b)},isStream:function(b){return b&&typeof b.on=="function"&&typeof b.pause=="function"&&typeof b.resume=="function"}}},{}],15:[function(T,t,S){function b(x,k,E){var j,C=d.getTypeOf(k),L=d.extend(E||{},y);L.date=L.date||new Date,L.compression!==null&&(L.compression=L.compression.toUpperCase()),typeof L.unixPermissions=="string"&&(L.unixPermissions=parseInt(L.unixPermissions,8)),L.unixPermissions&&16384&L.unixPermissions&&(L.dir=!0),L.dosPermissions&&16&L.dosPermissions&&(L.dir=!0),L.dir&&(x=u(x)),L.createFolders&&(j=h(x))&&l.call(this,j,!0);var A=C==="string"&&L.binary===!1&&L.base64===!1;E&&E.binary!==void 0||(L.binary=!A),(k instanceof m&&k.uncompressedSize===0||L.dir||!k||k.length===0)&&(L.base64=!1,L.binary=!0,k="",L.compression="STORE",C="string");var P=null;P=k instanceof m||k instanceof s?k:c.isNode&&c.isStream(k)?new a(x,k):d.prepareContent(x,k,L.binary,L.optimizedBinaryString,L.base64);var R=new n(x,P,L);this.files[x]=R}var o=T("./utf8"),d=T("./utils"),s=T("./stream/GenericWorker"),p=T("./stream/StreamHelper"),y=T("./defaults"),m=T("./compressedObject"),n=T("./zipObject"),r=T("./generate"),c=T("./nodejsUtils"),a=T("./nodejs/NodejsStreamInputAdapter"),h=function(x){x.slice(-1)==="/"&&(x=x.substring(0,x.length-1));var k=x.lastIndexOf("/");return 0<k?x.substring(0,k):""},u=function(x){return x.slice(-1)!=="/"&&(x+="/"),x},l=function(x,k){return k=k!==void 0?k:y.createFolders,x=u(x),this.files[x]||b.call(this,x,null,{dir:!0,createFolders:k}),this.files[x]};function g(x){return Object.prototype.toString.call(x)==="[object RegExp]"}var v={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(x){var k,E,j;for(k in this.files)j=this.files[k],(E=k.slice(this.root.length,k.length))&&k.slice(0,this.root.length)===this.root&&x(E,j)},filter:function(x){var k=[];return this.forEach(function(E,j){x(E,j)&&k.push(j)}),k},file:function(x,k,E){if(arguments.length!==1)return x=this.root+x,b.call(this,x,k,E),this;if(g(x)){var j=x;return this.filter(function(L,A){return!A.dir&&j.test(L)})}var C=this.files[this.root+x];return C&&!C.dir?C:null},folder:function(x){if(!x)return this;if(g(x))return this.filter(function(C,L){return L.dir&&x.test(C)});var k=this.root+x,E=l.call(this,k),j=this.clone();return j.root=E.name,j},remove:function(x){x=this.root+x;var k=this.files[x];if(k||(x.slice(-1)!=="/"&&(x+="/"),k=this.files[x]),k&&!k.dir)delete this.files[x];else for(var E=this.filter(function(C,L){return L.name.slice(0,x.length)===x}),j=0;j<E.length;j++)delete this.files[E[j].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(x){var k,E={};try{if((E=d.extend(x||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=E.type.toLowerCase(),E.compression=E.compression.toUpperCase(),E.type==="binarystring"&&(E.type="string"),!E.type)throw new Error("No output type specified.");d.checkSupport(E.type),E.platform!=="darwin"&&E.platform!=="freebsd"&&E.platform!=="linux"&&E.platform!=="sunos"||(E.platform="UNIX"),E.platform==="win32"&&(E.platform="DOS");var j=E.comment||this.comment||"";k=r.generateWorker(this,E,j)}catch(C){(k=new s("error")).error(C)}return new p(k,E.type||"string",E.mimeType)},generateAsync:function(x,k){return this.generateInternalStream(x).accumulate(k)},generateNodeStream:function(x,k){return(x=x||{}).type||(x.type="nodebuffer"),this.generateInternalStream(x).toNodejsStream(k)}};t.exports=v},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(T,t,S){t.exports=T("stream")},{stream:void 0}],17:[function(T,t,S){var b=T("./DataReader");function o(d){b.call(this,d);for(var s=0;s<this.data.length;s++)d[s]=255&d[s]}T("../utils").inherits(o,b),o.prototype.byteAt=function(d){return this.data[this.zero+d]},o.prototype.lastIndexOfSignature=function(d){for(var s=d.charCodeAt(0),p=d.charCodeAt(1),y=d.charCodeAt(2),m=d.charCodeAt(3),n=this.length-4;0<=n;--n)if(this.data[n]===s&&this.data[n+1]===p&&this.data[n+2]===y&&this.data[n+3]===m)return n-this.zero;return-1},o.prototype.readAndCheckSignature=function(d){var s=d.charCodeAt(0),p=d.charCodeAt(1),y=d.charCodeAt(2),m=d.charCodeAt(3),n=this.readData(4);return s===n[0]&&p===n[1]&&y===n[2]&&m===n[3]},o.prototype.readData=function(d){if(this.checkOffset(d),d===0)return[];var s=this.data.slice(this.zero+this.index,this.zero+this.index+d);return this.index+=d,s},t.exports=o},{"../utils":32,"./DataReader":18}],18:[function(T,t,S){var b=T("../utils");function o(d){this.data=d,this.length=d.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(d){this.checkIndex(this.index+d)},checkIndex:function(d){if(this.length<this.zero+d||d<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+d+"). Corrupted zip ?")},setIndex:function(d){this.checkIndex(d),this.index=d},skip:function(d){this.setIndex(this.index+d)},byteAt:function(){},readInt:function(d){var s,p=0;for(this.checkOffset(d),s=this.index+d-1;s>=this.index;s--)p=(p<<8)+this.byteAt(s);return this.index+=d,p},readString:function(d){return b.transformTo("string",this.readData(d))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var d=this.readInt(4);return new Date(Date.UTC(1980+(d>>25&127),(d>>21&15)-1,d>>16&31,d>>11&31,d>>5&63,(31&d)<<1))}},t.exports=o},{"../utils":32}],19:[function(T,t,S){var b=T("./Uint8ArrayReader");function o(d){b.call(this,d)}T("../utils").inherits(o,b),o.prototype.readData=function(d){this.checkOffset(d);var s=this.data.slice(this.zero+this.index,this.zero+this.index+d);return this.index+=d,s},t.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(T,t,S){var b=T("./DataReader");function o(d){b.call(this,d)}T("../utils").inherits(o,b),o.prototype.byteAt=function(d){return this.data.charCodeAt(this.zero+d)},o.prototype.lastIndexOfSignature=function(d){return this.data.lastIndexOf(d)-this.zero},o.prototype.readAndCheckSignature=function(d){return d===this.readData(4)},o.prototype.readData=function(d){this.checkOffset(d);var s=this.data.slice(this.zero+this.index,this.zero+this.index+d);return this.index+=d,s},t.exports=o},{"../utils":32,"./DataReader":18}],21:[function(T,t,S){var b=T("./ArrayReader");function o(d){b.call(this,d)}T("../utils").inherits(o,b),o.prototype.readData=function(d){if(this.checkOffset(d),d===0)return new Uint8Array(0);var s=this.data.subarray(this.zero+this.index,this.zero+this.index+d);return this.index+=d,s},t.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(T,t,S){var b=T("../utils"),o=T("../support"),d=T("./ArrayReader"),s=T("./StringReader"),p=T("./NodeBufferReader"),y=T("./Uint8ArrayReader");t.exports=function(m){var n=b.getTypeOf(m);return b.checkSupport(n),n!=="string"||o.uint8array?n==="nodebuffer"?new p(m):o.uint8array?new y(b.transformTo("uint8array",m)):new d(b.transformTo("array",m)):new s(m)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(T,t,S){S.LOCAL_FILE_HEADER="PK",S.CENTRAL_FILE_HEADER="PK",S.CENTRAL_DIRECTORY_END="PK",S.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",S.ZIP64_CENTRAL_DIRECTORY_END="PK",S.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(T,t,S){var b=T("./GenericWorker"),o=T("../utils");function d(s){b.call(this,"ConvertWorker to "+s),this.destType=s}o.inherits(d,b),d.prototype.processChunk=function(s){this.push({data:o.transformTo(this.destType,s.data),meta:s.meta})},t.exports=d},{"../utils":32,"./GenericWorker":28}],25:[function(T,t,S){var b=T("./GenericWorker"),o=T("../crc32");function d(){b.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}T("../utils").inherits(d,b),d.prototype.processChunk=function(s){this.streamInfo.crc32=o(s.data,this.streamInfo.crc32||0),this.push(s)},t.exports=d},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(T,t,S){var b=T("../utils"),o=T("./GenericWorker");function d(s){o.call(this,"DataLengthProbe for "+s),this.propName=s,this.withStreamInfo(s,0)}b.inherits(d,o),d.prototype.processChunk=function(s){if(s){var p=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=p+s.data.length}o.prototype.processChunk.call(this,s)},t.exports=d},{"../utils":32,"./GenericWorker":28}],27:[function(T,t,S){var b=T("../utils"),o=T("./GenericWorker");function d(s){o.call(this,"DataWorker");var p=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,s.then(function(y){p.dataIsReady=!0,p.data=y,p.max=y&&y.length||0,p.type=b.getTypeOf(y),p.isPaused||p._tickAndRepeat()},function(y){p.error(y)})}b.inherits(d,o),d.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},d.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,b.delay(this._tickAndRepeat,[],this)),!0)},d.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(b.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},d.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var s=null,p=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":s=this.data.substring(this.index,p);break;case"uint8array":s=this.data.subarray(this.index,p);break;case"array":case"nodebuffer":s=this.data.slice(this.index,p)}return this.index=p,this.push({data:s,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=d},{"../utils":32,"./GenericWorker":28}],28:[function(T,t,S){function b(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}b.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,d){return this._listeners[o].push(d),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,d){if(this._listeners[o])for(var s=0;s<this._listeners[o].length;s++)this._listeners[o][s].call(this,d)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var d=this;return o.on("data",function(s){d.processChunk(s)}),o.on("end",function(){d.end()}),o.on("error",function(s){d.error(s)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,d){return this.extraStreamInfo[o]=d,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},t.exports=b},{}],29:[function(T,t,S){var b=T("../utils"),o=T("./ConvertWorker"),d=T("./GenericWorker"),s=T("../base64"),p=T("../support"),y=T("../external"),m=null;if(p.nodestream)try{m=T("../nodejs/NodejsStreamOutputAdapter")}catch{}function n(c,a){return new y.Promise(function(h,u){var l=[],g=c._internalType,v=c._outputType,x=c._mimeType;c.on("data",function(k,E){l.push(k),a&&a(E)}).on("error",function(k){l=[],u(k)}).on("end",function(){try{var k=function(E,j,C){switch(E){case"blob":return b.newBlob(b.transformTo("arraybuffer",j),C);case"base64":return s.encode(j);default:return b.transformTo(E,j)}}(v,function(E,j){var C,L=0,A=null,P=0;for(C=0;C<j.length;C++)P+=j[C].length;switch(E){case"string":return j.join("");case"array":return Array.prototype.concat.apply([],j);case"uint8array":for(A=new Uint8Array(P),C=0;C<j.length;C++)A.set(j[C],L),L+=j[C].length;return A;case"nodebuffer":return Buffer.concat(j);default:throw new Error("concat : unsupported type '"+E+"'")}}(g,l),x);h(k)}catch(E){u(E)}l=[]}).resume()})}function r(c,a,h){var u=a;switch(a){case"blob":case"arraybuffer":u="uint8array";break;case"base64":u="string"}try{this._internalType=u,this._outputType=a,this._mimeType=h,b.checkSupport(u),this._worker=c.pipe(new o(u)),c.lock()}catch(l){this._worker=new d("error"),this._worker.error(l)}}r.prototype={accumulate:function(c){return n(this,c)},on:function(c,a){var h=this;return c==="data"?this._worker.on(c,function(u){a.call(h,u.data,u.meta)}):this._worker.on(c,function(){b.delay(a,arguments,h)}),this},resume:function(){return b.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(c){if(b.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new m(this,{objectMode:this._outputType!=="nodebuffer"},c)}},t.exports=r},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(T,t,S){if(S.base64=!0,S.array=!0,S.string=!0,S.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",S.nodebuffer=typeof Buffer<"u",S.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")S.blob=!1;else{var b=new ArrayBuffer(0);try{S.blob=new Blob([b],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(b),S.blob=o.getBlob("application/zip").size===0}catch{S.blob=!1}}}try{S.nodestream=!!T("readable-stream").Readable}catch{S.nodestream=!1}},{"readable-stream":16}],31:[function(T,t,S){for(var b=T("./utils"),o=T("./support"),d=T("./nodejsUtils"),s=T("./stream/GenericWorker"),p=new Array(256),y=0;y<256;y++)p[y]=252<=y?6:248<=y?5:240<=y?4:224<=y?3:192<=y?2:1;p[254]=p[254]=1;function m(){s.call(this,"utf-8 decode"),this.leftOver=null}function n(){s.call(this,"utf-8 encode")}S.utf8encode=function(r){return o.nodebuffer?d.newBufferFrom(r,"utf-8"):function(c){var a,h,u,l,g,v=c.length,x=0;for(l=0;l<v;l++)(64512&(h=c.charCodeAt(l)))==55296&&l+1<v&&(64512&(u=c.charCodeAt(l+1)))==56320&&(h=65536+(h-55296<<10)+(u-56320),l++),x+=h<128?1:h<2048?2:h<65536?3:4;for(a=o.uint8array?new Uint8Array(x):new Array(x),l=g=0;g<x;l++)(64512&(h=c.charCodeAt(l)))==55296&&l+1<v&&(64512&(u=c.charCodeAt(l+1)))==56320&&(h=65536+(h-55296<<10)+(u-56320),l++),h<128?a[g++]=h:(h<2048?a[g++]=192|h>>>6:(h<65536?a[g++]=224|h>>>12:(a[g++]=240|h>>>18,a[g++]=128|h>>>12&63),a[g++]=128|h>>>6&63),a[g++]=128|63&h);return a}(r)},S.utf8decode=function(r){return o.nodebuffer?b.transformTo("nodebuffer",r).toString("utf-8"):function(c){var a,h,u,l,g=c.length,v=new Array(2*g);for(a=h=0;a<g;)if((u=c[a++])<128)v[h++]=u;else if(4<(l=p[u]))v[h++]=65533,a+=l-1;else{for(u&=l===2?31:l===3?15:7;1<l&&a<g;)u=u<<6|63&c[a++],l--;1<l?v[h++]=65533:u<65536?v[h++]=u:(u-=65536,v[h++]=55296|u>>10&1023,v[h++]=56320|1023&u)}return v.length!==h&&(v.subarray?v=v.subarray(0,h):v.length=h),b.applyFromCharCode(v)}(r=b.transformTo(o.uint8array?"uint8array":"array",r))},b.inherits(m,s),m.prototype.processChunk=function(r){var c=b.transformTo(o.uint8array?"uint8array":"array",r.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var a=c;(c=new Uint8Array(a.length+this.leftOver.length)).set(this.leftOver,0),c.set(a,this.leftOver.length)}else c=this.leftOver.concat(c);this.leftOver=null}var h=function(l,g){var v;for((g=g||l.length)>l.length&&(g=l.length),v=g-1;0<=v&&(192&l[v])==128;)v--;return v<0||v===0?g:v+p[l[v]]>g?v:g}(c),u=c;h!==c.length&&(o.uint8array?(u=c.subarray(0,h),this.leftOver=c.subarray(h,c.length)):(u=c.slice(0,h),this.leftOver=c.slice(h,c.length))),this.push({data:S.utf8decode(u),meta:r.meta})},m.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:S.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},S.Utf8DecodeWorker=m,b.inherits(n,s),n.prototype.processChunk=function(r){this.push({data:S.utf8encode(r.data),meta:r.meta})},S.Utf8EncodeWorker=n},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(T,t,S){var b=T("./support"),o=T("./base64"),d=T("./nodejsUtils"),s=T("./external");function p(a){return a}function y(a,h){for(var u=0;u<a.length;++u)h[u]=255&a.charCodeAt(u);return h}T("setimmediate"),S.newBlob=function(a,h){S.checkSupport("blob");try{return new Blob([a],{type:h})}catch{try{var u=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return u.append(a),u.getBlob(h)}catch{throw new Error("Bug : can't construct the Blob.")}}};var m={stringifyByChunk:function(a,h,u){var l=[],g=0,v=a.length;if(v<=u)return String.fromCharCode.apply(null,a);for(;g<v;)h==="array"||h==="nodebuffer"?l.push(String.fromCharCode.apply(null,a.slice(g,Math.min(g+u,v)))):l.push(String.fromCharCode.apply(null,a.subarray(g,Math.min(g+u,v)))),g+=u;return l.join("")},stringifyByChar:function(a){for(var h="",u=0;u<a.length;u++)h+=String.fromCharCode(a[u]);return h},applyCanBeUsed:{uint8array:function(){try{return b.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return b.nodebuffer&&String.fromCharCode.apply(null,d.allocBuffer(1)).length===1}catch{return!1}}()}};function n(a){var h=65536,u=S.getTypeOf(a),l=!0;if(u==="uint8array"?l=m.applyCanBeUsed.uint8array:u==="nodebuffer"&&(l=m.applyCanBeUsed.nodebuffer),l)for(;1<h;)try{return m.stringifyByChunk(a,u,h)}catch{h=Math.floor(h/2)}return m.stringifyByChar(a)}function r(a,h){for(var u=0;u<a.length;u++)h[u]=a[u];return h}S.applyFromCharCode=n;var c={};c.string={string:p,array:function(a){return y(a,new Array(a.length))},arraybuffer:function(a){return c.string.uint8array(a).buffer},uint8array:function(a){return y(a,new Uint8Array(a.length))},nodebuffer:function(a){return y(a,d.allocBuffer(a.length))}},c.array={string:n,array:p,arraybuffer:function(a){return new Uint8Array(a).buffer},uint8array:function(a){return new Uint8Array(a)},nodebuffer:function(a){return d.newBufferFrom(a)}},c.arraybuffer={string:function(a){return n(new Uint8Array(a))},array:function(a){return r(new Uint8Array(a),new Array(a.byteLength))},arraybuffer:p,uint8array:function(a){return new Uint8Array(a)},nodebuffer:function(a){return d.newBufferFrom(new Uint8Array(a))}},c.uint8array={string:n,array:function(a){return r(a,new Array(a.length))},arraybuffer:function(a){return a.buffer},uint8array:p,nodebuffer:function(a){return d.newBufferFrom(a)}},c.nodebuffer={string:n,array:function(a){return r(a,new Array(a.length))},arraybuffer:function(a){return c.nodebuffer.uint8array(a).buffer},uint8array:function(a){return r(a,new Uint8Array(a.length))},nodebuffer:p},S.transformTo=function(a,h){if(h=h||"",!a)return h;S.checkSupport(a);var u=S.getTypeOf(h);return c[u][a](h)},S.resolve=function(a){for(var h=a.split("/"),u=[],l=0;l<h.length;l++){var g=h[l];g==="."||g===""&&l!==0&&l!==h.length-1||(g===".."?u.pop():u.push(g))}return u.join("/")},S.getTypeOf=function(a){return typeof a=="string"?"string":Object.prototype.toString.call(a)==="[object Array]"?"array":b.nodebuffer&&d.isBuffer(a)?"nodebuffer":b.uint8array&&a instanceof Uint8Array?"uint8array":b.arraybuffer&&a instanceof ArrayBuffer?"arraybuffer":void 0},S.checkSupport=function(a){if(!b[a.toLowerCase()])throw new Error(a+" is not supported by this platform")},S.MAX_VALUE_16BITS=65535,S.MAX_VALUE_32BITS=-1,S.pretty=function(a){var h,u,l="";for(u=0;u<(a||"").length;u++)l+="\\x"+((h=a.charCodeAt(u))<16?"0":"")+h.toString(16).toUpperCase();return l},S.delay=function(a,h,u){setImmediate(function(){a.apply(u||null,h||[])})},S.inherits=function(a,h){function u(){}u.prototype=h.prototype,a.prototype=new u},S.extend=function(){var a,h,u={};for(a=0;a<arguments.length;a++)for(h in arguments[a])Object.prototype.hasOwnProperty.call(arguments[a],h)&&u[h]===void 0&&(u[h]=arguments[a][h]);return u},S.prepareContent=function(a,h,u,l,g){return s.Promise.resolve(h).then(function(v){return b.blob&&(v instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(v))!==-1)&&typeof FileReader<"u"?new s.Promise(function(x,k){var E=new FileReader;E.onload=function(j){x(j.target.result)},E.onerror=function(j){k(j.target.error)},E.readAsArrayBuffer(v)}):v}).then(function(v){var x=S.getTypeOf(v);return x?(x==="arraybuffer"?v=S.transformTo("uint8array",v):x==="string"&&(g?v=o.decode(v):u&&l!==!0&&(v=function(k){return y(k,b.uint8array?new Uint8Array(k.length):new Array(k.length))}(v))),v):s.Promise.reject(new Error("Can't read the data of '"+a+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(T,t,S){var b=T("./reader/readerFor"),o=T("./utils"),d=T("./signature"),s=T("./zipEntry"),p=T("./support");function y(m){this.files=[],this.loadOptions=m}y.prototype={checkSignature:function(m){if(!this.reader.readAndCheckSignature(m)){this.reader.index-=4;var n=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(n)+", expected "+o.pretty(m)+")")}},isSignature:function(m,n){var r=this.reader.index;this.reader.setIndex(m);var c=this.reader.readString(4)===n;return this.reader.setIndex(r),c},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var m=this.reader.readData(this.zipCommentLength),n=p.uint8array?"uint8array":"array",r=o.transformTo(n,m);this.zipComment=this.loadOptions.decodeFileName(r)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var m,n,r,c=this.zip64EndOfCentralSize-44;0<c;)m=this.reader.readInt(2),n=this.reader.readInt(4),r=this.reader.readData(n),this.zip64ExtensibleData[m]={id:m,length:n,value:r}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var m,n;for(m=0;m<this.files.length;m++)n=this.files[m],this.reader.setIndex(n.localHeaderOffset),this.checkSignature(d.LOCAL_FILE_HEADER),n.readLocalPart(this.reader),n.handleUTF8(),n.processAttributes()},readCentralDir:function(){var m;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(d.CENTRAL_FILE_HEADER);)(m=new s({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(m);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var m=this.reader.lastIndexOfSignature(d.CENTRAL_DIRECTORY_END);if(m<0)throw this.isSignature(0,d.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(m);var n=m;if(this.checkSignature(d.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(m=this.reader.lastIndexOfSignature(d.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(m),this.checkSignature(d.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,d.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(d.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(d.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var r=this.centralDirOffset+this.centralDirSize;this.zip64&&(r+=20,r+=12+this.zip64EndOfCentralSize);var c=n-r;if(0<c)this.isSignature(n,d.CENTRAL_FILE_HEADER)||(this.reader.zero=c);else if(c<0)throw new Error("Corrupted zip: missing "+Math.abs(c)+" bytes.")},prepareReader:function(m){this.reader=b(m)},load:function(m){this.prepareReader(m),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=y},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(T,t,S){var b=T("./reader/readerFor"),o=T("./utils"),d=T("./compressedObject"),s=T("./crc32"),p=T("./utf8"),y=T("./compressions"),m=T("./support");function n(r,c){this.options=r,this.loadOptions=c}n.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(r){var c,a;if(r.skip(22),this.fileNameLength=r.readInt(2),a=r.readInt(2),this.fileName=r.readData(this.fileNameLength),r.skip(a),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((c=function(h){for(var u in y)if(Object.prototype.hasOwnProperty.call(y,u)&&y[u].magic===h)return y[u];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new d(this.compressedSize,this.uncompressedSize,this.crc32,c,r.readData(this.compressedSize))},readCentralPart:function(r){this.versionMadeBy=r.readInt(2),r.skip(2),this.bitFlag=r.readInt(2),this.compressionMethod=r.readString(2),this.date=r.readDate(),this.crc32=r.readInt(4),this.compressedSize=r.readInt(4),this.uncompressedSize=r.readInt(4);var c=r.readInt(2);if(this.extraFieldsLength=r.readInt(2),this.fileCommentLength=r.readInt(2),this.diskNumberStart=r.readInt(2),this.internalFileAttributes=r.readInt(2),this.externalFileAttributes=r.readInt(4),this.localHeaderOffset=r.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");r.skip(c),this.readExtraFields(r),this.parseZIP64ExtraField(r),this.fileComment=r.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var r=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),r==0&&(this.dosPermissions=63&this.externalFileAttributes),r==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var r=b(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=r.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=r.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=r.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=r.readInt(4))}},readExtraFields:function(r){var c,a,h,u=r.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});r.index+4<u;)c=r.readInt(2),a=r.readInt(2),h=r.readData(a),this.extraFields[c]={id:c,length:a,value:h};r.setIndex(u)},handleUTF8:function(){var r=m.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=p.utf8decode(this.fileName),this.fileCommentStr=p.utf8decode(this.fileComment);else{var c=this.findExtraFieldUnicodePath();if(c!==null)this.fileNameStr=c;else{var a=o.transformTo(r,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(a)}var h=this.findExtraFieldUnicodeComment();if(h!==null)this.fileCommentStr=h;else{var u=o.transformTo(r,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(u)}}},findExtraFieldUnicodePath:function(){var r=this.extraFields[28789];if(r){var c=b(r.value);return c.readInt(1)!==1||s(this.fileName)!==c.readInt(4)?null:p.utf8decode(c.readData(r.length-5))}return null},findExtraFieldUnicodeComment:function(){var r=this.extraFields[25461];if(r){var c=b(r.value);return c.readInt(1)!==1||s(this.fileComment)!==c.readInt(4)?null:p.utf8decode(c.readData(r.length-5))}return null}},t.exports=n},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(T,t,S){function b(c,a,h){this.name=c,this.dir=h.dir,this.date=h.date,this.comment=h.comment,this.unixPermissions=h.unixPermissions,this.dosPermissions=h.dosPermissions,this._data=a,this._dataBinary=h.binary,this.options={compression:h.compression,compressionOptions:h.compressionOptions}}var o=T("./stream/StreamHelper"),d=T("./stream/DataWorker"),s=T("./utf8"),p=T("./compressedObject"),y=T("./stream/GenericWorker");b.prototype={internalStream:function(c){var a=null,h="string";try{if(!c)throw new Error("No output type specified.");var u=(h=c.toLowerCase())==="string"||h==="text";h!=="binarystring"&&h!=="text"||(h="string"),a=this._decompressWorker();var l=!this._dataBinary;l&&!u&&(a=a.pipe(new s.Utf8EncodeWorker)),!l&&u&&(a=a.pipe(new s.Utf8DecodeWorker))}catch(g){(a=new y("error")).error(g)}return new o(a,h,"")},async:function(c,a){return this.internalStream(c).accumulate(a)},nodeStream:function(c,a){return this.internalStream(c||"nodebuffer").toNodejsStream(a)},_compressWorker:function(c,a){if(this._data instanceof p&&this._data.compression.magic===c.magic)return this._data.getCompressedWorker();var h=this._decompressWorker();return this._dataBinary||(h=h.pipe(new s.Utf8EncodeWorker)),p.createWorkerFrom(h,c,a)},_decompressWorker:function(){return this._data instanceof p?this._data.getContentWorker():this._data instanceof y?this._data:new d(this._data)}};for(var m=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],n=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},r=0;r<m.length;r++)b.prototype[m[r]]=n;t.exports=b},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(T,t,S){(function(b){var o,d,s=b.MutationObserver||b.WebKitMutationObserver;if(s){var p=0,y=new s(c),m=b.document.createTextNode("");y.observe(m,{characterData:!0}),o=function(){m.data=p=++p%2}}else if(b.setImmediate||b.MessageChannel===void 0)o="document"in b&&"onreadystatechange"in b.document.createElement("script")?function(){var a=b.document.createElement("script");a.onreadystatechange=function(){c(),a.onreadystatechange=null,a.parentNode.removeChild(a),a=null},b.document.documentElement.appendChild(a)}:function(){setTimeout(c,0)};else{var n=new b.MessageChannel;n.port1.onmessage=c,o=function(){n.port2.postMessage(0)}}var r=[];function c(){var a,h;d=!0;for(var u=r.length;u;){for(h=r,r=[],a=-1;++a<u;)h[a]();u=r.length}d=!1}t.exports=function(a){r.push(a)!==1||d||o()}}).call(this,typeof lo<"u"?lo:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(T,t,S){var b=T("immediate");function o(){}var d={},s=["REJECTED"],p=["FULFILLED"],y=["PENDING"];function m(u){if(typeof u!="function")throw new TypeError("resolver must be a function");this.state=y,this.queue=[],this.outcome=void 0,u!==o&&a(this,u)}function n(u,l,g){this.promise=u,typeof l=="function"&&(this.onFulfilled=l,this.callFulfilled=this.otherCallFulfilled),typeof g=="function"&&(this.onRejected=g,this.callRejected=this.otherCallRejected)}function r(u,l,g){b(function(){var v;try{v=l(g)}catch(x){return d.reject(u,x)}v===u?d.reject(u,new TypeError("Cannot resolve promise with itself")):d.resolve(u,v)})}function c(u){var l=u&&u.then;if(u&&(typeof u=="object"||typeof u=="function")&&typeof l=="function")return function(){l.apply(u,arguments)}}function a(u,l){var g=!1;function v(E){g||(g=!0,d.reject(u,E))}function x(E){g||(g=!0,d.resolve(u,E))}var k=h(function(){l(x,v)});k.status==="error"&&v(k.value)}function h(u,l){var g={};try{g.value=u(l),g.status="success"}catch(v){g.status="error",g.value=v}return g}(t.exports=m).prototype.finally=function(u){if(typeof u!="function")return this;var l=this.constructor;return this.then(function(g){return l.resolve(u()).then(function(){return g})},function(g){return l.resolve(u()).then(function(){throw g})})},m.prototype.catch=function(u){return this.then(null,u)},m.prototype.then=function(u,l){if(typeof u!="function"&&this.state===p||typeof l!="function"&&this.state===s)return this;var g=new this.constructor(o);return this.state!==y?r(g,this.state===p?u:l,this.outcome):this.queue.push(new n(g,u,l)),g},n.prototype.callFulfilled=function(u){d.resolve(this.promise,u)},n.prototype.otherCallFulfilled=function(u){r(this.promise,this.onFulfilled,u)},n.prototype.callRejected=function(u){d.reject(this.promise,u)},n.prototype.otherCallRejected=function(u){r(this.promise,this.onRejected,u)},d.resolve=function(u,l){var g=h(c,l);if(g.status==="error")return d.reject(u,g.value);var v=g.value;if(v)a(u,v);else{u.state=p,u.outcome=l;for(var x=-1,k=u.queue.length;++x<k;)u.queue[x].callFulfilled(l)}return u},d.reject=function(u,l){u.state=s,u.outcome=l;for(var g=-1,v=u.queue.length;++g<v;)u.queue[g].callRejected(l);return u},m.resolve=function(u){return u instanceof this?u:d.resolve(new this(o),u)},m.reject=function(u){var l=new this(o);return d.reject(l,u)},m.all=function(u){var l=this;if(Object.prototype.toString.call(u)!=="[object Array]")return this.reject(new TypeError("must be an array"));var g=u.length,v=!1;if(!g)return this.resolve([]);for(var x=new Array(g),k=0,E=-1,j=new this(o);++E<g;)C(u[E],E);return j;function C(L,A){l.resolve(L).then(function(P){x[A]=P,++k!==g||v||(v=!0,d.resolve(j,x))},function(P){v||(v=!0,d.reject(j,P))})}},m.race=function(u){var l=this;if(Object.prototype.toString.call(u)!=="[object Array]")return this.reject(new TypeError("must be an array"));var g=u.length,v=!1;if(!g)return this.resolve([]);for(var x=-1,k=new this(o);++x<g;)E=u[x],l.resolve(E).then(function(j){v||(v=!0,d.resolve(k,j))},function(j){v||(v=!0,d.reject(k,j))});var E;return k}},{immediate:36}],38:[function(T,t,S){var b={};(0,T("./lib/utils/common").assign)(b,T("./lib/deflate"),T("./lib/inflate"),T("./lib/zlib/constants")),t.exports=b},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(T,t,S){var b=T("./zlib/deflate"),o=T("./utils/common"),d=T("./utils/strings"),s=T("./zlib/messages"),p=T("./zlib/zstream"),y=Object.prototype.toString,m=0,n=-1,r=0,c=8;function a(u){if(!(this instanceof a))return new a(u);this.options=o.assign({level:n,method:c,chunkSize:16384,windowBits:15,memLevel:8,strategy:r,to:""},u||{});var l=this.options;l.raw&&0<l.windowBits?l.windowBits=-l.windowBits:l.gzip&&0<l.windowBits&&l.windowBits<16&&(l.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p,this.strm.avail_out=0;var g=b.deflateInit2(this.strm,l.level,l.method,l.windowBits,l.memLevel,l.strategy);if(g!==m)throw new Error(s[g]);if(l.header&&b.deflateSetHeader(this.strm,l.header),l.dictionary){var v;if(v=typeof l.dictionary=="string"?d.string2buf(l.dictionary):y.call(l.dictionary)==="[object ArrayBuffer]"?new Uint8Array(l.dictionary):l.dictionary,(g=b.deflateSetDictionary(this.strm,v))!==m)throw new Error(s[g]);this._dict_set=!0}}function h(u,l){var g=new a(l);if(g.push(u,!0),g.err)throw g.msg||s[g.err];return g.result}a.prototype.push=function(u,l){var g,v,x=this.strm,k=this.options.chunkSize;if(this.ended)return!1;v=l===~~l?l:l===!0?4:0,typeof u=="string"?x.input=d.string2buf(u):y.call(u)==="[object ArrayBuffer]"?x.input=new Uint8Array(u):x.input=u,x.next_in=0,x.avail_in=x.input.length;do{if(x.avail_out===0&&(x.output=new o.Buf8(k),x.next_out=0,x.avail_out=k),(g=b.deflate(x,v))!==1&&g!==m)return this.onEnd(g),!(this.ended=!0);x.avail_out!==0&&(x.avail_in!==0||v!==4&&v!==2)||(this.options.to==="string"?this.onData(d.buf2binstring(o.shrinkBuf(x.output,x.next_out))):this.onData(o.shrinkBuf(x.output,x.next_out)))}while((0<x.avail_in||x.avail_out===0)&&g!==1);return v===4?(g=b.deflateEnd(this.strm),this.onEnd(g),this.ended=!0,g===m):v!==2||(this.onEnd(m),!(x.avail_out=0))},a.prototype.onData=function(u){this.chunks.push(u)},a.prototype.onEnd=function(u){u===m&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=u,this.msg=this.strm.msg},S.Deflate=a,S.deflate=h,S.deflateRaw=function(u,l){return(l=l||{}).raw=!0,h(u,l)},S.gzip=function(u,l){return(l=l||{}).gzip=!0,h(u,l)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(T,t,S){var b=T("./zlib/inflate"),o=T("./utils/common"),d=T("./utils/strings"),s=T("./zlib/constants"),p=T("./zlib/messages"),y=T("./zlib/zstream"),m=T("./zlib/gzheader"),n=Object.prototype.toString;function r(a){if(!(this instanceof r))return new r(a);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},a||{});var h=this.options;h.raw&&0<=h.windowBits&&h.windowBits<16&&(h.windowBits=-h.windowBits,h.windowBits===0&&(h.windowBits=-15)),!(0<=h.windowBits&&h.windowBits<16)||a&&a.windowBits||(h.windowBits+=32),15<h.windowBits&&h.windowBits<48&&(15&h.windowBits)==0&&(h.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new y,this.strm.avail_out=0;var u=b.inflateInit2(this.strm,h.windowBits);if(u!==s.Z_OK)throw new Error(p[u]);this.header=new m,b.inflateGetHeader(this.strm,this.header)}function c(a,h){var u=new r(h);if(u.push(a,!0),u.err)throw u.msg||p[u.err];return u.result}r.prototype.push=function(a,h){var u,l,g,v,x,k,E=this.strm,j=this.options.chunkSize,C=this.options.dictionary,L=!1;if(this.ended)return!1;l=h===~~h?h:h===!0?s.Z_FINISH:s.Z_NO_FLUSH,typeof a=="string"?E.input=d.binstring2buf(a):n.call(a)==="[object ArrayBuffer]"?E.input=new Uint8Array(a):E.input=a,E.next_in=0,E.avail_in=E.input.length;do{if(E.avail_out===0&&(E.output=new o.Buf8(j),E.next_out=0,E.avail_out=j),(u=b.inflate(E,s.Z_NO_FLUSH))===s.Z_NEED_DICT&&C&&(k=typeof C=="string"?d.string2buf(C):n.call(C)==="[object ArrayBuffer]"?new Uint8Array(C):C,u=b.inflateSetDictionary(this.strm,k)),u===s.Z_BUF_ERROR&&L===!0&&(u=s.Z_OK,L=!1),u!==s.Z_STREAM_END&&u!==s.Z_OK)return this.onEnd(u),!(this.ended=!0);E.next_out&&(E.avail_out!==0&&u!==s.Z_STREAM_END&&(E.avail_in!==0||l!==s.Z_FINISH&&l!==s.Z_SYNC_FLUSH)||(this.options.to==="string"?(g=d.utf8border(E.output,E.next_out),v=E.next_out-g,x=d.buf2string(E.output,g),E.next_out=v,E.avail_out=j-v,v&&o.arraySet(E.output,E.output,g,v,0),this.onData(x)):this.onData(o.shrinkBuf(E.output,E.next_out)))),E.avail_in===0&&E.avail_out===0&&(L=!0)}while((0<E.avail_in||E.avail_out===0)&&u!==s.Z_STREAM_END);return u===s.Z_STREAM_END&&(l=s.Z_FINISH),l===s.Z_FINISH?(u=b.inflateEnd(this.strm),this.onEnd(u),this.ended=!0,u===s.Z_OK):l!==s.Z_SYNC_FLUSH||(this.onEnd(s.Z_OK),!(E.avail_out=0))},r.prototype.onData=function(a){this.chunks.push(a)},r.prototype.onEnd=function(a){a===s.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=a,this.msg=this.strm.msg},S.Inflate=r,S.inflate=c,S.inflateRaw=function(a,h){return(h=h||{}).raw=!0,c(a,h)},S.ungzip=c},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(T,t,S){var b=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";S.assign=function(s){for(var p=Array.prototype.slice.call(arguments,1);p.length;){var y=p.shift();if(y){if(typeof y!="object")throw new TypeError(y+"must be non-object");for(var m in y)y.hasOwnProperty(m)&&(s[m]=y[m])}}return s},S.shrinkBuf=function(s,p){return s.length===p?s:s.subarray?s.subarray(0,p):(s.length=p,s)};var o={arraySet:function(s,p,y,m,n){if(p.subarray&&s.subarray)s.set(p.subarray(y,y+m),n);else for(var r=0;r<m;r++)s[n+r]=p[y+r]},flattenChunks:function(s){var p,y,m,n,r,c;for(p=m=0,y=s.length;p<y;p++)m+=s[p].length;for(c=new Uint8Array(m),p=n=0,y=s.length;p<y;p++)r=s[p],c.set(r,n),n+=r.length;return c}},d={arraySet:function(s,p,y,m,n){for(var r=0;r<m;r++)s[n+r]=p[y+r]},flattenChunks:function(s){return[].concat.apply([],s)}};S.setTyped=function(s){s?(S.Buf8=Uint8Array,S.Buf16=Uint16Array,S.Buf32=Int32Array,S.assign(S,o)):(S.Buf8=Array,S.Buf16=Array,S.Buf32=Array,S.assign(S,d))},S.setTyped(b)},{}],42:[function(T,t,S){var b=T("./common"),o=!0,d=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{d=!1}for(var s=new b.Buf8(256),p=0;p<256;p++)s[p]=252<=p?6:248<=p?5:240<=p?4:224<=p?3:192<=p?2:1;function y(m,n){if(n<65537&&(m.subarray&&d||!m.subarray&&o))return String.fromCharCode.apply(null,b.shrinkBuf(m,n));for(var r="",c=0;c<n;c++)r+=String.fromCharCode(m[c]);return r}s[254]=s[254]=1,S.string2buf=function(m){var n,r,c,a,h,u=m.length,l=0;for(a=0;a<u;a++)(64512&(r=m.charCodeAt(a)))==55296&&a+1<u&&(64512&(c=m.charCodeAt(a+1)))==56320&&(r=65536+(r-55296<<10)+(c-56320),a++),l+=r<128?1:r<2048?2:r<65536?3:4;for(n=new b.Buf8(l),a=h=0;h<l;a++)(64512&(r=m.charCodeAt(a)))==55296&&a+1<u&&(64512&(c=m.charCodeAt(a+1)))==56320&&(r=65536+(r-55296<<10)+(c-56320),a++),r<128?n[h++]=r:(r<2048?n[h++]=192|r>>>6:(r<65536?n[h++]=224|r>>>12:(n[h++]=240|r>>>18,n[h++]=128|r>>>12&63),n[h++]=128|r>>>6&63),n[h++]=128|63&r);return n},S.buf2binstring=function(m){return y(m,m.length)},S.binstring2buf=function(m){for(var n=new b.Buf8(m.length),r=0,c=n.length;r<c;r++)n[r]=m.charCodeAt(r);return n},S.buf2string=function(m,n){var r,c,a,h,u=n||m.length,l=new Array(2*u);for(r=c=0;r<u;)if((a=m[r++])<128)l[c++]=a;else if(4<(h=s[a]))l[c++]=65533,r+=h-1;else{for(a&=h===2?31:h===3?15:7;1<h&&r<u;)a=a<<6|63&m[r++],h--;1<h?l[c++]=65533:a<65536?l[c++]=a:(a-=65536,l[c++]=55296|a>>10&1023,l[c++]=56320|1023&a)}return y(l,c)},S.utf8border=function(m,n){var r;for((n=n||m.length)>m.length&&(n=m.length),r=n-1;0<=r&&(192&m[r])==128;)r--;return r<0||r===0?n:r+s[m[r]]>n?r:n}},{"./common":41}],43:[function(T,t,S){t.exports=function(b,o,d,s){for(var p=65535&b|0,y=b>>>16&65535|0,m=0;d!==0;){for(d-=m=2e3<d?2e3:d;y=y+(p=p+o[s++]|0)|0,--m;);p%=65521,y%=65521}return p|y<<16|0}},{}],44:[function(T,t,S){t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(T,t,S){var b=function(){for(var o,d=[],s=0;s<256;s++){o=s;for(var p=0;p<8;p++)o=1&o?3988292384^o>>>1:o>>>1;d[s]=o}return d}();t.exports=function(o,d,s,p){var y=b,m=p+s;o^=-1;for(var n=p;n<m;n++)o=o>>>8^y[255&(o^d[n])];return-1^o}},{}],46:[function(T,t,S){var b,o=T("../utils/common"),d=T("./trees"),s=T("./adler32"),p=T("./crc32"),y=T("./messages"),m=0,n=4,r=0,c=-2,a=-1,h=4,u=2,l=8,g=9,v=286,x=30,k=19,E=2*v+1,j=15,C=3,L=258,A=L+C+1,P=42,R=113,I=1,N=2,z=3,G=4;function W(U,oe){return U.msg=y[oe],oe}function H(U){return(U<<1)-(4<U?9:0)}function Z(U){for(var oe=U.length;0<=--oe;)U[oe]=0}function Y(U){var oe=U.state,fe=oe.pending;fe>U.avail_out&&(fe=U.avail_out),fe!==0&&(o.arraySet(U.output,oe.pending_buf,oe.pending_out,fe,U.next_out),U.next_out+=fe,oe.pending_out+=fe,U.total_out+=fe,U.avail_out-=fe,oe.pending-=fe,oe.pending===0&&(oe.pending_out=0))}function Q(U,oe){d._tr_flush_block(U,0<=U.block_start?U.block_start:-1,U.strstart-U.block_start,oe),U.block_start=U.strstart,Y(U.strm)}function M(U,oe){U.pending_buf[U.pending++]=oe}function B(U,oe){U.pending_buf[U.pending++]=oe>>>8&255,U.pending_buf[U.pending++]=255&oe}function V(U,oe){var fe,te,ee=U.max_chain_length,ae=U.strstart,_e=U.prev_length,Oe=U.nice_match,ue=U.strstart>U.w_size-A?U.strstart-(U.w_size-A):0,je=U.window,Me=U.w_mask,Le=U.prev,qe=U.strstart+L,Ye=je[ae+_e-1],Ee=je[ae+_e];U.prev_length>=U.good_match&&(ee>>=2),Oe>U.lookahead&&(Oe=U.lookahead);do if(je[(fe=oe)+_e]===Ee&&je[fe+_e-1]===Ye&&je[fe]===je[ae]&&je[++fe]===je[ae+1]){ae+=2,fe++;do;while(je[++ae]===je[++fe]&&je[++ae]===je[++fe]&&je[++ae]===je[++fe]&&je[++ae]===je[++fe]&&je[++ae]===je[++fe]&&je[++ae]===je[++fe]&&je[++ae]===je[++fe]&&je[++ae]===je[++fe]&&ae<qe);if(te=L-(qe-ae),ae=qe-L,_e<te){if(U.match_start=oe,Oe<=(_e=te))break;Ye=je[ae+_e-1],Ee=je[ae+_e]}}while((oe=Le[oe&Me])>ue&&--ee!=0);return _e<=U.lookahead?_e:U.lookahead}function X(U){var oe,fe,te,ee,ae,_e,Oe,ue,je,Me,Le=U.w_size;do{if(ee=U.window_size-U.lookahead-U.strstart,U.strstart>=Le+(Le-A)){for(o.arraySet(U.window,U.window,Le,Le,0),U.match_start-=Le,U.strstart-=Le,U.block_start-=Le,oe=fe=U.hash_size;te=U.head[--oe],U.head[oe]=Le<=te?te-Le:0,--fe;);for(oe=fe=Le;te=U.prev[--oe],U.prev[oe]=Le<=te?te-Le:0,--fe;);ee+=Le}if(U.strm.avail_in===0)break;if(_e=U.strm,Oe=U.window,ue=U.strstart+U.lookahead,je=ee,Me=void 0,Me=_e.avail_in,je<Me&&(Me=je),fe=Me===0?0:(_e.avail_in-=Me,o.arraySet(Oe,_e.input,_e.next_in,Me,ue),_e.state.wrap===1?_e.adler=s(_e.adler,Oe,Me,ue):_e.state.wrap===2&&(_e.adler=p(_e.adler,Oe,Me,ue)),_e.next_in+=Me,_e.total_in+=Me,Me),U.lookahead+=fe,U.lookahead+U.insert>=C)for(ae=U.strstart-U.insert,U.ins_h=U.window[ae],U.ins_h=(U.ins_h<<U.hash_shift^U.window[ae+1])&U.hash_mask;U.insert&&(U.ins_h=(U.ins_h<<U.hash_shift^U.window[ae+C-1])&U.hash_mask,U.prev[ae&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=ae,ae++,U.insert--,!(U.lookahead+U.insert<C)););}while(U.lookahead<A&&U.strm.avail_in!==0)}function re(U,oe){for(var fe,te;;){if(U.lookahead<A){if(X(U),U.lookahead<A&&oe===m)return I;if(U.lookahead===0)break}if(fe=0,U.lookahead>=C&&(U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+C-1])&U.hash_mask,fe=U.prev[U.strstart&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=U.strstart),fe!==0&&U.strstart-fe<=U.w_size-A&&(U.match_length=V(U,fe)),U.match_length>=C)if(te=d._tr_tally(U,U.strstart-U.match_start,U.match_length-C),U.lookahead-=U.match_length,U.match_length<=U.max_lazy_match&&U.lookahead>=C){for(U.match_length--;U.strstart++,U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+C-1])&U.hash_mask,fe=U.prev[U.strstart&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=U.strstart,--U.match_length!=0;);U.strstart++}else U.strstart+=U.match_length,U.match_length=0,U.ins_h=U.window[U.strstart],U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+1])&U.hash_mask;else te=d._tr_tally(U,0,U.window[U.strstart]),U.lookahead--,U.strstart++;if(te&&(Q(U,!1),U.strm.avail_out===0))return I}return U.insert=U.strstart<C-1?U.strstart:C-1,oe===n?(Q(U,!0),U.strm.avail_out===0?z:G):U.last_lit&&(Q(U,!1),U.strm.avail_out===0)?I:N}function ne(U,oe){for(var fe,te,ee;;){if(U.lookahead<A){if(X(U),U.lookahead<A&&oe===m)return I;if(U.lookahead===0)break}if(fe=0,U.lookahead>=C&&(U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+C-1])&U.hash_mask,fe=U.prev[U.strstart&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=U.strstart),U.prev_length=U.match_length,U.prev_match=U.match_start,U.match_length=C-1,fe!==0&&U.prev_length<U.max_lazy_match&&U.strstart-fe<=U.w_size-A&&(U.match_length=V(U,fe),U.match_length<=5&&(U.strategy===1||U.match_length===C&&4096<U.strstart-U.match_start)&&(U.match_length=C-1)),U.prev_length>=C&&U.match_length<=U.prev_length){for(ee=U.strstart+U.lookahead-C,te=d._tr_tally(U,U.strstart-1-U.prev_match,U.prev_length-C),U.lookahead-=U.prev_length-1,U.prev_length-=2;++U.strstart<=ee&&(U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+C-1])&U.hash_mask,fe=U.prev[U.strstart&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=U.strstart),--U.prev_length!=0;);if(U.match_available=0,U.match_length=C-1,U.strstart++,te&&(Q(U,!1),U.strm.avail_out===0))return I}else if(U.match_available){if((te=d._tr_tally(U,0,U.window[U.strstart-1]))&&Q(U,!1),U.strstart++,U.lookahead--,U.strm.avail_out===0)return I}else U.match_available=1,U.strstart++,U.lookahead--}return U.match_available&&(te=d._tr_tally(U,0,U.window[U.strstart-1]),U.match_available=0),U.insert=U.strstart<C-1?U.strstart:C-1,oe===n?(Q(U,!0),U.strm.avail_out===0?z:G):U.last_lit&&(Q(U,!1),U.strm.avail_out===0)?I:N}function ce(U,oe,fe,te,ee){this.good_length=U,this.max_lazy=oe,this.nice_length=fe,this.max_chain=te,this.func=ee}function be(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=l,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*E),this.dyn_dtree=new o.Buf16(2*(2*x+1)),this.bl_tree=new o.Buf16(2*(2*k+1)),Z(this.dyn_ltree),Z(this.dyn_dtree),Z(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(j+1),this.heap=new o.Buf16(2*v+1),Z(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*v+1),Z(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function he(U){var oe;return U&&U.state?(U.total_in=U.total_out=0,U.data_type=u,(oe=U.state).pending=0,oe.pending_out=0,oe.wrap<0&&(oe.wrap=-oe.wrap),oe.status=oe.wrap?P:R,U.adler=oe.wrap===2?0:1,oe.last_flush=m,d._tr_init(oe),r):W(U,c)}function le(U){var oe=he(U);return oe===r&&function(fe){fe.window_size=2*fe.w_size,Z(fe.head),fe.max_lazy_match=b[fe.level].max_lazy,fe.good_match=b[fe.level].good_length,fe.nice_match=b[fe.level].nice_length,fe.max_chain_length=b[fe.level].max_chain,fe.strstart=0,fe.block_start=0,fe.lookahead=0,fe.insert=0,fe.match_length=fe.prev_length=C-1,fe.match_available=0,fe.ins_h=0}(U.state),oe}function ge(U,oe,fe,te,ee,ae){if(!U)return c;var _e=1;if(oe===a&&(oe=6),te<0?(_e=0,te=-te):15<te&&(_e=2,te-=16),ee<1||g<ee||fe!==l||te<8||15<te||oe<0||9<oe||ae<0||h<ae)return W(U,c);te===8&&(te=9);var Oe=new be;return(U.state=Oe).strm=U,Oe.wrap=_e,Oe.gzhead=null,Oe.w_bits=te,Oe.w_size=1<<Oe.w_bits,Oe.w_mask=Oe.w_size-1,Oe.hash_bits=ee+7,Oe.hash_size=1<<Oe.hash_bits,Oe.hash_mask=Oe.hash_size-1,Oe.hash_shift=~~((Oe.hash_bits+C-1)/C),Oe.window=new o.Buf8(2*Oe.w_size),Oe.head=new o.Buf16(Oe.hash_size),Oe.prev=new o.Buf16(Oe.w_size),Oe.lit_bufsize=1<<ee+6,Oe.pending_buf_size=4*Oe.lit_bufsize,Oe.pending_buf=new o.Buf8(Oe.pending_buf_size),Oe.d_buf=1*Oe.lit_bufsize,Oe.l_buf=3*Oe.lit_bufsize,Oe.level=oe,Oe.strategy=ae,Oe.method=fe,le(U)}b=[new ce(0,0,0,0,function(U,oe){var fe=65535;for(fe>U.pending_buf_size-5&&(fe=U.pending_buf_size-5);;){if(U.lookahead<=1){if(X(U),U.lookahead===0&&oe===m)return I;if(U.lookahead===0)break}U.strstart+=U.lookahead,U.lookahead=0;var te=U.block_start+fe;if((U.strstart===0||U.strstart>=te)&&(U.lookahead=U.strstart-te,U.strstart=te,Q(U,!1),U.strm.avail_out===0)||U.strstart-U.block_start>=U.w_size-A&&(Q(U,!1),U.strm.avail_out===0))return I}return U.insert=0,oe===n?(Q(U,!0),U.strm.avail_out===0?z:G):(U.strstart>U.block_start&&(Q(U,!1),U.strm.avail_out),I)}),new ce(4,4,8,4,re),new ce(4,5,16,8,re),new ce(4,6,32,32,re),new ce(4,4,16,16,ne),new ce(8,16,32,32,ne),new ce(8,16,128,128,ne),new ce(8,32,128,256,ne),new ce(32,128,258,1024,ne),new ce(32,258,258,4096,ne)],S.deflateInit=function(U,oe){return ge(U,oe,l,15,8,0)},S.deflateInit2=ge,S.deflateReset=le,S.deflateResetKeep=he,S.deflateSetHeader=function(U,oe){return U&&U.state?U.state.wrap!==2?c:(U.state.gzhead=oe,r):c},S.deflate=function(U,oe){var fe,te,ee,ae;if(!U||!U.state||5<oe||oe<0)return U?W(U,c):c;if(te=U.state,!U.output||!U.input&&U.avail_in!==0||te.status===666&&oe!==n)return W(U,U.avail_out===0?-5:c);if(te.strm=U,fe=te.last_flush,te.last_flush=oe,te.status===P)if(te.wrap===2)U.adler=0,M(te,31),M(te,139),M(te,8),te.gzhead?(M(te,(te.gzhead.text?1:0)+(te.gzhead.hcrc?2:0)+(te.gzhead.extra?4:0)+(te.gzhead.name?8:0)+(te.gzhead.comment?16:0)),M(te,255&te.gzhead.time),M(te,te.gzhead.time>>8&255),M(te,te.gzhead.time>>16&255),M(te,te.gzhead.time>>24&255),M(te,te.level===9?2:2<=te.strategy||te.level<2?4:0),M(te,255&te.gzhead.os),te.gzhead.extra&&te.gzhead.extra.length&&(M(te,255&te.gzhead.extra.length),M(te,te.gzhead.extra.length>>8&255)),te.gzhead.hcrc&&(U.adler=p(U.adler,te.pending_buf,te.pending,0)),te.gzindex=0,te.status=69):(M(te,0),M(te,0),M(te,0),M(te,0),M(te,0),M(te,te.level===9?2:2<=te.strategy||te.level<2?4:0),M(te,3),te.status=R);else{var _e=l+(te.w_bits-8<<4)<<8;_e|=(2<=te.strategy||te.level<2?0:te.level<6?1:te.level===6?2:3)<<6,te.strstart!==0&&(_e|=32),_e+=31-_e%31,te.status=R,B(te,_e),te.strstart!==0&&(B(te,U.adler>>>16),B(te,65535&U.adler)),U.adler=1}if(te.status===69)if(te.gzhead.extra){for(ee=te.pending;te.gzindex<(65535&te.gzhead.extra.length)&&(te.pending!==te.pending_buf_size||(te.gzhead.hcrc&&te.pending>ee&&(U.adler=p(U.adler,te.pending_buf,te.pending-ee,ee)),Y(U),ee=te.pending,te.pending!==te.pending_buf_size));)M(te,255&te.gzhead.extra[te.gzindex]),te.gzindex++;te.gzhead.hcrc&&te.pending>ee&&(U.adler=p(U.adler,te.pending_buf,te.pending-ee,ee)),te.gzindex===te.gzhead.extra.length&&(te.gzindex=0,te.status=73)}else te.status=73;if(te.status===73)if(te.gzhead.name){ee=te.pending;do{if(te.pending===te.pending_buf_size&&(te.gzhead.hcrc&&te.pending>ee&&(U.adler=p(U.adler,te.pending_buf,te.pending-ee,ee)),Y(U),ee=te.pending,te.pending===te.pending_buf_size)){ae=1;break}ae=te.gzindex<te.gzhead.name.length?255&te.gzhead.name.charCodeAt(te.gzindex++):0,M(te,ae)}while(ae!==0);te.gzhead.hcrc&&te.pending>ee&&(U.adler=p(U.adler,te.pending_buf,te.pending-ee,ee)),ae===0&&(te.gzindex=0,te.status=91)}else te.status=91;if(te.status===91)if(te.gzhead.comment){ee=te.pending;do{if(te.pending===te.pending_buf_size&&(te.gzhead.hcrc&&te.pending>ee&&(U.adler=p(U.adler,te.pending_buf,te.pending-ee,ee)),Y(U),ee=te.pending,te.pending===te.pending_buf_size)){ae=1;break}ae=te.gzindex<te.gzhead.comment.length?255&te.gzhead.comment.charCodeAt(te.gzindex++):0,M(te,ae)}while(ae!==0);te.gzhead.hcrc&&te.pending>ee&&(U.adler=p(U.adler,te.pending_buf,te.pending-ee,ee)),ae===0&&(te.status=103)}else te.status=103;if(te.status===103&&(te.gzhead.hcrc?(te.pending+2>te.pending_buf_size&&Y(U),te.pending+2<=te.pending_buf_size&&(M(te,255&U.adler),M(te,U.adler>>8&255),U.adler=0,te.status=R)):te.status=R),te.pending!==0){if(Y(U),U.avail_out===0)return te.last_flush=-1,r}else if(U.avail_in===0&&H(oe)<=H(fe)&&oe!==n)return W(U,-5);if(te.status===666&&U.avail_in!==0)return W(U,-5);if(U.avail_in!==0||te.lookahead!==0||oe!==m&&te.status!==666){var Oe=te.strategy===2?function(ue,je){for(var Me;;){if(ue.lookahead===0&&(X(ue),ue.lookahead===0)){if(je===m)return I;break}if(ue.match_length=0,Me=d._tr_tally(ue,0,ue.window[ue.strstart]),ue.lookahead--,ue.strstart++,Me&&(Q(ue,!1),ue.strm.avail_out===0))return I}return ue.insert=0,je===n?(Q(ue,!0),ue.strm.avail_out===0?z:G):ue.last_lit&&(Q(ue,!1),ue.strm.avail_out===0)?I:N}(te,oe):te.strategy===3?function(ue,je){for(var Me,Le,qe,Ye,Ee=ue.window;;){if(ue.lookahead<=L){if(X(ue),ue.lookahead<=L&&je===m)return I;if(ue.lookahead===0)break}if(ue.match_length=0,ue.lookahead>=C&&0<ue.strstart&&(Le=Ee[qe=ue.strstart-1])===Ee[++qe]&&Le===Ee[++qe]&&Le===Ee[++qe]){Ye=ue.strstart+L;do;while(Le===Ee[++qe]&&Le===Ee[++qe]&&Le===Ee[++qe]&&Le===Ee[++qe]&&Le===Ee[++qe]&&Le===Ee[++qe]&&Le===Ee[++qe]&&Le===Ee[++qe]&&qe<Ye);ue.match_length=L-(Ye-qe),ue.match_length>ue.lookahead&&(ue.match_length=ue.lookahead)}if(ue.match_length>=C?(Me=d._tr_tally(ue,1,ue.match_length-C),ue.lookahead-=ue.match_length,ue.strstart+=ue.match_length,ue.match_length=0):(Me=d._tr_tally(ue,0,ue.window[ue.strstart]),ue.lookahead--,ue.strstart++),Me&&(Q(ue,!1),ue.strm.avail_out===0))return I}return ue.insert=0,je===n?(Q(ue,!0),ue.strm.avail_out===0?z:G):ue.last_lit&&(Q(ue,!1),ue.strm.avail_out===0)?I:N}(te,oe):b[te.level].func(te,oe);if(Oe!==z&&Oe!==G||(te.status=666),Oe===I||Oe===z)return U.avail_out===0&&(te.last_flush=-1),r;if(Oe===N&&(oe===1?d._tr_align(te):oe!==5&&(d._tr_stored_block(te,0,0,!1),oe===3&&(Z(te.head),te.lookahead===0&&(te.strstart=0,te.block_start=0,te.insert=0))),Y(U),U.avail_out===0))return te.last_flush=-1,r}return oe!==n?r:te.wrap<=0?1:(te.wrap===2?(M(te,255&U.adler),M(te,U.adler>>8&255),M(te,U.adler>>16&255),M(te,U.adler>>24&255),M(te,255&U.total_in),M(te,U.total_in>>8&255),M(te,U.total_in>>16&255),M(te,U.total_in>>24&255)):(B(te,U.adler>>>16),B(te,65535&U.adler)),Y(U),0<te.wrap&&(te.wrap=-te.wrap),te.pending!==0?r:1)},S.deflateEnd=function(U){var oe;return U&&U.state?(oe=U.state.status)!==P&&oe!==69&&oe!==73&&oe!==91&&oe!==103&&oe!==R&&oe!==666?W(U,c):(U.state=null,oe===R?W(U,-3):r):c},S.deflateSetDictionary=function(U,oe){var fe,te,ee,ae,_e,Oe,ue,je,Me=oe.length;if(!U||!U.state||(ae=(fe=U.state).wrap)===2||ae===1&&fe.status!==P||fe.lookahead)return c;for(ae===1&&(U.adler=s(U.adler,oe,Me,0)),fe.wrap=0,Me>=fe.w_size&&(ae===0&&(Z(fe.head),fe.strstart=0,fe.block_start=0,fe.insert=0),je=new o.Buf8(fe.w_size),o.arraySet(je,oe,Me-fe.w_size,fe.w_size,0),oe=je,Me=fe.w_size),_e=U.avail_in,Oe=U.next_in,ue=U.input,U.avail_in=Me,U.next_in=0,U.input=oe,X(fe);fe.lookahead>=C;){for(te=fe.strstart,ee=fe.lookahead-(C-1);fe.ins_h=(fe.ins_h<<fe.hash_shift^fe.window[te+C-1])&fe.hash_mask,fe.prev[te&fe.w_mask]=fe.head[fe.ins_h],fe.head[fe.ins_h]=te,te++,--ee;);fe.strstart=te,fe.lookahead=C-1,X(fe)}return fe.strstart+=fe.lookahead,fe.block_start=fe.strstart,fe.insert=fe.lookahead,fe.lookahead=0,fe.match_length=fe.prev_length=C-1,fe.match_available=0,U.next_in=Oe,U.input=ue,U.avail_in=_e,fe.wrap=ae,r},S.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(T,t,S){t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(T,t,S){t.exports=function(b,o){var d,s,p,y,m,n,r,c,a,h,u,l,g,v,x,k,E,j,C,L,A,P,R,I,N;d=b.state,s=b.next_in,I=b.input,p=s+(b.avail_in-5),y=b.next_out,N=b.output,m=y-(o-b.avail_out),n=y+(b.avail_out-257),r=d.dmax,c=d.wsize,a=d.whave,h=d.wnext,u=d.window,l=d.hold,g=d.bits,v=d.lencode,x=d.distcode,k=(1<<d.lenbits)-1,E=(1<<d.distbits)-1;e:do{g<15&&(l+=I[s++]<<g,g+=8,l+=I[s++]<<g,g+=8),j=v[l&k];t:for(;;){if(l>>>=C=j>>>24,g-=C,(C=j>>>16&255)===0)N[y++]=65535&j;else{if(!(16&C)){if((64&C)==0){j=v[(65535&j)+(l&(1<<C)-1)];continue t}if(32&C){d.mode=12;break e}b.msg="invalid literal/length code",d.mode=30;break e}L=65535&j,(C&=15)&&(g<C&&(l+=I[s++]<<g,g+=8),L+=l&(1<<C)-1,l>>>=C,g-=C),g<15&&(l+=I[s++]<<g,g+=8,l+=I[s++]<<g,g+=8),j=x[l&E];r:for(;;){if(l>>>=C=j>>>24,g-=C,!(16&(C=j>>>16&255))){if((64&C)==0){j=x[(65535&j)+(l&(1<<C)-1)];continue r}b.msg="invalid distance code",d.mode=30;break e}if(A=65535&j,g<(C&=15)&&(l+=I[s++]<<g,(g+=8)<C&&(l+=I[s++]<<g,g+=8)),r<(A+=l&(1<<C)-1)){b.msg="invalid distance too far back",d.mode=30;break e}if(l>>>=C,g-=C,(C=y-m)<A){if(a<(C=A-C)&&d.sane){b.msg="invalid distance too far back",d.mode=30;break e}if(R=u,(P=0)===h){if(P+=c-C,C<L){for(L-=C;N[y++]=u[P++],--C;);P=y-A,R=N}}else if(h<C){if(P+=c+h-C,(C-=h)<L){for(L-=C;N[y++]=u[P++],--C;);if(P=0,h<L){for(L-=C=h;N[y++]=u[P++],--C;);P=y-A,R=N}}}else if(P+=h-C,C<L){for(L-=C;N[y++]=u[P++],--C;);P=y-A,R=N}for(;2<L;)N[y++]=R[P++],N[y++]=R[P++],N[y++]=R[P++],L-=3;L&&(N[y++]=R[P++],1<L&&(N[y++]=R[P++]))}else{for(P=y-A;N[y++]=N[P++],N[y++]=N[P++],N[y++]=N[P++],2<(L-=3););L&&(N[y++]=N[P++],1<L&&(N[y++]=N[P++]))}break}}break}}while(s<p&&y<n);s-=L=g>>3,l&=(1<<(g-=L<<3))-1,b.next_in=s,b.next_out=y,b.avail_in=s<p?p-s+5:5-(s-p),b.avail_out=y<n?n-y+257:257-(y-n),d.hold=l,d.bits=g}},{}],49:[function(T,t,S){var b=T("../utils/common"),o=T("./adler32"),d=T("./crc32"),s=T("./inffast"),p=T("./inftrees"),y=1,m=2,n=0,r=-2,c=1,a=852,h=592;function u(P){return(P>>>24&255)+(P>>>8&65280)+((65280&P)<<8)+((255&P)<<24)}function l(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new b.Buf16(320),this.work=new b.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function g(P){var R;return P&&P.state?(R=P.state,P.total_in=P.total_out=R.total=0,P.msg="",R.wrap&&(P.adler=1&R.wrap),R.mode=c,R.last=0,R.havedict=0,R.dmax=32768,R.head=null,R.hold=0,R.bits=0,R.lencode=R.lendyn=new b.Buf32(a),R.distcode=R.distdyn=new b.Buf32(h),R.sane=1,R.back=-1,n):r}function v(P){var R;return P&&P.state?((R=P.state).wsize=0,R.whave=0,R.wnext=0,g(P)):r}function x(P,R){var I,N;return P&&P.state?(N=P.state,R<0?(I=0,R=-R):(I=1+(R>>4),R<48&&(R&=15)),R&&(R<8||15<R)?r:(N.window!==null&&N.wbits!==R&&(N.window=null),N.wrap=I,N.wbits=R,v(P))):r}function k(P,R){var I,N;return P?(N=new l,(P.state=N).window=null,(I=x(P,R))!==n&&(P.state=null),I):r}var E,j,C=!0;function L(P){if(C){var R;for(E=new b.Buf32(512),j=new b.Buf32(32),R=0;R<144;)P.lens[R++]=8;for(;R<256;)P.lens[R++]=9;for(;R<280;)P.lens[R++]=7;for(;R<288;)P.lens[R++]=8;for(p(y,P.lens,0,288,E,0,P.work,{bits:9}),R=0;R<32;)P.lens[R++]=5;p(m,P.lens,0,32,j,0,P.work,{bits:5}),C=!1}P.lencode=E,P.lenbits=9,P.distcode=j,P.distbits=5}function A(P,R,I,N){var z,G=P.state;return G.window===null&&(G.wsize=1<<G.wbits,G.wnext=0,G.whave=0,G.window=new b.Buf8(G.wsize)),N>=G.wsize?(b.arraySet(G.window,R,I-G.wsize,G.wsize,0),G.wnext=0,G.whave=G.wsize):(N<(z=G.wsize-G.wnext)&&(z=N),b.arraySet(G.window,R,I-N,z,G.wnext),(N-=z)?(b.arraySet(G.window,R,I-N,N,0),G.wnext=N,G.whave=G.wsize):(G.wnext+=z,G.wnext===G.wsize&&(G.wnext=0),G.whave<G.wsize&&(G.whave+=z))),0}S.inflateReset=v,S.inflateReset2=x,S.inflateResetKeep=g,S.inflateInit=function(P){return k(P,15)},S.inflateInit2=k,S.inflate=function(P,R){var I,N,z,G,W,H,Z,Y,Q,M,B,V,X,re,ne,ce,be,he,le,ge,U,oe,fe,te,ee=0,ae=new b.Buf8(4),_e=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!P||!P.state||!P.output||!P.input&&P.avail_in!==0)return r;(I=P.state).mode===12&&(I.mode=13),W=P.next_out,z=P.output,Z=P.avail_out,G=P.next_in,N=P.input,H=P.avail_in,Y=I.hold,Q=I.bits,M=H,B=Z,oe=n;e:for(;;)switch(I.mode){case c:if(I.wrap===0){I.mode=13;break}for(;Q<16;){if(H===0)break e;H--,Y+=N[G++]<<Q,Q+=8}if(2&I.wrap&&Y===35615){ae[I.check=0]=255&Y,ae[1]=Y>>>8&255,I.check=d(I.check,ae,2,0),Q=Y=0,I.mode=2;break}if(I.flags=0,I.head&&(I.head.done=!1),!(1&I.wrap)||(((255&Y)<<8)+(Y>>8))%31){P.msg="incorrect header check",I.mode=30;break}if((15&Y)!=8){P.msg="unknown compression method",I.mode=30;break}if(Q-=4,U=8+(15&(Y>>>=4)),I.wbits===0)I.wbits=U;else if(U>I.wbits){P.msg="invalid window size",I.mode=30;break}I.dmax=1<<U,P.adler=I.check=1,I.mode=512&Y?10:12,Q=Y=0;break;case 2:for(;Q<16;){if(H===0)break e;H--,Y+=N[G++]<<Q,Q+=8}if(I.flags=Y,(255&I.flags)!=8){P.msg="unknown compression method",I.mode=30;break}if(57344&I.flags){P.msg="unknown header flags set",I.mode=30;break}I.head&&(I.head.text=Y>>8&1),512&I.flags&&(ae[0]=255&Y,ae[1]=Y>>>8&255,I.check=d(I.check,ae,2,0)),Q=Y=0,I.mode=3;case 3:for(;Q<32;){if(H===0)break e;H--,Y+=N[G++]<<Q,Q+=8}I.head&&(I.head.time=Y),512&I.flags&&(ae[0]=255&Y,ae[1]=Y>>>8&255,ae[2]=Y>>>16&255,ae[3]=Y>>>24&255,I.check=d(I.check,ae,4,0)),Q=Y=0,I.mode=4;case 4:for(;Q<16;){if(H===0)break e;H--,Y+=N[G++]<<Q,Q+=8}I.head&&(I.head.xflags=255&Y,I.head.os=Y>>8),512&I.flags&&(ae[0]=255&Y,ae[1]=Y>>>8&255,I.check=d(I.check,ae,2,0)),Q=Y=0,I.mode=5;case 5:if(1024&I.flags){for(;Q<16;){if(H===0)break e;H--,Y+=N[G++]<<Q,Q+=8}I.length=Y,I.head&&(I.head.extra_len=Y),512&I.flags&&(ae[0]=255&Y,ae[1]=Y>>>8&255,I.check=d(I.check,ae,2,0)),Q=Y=0}else I.head&&(I.head.extra=null);I.mode=6;case 6:if(1024&I.flags&&(H<(V=I.length)&&(V=H),V&&(I.head&&(U=I.head.extra_len-I.length,I.head.extra||(I.head.extra=new Array(I.head.extra_len)),b.arraySet(I.head.extra,N,G,V,U)),512&I.flags&&(I.check=d(I.check,N,V,G)),H-=V,G+=V,I.length-=V),I.length))break e;I.length=0,I.mode=7;case 7:if(2048&I.flags){if(H===0)break e;for(V=0;U=N[G+V++],I.head&&U&&I.length<65536&&(I.head.name+=String.fromCharCode(U)),U&&V<H;);if(512&I.flags&&(I.check=d(I.check,N,V,G)),H-=V,G+=V,U)break e}else I.head&&(I.head.name=null);I.length=0,I.mode=8;case 8:if(4096&I.flags){if(H===0)break e;for(V=0;U=N[G+V++],I.head&&U&&I.length<65536&&(I.head.comment+=String.fromCharCode(U)),U&&V<H;);if(512&I.flags&&(I.check=d(I.check,N,V,G)),H-=V,G+=V,U)break e}else I.head&&(I.head.comment=null);I.mode=9;case 9:if(512&I.flags){for(;Q<16;){if(H===0)break e;H--,Y+=N[G++]<<Q,Q+=8}if(Y!==(65535&I.check)){P.msg="header crc mismatch",I.mode=30;break}Q=Y=0}I.head&&(I.head.hcrc=I.flags>>9&1,I.head.done=!0),P.adler=I.check=0,I.mode=12;break;case 10:for(;Q<32;){if(H===0)break e;H--,Y+=N[G++]<<Q,Q+=8}P.adler=I.check=u(Y),Q=Y=0,I.mode=11;case 11:if(I.havedict===0)return P.next_out=W,P.avail_out=Z,P.next_in=G,P.avail_in=H,I.hold=Y,I.bits=Q,2;P.adler=I.check=1,I.mode=12;case 12:if(R===5||R===6)break e;case 13:if(I.last){Y>>>=7&Q,Q-=7&Q,I.mode=27;break}for(;Q<3;){if(H===0)break e;H--,Y+=N[G++]<<Q,Q+=8}switch(I.last=1&Y,Q-=1,3&(Y>>>=1)){case 0:I.mode=14;break;case 1:if(L(I),I.mode=20,R!==6)break;Y>>>=2,Q-=2;break e;case 2:I.mode=17;break;case 3:P.msg="invalid block type",I.mode=30}Y>>>=2,Q-=2;break;case 14:for(Y>>>=7&Q,Q-=7&Q;Q<32;){if(H===0)break e;H--,Y+=N[G++]<<Q,Q+=8}if((65535&Y)!=(Y>>>16^65535)){P.msg="invalid stored block lengths",I.mode=30;break}if(I.length=65535&Y,Q=Y=0,I.mode=15,R===6)break e;case 15:I.mode=16;case 16:if(V=I.length){if(H<V&&(V=H),Z<V&&(V=Z),V===0)break e;b.arraySet(z,N,G,V,W),H-=V,G+=V,Z-=V,W+=V,I.length-=V;break}I.mode=12;break;case 17:for(;Q<14;){if(H===0)break e;H--,Y+=N[G++]<<Q,Q+=8}if(I.nlen=257+(31&Y),Y>>>=5,Q-=5,I.ndist=1+(31&Y),Y>>>=5,Q-=5,I.ncode=4+(15&Y),Y>>>=4,Q-=4,286<I.nlen||30<I.ndist){P.msg="too many length or distance symbols",I.mode=30;break}I.have=0,I.mode=18;case 18:for(;I.have<I.ncode;){for(;Q<3;){if(H===0)break e;H--,Y+=N[G++]<<Q,Q+=8}I.lens[_e[I.have++]]=7&Y,Y>>>=3,Q-=3}for(;I.have<19;)I.lens[_e[I.have++]]=0;if(I.lencode=I.lendyn,I.lenbits=7,fe={bits:I.lenbits},oe=p(0,I.lens,0,19,I.lencode,0,I.work,fe),I.lenbits=fe.bits,oe){P.msg="invalid code lengths set",I.mode=30;break}I.have=0,I.mode=19;case 19:for(;I.have<I.nlen+I.ndist;){for(;ce=(ee=I.lencode[Y&(1<<I.lenbits)-1])>>>16&255,be=65535&ee,!((ne=ee>>>24)<=Q);){if(H===0)break e;H--,Y+=N[G++]<<Q,Q+=8}if(be<16)Y>>>=ne,Q-=ne,I.lens[I.have++]=be;else{if(be===16){for(te=ne+2;Q<te;){if(H===0)break e;H--,Y+=N[G++]<<Q,Q+=8}if(Y>>>=ne,Q-=ne,I.have===0){P.msg="invalid bit length repeat",I.mode=30;break}U=I.lens[I.have-1],V=3+(3&Y),Y>>>=2,Q-=2}else if(be===17){for(te=ne+3;Q<te;){if(H===0)break e;H--,Y+=N[G++]<<Q,Q+=8}Q-=ne,U=0,V=3+(7&(Y>>>=ne)),Y>>>=3,Q-=3}else{for(te=ne+7;Q<te;){if(H===0)break e;H--,Y+=N[G++]<<Q,Q+=8}Q-=ne,U=0,V=11+(127&(Y>>>=ne)),Y>>>=7,Q-=7}if(I.have+V>I.nlen+I.ndist){P.msg="invalid bit length repeat",I.mode=30;break}for(;V--;)I.lens[I.have++]=U}}if(I.mode===30)break;if(I.lens[256]===0){P.msg="invalid code -- missing end-of-block",I.mode=30;break}if(I.lenbits=9,fe={bits:I.lenbits},oe=p(y,I.lens,0,I.nlen,I.lencode,0,I.work,fe),I.lenbits=fe.bits,oe){P.msg="invalid literal/lengths set",I.mode=30;break}if(I.distbits=6,I.distcode=I.distdyn,fe={bits:I.distbits},oe=p(m,I.lens,I.nlen,I.ndist,I.distcode,0,I.work,fe),I.distbits=fe.bits,oe){P.msg="invalid distances set",I.mode=30;break}if(I.mode=20,R===6)break e;case 20:I.mode=21;case 21:if(6<=H&&258<=Z){P.next_out=W,P.avail_out=Z,P.next_in=G,P.avail_in=H,I.hold=Y,I.bits=Q,s(P,B),W=P.next_out,z=P.output,Z=P.avail_out,G=P.next_in,N=P.input,H=P.avail_in,Y=I.hold,Q=I.bits,I.mode===12&&(I.back=-1);break}for(I.back=0;ce=(ee=I.lencode[Y&(1<<I.lenbits)-1])>>>16&255,be=65535&ee,!((ne=ee>>>24)<=Q);){if(H===0)break e;H--,Y+=N[G++]<<Q,Q+=8}if(ce&&(240&ce)==0){for(he=ne,le=ce,ge=be;ce=(ee=I.lencode[ge+((Y&(1<<he+le)-1)>>he)])>>>16&255,be=65535&ee,!(he+(ne=ee>>>24)<=Q);){if(H===0)break e;H--,Y+=N[G++]<<Q,Q+=8}Y>>>=he,Q-=he,I.back+=he}if(Y>>>=ne,Q-=ne,I.back+=ne,I.length=be,ce===0){I.mode=26;break}if(32&ce){I.back=-1,I.mode=12;break}if(64&ce){P.msg="invalid literal/length code",I.mode=30;break}I.extra=15&ce,I.mode=22;case 22:if(I.extra){for(te=I.extra;Q<te;){if(H===0)break e;H--,Y+=N[G++]<<Q,Q+=8}I.length+=Y&(1<<I.extra)-1,Y>>>=I.extra,Q-=I.extra,I.back+=I.extra}I.was=I.length,I.mode=23;case 23:for(;ce=(ee=I.distcode[Y&(1<<I.distbits)-1])>>>16&255,be=65535&ee,!((ne=ee>>>24)<=Q);){if(H===0)break e;H--,Y+=N[G++]<<Q,Q+=8}if((240&ce)==0){for(he=ne,le=ce,ge=be;ce=(ee=I.distcode[ge+((Y&(1<<he+le)-1)>>he)])>>>16&255,be=65535&ee,!(he+(ne=ee>>>24)<=Q);){if(H===0)break e;H--,Y+=N[G++]<<Q,Q+=8}Y>>>=he,Q-=he,I.back+=he}if(Y>>>=ne,Q-=ne,I.back+=ne,64&ce){P.msg="invalid distance code",I.mode=30;break}I.offset=be,I.extra=15&ce,I.mode=24;case 24:if(I.extra){for(te=I.extra;Q<te;){if(H===0)break e;H--,Y+=N[G++]<<Q,Q+=8}I.offset+=Y&(1<<I.extra)-1,Y>>>=I.extra,Q-=I.extra,I.back+=I.extra}if(I.offset>I.dmax){P.msg="invalid distance too far back",I.mode=30;break}I.mode=25;case 25:if(Z===0)break e;if(V=B-Z,I.offset>V){if((V=I.offset-V)>I.whave&&I.sane){P.msg="invalid distance too far back",I.mode=30;break}X=V>I.wnext?(V-=I.wnext,I.wsize-V):I.wnext-V,V>I.length&&(V=I.length),re=I.window}else re=z,X=W-I.offset,V=I.length;for(Z<V&&(V=Z),Z-=V,I.length-=V;z[W++]=re[X++],--V;);I.length===0&&(I.mode=21);break;case 26:if(Z===0)break e;z[W++]=I.length,Z--,I.mode=21;break;case 27:if(I.wrap){for(;Q<32;){if(H===0)break e;H--,Y|=N[G++]<<Q,Q+=8}if(B-=Z,P.total_out+=B,I.total+=B,B&&(P.adler=I.check=I.flags?d(I.check,z,B,W-B):o(I.check,z,B,W-B)),B=Z,(I.flags?Y:u(Y))!==I.check){P.msg="incorrect data check",I.mode=30;break}Q=Y=0}I.mode=28;case 28:if(I.wrap&&I.flags){for(;Q<32;){if(H===0)break e;H--,Y+=N[G++]<<Q,Q+=8}if(Y!==(4294967295&I.total)){P.msg="incorrect length check",I.mode=30;break}Q=Y=0}I.mode=29;case 29:oe=1;break e;case 30:oe=-3;break e;case 31:return-4;case 32:default:return r}return P.next_out=W,P.avail_out=Z,P.next_in=G,P.avail_in=H,I.hold=Y,I.bits=Q,(I.wsize||B!==P.avail_out&&I.mode<30&&(I.mode<27||R!==4))&&A(P,P.output,P.next_out,B-P.avail_out)?(I.mode=31,-4):(M-=P.avail_in,B-=P.avail_out,P.total_in+=M,P.total_out+=B,I.total+=B,I.wrap&&B&&(P.adler=I.check=I.flags?d(I.check,z,B,P.next_out-B):o(I.check,z,B,P.next_out-B)),P.data_type=I.bits+(I.last?64:0)+(I.mode===12?128:0)+(I.mode===20||I.mode===15?256:0),(M==0&&B===0||R===4)&&oe===n&&(oe=-5),oe)},S.inflateEnd=function(P){if(!P||!P.state)return r;var R=P.state;return R.window&&(R.window=null),P.state=null,n},S.inflateGetHeader=function(P,R){var I;return P&&P.state?(2&(I=P.state).wrap)==0?r:((I.head=R).done=!1,n):r},S.inflateSetDictionary=function(P,R){var I,N=R.length;return P&&P.state?(I=P.state).wrap!==0&&I.mode!==11?r:I.mode===11&&o(1,R,N,0)!==I.check?-3:A(P,R,N,N)?(I.mode=31,-4):(I.havedict=1,n):r},S.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(T,t,S){var b=T("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],d=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],p=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(y,m,n,r,c,a,h,u){var l,g,v,x,k,E,j,C,L,A=u.bits,P=0,R=0,I=0,N=0,z=0,G=0,W=0,H=0,Z=0,Y=0,Q=null,M=0,B=new b.Buf16(16),V=new b.Buf16(16),X=null,re=0;for(P=0;P<=15;P++)B[P]=0;for(R=0;R<r;R++)B[m[n+R]]++;for(z=A,N=15;1<=N&&B[N]===0;N--);if(N<z&&(z=N),N===0)return c[a++]=20971520,c[a++]=20971520,u.bits=1,0;for(I=1;I<N&&B[I]===0;I++);for(z<I&&(z=I),P=H=1;P<=15;P++)if(H<<=1,(H-=B[P])<0)return-1;if(0<H&&(y===0||N!==1))return-1;for(V[1]=0,P=1;P<15;P++)V[P+1]=V[P]+B[P];for(R=0;R<r;R++)m[n+R]!==0&&(h[V[m[n+R]]++]=R);if(E=y===0?(Q=X=h,19):y===1?(Q=o,M-=257,X=d,re-=257,256):(Q=s,X=p,-1),P=I,k=a,W=R=Y=0,v=-1,x=(Z=1<<(G=z))-1,y===1&&852<Z||y===2&&592<Z)return 1;for(;;){for(j=P-W,L=h[R]<E?(C=0,h[R]):h[R]>E?(C=X[re+h[R]],Q[M+h[R]]):(C=96,0),l=1<<P-W,I=g=1<<G;c[k+(Y>>W)+(g-=l)]=j<<24|C<<16|L|0,g!==0;);for(l=1<<P-1;Y&l;)l>>=1;if(l!==0?(Y&=l-1,Y+=l):Y=0,R++,--B[P]==0){if(P===N)break;P=m[n+h[R]]}if(z<P&&(Y&x)!==v){for(W===0&&(W=z),k+=I,H=1<<(G=P-W);G+W<N&&!((H-=B[G+W])<=0);)G++,H<<=1;if(Z+=1<<G,y===1&&852<Z||y===2&&592<Z)return 1;c[v=Y&x]=z<<24|G<<16|k-a|0}}return Y!==0&&(c[k+Y]=P-W<<24|64<<16|0),u.bits=z,0}},{"../utils/common":41}],51:[function(T,t,S){t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(T,t,S){var b=T("../utils/common"),o=0,d=1;function s(ee){for(var ae=ee.length;0<=--ae;)ee[ae]=0}var p=0,y=29,m=256,n=m+1+y,r=30,c=19,a=2*n+1,h=15,u=16,l=7,g=256,v=16,x=17,k=18,E=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],j=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],C=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],L=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],A=new Array(2*(n+2));s(A);var P=new Array(2*r);s(P);var R=new Array(512);s(R);var I=new Array(256);s(I);var N=new Array(y);s(N);var z,G,W,H=new Array(r);function Z(ee,ae,_e,Oe,ue){this.static_tree=ee,this.extra_bits=ae,this.extra_base=_e,this.elems=Oe,this.max_length=ue,this.has_stree=ee&&ee.length}function Y(ee,ae){this.dyn_tree=ee,this.max_code=0,this.stat_desc=ae}function Q(ee){return ee<256?R[ee]:R[256+(ee>>>7)]}function M(ee,ae){ee.pending_buf[ee.pending++]=255&ae,ee.pending_buf[ee.pending++]=ae>>>8&255}function B(ee,ae,_e){ee.bi_valid>u-_e?(ee.bi_buf|=ae<<ee.bi_valid&65535,M(ee,ee.bi_buf),ee.bi_buf=ae>>u-ee.bi_valid,ee.bi_valid+=_e-u):(ee.bi_buf|=ae<<ee.bi_valid&65535,ee.bi_valid+=_e)}function V(ee,ae,_e){B(ee,_e[2*ae],_e[2*ae+1])}function X(ee,ae){for(var _e=0;_e|=1&ee,ee>>>=1,_e<<=1,0<--ae;);return _e>>>1}function re(ee,ae,_e){var Oe,ue,je=new Array(h+1),Me=0;for(Oe=1;Oe<=h;Oe++)je[Oe]=Me=Me+_e[Oe-1]<<1;for(ue=0;ue<=ae;ue++){var Le=ee[2*ue+1];Le!==0&&(ee[2*ue]=X(je[Le]++,Le))}}function ne(ee){var ae;for(ae=0;ae<n;ae++)ee.dyn_ltree[2*ae]=0;for(ae=0;ae<r;ae++)ee.dyn_dtree[2*ae]=0;for(ae=0;ae<c;ae++)ee.bl_tree[2*ae]=0;ee.dyn_ltree[2*g]=1,ee.opt_len=ee.static_len=0,ee.last_lit=ee.matches=0}function ce(ee){8<ee.bi_valid?M(ee,ee.bi_buf):0<ee.bi_valid&&(ee.pending_buf[ee.pending++]=ee.bi_buf),ee.bi_buf=0,ee.bi_valid=0}function be(ee,ae,_e,Oe){var ue=2*ae,je=2*_e;return ee[ue]<ee[je]||ee[ue]===ee[je]&&Oe[ae]<=Oe[_e]}function he(ee,ae,_e){for(var Oe=ee.heap[_e],ue=_e<<1;ue<=ee.heap_len&&(ue<ee.heap_len&&be(ae,ee.heap[ue+1],ee.heap[ue],ee.depth)&&ue++,!be(ae,Oe,ee.heap[ue],ee.depth));)ee.heap[_e]=ee.heap[ue],_e=ue,ue<<=1;ee.heap[_e]=Oe}function le(ee,ae,_e){var Oe,ue,je,Me,Le=0;if(ee.last_lit!==0)for(;Oe=ee.pending_buf[ee.d_buf+2*Le]<<8|ee.pending_buf[ee.d_buf+2*Le+1],ue=ee.pending_buf[ee.l_buf+Le],Le++,Oe===0?V(ee,ue,ae):(V(ee,(je=I[ue])+m+1,ae),(Me=E[je])!==0&&B(ee,ue-=N[je],Me),V(ee,je=Q(--Oe),_e),(Me=j[je])!==0&&B(ee,Oe-=H[je],Me)),Le<ee.last_lit;);V(ee,g,ae)}function ge(ee,ae){var _e,Oe,ue,je=ae.dyn_tree,Me=ae.stat_desc.static_tree,Le=ae.stat_desc.has_stree,qe=ae.stat_desc.elems,Ye=-1;for(ee.heap_len=0,ee.heap_max=a,_e=0;_e<qe;_e++)je[2*_e]!==0?(ee.heap[++ee.heap_len]=Ye=_e,ee.depth[_e]=0):je[2*_e+1]=0;for(;ee.heap_len<2;)je[2*(ue=ee.heap[++ee.heap_len]=Ye<2?++Ye:0)]=1,ee.depth[ue]=0,ee.opt_len--,Le&&(ee.static_len-=Me[2*ue+1]);for(ae.max_code=Ye,_e=ee.heap_len>>1;1<=_e;_e--)he(ee,je,_e);for(ue=qe;_e=ee.heap[1],ee.heap[1]=ee.heap[ee.heap_len--],he(ee,je,1),Oe=ee.heap[1],ee.heap[--ee.heap_max]=_e,ee.heap[--ee.heap_max]=Oe,je[2*ue]=je[2*_e]+je[2*Oe],ee.depth[ue]=(ee.depth[_e]>=ee.depth[Oe]?ee.depth[_e]:ee.depth[Oe])+1,je[2*_e+1]=je[2*Oe+1]=ue,ee.heap[1]=ue++,he(ee,je,1),2<=ee.heap_len;);ee.heap[--ee.heap_max]=ee.heap[1],function(Ee,Xe){var De,ie,pe,$,de,Se,Ie=Xe.dyn_tree,Ue=Xe.max_code,et=Xe.stat_desc.static_tree,lt=Xe.stat_desc.has_stree,it=Xe.stat_desc.extra_bits,ct=Xe.stat_desc.extra_base,Ct=Xe.stat_desc.max_length,wt=0;for($=0;$<=h;$++)Ee.bl_count[$]=0;for(Ie[2*Ee.heap[Ee.heap_max]+1]=0,De=Ee.heap_max+1;De<a;De++)Ct<($=Ie[2*Ie[2*(ie=Ee.heap[De])+1]+1]+1)&&($=Ct,wt++),Ie[2*ie+1]=$,Ue<ie||(Ee.bl_count[$]++,de=0,ct<=ie&&(de=it[ie-ct]),Se=Ie[2*ie],Ee.opt_len+=Se*($+de),lt&&(Ee.static_len+=Se*(et[2*ie+1]+de)));if(wt!==0){do{for($=Ct-1;Ee.bl_count[$]===0;)$--;Ee.bl_count[$]--,Ee.bl_count[$+1]+=2,Ee.bl_count[Ct]--,wt-=2}while(0<wt);for($=Ct;$!==0;$--)for(ie=Ee.bl_count[$];ie!==0;)Ue<(pe=Ee.heap[--De])||(Ie[2*pe+1]!==$&&(Ee.opt_len+=($-Ie[2*pe+1])*Ie[2*pe],Ie[2*pe+1]=$),ie--)}}(ee,ae),re(je,Ye,ee.bl_count)}function U(ee,ae,_e){var Oe,ue,je=-1,Me=ae[1],Le=0,qe=7,Ye=4;for(Me===0&&(qe=138,Ye=3),ae[2*(_e+1)+1]=65535,Oe=0;Oe<=_e;Oe++)ue=Me,Me=ae[2*(Oe+1)+1],++Le<qe&&ue===Me||(Le<Ye?ee.bl_tree[2*ue]+=Le:ue!==0?(ue!==je&&ee.bl_tree[2*ue]++,ee.bl_tree[2*v]++):Le<=10?ee.bl_tree[2*x]++:ee.bl_tree[2*k]++,je=ue,Ye=(Le=0)===Me?(qe=138,3):ue===Me?(qe=6,3):(qe=7,4))}function oe(ee,ae,_e){var Oe,ue,je=-1,Me=ae[1],Le=0,qe=7,Ye=4;for(Me===0&&(qe=138,Ye=3),Oe=0;Oe<=_e;Oe++)if(ue=Me,Me=ae[2*(Oe+1)+1],!(++Le<qe&&ue===Me)){if(Le<Ye)for(;V(ee,ue,ee.bl_tree),--Le!=0;);else ue!==0?(ue!==je&&(V(ee,ue,ee.bl_tree),Le--),V(ee,v,ee.bl_tree),B(ee,Le-3,2)):Le<=10?(V(ee,x,ee.bl_tree),B(ee,Le-3,3)):(V(ee,k,ee.bl_tree),B(ee,Le-11,7));je=ue,Ye=(Le=0)===Me?(qe=138,3):ue===Me?(qe=6,3):(qe=7,4)}}s(H);var fe=!1;function te(ee,ae,_e,Oe){B(ee,(p<<1)+(Oe?1:0),3),function(ue,je,Me,Le){ce(ue),M(ue,Me),M(ue,~Me),b.arraySet(ue.pending_buf,ue.window,je,Me,ue.pending),ue.pending+=Me}(ee,ae,_e)}S._tr_init=function(ee){fe||(function(){var ae,_e,Oe,ue,je,Me=new Array(h+1);for(ue=Oe=0;ue<y-1;ue++)for(N[ue]=Oe,ae=0;ae<1<<E[ue];ae++)I[Oe++]=ue;for(I[Oe-1]=ue,ue=je=0;ue<16;ue++)for(H[ue]=je,ae=0;ae<1<<j[ue];ae++)R[je++]=ue;for(je>>=7;ue<r;ue++)for(H[ue]=je<<7,ae=0;ae<1<<j[ue]-7;ae++)R[256+je++]=ue;for(_e=0;_e<=h;_e++)Me[_e]=0;for(ae=0;ae<=143;)A[2*ae+1]=8,ae++,Me[8]++;for(;ae<=255;)A[2*ae+1]=9,ae++,Me[9]++;for(;ae<=279;)A[2*ae+1]=7,ae++,Me[7]++;for(;ae<=287;)A[2*ae+1]=8,ae++,Me[8]++;for(re(A,n+1,Me),ae=0;ae<r;ae++)P[2*ae+1]=5,P[2*ae]=X(ae,5);z=new Z(A,E,m+1,n,h),G=new Z(P,j,0,r,h),W=new Z(new Array(0),C,0,c,l)}(),fe=!0),ee.l_desc=new Y(ee.dyn_ltree,z),ee.d_desc=new Y(ee.dyn_dtree,G),ee.bl_desc=new Y(ee.bl_tree,W),ee.bi_buf=0,ee.bi_valid=0,ne(ee)},S._tr_stored_block=te,S._tr_flush_block=function(ee,ae,_e,Oe){var ue,je,Me=0;0<ee.level?(ee.strm.data_type===2&&(ee.strm.data_type=function(Le){var qe,Ye=4093624447;for(qe=0;qe<=31;qe++,Ye>>>=1)if(1&Ye&&Le.dyn_ltree[2*qe]!==0)return o;if(Le.dyn_ltree[18]!==0||Le.dyn_ltree[20]!==0||Le.dyn_ltree[26]!==0)return d;for(qe=32;qe<m;qe++)if(Le.dyn_ltree[2*qe]!==0)return d;return o}(ee)),ge(ee,ee.l_desc),ge(ee,ee.d_desc),Me=function(Le){var qe;for(U(Le,Le.dyn_ltree,Le.l_desc.max_code),U(Le,Le.dyn_dtree,Le.d_desc.max_code),ge(Le,Le.bl_desc),qe=c-1;3<=qe&&Le.bl_tree[2*L[qe]+1]===0;qe--);return Le.opt_len+=3*(qe+1)+5+5+4,qe}(ee),ue=ee.opt_len+3+7>>>3,(je=ee.static_len+3+7>>>3)<=ue&&(ue=je)):ue=je=_e+5,_e+4<=ue&&ae!==-1?te(ee,ae,_e,Oe):ee.strategy===4||je===ue?(B(ee,2+(Oe?1:0),3),le(ee,A,P)):(B(ee,4+(Oe?1:0),3),function(Le,qe,Ye,Ee){var Xe;for(B(Le,qe-257,5),B(Le,Ye-1,5),B(Le,Ee-4,4),Xe=0;Xe<Ee;Xe++)B(Le,Le.bl_tree[2*L[Xe]+1],3);oe(Le,Le.dyn_ltree,qe-1),oe(Le,Le.dyn_dtree,Ye-1)}(ee,ee.l_desc.max_code+1,ee.d_desc.max_code+1,Me+1),le(ee,ee.dyn_ltree,ee.dyn_dtree)),ne(ee),Oe&&ce(ee)},S._tr_tally=function(ee,ae,_e){return ee.pending_buf[ee.d_buf+2*ee.last_lit]=ae>>>8&255,ee.pending_buf[ee.d_buf+2*ee.last_lit+1]=255&ae,ee.pending_buf[ee.l_buf+ee.last_lit]=255&_e,ee.last_lit++,ae===0?ee.dyn_ltree[2*_e]++:(ee.matches++,ae--,ee.dyn_ltree[2*(I[_e]+m+1)]++,ee.dyn_dtree[2*Q(ae)]++),ee.last_lit===ee.lit_bufsize-1},S._tr_align=function(ee){B(ee,2,3),V(ee,g,A),function(ae){ae.bi_valid===16?(M(ae,ae.bi_buf),ae.bi_buf=0,ae.bi_valid=0):8<=ae.bi_valid&&(ae.pending_buf[ae.pending++]=255&ae.bi_buf,ae.bi_buf>>=8,ae.bi_valid-=8)}(ee)}},{"../utils/common":41}],53:[function(T,t,S){t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(T,t,S){(function(b){(function(o,d){if(!o.setImmediate){var s,p,y,m,n=1,r={},c=!1,a=o.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(o);h=h&&h.setTimeout?h:o,s={}.toString.call(o.process)==="[object process]"?function(v){process.nextTick(function(){l(v)})}:function(){if(o.postMessage&&!o.importScripts){var v=!0,x=o.onmessage;return o.onmessage=function(){v=!1},o.postMessage("","*"),o.onmessage=x,v}}()?(m="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",g,!1):o.attachEvent("onmessage",g),function(v){o.postMessage(m+v,"*")}):o.MessageChannel?((y=new MessageChannel).port1.onmessage=function(v){l(v.data)},function(v){y.port2.postMessage(v)}):a&&"onreadystatechange"in a.createElement("script")?(p=a.documentElement,function(v){var x=a.createElement("script");x.onreadystatechange=function(){l(v),x.onreadystatechange=null,p.removeChild(x),x=null},p.appendChild(x)}):function(v){setTimeout(l,0,v)},h.setImmediate=function(v){typeof v!="function"&&(v=new Function(""+v));for(var x=new Array(arguments.length-1),k=0;k<x.length;k++)x[k]=arguments[k+1];var E={callback:v,args:x};return r[n]=E,s(n),n++},h.clearImmediate=u}function u(v){delete r[v]}function l(v){if(c)setTimeout(l,0,v);else{var x=r[v];if(x){c=!0;try{(function(k){var E=k.callback,j=k.args;switch(j.length){case 0:E();break;case 1:E(j[0]);break;case 2:E(j[0],j[1]);break;case 3:E(j[0],j[1],j[2]);break;default:E.apply(d,j)}})(x)}finally{u(v),c=!1}}}}function g(v){v.source===o&&typeof v.data=="string"&&v.data.indexOf(m)===0&&l(+v.data.slice(m.length))}})(typeof self>"u"?b===void 0?this:b:self)}).call(this,typeof lo<"u"?lo:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(aa)),aa.exports}var fh=dh();const hh=Da(fh),ph=20,mh={__name:"MainCanvas",setup(f){const w=new URL("/card-generator/assets/SedgwickAveDisplay-Regular-DGCqVFCz.ttf",import.meta.url).href,T=new URL("/card-generator/assets/bg-U1dSdFgd.png",import.meta.url).href,t=new URL("/card-generator/assets/textbg-BPHEs65Q.png",import.meta.url).href,S=new URL("/card-generator/assets/default-draw-RthJiy27.png",import.meta.url).href,b=new URL("/card-generator/assets/default-avatar-rT1zdTCV.png",import.meta.url).href,o={WIDTH:1088,HEIGHT:407},d={WIDTH:1080,HEIGHT:1700,PADDING:50},s=ts(),p=Rs(),{PEN_SIZE_MIN:y,PEN_SIZE_MAX:m,ERASER_SIZE_MIN:n,ERASER_SIZE_MAX:r,AVATAR_SIZE_MAX:c,AVATAR_SIZE_MIN:a}=p,h=On("bus"),u=ws("mainCanvas"),{width:l,height:g}=Wf(u),v=Pe(()=>{const j=l.value-d.PADDING,C=g.value-d.PADDING,L=d.WIDTH/d.HEIGHT;let A=Math.min(j,540),P=A/L;return P>C&&(P=C,A=P*L),{width:Math.floor(A),height:Math.floor(P)}});_t(v,async()=>{x&&x.updateDisplay&&(await Zr(),x.updateDisplay())},{deep:!0});let x=null,k=null;const E=async j=>{const C={bg:null,draw:null,avatar:null,text:null};let L=null,A=null,P=null,R=null,I=null,N=null,z=!0,G=!1;const W={x:d.WIDTH/2,y:d.HEIGHT/2};j.preload=()=>{A=j.loadFont(w),P=j.loadImage(T),I=j.loadImage(S),R=j.loadImage(t)},j.setup=async()=>{L=j.createCanvas(d.WIDTH,d.HEIGHT),L.parent(u.value),j.background(100),j.pixelDensity(1),L.mouseOut(()=>{G=!1}),L.mouseOver(()=>{G=!0}),C.bg=j.createGraphics(d.WIDTH,d.HEIGHT),C.draw=j.createGraphics(d.WIDTH,d.HEIGHT,j.WEBGL),C.draw.background(0),C.draw.image(I,-W.x,-W.y,d.WIDTH,d.HEIGHT),ih(j),nc(C.draw),k=new Xf(ph,C.draw,W),C.avatar=j.createGraphics(d.WIDTH,d.HEIGHT),N=new Kf(C.avatar,d,j),N.image=j.createImg(b,"Avatar Image"),N.image.hide(),N.image.elt.onload=()=>{N.set(),N.draw(),H()},C.text=j.createGraphics(d.WIDTH,d.HEIGHT),C.text.textAlign(j.CENTER,j.CENTER),Y(),Q(),Z()};const H=()=>{z=!0,j.isLooping()||j.loop()};j.draw=()=>{if(!(!z&&!N.dragging)){if(j.clear(),j.image(C.bg,0,0),j.mouseIsPressed&&(s.tool==="pen"?(Dl("rotring"),Fl(s.penSize*2),Nl("white"),Bl(j.mouseX-W.x,j.mouseY-W.y,j.pmouseX-W.x,j.pmouseY-W.y)):s.tool==="eraser"&&(Dl("rotring"),Fl(s.eraserSize*2),Nl("black"),Bl(j.mouseX-W.x,j.mouseY-W.y,j.pmouseX-W.x,j.pmouseY-W.y))),N.image){if(N.dragging){const B=j.touches.length>0?j.touches[0].x:j.mouseX,V=j.touches.length>0?j.touches[0].y:j.mouseY;N.drag(B,V),N.draw()}j.image(C.avatar,0,0)}j.blendMode(j.LIGHTEST),j.image(C.draw,0,0),j.blendMode(j.BLEND),j.image(C.text,0,0),M(),z=N.dragging||j.mouseIsPressed||G,z||j.noLoop()}},j.keyPressed=()=>{j.keyIsDown(j.CONTROL)&&(j.keyIsDown(90)?(k.undo(),H()):j.keyIsDown(89)&&(k.redo(),H()))},j.mousePressed=()=>{G&&s.tool==="avatar"&&(H(),C.avatar.get(j.mouseX,j.mouseY)[3]>0&&(N.dragging=!0,N.dragOffsetX=N.x-j.mouseX,N.dragOffsetY=N.y-j.mouseY))},j.mouseReleased=()=>{G&&(s.tool==="pen"||s.tool==="eraser")?(k.capture(),H()):s.tool==="avatar"&&N.dragging&&(N.dragging=!1,H())},j.mouseMoved=()=>{G&&H()},j.mouseWheel=B=>{if(B.delta>0)switch(s.tool){case"pen":s.penSize<m&&s.penSize++;break;case"eraser":s.eraserSize<r&&s.eraserSize++;break;case"avatar":s.avatarSize<c&&(s.avatarSize++,N.size=s.avatarSize/100,N.draw(),H());break}else if(B.delta<0)switch(s.tool){case"pen":s.penSize>y&&s.penSize--;break;case"eraser":s.eraserSize>n&&s.eraserSize--;break;case"avatar":s.avatarSize>a&&(s.avatarSize--,N.size=s.avatarSize/100,N.draw(),H());break}return!1},j.touchStarted=()=>{G=j.touches[0].x>=0&&j.touches[0].x<=d.WIDTH&&j.touches[0].y>=0&&j.touches[0].y<=d.HEIGHT,G&&(H(),s.tool==="avatar"&&C.avatar.get(j.touches[0].x,j.touches[0].y)[3]>0&&(N.dragging=!0,N.dragOffsetX=N.x-j.touches[0].x,N.dragOffsetY=N.y-j.touches[0].y))},j.touchEnded=()=>{G&&(s.tool==="pen"||s.tool==="eraser"?(k.capture(),H()):s.tool==="avatar"&&N.dragging&&(N.dragging=!1,H())),G=!1},j.touchMoved=()=>{if(j.touches.length!==0)return G=j.touches[0].x>=0&&j.touches[0].x<=d.WIDTH&&j.touches[0].y>=0&&j.touches[0].y<=d.HEIGHT,G&&N.dragging&&H(),!1};const Z=()=>{j.noLoop(),L&&(L.elt.style.width=`${v.value.width}px`,L.elt.style.height=`${v.value.height}px`),H()};j.updateDisplay=Z;const Y=()=>{C.bg.clear(),C.bg.background(s.bgColor),C.bg.blendMode(j.MULTIPLY),C.bg.image(P,0,0,d.WIDTH,d.HEIGHT),C.bg.blendMode(j.BLEND),H()},Q=()=>{C.text.clear(),C.text.push(),C.text.translate(d.WIDTH/2,d.HEIGHT/2),C.text.rotate(.15),C.text.image(R,-250-d.WIDTH/2,1200-d.HEIGHT/2,o.WIDTH*1.6,o.HEIGHT*1),C.text.fill(s.bgColor);const B=C.text.canvas.getContext("2d");B.textBaseline="middle";let V=300;const X=d.WIDTH-20;C.text.textFont(A,V);let re=B.measureText(s.name).width;for(;re>X&&V>1;)V-=.5,C.text.textFont(A,V),re=B.measureText(s.name).width;C.text.text(s.name,80,1390-d.HEIGHT/2),C.text.blendMode(j.MULTIPLY),C.text.fill(170),C.text.textAlign(j.CENTER,j.CENTER),C.text.text(s.name,80,1390-d.HEIGHT/2),C.text.blendMode(j.BLEND),C.text.pop(),H()},M=()=>{s.tool==="pen"||s.tool==="eraser"?j.cursor("crosshair"):s.tool==="avatar"?j.cursor("move"):j.cursor("default")};h.on("undo",()=>{k.undo(),H()}),h.on("redo",()=>{k.redo(),H()}),h.on("clear",()=>{C.draw.clear(),C.draw.background(0),k.capture(),H()}),h.on("cropAvatar",()=>{N.image&&N.image.remove(),N.image=j.createImg(s.avatarImage,"Avatar Image"),N.image.hide(),N.image.elt.onload=()=>{N.set(),N.draw(),H()}}),h.on("removeAvatar",()=>{N.image&&(N.image.remove(),N.image=null,N.layer.clear()),N.draw(),H()}),h.on("setAvatarBorderSize",()=>{N.borderSize=s.avatarBorderSize,N.draw(),H()}),h.on("setAvatarSize",()=>{N.size=s.avatarSize/100,N.draw(),H()}),h.on("setBgColor",()=>{Y(),Q()}),h.on("setName",()=>{Q()}),h.on("download",()=>{j.saveCanvas("result.png")}),h.on("downloadLayer",()=>{const B=new hh;B.file("bg.png",C.bg.canvas.toDataURL("image/png").split(",")[1],{base64:!0}),B.file("draw.png",C.draw.canvas.toDataURL("image/png").split(",")[1],{base64:!0}),B.file("avatar.png",C.avatar.canvas.toDataURL("image/png").split(",")[1],{base64:!0}),B.file("text.png",C.text.canvas.toDataURL("image/png").split(",")[1],{base64:!0}),B.generateAsync({type:"blob"}).then(V=>{const X=document.createElement("a");X.href=URL.createObjectURL(V),X.download="layers.zip",document.body.appendChild(X),X.click(),document.body.removeChild(X)})})};return An(async()=>{await Zr(),Pl.disableFriendlyErrors=!0,x=new Pl(E)}),(j,C)=>(Nt(),Lr("div",{id:"main-canvas",ref_key:"mainCanvas",ref:u},null,512))}},yh=Aa(mh,[["__scopeId","data-v-87f74966"]]),Bt=er({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(f,{slots:w}){const T=Pe(()=>`q-item__section column q-item__section--${f.avatar===!0||f.side===!0||f.thumbnail===!0?"side":"main"}`+(f.top===!0?" q-item__section--top justify-start":" justify-center")+(f.avatar===!0?" q-item__section--avatar":"")+(f.thumbnail===!0?" q-item__section--thumbnail":"")+(f.noWrap===!0?" q-item__section--nowrap":""));return()=>He("div",{class:T.value},xr(w.default))}}),Fa={name:String};function gh(f){return Pe(()=>({type:"hidden",name:f.name,value:f.modelValue}))}function uc(f={}){return(w,T,t)=>{w[T](He("input",{class:"hidden"+(t||""),...f.value}))}}function vh(f){return Pe(()=>f.name||f.for)}const Ba={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},bh=Object.keys(Ba);Ba.all=!0;function pi(f){const w={};for(const T of bh)f[T]===!0&&(w[T]=!0);return Object.keys(w).length===0?Ba:(w.horizontal===!0?w.left=w.right=!0:w.left===!0&&w.right===!0&&(w.horizontal=!0),w.vertical===!0?w.up=w.down=!0:w.up===!0&&w.down===!0&&(w.vertical=!0),w.horizontal===!0&&w.vertical===!0&&(w.all=!0),w)}const _h=["INPUT","TEXTAREA"];function mi(f,w){return w.event===void 0&&f.target!==void 0&&f.target.draggable!==!0&&typeof w.handler=="function"&&_h.includes(f.target.nodeName.toUpperCase())===!1&&(f.qClonedBy===void 0||f.qClonedBy.indexOf(w.uid)===-1)}function Ua(){if(window.getSelection!==void 0){const f=window.getSelection();f.empty!==void 0?f.empty():f.removeAllRanges!==void 0&&(f.removeAllRanges(),Jd.is.mobile!==!0&&f.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}function la(f,w,T){const t=Oo(f);let S,b=t.left-w.event.x,o=t.top-w.event.y,d=Math.abs(b),s=Math.abs(o);const p=w.direction;p.horizontal===!0&&p.vertical!==!0?S=b<0?"left":"right":p.horizontal!==!0&&p.vertical===!0?S=o<0?"up":"down":p.up===!0&&o<0?(S="up",d>s&&(p.left===!0&&b<0?S="left":p.right===!0&&b>0&&(S="right"))):p.down===!0&&o>0?(S="down",d>s&&(p.left===!0&&b<0?S="left":p.right===!0&&b>0&&(S="right"))):p.left===!0&&b<0?(S="left",d<s&&(p.up===!0&&o<0?S="up":p.down===!0&&o>0&&(S="down"))):p.right===!0&&b>0&&(S="right",d<s&&(p.up===!0&&o<0?S="up":p.down===!0&&o>0&&(S="down")));let y=!1;if(S===void 0&&T===!1){if(w.event.isFirst===!0||w.event.lastDir===void 0)return{};S=w.event.lastDir,y=!0,S==="left"||S==="right"?(t.left-=b,d=0,b=0):(t.top-=o,s=0,o=0)}return{synthetic:y,payload:{evt:f,touch:w.event.mouse!==!0,mouse:w.event.mouse===!0,position:t,direction:S,isFirst:w.event.isFirst,isFinal:T===!0,duration:Date.now()-w.event.time,distance:{x:d,y:s},offset:{x:b,y:o},delta:{x:t.left-w.event.lastX,y:t.top-w.event.lastY}}}}let xh=0;const bs=Gu({name:"touch-pan",beforeMount(f,{value:w,modifiers:T}){if(T.mouse!==!0&&Fr.has.touch!==!0)return;function t(b,o){T.mouse===!0&&o===!0?Fn(b):(T.stop===!0&&Cn(b),T.prevent===!0&&Zn(b))}const S={uid:"qvtp_"+xh++,handler:w,modifiers:T,direction:pi(T),noop:Hu,mouseStart(b){mi(b,S)&&qu(b)&&(Vn(S,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),S.start(b,!0))},touchStart(b){if(mi(b,S)){const o=b.target;Vn(S,"temp",[[o,"touchmove","move","notPassiveCapture"],[o,"touchcancel","end","passiveCapture"],[o,"touchend","end","passiveCapture"]]),S.start(b)}},start(b,o){if(Fr.is.firefox===!0&&qo(f,!0),S.lastEvt=b,o===!0||T.stop===!0){if(S.direction.all!==!0&&(o!==!0||S.modifiers.mouseAllDir!==!0&&S.modifiers.mousealldir!==!0)){const p=b.type.indexOf("mouse")!==-1?new MouseEvent(b.type,b):new TouchEvent(b.type,b);b.defaultPrevented===!0&&Zn(p),b.cancelBubble===!0&&Cn(p),Object.assign(p,{qKeyEvent:b.qKeyEvent,qClickOutside:b.qClickOutside,qAnchorHandled:b.qAnchorHandled,qClonedBy:b.qClonedBy===void 0?[S.uid]:b.qClonedBy.concat(S.uid)}),S.initialEvent={target:b.target,event:p}}Cn(b)}const{left:d,top:s}=Oo(b);S.event={x:d,y:s,time:Date.now(),mouse:o===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:d,lastY:s}},move(b){if(S.event===void 0)return;const o=Oo(b),d=o.left-S.event.x,s=o.top-S.event.y;if(d===0&&s===0)return;S.lastEvt=b;const p=S.event.mouse===!0,y=()=>{t(b,p);let r;T.preserveCursor!==!0&&T.preservecursor!==!0&&(r=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),p===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Ua(),S.styleCleanup=c=>{if(S.styleCleanup=void 0,r!==void 0&&(document.documentElement.style.cursor=r),document.body.classList.remove("non-selectable"),p===!0){const a=()=>{document.body.classList.remove("no-pointer-events--children")};c!==void 0?setTimeout(()=>{a(),c()},50):a()}else c!==void 0&&c()}};if(S.event.detected===!0){S.event.isFirst!==!0&&t(b,S.event.mouse);const{payload:r,synthetic:c}=la(b,S,!1);r!==void 0&&(S.handler(r)===!1?S.end(b):(S.styleCleanup===void 0&&S.event.isFirst===!0&&y(),S.event.lastX=r.position.left,S.event.lastY=r.position.top,S.event.lastDir=c===!0?void 0:r.direction,S.event.isFirst=!1));return}if(S.direction.all===!0||p===!0&&(S.modifiers.mouseAllDir===!0||S.modifiers.mousealldir===!0)){y(),S.event.detected=!0,S.move(b);return}const m=Math.abs(d),n=Math.abs(s);m!==n&&(S.direction.horizontal===!0&&m>n||S.direction.vertical===!0&&m<n||S.direction.up===!0&&m<n&&s<0||S.direction.down===!0&&m<n&&s>0||S.direction.left===!0&&m>n&&d<0||S.direction.right===!0&&m>n&&d>0?(S.event.detected=!0,S.move(b)):S.end(b,!0))},end(b,o){if(S.event!==void 0){if(jo(S,"temp"),Fr.is.firefox===!0&&qo(f,!1),o===!0)S.styleCleanup?.(),S.event.detected!==!0&&S.initialEvent!==void 0&&S.initialEvent.target.dispatchEvent(S.initialEvent.event);else if(S.event.detected===!0){S.event.isFirst===!0&&S.handler(la(b===void 0?S.lastEvt:b,S).payload);const{payload:d}=la(b===void 0?S.lastEvt:b,S,!0),s=()=>{S.handler(d)};S.styleCleanup!==void 0?S.styleCleanup(s):s()}S.event=void 0,S.initialEvent=void 0,S.lastEvt=void 0}}};if(f.__qtouchpan=S,T.mouse===!0){const b=T.mouseCapture===!0||T.mousecapture===!0?"Capture":"";Vn(S,"main",[[f,"mousedown","mouseStart",`passive${b}`]])}Fr.has.touch===!0&&Vn(S,"main",[[f,"touchstart","touchStart",`passive${T.capture===!0?"Capture":""}`],[f,"touchmove","noop","notPassiveCapture"]])},updated(f,w){const T=f.__qtouchpan;T!==void 0&&(w.oldValue!==w.value&&(typeof value!="function"&&T.end(),T.handler=w.value),T.direction=pi(w.modifiers))},beforeUnmount(f){const w=f.__qtouchpan;w!==void 0&&(w.event!==void 0&&w.end(),jo(w,"main"),jo(w,"temp"),Fr.is.firefox===!0&&qo(f,!1),w.styleCleanup?.(),delete f.__qtouchpan)}}),Bn={dark:{type:Boolean,default:null}};function Un(f,w){return Pe(()=>f.dark===null?w.dark.isActive:f.dark)}function Hn(f,w,T){return T<=w?w:Math.min(T,Math.max(w,f))}const zl="q-slider__marker-labels",wh=f=>({value:f}),Sh=({marker:f})=>He("div",{key:f.value,style:f.style,class:f.classes},f.label),cc=[34,37,40,33,39,38],jh={...Bn,...Fa,min:{type:Number,default:0},max:{type:Number,default:100},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:f=>f>=0},snap:Boolean,vertical:Boolean,reverse:Boolean,color:String,markerLabelsClass:String,label:Boolean,labelColor:String,labelTextColor:String,labelAlways:Boolean,switchLabelSide:Boolean,markers:[Boolean,Number],markerLabels:[Boolean,Array,Object,Function],switchMarkerLabelsSide:Boolean,trackImg:String,trackColor:String,innerTrackImg:String,innerTrackColor:String,selectionColor:String,selectionImg:String,thumbSize:{type:String,default:"20px"},trackSize:{type:String,default:"4px"},disable:Boolean,readonly:Boolean,dense:Boolean,tabindex:[String,Number],thumbColor:String,thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}},Eh=["pan","update:modelValue","change"];function Th({updateValue:f,updatePosition:w,getDragging:T,formAttrs:t}){const{props:S,emit:b,slots:o,proxy:{$q:d}}=qt(),s=Un(S,d),p=uc(t),y=pt(!1),m=pt(!1),n=pt(!1),r=pt(!1),c=Pe(()=>S.vertical===!0?"--v":"--h"),a=Pe(()=>"-"+(S.switchLabelSide===!0?"switched":"standard")),h=Pe(()=>S.vertical===!0?S.reverse===!0:S.reverse!==(d.lang.rtl===!0)),u=Pe(()=>isNaN(S.innerMin)===!0||S.innerMin<S.min?S.min:S.innerMin),l=Pe(()=>isNaN(S.innerMax)===!0||S.innerMax>S.max?S.max:S.innerMax),g=Pe(()=>S.disable!==!0&&S.readonly!==!0&&u.value<l.value),v=Pe(()=>{if(S.step===0)return de=>de;const $=(String(S.step).trim().split(".")[1]||"").length;return de=>parseFloat(de.toFixed($))}),x=Pe(()=>S.step===0?1:S.step),k=Pe(()=>g.value===!0?S.tabindex||0:-1),E=Pe(()=>S.max-S.min),j=Pe(()=>l.value-u.value),C=Pe(()=>he(u.value)),L=Pe(()=>he(l.value)),A=Pe(()=>S.vertical===!0?h.value===!0?"bottom":"top":h.value===!0?"right":"left"),P=Pe(()=>S.vertical===!0?"height":"width"),R=Pe(()=>S.vertical===!0?"width":"height"),I=Pe(()=>S.vertical===!0?"vertical":"horizontal"),N=Pe(()=>{const $={role:"slider","aria-valuemin":u.value,"aria-valuemax":l.value,"aria-orientation":I.value,"data-step":S.step};return S.disable===!0?$["aria-disabled"]="true":S.readonly===!0&&($["aria-readonly"]="true"),$}),z=Pe(()=>`q-slider q-slider${c.value} q-slider--${y.value===!0?"":"in"}active inline no-wrap `+(S.vertical===!0?"row":"column")+(S.disable===!0?" disabled":" q-slider--enabled"+(g.value===!0?" q-slider--editable":""))+(n.value==="both"?" q-slider--focus":"")+(S.label||S.labelAlways===!0?" q-slider--label":"")+(S.labelAlways===!0?" q-slider--label-always":"")+(s.value===!0?" q-slider--dark":"")+(S.dense===!0?" q-slider--dense q-slider--dense"+c.value:""));function G($){const de="q-slider__"+$;return`${de} ${de}${c.value} ${de}${c.value}${a.value}`}function W($){const de="q-slider__"+$;return`${de} ${de}${c.value}`}const H=Pe(()=>{const $=S.selectionColor||S.color;return"q-slider__selection absolute"+($!==void 0?` text-${$}`:"")}),Z=Pe(()=>W("markers")+" absolute overflow-hidden"),Y=Pe(()=>W("track-container")),Q=Pe(()=>G("pin")),M=Pe(()=>G("label")),B=Pe(()=>G("text-container")),V=Pe(()=>G("marker-labels-container")+(S.markerLabelsClass!==void 0?` ${S.markerLabelsClass}`:"")),X=Pe(()=>"q-slider__track relative-position no-outline"+(S.trackColor!==void 0?` bg-${S.trackColor}`:"")),re=Pe(()=>{const $={[R.value]:S.trackSize};return S.trackImg!==void 0&&($.backgroundImage=`url(${S.trackImg}) !important`),$}),ne=Pe(()=>"q-slider__inner absolute"+(S.innerTrackColor!==void 0?` bg-${S.innerTrackColor}`:"")),ce=Pe(()=>{const $=L.value-C.value,de={[A.value]:`${100*C.value}%`,[P.value]:$===0?"2px":`${100*$}%`};return S.innerTrackImg!==void 0&&(de.backgroundImage=`url(${S.innerTrackImg}) !important`),de});function be($){const{min:de,max:Se,step:Ie}=S;let Ue=de+$*(Se-de);if(Ie>0){const et=(Ue-u.value)%Ie;Ue+=(Math.abs(et)>=Ie/2?(et<0?-1:1)*Ie:0)-et}return Ue=v.value(Ue),Hn(Ue,u.value,l.value)}function he($){return E.value===0?0:($-S.min)/E.value}function le($,de){const Se=Oo($),Ie=S.vertical===!0?Hn((Se.top-de.top)/de.height,0,1):Hn((Se.left-de.left)/de.width,0,1);return Hn(h.value===!0?1-Ie:Ie,C.value,L.value)}const ge=Pe(()=>ef(S.markers)===!0?S.markers:x.value),U=Pe(()=>{const $=[],de=ge.value,Se=S.max;let Ie=S.min;do $.push(Ie),Ie+=de;while(Ie<Se);return $.push(Se),$}),oe=Pe(()=>{const $=` ${zl}${c.value}-`;return zl+`${$}${S.switchMarkerLabelsSide===!0?"switched":"standard"}${$}${h.value===!0?"rtl":"ltr"}`}),fe=Pe(()=>S.markerLabels===!1?null:ae(S.markerLabels).map(($,de)=>({index:de,value:$.value,label:$.label||$.value,classes:oe.value+($.classes!==void 0?" "+$.classes:""),style:{..._e($.value),...$.style||{}}}))),te=Pe(()=>({markerList:fe.value,markerMap:Oe.value,classes:oe.value,getStyle:_e})),ee=Pe(()=>{const $=j.value===0?"2px":100*ge.value/j.value;return{...ce.value,backgroundSize:S.vertical===!0?`2px ${$}%`:`${$}% 2px`}});function ae($){if($===!1)return null;if($===!0)return U.value.map(wh);if(typeof $=="function")return U.value.map(Se=>{const Ie=$(Se);return oa(Ie)===!0?{...Ie,value:Se}:{value:Se,label:Ie}});const de=({value:Se})=>Se>=S.min&&Se<=S.max;return Array.isArray($)===!0?$.map(Se=>oa(Se)===!0?Se:{value:Se}).filter(de):Object.keys($).map(Se=>{const Ie=$[Se],Ue=Number(Se);return oa(Ie)===!0?{...Ie,value:Ue}:{value:Ue,label:Ie}}).filter(de)}function _e($){return{[A.value]:`${100*($-S.min)/E.value}%`}}const Oe=Pe(()=>{if(S.markerLabels===!1)return null;const $={};return fe.value.forEach(de=>{$[de.value]=de}),$});function ue(){if(o["marker-label-group"]!==void 0)return o["marker-label-group"](te.value);const $=o["marker-label"]||Sh;return fe.value.map(de=>$({marker:de,...te.value}))}const je=Pe(()=>[[bs,Me,void 0,{[I.value]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function Me($){$.isFinal===!0?(r.value!==void 0&&(w($.evt),$.touch===!0&&f(!0),r.value=void 0,b("pan","end")),y.value=!1,n.value=!1):$.isFirst===!0?(r.value=T($.evt),w($.evt),f(),y.value=!0,b("pan","start")):(w($.evt),f())}function Le(){n.value=!1}function qe($){w($,T($)),f(),m.value=!0,y.value=!0,document.addEventListener("mouseup",Ye,!0)}function Ye(){m.value=!1,y.value=!1,f(!0),Le(),document.removeEventListener("mouseup",Ye,!0)}function Ee($){w($,T($)),f(!0)}function Xe($){cc.includes($.keyCode)&&f(!0)}function De($){if(S.vertical===!0)return null;const de=d.lang.rtl!==S.reverse?1-$:$;return{transform:`translateX(calc(${2*de-1} * ${S.thumbSize} / 2 + ${50-100*de}%))`}}function ie($){const de=Pe(()=>m.value===!1&&(n.value===$.focusValue||n.value==="both")?" q-slider--focus":""),Se=Pe(()=>`q-slider__thumb q-slider__thumb${c.value} q-slider__thumb${c.value}-${h.value===!0?"rtl":"ltr"} absolute non-selectable`+de.value+($.thumbColor.value!==void 0?` text-${$.thumbColor.value}`:"")),Ie=Pe(()=>({width:S.thumbSize,height:S.thumbSize,[A.value]:`${100*$.ratio.value}%`,zIndex:n.value===$.focusValue?2:void 0})),Ue=Pe(()=>$.labelColor.value!==void 0?` text-${$.labelColor.value}`:""),et=Pe(()=>De($.ratio.value)),lt=Pe(()=>"q-slider__text"+($.labelTextColor.value!==void 0?` text-${$.labelTextColor.value}`:""));return()=>{const it=[He("svg",{class:"q-slider__thumb-shape absolute-full",viewBox:"0 0 20 20","aria-hidden":"true"},[He("path",{d:S.thumbPath})]),He("div",{class:"q-slider__focus-ring fit"})];return(S.label===!0||S.labelAlways===!0)&&(it.push(He("div",{class:Q.value+" absolute fit no-pointer-events"+Ue.value},[He("div",{class:M.value,style:{minWidth:S.thumbSize}},[He("div",{class:B.value,style:et.value},[He("span",{class:lt.value},$.label.value)])])])),S.name!==void 0&&S.disable!==!0&&p(it,"push")),He("div",{class:Se.value,style:Ie.value,...$.getNodeData()},it)}}function pe($,de,Se,Ie){const Ue=[];S.innerTrackColor!=="transparent"&&Ue.push(He("div",{key:"inner",class:ne.value,style:ce.value})),S.selectionColor!=="transparent"&&Ue.push(He("div",{key:"selection",class:H.value,style:$.value})),S.markers!==!1&&Ue.push(He("div",{key:"marker",class:Z.value,style:ee.value})),Ie(Ue);const et=[Ss("div",{key:"trackC",class:Y.value,tabindex:de.value,...Se.value},[He("div",{class:X.value,style:re.value},Ue)],"slide",g.value,()=>je.value)];if(S.markerLabels!==!1){const lt=S.switchMarkerLabelsSide===!0?"unshift":"push";et[lt](He("div",{key:"markerL",class:V.value},ue()))}return et}return Hr(()=>{document.removeEventListener("mouseup",Ye,!0)}),{state:{active:y,focus:n,preventFocus:m,dragging:r,editable:g,classes:z,tabindex:k,attributes:N,roundValueFn:v,keyStep:x,trackLen:E,innerMin:u,innerMinRatio:C,innerMax:l,innerMaxRatio:L,positionProp:A,sizeProp:P,isReversed:h},methods:{onActivate:qe,onMobileClick:Ee,onBlur:Le,onKeyup:Xe,getContent:pe,getThumbRenderFn:ie,convertRatioToModel:be,convertModelToRatio:he,getDraggingRatio:le}}}const kh=()=>({}),vn=er({name:"QSlider",props:{...jh,modelValue:{required:!0,default:null,validator:f=>typeof f=="number"||f===null},labelValue:[String,Number]},emits:Eh,setup(f,{emit:w}){const{proxy:{$q:T}}=qt(),{state:t,methods:S}=Th({updateValue:c,updatePosition:h,getDragging:a,formAttrs:gh(f)}),b=pt(null),o=pt(0),d=pt(0);function s(){d.value=f.modelValue===null?t.innerMin.value:Hn(f.modelValue,t.innerMin.value,t.innerMax.value)}_t(()=>`${f.modelValue}|${t.innerMin.value}|${t.innerMax.value}`,s),s();const p=Pe(()=>S.convertModelToRatio(d.value)),y=Pe(()=>t.active.value===!0?o.value:p.value),m=Pe(()=>{const g={[t.positionProp.value]:`${100*t.innerMinRatio.value}%`,[t.sizeProp.value]:`${100*(y.value-t.innerMinRatio.value)}%`};return f.selectionImg!==void 0&&(g.backgroundImage=`url(${f.selectionImg}) !important`),g}),n=S.getThumbRenderFn({focusValue:!0,getNodeData:kh,ratio:y,label:Pe(()=>f.labelValue!==void 0?f.labelValue:d.value),thumbColor:Pe(()=>f.thumbColor||f.color),labelColor:Pe(()=>f.labelColor),labelTextColor:Pe(()=>f.labelTextColor)}),r=Pe(()=>t.editable.value!==!0?{}:T.platform.is.mobile===!0?{onClick:S.onMobileClick}:{onMousedown:S.onActivate,onFocus:u,onBlur:S.onBlur,onKeydown:l,onKeyup:S.onKeyup});function c(g){d.value!==f.modelValue&&w("update:modelValue",d.value),g===!0&&w("change",d.value)}function a(){return b.value.getBoundingClientRect()}function h(g,v=t.dragging.value){const x=S.getDraggingRatio(g,v);d.value=S.convertRatioToModel(x),o.value=f.snap!==!0||f.step===0?x:S.convertModelToRatio(d.value)}function u(){t.focus.value=!0}function l(g){if(cc.includes(g.keyCode)===!1)return;Fn(g);const v=([34,33].includes(g.keyCode)?10:1)*t.keyStep.value,x=([34,37,40].includes(g.keyCode)?-1:1)*(t.isReversed.value===!0?-1:1)*(f.vertical===!0?-1:1)*v;d.value=Hn(t.roundValueFn.value(d.value+x),t.innerMin.value,t.innerMax.value),c()}return()=>{const g=S.getContent(m,t.tabindex,r,v=>{v.push(n())});return He("div",{ref:b,class:t.classes.value+(f.modelValue===null?" q-slider--no-value":""),...t.attributes.value,"aria-valuenow":f.modelValue},g)}}}),sr=er({name:"QItem",props:{...Bn,...Pa,tag:{type:String,default:"div"},active:{type:Boolean,default:null},clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean},emits:["click","keyup"],setup(f,{slots:w,emit:T}){const{proxy:{$q:t}}=qt(),S=Un(f,t),{hasLink:b,linkAttrs:o,linkClass:d,linkTag:s,navigateOnClick:p}=tf(),y=pt(null),m=pt(null),n=Pe(()=>f.clickable===!0||b.value===!0||f.tag==="label"),r=Pe(()=>f.disable!==!0&&n.value===!0),c=Pe(()=>"q-item q-item-type row no-wrap"+(f.dense===!0?" q-item--dense":"")+(S.value===!0?" q-item--dark":"")+(b.value===!0&&f.active===null?d.value:f.active===!0?` q-item--active${f.activeClass!==void 0?` ${f.activeClass}`:""}`:"")+(f.disable===!0?" disabled":"")+(r.value===!0?" q-item--clickable q-link cursor-pointer "+(f.manualFocus===!0?"q-manual-focusable":"q-focusable q-hoverable")+(f.focused===!0?" q-manual-focusable--focused":""):"")),a=Pe(()=>f.insetLevel===void 0?null:{["padding"+(t.lang.rtl===!0?"Right":"Left")]:16+f.insetLevel*56+"px"});function h(g){r.value===!0&&(m.value!==null&&g.qAvoidFocus!==!0&&(g.qKeyEvent!==!0&&document.activeElement===y.value?m.value.focus():document.activeElement===m.value&&y.value.focus()),p(g))}function u(g){if(r.value===!0&&Mi(g,[13,32])===!0){Fn(g),g.qKeyEvent=!0;const v=new MouseEvent("click",g);v.qKeyEvent=!0,y.value.dispatchEvent(v)}T("keyup",g)}function l(){const g=Nu(w.default,[]);return r.value===!0&&g.unshift(He("div",{class:"q-focus-helper",tabindex:-1,ref:m})),g}return()=>{const g={ref:y,class:c.value,style:a.value,role:"listitem",onClick:h,onKeyup:u};return r.value===!0?(g.tabindex=f.tabindex||"0",Object.assign(g,o.value)):n.value===!0&&(g["aria-disabled"]="true"),He(s.value,g,l())}}}),Ch={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},ua={xs:2,sm:4,md:8,lg:16,xl:24},Nn=er({name:"QSeparator",props:{...Bn,spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String},setup(f){const w=qt(),T=Un(f,w.proxy.$q),t=Pe(()=>f.vertical===!0?"vertical":"horizontal"),S=Pe(()=>` q-separator--${t.value}`),b=Pe(()=>f.inset!==!1?`${S.value}-${Ch[f.inset]}`:""),o=Pe(()=>`q-separator${S.value}${b.value}`+(f.color!==void 0?` bg-${f.color}`:"")+(T.value===!0?" q-separator--dark":"")),d=Pe(()=>{const s={};if(f.size!==void 0&&(s[f.vertical===!0?"width":"height"]=f.size),f.spaced!==!1){const p=f.spaced===!0?`${ua.md}px`:f.spaced in ua?`${ua[f.spaced]}px`:f.spaced,y=f.vertical===!0?["Left","Right"]:["Top","Bottom"];s[`margin${y[0]}`]=s[`margin${y[1]}`]=p}return s});return()=>He("hr",{class:o.value,style:d.value,"aria-orientation":t.value})}}),Mh=["ul","ol"],Wo=er({name:"QList",props:{...Bn,bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean,tag:{type:String,default:"div"}},setup(f,{slots:w}){const T=qt(),t=Un(f,T.proxy.$q),S=Pe(()=>Mh.includes(f.tag)?null:"list"),b=Pe(()=>"q-list"+(f.bordered===!0?" q-list--bordered":"")+(f.dense===!0?" q-list--dense":"")+(f.separator===!0?" q-list--separator":"")+(t.value===!0?" q-list--dark":"")+(f.padding===!0?" q-list--padding":""));return()=>He(f.tag,{class:b.value,role:S.value},xr(w.default))}}),yi=er({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(f,{slots:w}){const T=Pe(()=>`q-card__section q-card__section--${f.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>He(f.tag,{class:T.value},xr(w.default))}}),Oh=er({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(f,{slots:w}){const T=Pe(()=>{const t=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(S=>f[S]===!0).map(S=>`q-btn-group--${S}`).join(" ");return`q-btn-group row no-wrap${t.length!==0?" "+t:""}`+(f.spread===!0?" q-btn-group--spread":" inline")});return()=>He("div",{class:T.value},xr(w.default))}}),za=er({name:"QCard",props:{...Bn,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(f,{slots:w}){const{proxy:{$q:T}}=qt(),t=Un(f,T),S=Pe(()=>"q-card"+(t.value===!0?" q-card--dark q-dark":"")+(f.bordered===!0?" q-card--bordered":"")+(f.square===!0?" q-card--square no-border-radius":"")+(f.flat===!0?" q-card--flat no-shadow":""));return()=>He(f.tag,{class:S.value},xr(w.default))}});function dc(f,w,T){let t;function S(){t!==void 0&&(Ol.remove(t),t=void 0)}return Hr(()=>{f.value===!0&&S()}),{removeFromHistory:S,addToHistory(){t={condition:()=>T.value===!0,handler:w},Ol.add(t)}}}function po(){let f=null;const w=qt();function T(){f!==null&&(clearTimeout(f),f=null)}return Oi(T),Hr(T),{removeTimeout:T,registerTimeout(t,S){T(),gs(w)===!1&&(f=setTimeout(()=>{f=null,t()},S))}}}function _s(){let f;const w=qt();function T(){f=void 0}return Oi(T),Hr(T),{removeTick:T,registerTick(t){f=t,Zr(()=>{f===t&&(gs(w)===!1&&f(),f=void 0)})}}}const Pi={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},Li=["beforeShow","show","beforeHide","hide"];function Di({showing:f,canShow:w,hideOnRouteChange:T,handleShow:t,handleHide:S,processOnMount:b}){const o=qt(),{props:d,emit:s,proxy:p}=o;let y;function m(l){f.value===!0?c(l):n(l)}function n(l){if(d.disable===!0||l?.qAnchorHandled===!0||w!==void 0&&w(l)!==!0)return;const g=d["onUpdate:modelValue"]!==void 0;g===!0&&(s("update:modelValue",!0),y=l,Zr(()=>{y===l&&(y=void 0)})),(d.modelValue===null||g===!1)&&r(l)}function r(l){f.value!==!0&&(f.value=!0,s("beforeShow",l),t!==void 0?t(l):s("show",l))}function c(l){if(d.disable===!0)return;const g=d["onUpdate:modelValue"]!==void 0;g===!0&&(s("update:modelValue",!1),y=l,Zr(()=>{y===l&&(y=void 0)})),(d.modelValue===null||g===!1)&&a(l)}function a(l){f.value!==!1&&(f.value=!1,s("beforeHide",l),S!==void 0?S(l):s("hide",l))}function h(l){d.disable===!0&&l===!0?d["onUpdate:modelValue"]!==void 0&&s("update:modelValue",!1):l===!0!==f.value&&(l===!0?r:a)(y)}_t(()=>d.modelValue,h),T!==void 0&&rf(o)===!0&&_t(()=>p.$route.fullPath,()=>{T.value===!0&&f.value===!0&&c()}),b===!0&&An(()=>{h(d.modelValue)});const u={show:n,hide:c,toggle:m};return Object.assign(p,u),u}const fc={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function hc(f,w=()=>{},T=()=>{}){return{transitionProps:Pe(()=>{const t=`q-transition--${f.transitionShow||w()}`,S=`q-transition--${f.transitionHide||T()}`;return{appear:!0,enterFromClass:`${t}-enter-from`,enterActiveClass:`${t}-enter-active`,enterToClass:`${t}-enter-to`,leaveFromClass:`${S}-leave-from`,leaveActiveClass:`${S}-leave-active`,leaveToClass:`${S}-leave-to`}}),transitionStyle:Pe(()=>`--q-transition-duration: ${f.transitionDuration}ms`)}}let wo=[],Es=[];function pc(f){Es=Es.filter(w=>w!==f)}function Ah(f){pc(f),Es.push(f)}function Vl(f){pc(f),Es.length===0&&wo.length!==0&&(wo[wo.length-1](),wo=[])}function Ni(f){Es.length===0?f():wo.push(f)}function Ih(f){wo=wo.filter(w=>w!==f)}const xs=[];function Rh(f,w){do{if(f.$options.name==="QMenu"){if(f.hide(w),f.$props.separateClosePopup===!0)return sa(f)}else if(f.__qPortal===!0){const T=sa(f);return T?.$options.name==="QPopupProxy"?(f.hide(w),T):f}f=sa(f)}while(f!=null)}const Ph=er({name:"QPortal",setup(f,{slots:w}){return()=>w.default()}});function Lh(f){for(f=f.parent;f!=null;){if(f.type.name==="QGlobalDialog")return!0;if(f.type.name==="QDialog"||f.type.name==="QMenu")return!1;f=f.parent}return!1}function mc(f,w,T,t){const S=pt(!1),b=pt(!1);let o=null;const d={},s=t==="dialog"&&Lh(f);function p(m){if(m===!0){Vl(d),b.value=!0;return}b.value=!1,S.value===!1&&(s===!1&&o===null&&(o=sf(!1,t)),S.value=!0,xs.push(f.proxy),Ah(d))}function y(m){if(b.value=!1,m!==!0)return;Vl(d),S.value=!1;const n=xs.indexOf(f.proxy);n!==-1&&xs.splice(n,1),o!==null&&(af(o),o=null)}return nf(()=>{y(!0)}),f.proxy.__qPortal=!0,Ai(f.proxy,"contentEl",()=>w.value),{showPortal:p,hidePortal:y,portalIsActive:S,portalIsAccessible:b,renderPortal:()=>s===!0?T():S.value===!0?[He(of,{to:o},He(Ph,T))]:void 0}}let ps=0,ca,da,ys,fa=!1,Gl,Hl,ql,vo=null;function Dh(f){Nh(f)&&Fn(f)}function Nh(f){if(f.target===document.body||f.target.classList.contains("q-layout__backdrop"))return!0;const w=lf(f),T=f.shiftKey&&!f.deltaX,t=!T&&Math.abs(f.deltaX)<=Math.abs(f.deltaY),S=T||t?f.deltaY:f.deltaX;for(let b=0;b<w.length;b++){const o=w[b];if(Xd(o,t))return t?S<0&&o.scrollTop===0?!0:S>0&&o.scrollTop+o.clientHeight===o.scrollHeight:S<0&&o.scrollLeft===0?!0:S>0&&o.scrollLeft+o.clientWidth===o.scrollWidth}return!0}function Wl(f){f.target===document&&(document.scrollingElement.scrollTop=document.scrollingElement.scrollTop)}function $s(f){fa!==!0&&(fa=!0,requestAnimationFrame(()=>{fa=!1;const{height:w}=f.target,{clientHeight:T,scrollTop:t}=document.scrollingElement;(ys===void 0||w!==window.innerHeight)&&(ys=T-w,document.scrollingElement.scrollTop=t),t>ys&&(document.scrollingElement.scrollTop-=Math.ceil((t-ys)/8))}))}function Xl(f){const w=document.body,T=window.visualViewport!==void 0;if(f==="add"){const{overflowY:t,overflowX:S}=window.getComputedStyle(w);ca=qd(window),da=Wd(window),Gl=w.style.left,Hl=w.style.top,ql=window.location.href,w.style.left=`-${ca}px`,w.style.top=`-${da}px`,S!=="hidden"&&(S==="scroll"||w.scrollWidth>window.innerWidth)&&w.classList.add("q-body--force-scrollbar-x"),t!=="hidden"&&(t==="scroll"||w.scrollHeight>window.innerHeight)&&w.classList.add("q-body--force-scrollbar-y"),w.classList.add("q-body--prevent-scroll"),document.qScrollPrevented=!0,Fr.is.ios===!0&&(T===!0?(window.scrollTo(0,0),window.visualViewport.addEventListener("resize",$s,zn.passiveCapture),window.visualViewport.addEventListener("scroll",$s,zn.passiveCapture),window.scrollTo(0,0)):window.addEventListener("scroll",Wl,zn.passiveCapture))}Fr.is.desktop===!0&&Fr.is.mac===!0&&window[`${f}EventListener`]("wheel",Dh,zn.notPassive),f==="remove"&&(Fr.is.ios===!0&&(T===!0?(window.visualViewport.removeEventListener("resize",$s,zn.passiveCapture),window.visualViewport.removeEventListener("scroll",$s,zn.passiveCapture)):window.removeEventListener("scroll",Wl,zn.passiveCapture)),w.classList.remove("q-body--prevent-scroll"),w.classList.remove("q-body--force-scrollbar-x"),w.classList.remove("q-body--force-scrollbar-y"),document.qScrollPrevented=!1,w.style.left=Gl,w.style.top=Hl,window.location.href===ql&&window.scrollTo(ca,da),ys=void 0)}function Fh(f){let w="add";if(f===!0){if(ps++,vo!==null){clearTimeout(vo),vo=null;return}if(ps>1)return}else{if(ps===0||(ps--,ps>0))return;if(w="remove",Fr.is.ios===!0&&Fr.is.nativeMobile===!0){vo!==null&&clearTimeout(vo),vo=setTimeout(()=>{Xl(w),vo=null},100);return}}Xl(w)}function yc(){let f;return{preventBodyScroll(w){w!==f&&(f!==void 0||w===!0)&&(f=w,Fh(w))}}}const To=[];let Yo;function Bh(f){Yo=f.keyCode===27}function Uh(){Yo===!0&&(Yo=!1)}function zh(f){Yo===!0&&(Yo=!1,Mi(f,27)===!0&&To[To.length-1](f))}function gc(f){window[f]("keydown",Bh),window[f]("blur",Uh),window[f]("keyup",zh),Yo=!1}function vc(f){Fr.is.desktop===!0&&(To.push(f),To.length===1&&gc("addEventListener"))}function gi(f){const w=To.indexOf(f);w!==-1&&(To.splice(w,1),To.length===0&&gc("removeEventListener"))}const ko=[];function bc(f){ko[ko.length-1](f)}function _c(f){Fr.is.desktop===!0&&(ko.push(f),ko.length===1&&document.body.addEventListener("focusin",bc))}function wa(f){const w=ko.indexOf(f);w!==-1&&(ko.splice(w,1),ko.length===0&&document.body.removeEventListener("focusin",bc))}let Zs=0;const Vh={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},Yl={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]},xc=er({name:"QDialog",inheritAttrs:!1,props:{...Pi,...fc,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,backdropFilter:String,position:{type:String,default:"standard",validator:f=>["standard","top","bottom","left","right"].includes(f)}},emits:[...Li,"shake","click","escapeKey"],setup(f,{slots:w,emit:T,attrs:t}){const S=qt(),b=pt(null),o=pt(!1),d=pt(!1);let s=null,p=null,y,m;const n=Pe(()=>f.persistent!==!0&&f.noRouteDismiss!==!0&&f.seamless!==!0),{preventBodyScroll:r}=yc(),{registerTimeout:c}=po(),{registerTick:a,removeTick:h}=_s(),{transitionProps:u,transitionStyle:l}=hc(f,()=>Yl[f.position][0],()=>Yl[f.position][1]),g=Pe(()=>l.value+(f.backdropFilter!==void 0?`;backdrop-filter:${f.backdropFilter};-webkit-backdrop-filter:${f.backdropFilter}`:"")),{showPortal:v,hidePortal:x,portalIsAccessible:k,renderPortal:E}=mc(S,b,V,"dialog"),{hide:j}=Di({showing:o,hideOnRouteChange:n,handleShow:N,handleHide:z,processOnMount:!0}),{addToHistory:C,removeFromHistory:L}=dc(o,j,n),A=Pe(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${f.maximized===!0?"maximized":"minimized"} q-dialog__inner--${f.position} ${Vh[f.position]}`+(d.value===!0?" q-dialog__inner--animating":"")+(f.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(f.fullHeight===!0?" q-dialog__inner--fullheight":"")+(f.square===!0?" q-dialog__inner--square":"")),P=Pe(()=>o.value===!0&&f.seamless!==!0),R=Pe(()=>f.autoClose===!0?{onClick:Q}:{}),I=Pe(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${P.value===!0?"modal":"seamless"}`,t.class]);_t(()=>f.maximized,X=>{o.value===!0&&Y(X)}),_t(P,X=>{r(X),X===!0?(_c(B),vc(H)):(wa(B),gi(H))});function N(X){C(),p=f.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,Y(f.maximized),v(),d.value=!0,f.noFocus!==!0?(document.activeElement?.blur(),a(G)):h(),c(()=>{if(S.proxy.$q.platform.is.ios===!0){if(f.seamless!==!0&&document.activeElement){const{top:re,bottom:ne}=document.activeElement.getBoundingClientRect(),{innerHeight:ce}=window,be=window.visualViewport!==void 0?window.visualViewport.height:ce;re>0&&ne>be/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-be,ne>=ce?1/0:Math.ceil(document.scrollingElement.scrollTop+ne-be/2))),document.activeElement.scrollIntoView()}m=!0,b.value.click(),m=!1}v(!0),d.value=!1,T("show",X)},f.transitionDuration)}function z(X){h(),L(),Z(!0),d.value=!0,x(),p!==null&&(((X?.type.indexOf("key")===0?p.closest('[tabindex]:not([tabindex^="-"])'):void 0)||p).focus(),p=null),c(()=>{x(!0),d.value=!1,T("hide",X)},f.transitionDuration)}function G(X){Ni(()=>{let re=b.value;if(re!==null){if(X!==void 0){const ne=re.querySelector(X);if(ne!==null){ne.focus({preventScroll:!0});return}}re.contains(document.activeElement)!==!0&&(re=re.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||re.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||re.querySelector("[autofocus], [data-autofocus]")||re,re.focus({preventScroll:!0}))}})}function W(X){X&&typeof X.focus=="function"?X.focus({preventScroll:!0}):G(),T("shake");const re=b.value;re!==null&&(re.classList.remove("q-animate--scale"),re.classList.add("q-animate--scale"),s!==null&&clearTimeout(s),s=setTimeout(()=>{s=null,b.value!==null&&(re.classList.remove("q-animate--scale"),G())},170))}function H(){f.seamless!==!0&&(f.persistent===!0||f.noEscDismiss===!0?f.maximized!==!0&&f.noShake!==!0&&W():(T("escapeKey"),j()))}function Z(X){s!==null&&(clearTimeout(s),s=null),(X===!0||o.value===!0)&&(Y(!1),f.seamless!==!0&&(r(!1),wa(B),gi(H))),X!==!0&&(p=null)}function Y(X){X===!0?y!==!0&&(Zs<1&&document.body.classList.add("q-body--dialog"),Zs++,y=!0):y===!0&&(Zs<2&&document.body.classList.remove("q-body--dialog"),Zs--,y=!1)}function Q(X){m!==!0&&(j(X),T("click",X))}function M(X){f.persistent!==!0&&f.noBackdropDismiss!==!0?j(X):f.noShake!==!0&&W()}function B(X){f.allowFocusOutside!==!0&&k.value===!0&&Wu(b.value,X.target)!==!0&&G('[tabindex]:not([tabindex="-1"])')}Object.assign(S.proxy,{focus:G,shake:W,__updateRefocusTarget(X){p=X||null}}),Hr(Z);function V(){return He("div",{role:"dialog","aria-modal":P.value===!0?"true":"false",...t,class:I.value},[He(Ao,{name:"q-transition--fade",appear:!0},()=>P.value===!0?He("div",{class:"q-dialog__backdrop fixed-full",style:g.value,"aria-hidden":"true",tabindex:-1,onClick:M}):null),He(Ao,u.value,()=>o.value===!0?He("div",{ref:b,class:A.value,style:l.value,tabindex:-1,...R.value},xr(w.default)):null)])}return E}}),Gh={target:{type:[Boolean,String,Element],default:!0},noParentEvent:Boolean},wc={...Gh,contextMenu:Boolean};function Sc({showing:f,avoidEmit:w,configureAnchorEl:T}){const{props:t,proxy:S,emit:b}=qt(),o=pt(null);let d=null;function s(r){return o.value===null?!1:r===void 0||r.touches===void 0||r.touches.length<=1}const p={};T===void 0&&(Object.assign(p,{hide(r){S.hide(r)},toggle(r){S.toggle(r),r.qAnchorHandled=!0},toggleKey(r){Mi(r,13)===!0&&p.toggle(r)},contextClick(r){S.hide(r),Zn(r),Zr(()=>{S.show(r),r.qAnchorHandled=!0})},prevent:Zn,mobileTouch(r){if(p.mobileCleanup(r),s(r)!==!0)return;S.hide(r),o.value.classList.add("non-selectable");const c=r.target;Vn(p,"anchor",[[c,"touchmove","mobileCleanup","passive"],[c,"touchend","mobileCleanup","passive"],[c,"touchcancel","mobileCleanup","passive"],[o.value,"contextmenu","prevent","notPassive"]]),d=setTimeout(()=>{d=null,S.show(r),r.qAnchorHandled=!0},300)},mobileCleanup(r){o.value.classList.remove("non-selectable"),d!==null&&(clearTimeout(d),d=null),f.value===!0&&r!==void 0&&Ua()}}),T=function(r=t.contextMenu){if(t.noParentEvent===!0||o.value===null)return;let c;r===!0?S.$q.platform.is.mobile===!0?c=[[o.value,"touchstart","mobileTouch","passive"]]:c=[[o.value,"mousedown","hide","passive"],[o.value,"contextmenu","contextClick","notPassive"]]:c=[[o.value,"click","toggle","passive"],[o.value,"keyup","toggleKey","passive"]],Vn(p,"anchor",c)});function y(){jo(p,"anchor")}function m(r){for(o.value=r;o.value.classList.contains("q-anchor--skip");)o.value=o.value.parentNode;T()}function n(){if(t.target===!1||t.target===""||S.$el.parentNode===null)o.value=null;else if(t.target===!0)m(S.$el.parentNode);else{let r=t.target;if(typeof t.target=="string")try{r=document.querySelector(t.target)}catch{r=void 0}r!=null?(o.value=r.$el||r,T()):(o.value=null,console.error(`Anchor: target "${t.target}" not found`))}}return _t(()=>t.contextMenu,r=>{o.value!==null&&(y(),T(r))}),_t(()=>t.target,()=>{o.value!==null&&y(),n()}),_t(()=>t.noParentEvent,r=>{o.value!==null&&(r===!0?y():T())}),An(()=>{n(),w!==!0&&t.modelValue===!0&&o.value===null&&b("update:modelValue",!1)}),Hr(()=>{d!==null&&clearTimeout(d),y()}),{anchorEl:o,canShow:s,anchorEvents:p}}function Hh(f,w){const T=pt(null);let t;function S(d,s){const p=`${s!==void 0?"add":"remove"}EventListener`,y=s!==void 0?s:t;d!==window&&d[p]("scroll",y,zn.passive),window[p]("scroll",y,zn.passive),t=s}function b(){T.value!==null&&(S(T.value),T.value=null)}const o=_t(()=>f.noParentEvent,()=>{T.value!==null&&(b(),w())});return Hr(o),{localScrollTarget:T,unconfigureScrollTarget:b,changeScrollEvent:S}}const{notPassiveCapture:vi}=zn,Co=[];function bi(f){const w=f.target;if(w===void 0||w.nodeType===8||w.classList.contains("no-pointer-events")===!0)return;let T=xs.length-1;for(;T>=0;){const t=xs[T].$;if(t.type.name==="QTooltip"){T--;continue}if(t.type.name!=="QDialog")break;if(t.props.seamless!==!0)return;T--}for(let t=Co.length-1;t>=0;t--){const S=Co[t];if((S.anchorEl.value===null||S.anchorEl.value.contains(w)===!1)&&(w===document.body||S.innerRef.value!==null&&S.innerRef.value.contains(w)===!1))f.qClickOutside=!0,S.onClickOutside(f);else return}}function qh(f){Co.push(f),Co.length===1&&(document.addEventListener("mousedown",bi,vi),document.addEventListener("touchstart",bi,vi))}function $l(f){const w=Co.findIndex(T=>T===f);w!==-1&&(Co.splice(w,1),Co.length===0&&(document.removeEventListener("mousedown",bi,vi),document.removeEventListener("touchstart",bi,vi)))}let Zl,Kl;function Ql(f){const w=f.split(" ");return w.length!==2?!1:["top","center","bottom"].includes(w[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(w[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function Wh(f){return f?!(f.length!==2||typeof f[0]!="number"||typeof f[1]!="number"):!0}const Sa={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(f=>{Sa[`${f}#ltr`]=f,Sa[`${f}#rtl`]=f});function Jl(f,w){const T=f.split(" ");return{vertical:T[0],horizontal:Sa[`${T[1]}#${w===!0?"rtl":"ltr"}`]}}function Xh(f,w){let{top:T,left:t,right:S,bottom:b,width:o,height:d}=f.getBoundingClientRect();return w!==void 0&&(T-=w[1],t-=w[0],b+=w[1],S+=w[0],o+=w[0],d+=w[1]),{top:T,bottom:b,height:d,left:t,right:S,width:o,middle:t+(S-t)/2,center:T+(b-T)/2}}function Yh(f,w,T){let{top:t,left:S}=f.getBoundingClientRect();return t+=w.top,S+=w.left,T!==void 0&&(t+=T[1],S+=T[0]),{top:t,bottom:t+1,height:1,left:S,right:S+1,width:1,middle:S,center:t}}function $h(f,w){return{top:0,center:w/2,bottom:w,left:0,middle:f/2,right:f}}function eu(f,w,T,t){return{top:f[T.vertical]-w[t.vertical],left:f[T.horizontal]-w[t.horizontal]}}function jc(f,w=0){if(f.targetEl===null||f.anchorEl===null||w>5)return;if(f.targetEl.offsetHeight===0||f.targetEl.offsetWidth===0){setTimeout(()=>{jc(f,w+1)},10);return}const{targetEl:T,offset:t,anchorEl:S,anchorOrigin:b,selfOrigin:o,absoluteOffset:d,fit:s,cover:p,maxHeight:y,maxWidth:m}=f;if(Fr.is.ios===!0&&window.visualViewport!==void 0){const k=document.body.style,{offsetLeft:E,offsetTop:j}=window.visualViewport;E!==Zl&&(k.setProperty("--q-pe-left",E+"px"),Zl=E),j!==Kl&&(k.setProperty("--q-pe-top",j+"px"),Kl=j)}const{scrollLeft:n,scrollTop:r}=T,c=d===void 0?Xh(S,p===!0?[0,0]:t):Yh(S,d,t);Object.assign(T.style,{top:0,left:0,minWidth:null,minHeight:null,maxWidth:m,maxHeight:y,visibility:"visible"});const{offsetWidth:a,offsetHeight:h}=T,{elWidth:u,elHeight:l}=s===!0||p===!0?{elWidth:Math.max(c.width,a),elHeight:p===!0?Math.max(c.height,h):h}:{elWidth:a,elHeight:h};let g={maxWidth:m,maxHeight:y};(s===!0||p===!0)&&(g.minWidth=c.width+"px",p===!0&&(g.minHeight=c.height+"px")),Object.assign(T.style,g);const v=$h(u,l);let x=eu(c,v,b,o);if(d===void 0||t===void 0)ha(x,c,v,b,o);else{const{top:k,left:E}=x;ha(x,c,v,b,o);let j=!1;if(x.top!==k){j=!0;const C=2*t[1];c.center=c.top-=C,c.bottom-=C+2}if(x.left!==E){j=!0;const C=2*t[0];c.middle=c.left-=C,c.right-=C+2}j===!0&&(x=eu(c,v,b,o),ha(x,c,v,b,o))}g={top:x.top+"px",left:x.left+"px"},x.maxHeight!==void 0&&(g.maxHeight=x.maxHeight+"px",c.height>x.maxHeight&&(g.minHeight=g.maxHeight)),x.maxWidth!==void 0&&(g.maxWidth=x.maxWidth+"px",c.width>x.maxWidth&&(g.minWidth=g.maxWidth)),Object.assign(T.style,g),T.scrollTop!==r&&(T.scrollTop=r),T.scrollLeft!==n&&(T.scrollLeft=n)}function ha(f,w,T,t,S){const b=T.bottom,o=T.right,d=Yd(),s=window.innerHeight-d,p=document.body.clientWidth;if(f.top<0||f.top+b>s)if(S.vertical==="center")f.top=w[t.vertical]>s/2?Math.max(0,s-b):0,f.maxHeight=Math.min(b,s);else if(w[t.vertical]>s/2){const y=Math.min(s,t.vertical==="center"?w.center:t.vertical===S.vertical?w.bottom:w.top);f.maxHeight=Math.min(b,y),f.top=Math.max(0,y-b)}else f.top=Math.max(0,t.vertical==="center"?w.center:t.vertical===S.vertical?w.top:w.bottom),f.maxHeight=Math.min(b,s-f.top);if(f.left<0||f.left+o>p)if(f.maxWidth=Math.min(o,p),S.horizontal==="middle")f.left=w[t.horizontal]>p/2?Math.max(0,p-o):0;else if(w[t.horizontal]>p/2){const y=Math.min(p,t.horizontal==="middle"?w.middle:t.horizontal===S.horizontal?w.right:w.left);f.maxWidth=Math.min(o,y),f.left=Math.max(0,y-f.maxWidth)}else f.left=Math.max(0,t.horizontal==="middle"?w.middle:t.horizontal===S.horizontal?w.left:w.right),f.maxWidth=Math.min(o,p-f.left)}const Zh=er({name:"QMenu",inheritAttrs:!1,props:{...wc,...Pi,...Bn,...fc,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noEscDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:Ql},self:{type:String,validator:Ql},offset:{type:Array,validator:Wh},scrollTarget:$d,touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...Li,"click","escapeKey"],setup(f,{slots:w,emit:T,attrs:t}){let S=null,b,o,d;const s=qt(),{proxy:p}=s,{$q:y}=p,m=pt(null),n=pt(!1),r=Pe(()=>f.persistent!==!0&&f.noRouteDismiss!==!0),c=Un(f,y),{registerTick:a,removeTick:h}=_s(),{registerTimeout:u}=po(),{transitionProps:l,transitionStyle:g}=hc(f),{localScrollTarget:v,changeScrollEvent:x,unconfigureScrollTarget:k}=Hh(f,M),{anchorEl:E,canShow:j}=Sc({showing:n}),{hide:C}=Di({showing:n,canShow:j,handleShow:Z,handleHide:Y,hideOnRouteChange:r,processOnMount:!0}),{showPortal:L,hidePortal:A,renderPortal:P}=mc(s,m,ne,"menu"),R={anchorEl:E,innerRef:m,onClickOutside(ce){if(f.persistent!==!0&&n.value===!0)return C(ce),(ce.type==="touchstart"||ce.target.classList.contains("q-dialog__backdrop"))&&Fn(ce),!0}},I=Pe(()=>Jl(f.anchor||(f.cover===!0?"center middle":"bottom start"),y.lang.rtl)),N=Pe(()=>f.cover===!0?I.value:Jl(f.self||"top start",y.lang.rtl)),z=Pe(()=>(f.square===!0?" q-menu--square":"")+(c.value===!0?" q-menu--dark q-dark":"")),G=Pe(()=>f.autoClose===!0?{onClick:B}:{}),W=Pe(()=>n.value===!0&&f.persistent!==!0);_t(W,ce=>{ce===!0?(vc(X),qh(R)):(gi(X),$l(R))});function H(){Ni(()=>{let ce=m.value;ce&&ce.contains(document.activeElement)!==!0&&(ce=ce.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||ce.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||ce.querySelector("[autofocus], [data-autofocus]")||ce,ce.focus({preventScroll:!0}))})}function Z(ce){if(S=f.noRefocus===!1?document.activeElement:null,_c(V),L(),M(),b=void 0,ce!==void 0&&(f.touchPosition||f.contextMenu)){const be=Oo(ce);if(be.left!==void 0){const{top:he,left:le}=E.value.getBoundingClientRect();b={left:be.left-le,top:be.top-he}}}o===void 0&&(o=_t(()=>y.screen.width+"|"+y.screen.height+"|"+f.self+"|"+f.anchor+"|"+y.lang.rtl,re)),f.noFocus!==!0&&document.activeElement.blur(),a(()=>{re(),f.noFocus!==!0&&H()}),u(()=>{y.platform.is.ios===!0&&(d=f.autoClose,m.value.click()),re(),L(!0),T("show",ce)},f.transitionDuration)}function Y(ce){h(),A(),Q(!0),S!==null&&(ce===void 0||ce.qClickOutside!==!0)&&(((ce?.type.indexOf("key")===0?S.closest('[tabindex]:not([tabindex^="-"])'):void 0)||S).focus(),S=null),u(()=>{A(!0),T("hide",ce)},f.transitionDuration)}function Q(ce){b=void 0,o!==void 0&&(o(),o=void 0),(ce===!0||n.value===!0)&&(wa(V),k(),$l(R),gi(X)),ce!==!0&&(S=null)}function M(){(E.value!==null||f.scrollTarget!==void 0)&&(v.value=Zd(E.value,f.scrollTarget),x(v.value,re))}function B(ce){d!==!0?(Rh(p,ce),T("click",ce)):d=!1}function V(ce){W.value===!0&&f.noFocus!==!0&&Wu(m.value,ce.target)!==!0&&H()}function X(ce){f.noEscDismiss!==!0&&(T("escapeKey"),C(ce))}function re(){jc({targetEl:m.value,offset:f.offset,anchorEl:E.value,anchorOrigin:I.value,selfOrigin:N.value,absoluteOffset:b,fit:f.fit,cover:f.cover,maxHeight:f.maxHeight,maxWidth:f.maxWidth})}function ne(){return He(Ao,l.value,()=>n.value===!0?He("div",{role:"menu",...t,ref:m,tabindex:-1,class:["q-menu q-position-engine scroll"+z.value,t.class],style:[t.style,g.value],...G.value},xr(w.default)):null)}return Hr(Q),Object.assign(p,{focus:H,updatePosition:re}),P}}),Ec=er({name:"QPopupProxy",props:{...wc,breakpoint:{type:[String,Number],default:450}},emits:["show","hide"],setup(f,{slots:w,emit:T,attrs:t}){const{proxy:S}=qt(),{$q:b}=S,o=pt(!1),d=pt(null),s=Pe(()=>parseInt(f.breakpoint,10)),{canShow:p}=Sc({showing:o});function y(){return b.screen.width<s.value||b.screen.height<s.value?"dialog":"menu"}const m=pt(y()),n=Pe(()=>m.value==="menu"?{maxHeight:"99vh"}:{});_t(()=>y(),a=>{o.value!==!0&&(m.value=a)});function r(a){o.value=!0,T("show",a)}function c(a){o.value=!1,m.value=y(),T("hide",a)}return Object.assign(S,{show(a){p(a)===!0&&d.value.show(a)},hide(a){d.value.hide(a)},toggle(a){d.value.toggle(a)}}),Ai(S,"currentComponent",()=>({type:m.value,ref:d.value})),()=>{const a={ref:d,...n.value,...t,onShow:r,onHide:c};let h;return m.value==="dialog"?h=xc:(h=Zh,Object.assign(a,{target:f.target,contextMenu:f.contextMenu,noParentEvent:!0,separateClosePopup:!0})),He(h,a,w.default)}}}),Kh={ratio:[String,Number]};function Qh(f,w){return Pe(()=>{const T=Number(f.ratio||(w!==void 0?w.value:void 0));return isNaN(T)!==!0&&T>0?{paddingBottom:`${100/T}%`}:null})}const Jh=1.7778,Tc=er({name:"QImg",props:{...Kh,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},loadingShowDelay:{type:[Number,String],default:0},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:Jh},placeholderSrc:String,errorSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(f,{slots:w,emit:T}){const t=pt(f.initialRatio),S=Qh(f,t),b=qt(),{registerTimeout:o,removeTimeout:d}=po(),{registerTimeout:s,removeTimeout:p}=po(),y=Pe(()=>f.placeholderSrc!==void 0?{src:f.placeholderSrc}:null),m=Pe(()=>f.errorSrc!==void 0?{src:f.errorSrc,__qerror:!0}:null),n=[pt(null),pt(y.value)],r=pt(0),c=pt(!1),a=pt(!1),h=Pe(()=>`q-img q-img--${f.noNativeMenu===!0?"no-":""}menu`),u=Pe(()=>({width:f.width,height:f.height})),l=Pe(()=>`q-img__image ${f.imgClass!==void 0?f.imgClass+" ":""}q-img__image--with${f.noTransition===!0?"out":""}-transition q-img__image--`),g=Pe(()=>({...f.imgStyle,objectFit:f.fit,objectPosition:f.position}));function v(){if(p(),f.loadingShowDelay===0){c.value=!0;return}s(()=>{c.value=!0},f.loadingShowDelay)}function x(){p(),c.value=!1}function k({target:P}){gs(b)===!1&&(d(),t.value=P.naturalHeight===0?.5:P.naturalWidth/P.naturalHeight,E(P,1))}function E(P,R){R===1e3||gs(b)===!0||(P.complete===!0?j(P):o(()=>{E(P,R+1)},50))}function j(P){gs(b)!==!0&&(r.value=r.value^1,n[r.value].value=null,x(),P.getAttribute("__qerror")!=="true"&&(a.value=!1),T("load",P.currentSrc||P.src))}function C(P){d(),x(),a.value=!0,n[r.value].value=m.value,n[r.value^1].value=y.value,T("error",P)}function L(P){const R=n[P].value,I={key:"img_"+P,class:l.value,style:g.value,alt:f.alt,crossorigin:f.crossorigin,decoding:f.decoding,referrerpolicy:f.referrerpolicy,height:f.height,width:f.width,loading:f.loading,fetchpriority:f.fetchpriority,"aria-hidden":"true",draggable:f.draggable,...R};return r.value===P?Object.assign(I,{class:I.class+"current",onLoad:k,onError:C}):I.class+="loaded",He("div",{class:"q-img__container absolute-full",key:"img"+P},He("img",I))}function A(){return c.value===!1?He("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},xr(w[a.value===!0?"error":"default"])):He("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},w.loading!==void 0?w.loading():f.noSpinner===!0?void 0:[He(Xu,{color:f.spinnerColor,size:f.spinnerSize})])}{let P=function(){_t(()=>f.src||f.srcset||f.sizes?{src:f.src,srcset:f.srcset,sizes:f.sizes}:null,R=>{d(),a.value=!1,R===null?(x(),n[r.value^1].value=y.value):v(),n[r.value].value=R},{immediate:!0})};Ia.value===!0?An(P):P()}return()=>{const P=[];return S.value!==null&&P.push(He("div",{key:"filler",style:S.value})),n[0].value!==null&&P.push(L(0)),n[1].value!==null&&P.push(L(1)),P.push(He(Ao,{name:"q-transition--fade"},A)),He("div",{key:"main",class:h.value,style:u.value,role:"img","aria-label":f.alt},P)}}});let pa,Ks=0;const Jr=new Array(256);for(let f=0;f<256;f++)Jr[f]=(f+256).toString(16).substring(1);const ep=(()=>{const f=typeof crypto<"u"?crypto:typeof window<"u"?window.crypto||window.msCrypto:void 0;if(f!==void 0){if(f.randomBytes!==void 0)return f.randomBytes;if(f.getRandomValues!==void 0)return w=>{const T=new Uint8Array(w);return f.getRandomValues(T),T}}return w=>{const T=[];for(let t=w;t>0;t--)T.push(Math.floor(Math.random()*256));return T}})(),tu=4096;function _i(){(pa===void 0||Ks+16>tu)&&(Ks=0,pa=ep(tu));const f=Array.prototype.slice.call(pa,Ks,Ks+=16);return f[6]=f[6]&15|64,f[8]=f[8]&63|128,Jr[f[0]]+Jr[f[1]]+Jr[f[2]]+Jr[f[3]]+"-"+Jr[f[4]]+Jr[f[5]]+"-"+Jr[f[6]]+Jr[f[7]]+"-"+Jr[f[8]]+Jr[f[9]]+"-"+Jr[f[10]]+Jr[f[11]]+Jr[f[12]]+Jr[f[13]]+Jr[f[14]]+Jr[f[15]]}function tp(f){return f??null}function ru(f,w){return f??(w===!0?`f_${_i()}`:null)}function kc({getValue:f,required:w=!0}={}){if(Ia.value===!0){const T=f!==void 0?pt(tp(f())):pt(null);return w===!0&&T.value===null&&An(()=>{T.value=`f_${_i()}`}),f!==void 0&&_t(f,t=>{T.value=ru(t,w)}),T}return f!==void 0?Pe(()=>ru(f(),w)):pt(`f_${_i()}`)}const nu=/^on[A-Z]/;function rp(){const{attrs:f,vnode:w}=qt(),T={listeners:pt({}),attributes:pt({})};function t(){const S={},b={};for(const o in f)o!=="class"&&o!=="style"&&nu.test(o)===!1&&(S[o]=f[o]);for(const o in w.props)nu.test(o)===!0&&(b[o]=w.props[o]);T.attributes.value=S,T.listeners.value=b}return uf(t),t(),T}function np({validate:f,resetValidation:w,requiresQForm:T}){const t=On(cf,!1);if(t!==!1){const{props:S,proxy:b}=qt();Object.assign(b,{validate:f,resetValidation:w}),_t(()=>S.disable,o=>{o===!0?(typeof w=="function"&&w(),t.unbindComponent(b)):t.bindComponent(b)}),An(()=>{S.disable!==!0&&t.bindComponent(b)}),Hr(()=>{S.disable!==!0&&t.unbindComponent(b)})}else T===!0&&console.error("Parent QForm not found on useFormChild()!")}const ou=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,su=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,iu=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,Qs=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,Js=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,oi={date:f=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(f),time:f=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(f),fulltime:f=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(f),timeOrFulltime:f=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(f),email:f=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(f),hexColor:f=>ou.test(f),hexaColor:f=>su.test(f),hexOrHexaColor:f=>iu.test(f),rgbColor:f=>Qs.test(f),rgbaColor:f=>Js.test(f),rgbOrRgbaColor:f=>Qs.test(f)||Js.test(f),hexOrRgbColor:f=>ou.test(f)||Qs.test(f),hexaOrRgbaColor:f=>su.test(f)||Js.test(f),anyColor:f=>iu.test(f)||Qs.test(f)||Js.test(f)},op=[!0,!1,"ondemand"],sp={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],default:!1,validator:f=>op.includes(f)}};function ip(f,w){const{props:T,proxy:t}=qt(),S=pt(!1),b=pt(null),o=pt(!1);np({validate:a,resetValidation:c});let d=0,s;const p=Pe(()=>T.rules!==void 0&&T.rules!==null&&T.rules.length!==0),y=Pe(()=>T.disable!==!0&&p.value===!0&&w.value===!1),m=Pe(()=>T.error===!0||S.value===!0),n=Pe(()=>typeof T.errorMessage=="string"&&T.errorMessage.length!==0?T.errorMessage:b.value);_t(()=>T.modelValue,()=>{o.value=!0,y.value===!0&&T.lazyRules===!1&&h()});function r(){T.lazyRules!=="ondemand"&&y.value===!0&&o.value===!0&&h()}_t(()=>T.reactiveRules,u=>{u===!0?s===void 0&&(s=_t(()=>T.rules,r,{immediate:!0,deep:!0})):s!==void 0&&(s(),s=void 0)},{immediate:!0}),_t(()=>T.lazyRules,r),_t(f,u=>{u===!0?o.value=!0:y.value===!0&&T.lazyRules!=="ondemand"&&h()});function c(){d++,w.value=!1,o.value=!1,S.value=!1,b.value=null,h.cancel()}function a(u=T.modelValue){if(T.disable===!0||p.value===!1)return!0;const l=++d,g=w.value!==!0?()=>{o.value=!0}:()=>{},v=(k,E)=>{k===!0&&g(),S.value=k,b.value=E||null,w.value=!1},x=[];for(let k=0;k<T.rules.length;k++){const E=T.rules[k];let j;if(typeof E=="function"?j=E(u,oi):typeof E=="string"&&oi[E]!==void 0&&(j=oi[E](u)),j===!1||typeof j=="string")return v(!0,j),!1;j!==!0&&j!==void 0&&x.push(j)}return x.length===0?(v(!1),!0):(w.value=!0,Promise.all(x).then(k=>{if(k===void 0||Array.isArray(k)===!1||k.length===0)return l===d&&v(!1),!0;const E=k.find(j=>j===!1||typeof j=="string");return l===d&&v(E!==void 0,E),E===void 0},k=>(l===d&&(console.error(k),v(!0)),!1)))}const h=df(a,0);return Hr(()=>{s?.(),h.cancel()}),Object.assign(t,{resetValidation:c,validate:a}),Ai(t,"hasError",()=>m.value),{isDirtyModel:o,hasRules:p,hasError:m,errorMessage:n,validate:a,resetValidation:c}}function ja(f){return f!=null&&(""+f).length!==0}const ap={...Bn,...sp,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String},lp={...ap,maxlength:[Number,String]},up=["update:modelValue","clear","focus","blur"];function cp({requiredForAttr:f=!0,tagProp:w,changeEvent:T=!1}={}){const{props:t,proxy:S}=qt(),b=Un(t,S.$q),o=kc({required:f,getValue:()=>t.for});return{requiredForAttr:f,changeEvent:T,tag:w===!0?Pe(()=>t.tag):{value:"label"},isDark:b,editable:Pe(()=>t.disable!==!0&&t.readonly!==!0),innerLoading:pt(!1),focused:pt(!1),hasPopupOpen:!1,splitAttrs:rp(),targetUid:o,rootRef:pt(null),targetRef:pt(null),controlRef:pt(null)}}function dp(f){const{props:w,emit:T,slots:t,attrs:S,proxy:b}=qt(),{$q:o}=b;let d=null;f.hasValue===void 0&&(f.hasValue=Pe(()=>ja(w.modelValue))),f.emitValue===void 0&&(f.emitValue=W=>{T("update:modelValue",W)}),f.controlEvents===void 0&&(f.controlEvents={onFocusin:C,onFocusout:L}),Object.assign(f,{clearValue:A,onControlFocusin:C,onControlFocusout:L,focus:E}),f.computedCounter===void 0&&(f.computedCounter=Pe(()=>{if(w.counter!==!1){const W=typeof w.modelValue=="string"||typeof w.modelValue=="number"?(""+w.modelValue).length:Array.isArray(w.modelValue)===!0?w.modelValue.length:0,H=w.maxlength!==void 0?w.maxlength:w.maxValues;return W+(H!==void 0?" / "+H:"")}}));const{isDirtyModel:s,hasRules:p,hasError:y,errorMessage:m,resetValidation:n}=ip(f.focused,f.innerLoading),r=f.floatingLabel!==void 0?Pe(()=>w.stackLabel===!0||f.focused.value===!0||f.floatingLabel.value===!0):Pe(()=>w.stackLabel===!0||f.focused.value===!0||f.hasValue.value===!0),c=Pe(()=>w.bottomSlots===!0||w.hint!==void 0||p.value===!0||w.counter===!0||w.error!==null),a=Pe(()=>w.filled===!0?"filled":w.outlined===!0?"outlined":w.borderless===!0?"borderless":w.standout?"standout":"standard"),h=Pe(()=>`q-field row no-wrap items-start q-field--${a.value}`+(f.fieldClass!==void 0?` ${f.fieldClass.value}`:"")+(w.rounded===!0?" q-field--rounded":"")+(w.square===!0?" q-field--square":"")+(r.value===!0?" q-field--float":"")+(l.value===!0?" q-field--labeled":"")+(w.dense===!0?" q-field--dense":"")+(w.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(f.isDark.value===!0?" q-field--dark":"")+(f.getControl===void 0?" q-field--auto-height":"")+(f.focused.value===!0?" q-field--focused":"")+(y.value===!0?" q-field--error":"")+(y.value===!0||f.focused.value===!0?" q-field--highlighted":"")+(w.hideBottomSpace!==!0&&c.value===!0?" q-field--with-bottom":"")+(w.disable===!0?" q-field--disabled":w.readonly===!0?" q-field--readonly":"")),u=Pe(()=>"q-field__control relative-position row no-wrap"+(w.bgColor!==void 0?` bg-${w.bgColor}`:"")+(y.value===!0?" text-negative":typeof w.standout=="string"&&w.standout.length!==0&&f.focused.value===!0?` ${w.standout}`:w.color!==void 0?` text-${w.color}`:"")),l=Pe(()=>w.labelSlot===!0||w.label!==void 0),g=Pe(()=>"q-field__label no-pointer-events absolute ellipsis"+(w.labelColor!==void 0&&y.value!==!0?` text-${w.labelColor}`:"")),v=Pe(()=>({id:f.targetUid.value,editable:f.editable.value,focused:f.focused.value,floatingLabel:r.value,modelValue:w.modelValue,emitValue:f.emitValue})),x=Pe(()=>{const W={};return f.targetUid.value&&(W.for=f.targetUid.value),w.disable===!0&&(W["aria-disabled"]="true"),W});function k(){const W=document.activeElement;let H=f.targetRef?.value;H&&(W===null||W.id!==f.targetUid.value)&&(H.hasAttribute("tabindex")===!0||(H=H.querySelector("[tabindex]")),H!==W&&H?.focus({preventScroll:!0}))}function E(){Ni(k)}function j(){Ih(k);const W=document.activeElement;W!==null&&f.rootRef.value.contains(W)&&W.blur()}function C(W){d!==null&&(clearTimeout(d),d=null),f.editable.value===!0&&f.focused.value===!1&&(f.focused.value=!0,T("focus",W))}function L(W,H){d!==null&&clearTimeout(d),d=setTimeout(()=>{d=null,!(document.hasFocus()===!0&&(f.hasPopupOpen===!0||f.controlRef===void 0||f.controlRef.value===null||f.controlRef.value.contains(document.activeElement)!==!1))&&(f.focused.value===!0&&(f.focused.value=!1,T("blur",W)),H?.())})}function A(W){Fn(W),o.platform.is.mobile!==!0?(f.targetRef?.value||f.rootRef.value).focus():f.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),w.type==="file"&&(f.inputRef.value.value=null),T("update:modelValue",null),f.changeEvent===!0&&T("change",null),T("clear",w.modelValue),Zr(()=>{const H=s.value;n(),s.value=H})}function P(W){[13,32].includes(W.keyCode)&&A(W)}function R(){const W=[];return t.prepend!==void 0&&W.push(He("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:Zn},t.prepend())),W.push(He("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},I())),y.value===!0&&w.noErrorIcon===!1&&W.push(z("error",[He(Dr,{name:o.iconSet.field.error,color:"negative"})])),w.loading===!0||f.innerLoading.value===!0?W.push(z("inner-loading-append",t.loading!==void 0?t.loading():[He(Xu,{color:w.color})])):w.clearable===!0&&f.hasValue.value===!0&&f.editable.value===!0&&W.push(z("inner-clearable-append",[He(Dr,{class:"q-field__focusable-action",name:w.clearIcon||o.iconSet.field.clear,tabindex:0,role:"button","aria-hidden":"false","aria-label":o.lang.label.clear,onKeyup:P,onClick:A})])),t.append!==void 0&&W.push(He("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:Zn},t.append())),f.getInnerAppend!==void 0&&W.push(z("inner-append",f.getInnerAppend())),f.getControlChild!==void 0&&W.push(f.getControlChild()),W}function I(){const W=[];return w.prefix!==void 0&&w.prefix!==null&&W.push(He("div",{class:"q-field__prefix no-pointer-events row items-center"},w.prefix)),f.getShadowControl!==void 0&&f.hasShadow.value===!0&&W.push(f.getShadowControl()),f.getControl!==void 0?W.push(f.getControl()):t.rawControl!==void 0?W.push(t.rawControl()):t.control!==void 0&&W.push(He("div",{ref:f.targetRef,class:"q-field__native row",tabindex:-1,...f.splitAttrs.attributes.value,"data-autofocus":w.autofocus===!0||void 0},t.control(v.value))),l.value===!0&&W.push(He("div",{class:g.value},xr(t.label,w.label))),w.suffix!==void 0&&w.suffix!==null&&W.push(He("div",{class:"q-field__suffix no-pointer-events row items-center"},w.suffix)),W.concat(xr(t.default))}function N(){let W,H;y.value===!0?m.value!==null?(W=[He("div",{role:"alert"},m.value)],H=`q--slot-error-${m.value}`):(W=xr(t.error),H="q--slot-error"):(w.hideHint!==!0||f.focused.value===!0)&&(w.hint!==void 0?(W=[He("div",w.hint)],H=`q--slot-hint-${w.hint}`):(W=xr(t.hint),H="q--slot-hint"));const Z=w.counter===!0||t.counter!==void 0;if(w.hideBottomSpace===!0&&Z===!1&&W===void 0)return;const Y=He("div",{key:H,class:"q-field__messages col"},W);return He("div",{class:"q-field__bottom row items-start q-field__bottom--"+(w.hideBottomSpace!==!0?"animated":"stale"),onClick:Zn},[w.hideBottomSpace===!0?Y:He(Ao,{name:"q-transition--field-message"},()=>Y),Z===!0?He("div",{class:"q-field__counter"},t.counter!==void 0?t.counter():f.computedCounter.value):null])}function z(W,H){return H===null?null:He("div",{key:W,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},H)}let G=!1;return Oi(()=>{G=!0}),Yu(()=>{G===!0&&w.autofocus===!0&&b.focus()}),w.autofocus===!0&&An(()=>{b.focus()}),Hr(()=>{d!==null&&clearTimeout(d)}),Object.assign(b,{focus:E,blur:j}),function(){const H=f.getControl===void 0&&t.control===void 0?{...f.splitAttrs.attributes.value,"data-autofocus":w.autofocus===!0||void 0,...x.value}:x.value;return He(f.tag.value,{ref:f.rootRef,class:[h.value,S.class],style:S.style,...H},[t.before!==void 0?He("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:Zn},t.before()):null,He("div",{class:"q-field__inner relative-position col self-stretch"},[He("div",{ref:f.controlRef,class:u.value,tabindex:-1,...f.controlEvents},R()),c.value===!0?N():null]),t.after!==void 0?He("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:Zn},t.after()):null])}}const au={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},xi={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:f=>f.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:f=>f.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:f=>f.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:f=>f.toLocaleLowerCase()}},Cc=Object.keys(xi);Cc.forEach(f=>{xi[f].regex=new RegExp(xi[f].pattern)});const fp=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+Cc.join("")+"])|(.)","g"),lu=/[.*+?^${}()|[\]\\]/g,Pr="",hp={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function pp(f,w,T,t){let S,b,o,d,s,p;const y=pt(null),m=pt(r());function n(){return f.autogrow===!0||["textarea","text","search","url","tel","password"].includes(f.type)}_t(()=>f.type+f.autogrow,a),_t(()=>f.mask,C=>{if(C!==void 0)h(m.value,!0);else{const L=E(m.value);a(),f.modelValue!==L&&w("update:modelValue",L)}}),_t(()=>f.fillMask+f.reverseFillMask,()=>{y.value===!0&&h(m.value,!0)}),_t(()=>f.unmaskedValue,()=>{y.value===!0&&h(m.value)});function r(){if(a(),y.value===!0){const C=x(E(f.modelValue));return f.fillMask!==!1?j(C):C}return f.modelValue}function c(C){if(C<S.length)return S.slice(-C);let L="",A=S;const P=A.indexOf(Pr);if(P!==-1){for(let R=C-A.length;R>0;R--)L+=Pr;A=A.slice(0,P)+L+A.slice(P)}return A}function a(){if(y.value=f.mask!==void 0&&f.mask.length!==0&&n(),y.value===!1){d=void 0,S="",b="";return}const C=au[f.mask]===void 0?f.mask:au[f.mask],L=typeof f.fillMask=="string"&&f.fillMask.length!==0?f.fillMask.slice(0,1):"_",A=L.replace(lu,"\\$&"),P=[],R=[],I=[];let N=f.reverseFillMask===!0,z="",G="";C.replace(fp,(Y,Q,M,B,V)=>{if(B!==void 0){const X=xi[B];I.push(X),G=X.negate,N===!0&&(R.push("(?:"+G+"+)?("+X.pattern+"+)?(?:"+G+"+)?("+X.pattern+"+)?"),N=!1),R.push("(?:"+G+"+)?("+X.pattern+")?")}else if(M!==void 0)z="\\"+(M==="\\"?"":M),I.push(M),P.push("([^"+z+"]+)?"+z+"?");else{const X=Q!==void 0?Q:V;z=X==="\\"?"\\\\\\\\":X.replace(lu,"\\\\$&"),I.push(X),P.push("([^"+z+"]+)?"+z+"?")}});const W=new RegExp("^"+P.join("")+"("+(z===""?".":"[^"+z+"]")+"+)?"+(z===""?"":"["+z+"]*")+"$"),H=R.length-1,Z=R.map((Y,Q)=>Q===0&&f.reverseFillMask===!0?new RegExp("^"+A+"*"+Y):Q===H?new RegExp("^"+Y+"("+(G===""?".":G)+"+)?"+(f.reverseFillMask===!0?"$":A+"*")):new RegExp("^"+Y));o=I,d=Y=>{const Q=W.exec(f.reverseFillMask===!0?Y:Y.slice(0,I.length+1));Q!==null&&(Y=Q.slice(1).join(""));const M=[],B=Z.length;for(let V=0,X=Y;V<B;V++){const re=Z[V].exec(X);if(re===null)break;X=X.slice(re.shift().length),M.push(...re)}return M.length!==0?M.join(""):Y},S=I.map(Y=>typeof Y=="string"?Y:Pr).join(""),b=S.split(Pr).join(L)}function h(C,L,A){const P=t.value,R=P.selectionEnd,I=P.value.length-R,N=E(C);L===!0&&a();const z=x(N),G=f.fillMask!==!1?j(z):z,W=m.value!==G;P.value!==G&&(P.value=G),W===!0&&(m.value=G),document.activeElement===P&&Zr(()=>{if(G===b){const Z=f.reverseFillMask===!0?b.length:0;P.setSelectionRange(Z,Z,"forward");return}if(A==="insertFromPaste"&&f.reverseFillMask!==!0){const Z=P.selectionEnd;let Y=R-1;for(let Q=s;Q<=Y&&Q<Z;Q++)S[Q]!==Pr&&Y++;l.right(P,Y);return}if(["deleteContentBackward","deleteContentForward"].indexOf(A)!==-1){const Z=f.reverseFillMask===!0?R===0?G.length>z.length?1:0:Math.max(0,G.length-(G===b?0:Math.min(z.length,I)+1))+1:R;P.setSelectionRange(Z,Z,"forward");return}if(f.reverseFillMask===!0)if(W===!0){const Z=Math.max(0,G.length-(G===b?0:Math.min(z.length,I+1)));Z===1&&R===1?P.setSelectionRange(Z,Z,"forward"):l.rightReverse(P,Z)}else{const Z=G.length-I;P.setSelectionRange(Z,Z,"backward")}else if(W===!0){const Z=Math.max(0,S.indexOf(Pr),Math.min(z.length,R)-1);l.right(P,Z)}else{const Z=R-1;l.right(P,Z)}});const H=f.unmaskedValue===!0?E(G):G;String(f.modelValue)!==H&&(f.modelValue!==null||H!=="")&&T(H,!0)}function u(C,L,A){const P=x(E(C.value));L=Math.max(0,S.indexOf(Pr),Math.min(P.length,L)),s=L,C.setSelectionRange(L,A,"forward")}const l={left(C,L){const A=S.slice(L-1).indexOf(Pr)===-1;let P=Math.max(0,L-1);for(;P>=0;P--)if(S[P]===Pr){L=P,A===!0&&L++;break}if(P<0&&S[L]!==void 0&&S[L]!==Pr)return l.right(C,0);L>=0&&C.setSelectionRange(L,L,"backward")},right(C,L){const A=C.value.length;let P=Math.min(A,L+1);for(;P<=A;P++)if(S[P]===Pr){L=P;break}else S[P-1]===Pr&&(L=P);if(P>A&&S[L-1]!==void 0&&S[L-1]!==Pr)return l.left(C,A);C.setSelectionRange(L,L,"forward")},leftReverse(C,L){const A=c(C.value.length);let P=Math.max(0,L-1);for(;P>=0;P--)if(A[P-1]===Pr){L=P;break}else if(A[P]===Pr&&(L=P,P===0))break;if(P<0&&A[L]!==void 0&&A[L]!==Pr)return l.rightReverse(C,0);L>=0&&C.setSelectionRange(L,L,"backward")},rightReverse(C,L){const A=C.value.length,P=c(A),R=P.slice(0,L+1).indexOf(Pr)===-1;let I=Math.min(A,L+1);for(;I<=A;I++)if(P[I-1]===Pr){L=I,L>0&&R===!0&&L--;break}if(I>A&&P[L-1]!==void 0&&P[L-1]!==Pr)return l.leftReverse(C,A);C.setSelectionRange(L,L,"forward")}};function g(C){w("click",C),p=void 0}function v(C){if(w("keydown",C),$u(C)===!0||C.altKey===!0)return;const L=t.value,A=L.selectionStart,P=L.selectionEnd;if(C.shiftKey||(p=void 0),C.keyCode===37||C.keyCode===39){C.shiftKey&&p===void 0&&(p=L.selectionDirection==="forward"?A:P);const R=l[(C.keyCode===39?"right":"left")+(f.reverseFillMask===!0?"Reverse":"")];if(C.preventDefault(),R(L,p===A?P:A),C.shiftKey){const I=L.selectionStart;L.setSelectionRange(Math.min(p,I),Math.max(p,I),"forward")}}else C.keyCode===8&&f.reverseFillMask!==!0&&A===P?(l.left(L,A),L.setSelectionRange(L.selectionStart,P,"backward")):C.keyCode===46&&f.reverseFillMask===!0&&A===P&&(l.rightReverse(L,P),L.setSelectionRange(A,L.selectionEnd,"forward"))}function x(C){if(C==null||C==="")return"";if(f.reverseFillMask===!0)return k(C);const L=o;let A=0,P="";for(let R=0;R<L.length;R++){const I=C[A],N=L[R];if(typeof N=="string")P+=N;else if(I!==void 0&&N.regex.test(I))P+=N.transform!==void 0?N.transform(I):I,A++;else return P}return P}function k(C){const L=o,A=S.indexOf(Pr);let P=C.length-1,R="";for(let I=L.length-1;I>=0&&P!==-1;I--){const N=L[I];let z=C[P];if(typeof N=="string")R=N+R;else if(z!==void 0&&N.regex.test(z))do R=(N.transform!==void 0?N.transform(z):z)+R,P--,z=C[P];while(A===I&&z!==void 0&&N.regex.test(z));else return R}return R}function E(C){return typeof C!="string"||d===void 0?typeof C=="number"?d(""+C):C:d(C)}function j(C){return b.length-C.length<=0?C:f.reverseFillMask===!0&&C.length!==0?b.slice(0,-C.length)+C:C+b.slice(C.length)}return{innerValue:m,hasMask:y,moveCursorForPaste:u,updateMaskValue:h,onMaskedKeydown:v,onMaskedClick:g}}function mp(f,w){function T(){const t=f.modelValue;try{const S="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(t)===t&&("length"in t?Array.from(t):[t]).forEach(b=>{S.items.add(b)}),{files:S.files}}catch{return{files:void 0}}}return Pe(()=>{if(f.type==="file")return T()})}const yp=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,gp=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,vp=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,bp=/[a-z0-9_ -]$/i;function _p(f){return function(T){if(T.type==="compositionend"||T.type==="change"){if(T.target.qComposing!==!0)return;T.target.qComposing=!1,f(T)}else T.type==="compositionupdate"&&T.target.qComposing!==!0&&typeof T.data=="string"&&(Fr.is.firefox===!0?bp.test(T.data)===!1:yp.test(T.data)===!0||gp.test(T.data)===!0||vp.test(T.data)===!0)===!0&&(T.target.qComposing=!0)}}const xo=er({name:"QInput",inheritAttrs:!1,props:{...lp,...hp,...Fa,modelValue:[String,Number,FileList],shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...up,"paste","change","keydown","click","animationend"],setup(f,{emit:w,attrs:T}){const{proxy:t}=qt(),{$q:S}=t,b={};let o=NaN,d,s,p=null,y;const m=pt(null),n=vh(f),{innerValue:r,hasMask:c,moveCursorForPaste:a,updateMaskValue:h,onMaskedKeydown:u,onMaskedClick:l}=pp(f,w,z,m),g=mp(f),v=Pe(()=>ja(r.value)),x=_p(I),k=cp({changeEvent:!0}),E=Pe(()=>f.type==="textarea"||f.autogrow===!0),j=Pe(()=>E.value===!0||["text","search","url","tel","password"].includes(f.type)),C=Pe(()=>{const Q={...k.splitAttrs.listeners.value,onInput:I,onPaste:R,onChange:W,onBlur:H,onFocus:Cn};return Q.onCompositionstart=Q.onCompositionupdate=Q.onCompositionend=x,c.value===!0&&(Q.onKeydown=u,Q.onClick=l),f.autogrow===!0&&(Q.onAnimationend=N),Q}),L=Pe(()=>{const Q={tabindex:0,"data-autofocus":f.autofocus===!0||void 0,rows:f.type==="textarea"?6:void 0,"aria-label":f.label,name:n.value,...k.splitAttrs.attributes.value,id:k.targetUid.value,maxlength:f.maxlength,disabled:f.disable===!0,readonly:f.readonly===!0};return E.value===!1&&(Q.type=f.type),f.autogrow===!0&&(Q.rows=1),Q});_t(()=>f.type,()=>{m.value&&(m.value.value=f.modelValue)}),_t(()=>f.modelValue,Q=>{if(c.value===!0){if(s===!0&&(s=!1,String(Q)===o))return;h(Q)}else r.value!==Q&&(r.value=Q,f.type==="number"&&b.hasOwnProperty("value")===!0&&(d===!0?d=!1:delete b.value));f.autogrow===!0&&Zr(G)}),_t(()=>f.autogrow,Q=>{Q===!0?Zr(G):m.value!==null&&T.rows>0&&(m.value.style.height="auto")}),_t(()=>f.dense,()=>{f.autogrow===!0&&Zr(G)});function A(){Ni(()=>{const Q=document.activeElement;m.value!==null&&m.value!==Q&&(Q===null||Q.id!==k.targetUid.value)&&m.value.focus({preventScroll:!0})})}function P(){m.value?.select()}function R(Q){if(c.value===!0&&f.reverseFillMask!==!0){const M=Q.target;a(M,M.selectionStart,M.selectionEnd)}w("paste",Q)}function I(Q){if(!Q||!Q.target)return;if(f.type==="file"){w("update:modelValue",Q.target.files);return}const M=Q.target.value;if(Q.target.qComposing===!0){b.value=M;return}if(c.value===!0)h(M,!1,Q.inputType);else if(z(M),j.value===!0&&Q.target===document.activeElement){const{selectionStart:B,selectionEnd:V}=Q.target;B!==void 0&&V!==void 0&&Zr(()=>{Q.target===document.activeElement&&M.indexOf(Q.target.value)===0&&Q.target.setSelectionRange(B,V)})}f.autogrow===!0&&G()}function N(Q){w("animationend",Q),G()}function z(Q,M){y=()=>{p=null,f.type!=="number"&&b.hasOwnProperty("value")===!0&&delete b.value,f.modelValue!==Q&&o!==Q&&(o=Q,M===!0&&(s=!0),w("update:modelValue",Q),Zr(()=>{o===Q&&(o=NaN)})),y=void 0},f.type==="number"&&(d=!0,b.value=Q),f.debounce!==void 0?(p!==null&&clearTimeout(p),b.value=Q,p=setTimeout(y,f.debounce)):y()}function G(){requestAnimationFrame(()=>{const Q=m.value;if(Q!==null){const M=Q.parentNode.style,{scrollTop:B}=Q,{overflowY:V,maxHeight:X}=S.platform.is.firefox===!0?{}:window.getComputedStyle(Q),re=V!==void 0&&V!=="scroll";re===!0&&(Q.style.overflowY="hidden"),M.marginBottom=Q.scrollHeight-1+"px",Q.style.height="1px",Q.style.height=Q.scrollHeight+"px",re===!0&&(Q.style.overflowY=parseInt(X,10)<Q.scrollHeight?"auto":"hidden"),M.marginBottom="",Q.scrollTop=B}})}function W(Q){x(Q),p!==null&&(clearTimeout(p),p=null),y?.(),w("change",Q.target.value)}function H(Q){Q!==void 0&&Cn(Q),p!==null&&(clearTimeout(p),p=null),y?.(),d=!1,s=!1,delete b.value,f.type!=="file"&&setTimeout(()=>{m.value!==null&&(m.value.value=r.value!==void 0?r.value:"")})}function Z(){return b.hasOwnProperty("value")===!0?b.value:r.value!==void 0?r.value:""}Hr(()=>{H()}),An(()=>{f.autogrow===!0&&G()}),Object.assign(k,{innerValue:r,fieldClass:Pe(()=>`q-${E.value===!0?"textarea":"input"}`+(f.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:Pe(()=>f.type!=="file"&&typeof f.shadowText=="string"&&f.shadowText.length!==0),inputRef:m,emitValue:z,hasValue:v,floatingLabel:Pe(()=>v.value===!0&&(f.type!=="number"||isNaN(r.value)===!1)||ja(f.displayValue)),getControl:()=>He(E.value===!0?"textarea":"input",{ref:m,class:["q-field__native q-placeholder",f.inputClass],style:f.inputStyle,...L.value,...C.value,...f.type!=="file"?{value:Z()}:g.value}),getShadowControl:()=>He("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(E.value===!0?"":" text-no-wrap")},[He("span",{class:"invisible"},Z()),He("span",f.shadowText)])});const Y=dp(k);return Object.assign(t,{focus:A,select:P,getNativeElement:()=>m.value}),Ai(t,"nativeEl",()=>m.value),Y}}),xp={class:"row justify-center items-center full-height q-px-sm"},wp={class:"col-9"},Sp={class:"col-3"},jp={class:"text-h6"},Ep={class:"row justify-center items-center full-height q-px-sm"},Tp={class:"col-3 full-height q-pa-md"},kp={class:"col-9"},Cp={key:4,class:"row justify-center items-center full-height q-px-sm"},Mp={class:"col-12"},Op={__name:"TopButtons",setup(f){const w=ts(),T=Rs(),{PEN_SIZE_MIN:t,PEN_SIZE_MAX:S,ERASER_SIZE_MIN:b,ERASER_SIZE_MAX:o,AVATAR_BORDER_SIZE_MAX:d,AVATAR_BORDER_SIZE_MIN:s,AVATAR_SIZE_MAX:p,AVATAR_SIZE_MIN:y,DEFAULT_AVATAR:m}=T,{penActions:n}=Ii(T),r=ws("avatarInput"),c=ws("colorInput"),a=On("bus"),h=j=>{j<t?w.penSize=t:j>S?w.penSize=S:w.penSize=j},u=j=>{j<b?w.eraserSize=b:j>o?w.eraserSize=o:w.eraserSize=j},l=j=>{j<s?w.avatarBorderSize=s:j>d?w.avatarBorderSize=d:w.avatarBorderSize=j,a.emit("setAvatarBorderSize")},g=j=>{j<y?w.avatarSize=y:j>p?w.avatarSize=p:w.avatarSize=j,a.emit("setAvatarSize")},v=()=>{r.value.click()},x=()=>{a.emit("removeAvatar"),w.avatarImage=m},k=j=>{const C=new FileReader;C.onload=L=>{a.emit("selectAvatar",L.target.result)},C.readAsDataURL(j.target.files[0])},E=j=>{w.name=j.trim().toUpperCase(),a.emit("setName")};return(j,C)=>vt(w).tool==="pen"?(Nt(),Br(Wo,{key:0},{default:at(()=>[Ke(sr,null,{default:at(()=>[Ke(Bt,{side:""},{default:at(()=>[Ke(Dr,{name:"mdi-circle",size:"10px",color:"white"})]),_:1}),Ke(Bt,null,{default:at(()=>[Ke(vn,{"model-value":vt(w).penSize,min:vt(t),max:vt(S),color:"primary","track-color":"white","onUpdate:modelValue":h},null,8,["model-value","min","max"])]),_:1}),Ke(Bt,{side:""},{default:at(()=>[Ke(Dr,{name:"mdi-circle",size:"20px",color:"white"})]),_:1})]),_:1}),Ke(Nn),Ke(sr,{class:"q-pa-none"},{default:at(()=>[(Nt(!0),Lr(tn,null,qn(vt(n),(L,A)=>(Nt(),Br(Bt,{key:A},{default:at(()=>[Ke(Gn,{class:"full-height",onClick:L.action,icon:L.icon},null,8,["onClick","icon"])]),_:2},1024))),128))]),_:1})]),_:1})):vt(w).tool==="eraser"?(Nt(),Br(Wo,{key:1},{default:at(()=>[Ke(sr,null,{default:at(()=>[Ke(Bt,{side:""},{default:at(()=>[Ke(Dr,{name:"mdi-circle",size:"10px",color:"white"})]),_:1}),Ke(Bt,null,{default:at(()=>[Ke(vn,{"model-value":vt(w).eraserSize,min:vt(b),max:vt(o),color:"primary","track-color":"white","onUpdate:modelValue":u},null,8,["model-value","min","max"])]),_:1}),Ke(Bt,{side:""},{default:at(()=>[Ke(Dr,{name:"mdi-circle",size:"20px",color:"white"})]),_:1})]),_:1}),Ke(Nn),Ke(sr,{class:"q-pa-none"},{default:at(()=>[(Nt(!0),Lr(tn,null,qn(vt(n),(L,A)=>(Nt(),Br(Bt,{key:A},{default:at(()=>[Ke(Gn,{class:"full-height",onClick:L.action,icon:L.icon},null,8,["onClick","icon"])]),_:2},1024))),128))]),_:1})]),_:1})):vt(w).tool==="avatar"?(Nt(),Lr(tn,{key:2},[Sn("input",{class:"hidden",ref_key:"avatarInput",ref:r,type:"file",accept:"image/png, image/jpeg",onChange:k},null,544),Sn("div",xp,[Sn("div",wp,[Ke(Wo,null,{default:at(()=>[Ke(sr,null,{default:at(()=>[Ke(Bt,{side:""},{default:at(()=>[Ke(Dr,{name:"mdi-border-all-variant",size:"20px",color:"white"})]),_:1}),Ke(Bt,null,{default:at(()=>[Ke(vn,{"model-value":vt(w).avatarBorderSize,min:vt(s),max:vt(d),color:"primary","track-color":"white","onUpdate:modelValue":l},null,8,["model-value","min","max"])]),_:1})]),_:1}),Ke(sr,null,{default:at(()=>[Ke(Bt,{side:""},{default:at(()=>[Ke(Dr,{name:"mdi-image-size-select-large",size:"20px",color:"white"})]),_:1}),Ke(Bt,null,{default:at(()=>[Ke(vn,{"model-value":vt(w).avatarSize,min:vt(y),max:vt(p),color:"primary","track-color":"white","onUpdate:modelValue":g},null,8,["model-value","min","max"])]),_:1})]),_:1})]),_:1})]),Sn("div",Sp,[Ke(Tc,{class:"cursor-pointer",src:vt(w).avatarImage||vt(m),fit:"contain",height:"80px"},{default:at(()=>[Ke(Ec,{breakpoint:1024},{default:at(()=>[Ke(za,{flat:"",style:{width:"300px"}},{default:at(()=>[Ke(yi,null,{default:at(()=>[Sn("div",jp,Tr(j.$t("tools.avatar.select")),1)]),_:1}),Ke(yi,null,{default:at(()=>[Ke(Oh,{spread:"",flat:""},{default:at(()=>[Ke(Gn,{flat:"",icon:"mdi-upload",onClick:v}),Ke(Gn,{flat:"",icon:"mdi-delete",onClick:x})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["src"])])])],64)):vt(w).tool==="bg"?(Nt(),Lr(tn,{key:3},[Wn(Sn("input",{class:"hidden",type:"color","onUpdate:modelValue":C[0]||(C[0]=L=>vt(w).bgColor=L),onInput:C[1]||(C[1]=L=>vt(a).emit("setBgColor")),ref_key:"colorInput",ref:c},null,544),[[ff,vt(w).bgColor]]),Sn("div",Ep,[Sn("div",Tp,[Sn("div",{class:"full-height full-width cursor-pointer",style:hf({backgroundColor:vt(w).bgColor}),onClick:C[2]||(C[2]=L=>c.value.click())},null,4)]),Sn("div",kp,[Ke(xo,{modelValue:vt(w).bgColor,"onUpdate:modelValue":[C[3]||(C[3]=L=>vt(w).bgColor=L),C[4]||(C[4]=L=>vt(a).emit("setBgColor"))],color:"primary",outlined:""},null,8,["modelValue"])])])],64)):vt(w).tool==="name"?(Nt(),Lr("div",Cp,[Sn("div",Mp,[Ke(xo,{"model-value":vt(w).name,placeholder:j.$t("tools.name.placeholder"),color:"primary",outlined:"","onUpdate:modelValue":E},null,8,["model-value","placeholder"])])])):Go("",!0)}},gn=er({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(f,{slots:w}){const T=Pe(()=>parseInt(f.lines,10)),t=Pe(()=>"q-item__label"+(f.overline===!0?" q-item__label--overline text-overline":"")+(f.caption===!0?" q-item__label--caption text-caption":"")+(f.header===!0?" q-item__label--header":"")+(T.value===1?" ellipsis":"")),S=Pe(()=>f.lines!==void 0&&T.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":T.value}:null);return()=>He("div",{style:S.value,class:t.value},xr(w.default))}}),Ap={class:"row justify-center items-center full-height"},Ip={__name:"BottomButtons",setup(f){const w=ts(),T=Rs(),{tools:t,actions:S}=Ii(T),{availableLocales:b,locale:o}=Ra();return(d,s)=>(Nt(),Lr("div",Ap,[(Nt(!0),Lr(tn,null,qn(vt(t),p=>(Nt(),Br(Gn,{class:pf(["col full-height",vt(w).tool===p.value?"bg-primary text-white":""]),key:p.value,onClick:y=>vt(w).tool=p.value,icon:p.icon},null,8,["onClick","icon","class"]))),128)),Ke(Gn,{class:"col full-height",icon:"mdi-dots-horizontal"},{default:at(()=>[Ke(Ec,{breakpoint:1024},{default:at(()=>[Ke(za,{flat:"",style:{width:"300px"}},{default:at(()=>[Ke(Wo,{class:"bg-dark"},{default:at(()=>[Ke(gn,{header:""},{default:at(()=>[zr(Tr(d.$t("actions.title")),1)]),_:1}),(Nt(!0),Lr(tn,null,qn(vt(S),(p,y)=>(Nt(),Br(sr,{key:y,clickable:"",onClick:p.action},{default:at(()=>[Ke(Bt,{avatar:""},{default:at(()=>[Ke(Dr,{name:p.icon},null,8,["name"])]),_:2},1024),Ke(Bt,null,{default:at(()=>[zr(Tr(p.label),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128)),Ke(Nn,{spaced:""}),Ke(gn,{header:""},{default:at(()=>[zr(Tr(d.$t("settings.i18n.title")),1)]),_:1}),(Nt(!0),Lr(tn,null,qn(vt(b),p=>Wn((Nt(),Br(sr,{key:p,clickable:"",active:vt(o)===p,onClick:y=>o.value=p,"active-class":"bg-primary text-white"},{default:at(()=>[Ke(Bt,null,{default:at(()=>[zr(Tr(d.$t(`settings.i18n.options.${p}`)),1)]),_:2},1024)]),_:2},1032,["active","onClick"])),[[Eo]])),128))]),_:1})]),_:1})]),_:1})]),_:1})]))}},Rp=er({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(f,{slots:w,emit:T}){let t=!1,S,b,o=null,d=null,s,p;function y(){S?.(),S=null,t=!1,o!==null&&(clearTimeout(o),o=null),d!==null&&(clearTimeout(d),d=null),b?.removeEventListener("transitionend",s),s=null}function m(a,h,u){h!==void 0&&(a.style.height=`${h}px`),a.style.transition=`height ${f.duration}ms cubic-bezier(.25, .8, .50, 1)`,t=!0,S=u}function n(a,h){a.style.overflowY=null,a.style.height=null,a.style.transition=null,y(),h!==p&&T(h)}function r(a,h){let u=0;b=a,t===!0?(y(),u=a.offsetHeight===a.scrollHeight?0:void 0):(p="hide",a.style.overflowY="hidden"),m(a,u,h),o=setTimeout(()=>{o=null,a.style.height=`${a.scrollHeight}px`,s=l=>{d=null,(Object(l)!==l||l.target===a)&&n(a,"show")},a.addEventListener("transitionend",s),d=setTimeout(s,f.duration*1.1)},100)}function c(a,h){let u;b=a,t===!0?y():(p="show",a.style.overflowY="hidden",u=a.scrollHeight),m(a,u,h),o=setTimeout(()=>{o=null,a.style.height=0,s=l=>{d=null,(Object(l)!==l||l.target===a)&&n(a,"hide")},a.addEventListener("transitionend",s),d=setTimeout(s,f.duration*1.1)},100)}return Hr(()=>{t===!0&&y()}),()=>He(Ao,{css:!1,appear:f.appear,onEnter:r,onLeave:c},w.default)}}),bo=mf({}),Pp=Object.keys(Pa),Lp=er({name:"QExpansionItem",props:{...Pa,...Pi,...Bn,icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,toggleAriaLabel:String,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:{},headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,hideExpandIcon:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]},emits:[...Li,"click","afterShow","afterHide"],setup(f,{slots:w,emit:T}){const{proxy:{$q:t}}=qt(),S=Un(f,t),b=pt(f.modelValue!==null?f.modelValue:f.defaultOpened),o=pt(null),d=kc(),{show:s,hide:p,toggle:y}=Di({showing:b});let m,n;const r=Pe(()=>`q-expansion-item q-item-type q-expansion-item--${b.value===!0?"expanded":"collapsed"} q-expansion-item--${f.popup===!0?"popup":"standard"}`),c=Pe(()=>f.contentInsetLevel===void 0?null:{["padding"+(t.lang.rtl===!0?"Right":"Left")]:f.contentInsetLevel*56+"px"}),a=Pe(()=>f.disable!==!0&&(f.href!==void 0||f.to!==void 0&&f.to!==null&&f.to!=="")),h=Pe(()=>{const G={};return Pp.forEach(W=>{G[W]=f[W]}),G}),u=Pe(()=>a.value===!0||f.expandIconToggle!==!0),l=Pe(()=>f.expandedIcon!==void 0&&b.value===!0?f.expandedIcon:f.expandIcon||t.iconSet.expansionItem[f.denseToggle===!0?"denseIcon":"icon"]),g=Pe(()=>f.disable!==!0&&(a.value===!0||f.expandIconToggle===!0)),v=Pe(()=>({expanded:b.value===!0,detailsId:d.value,toggle:y,show:s,hide:p})),x=Pe(()=>{const G=f.toggleAriaLabel!==void 0?f.toggleAriaLabel:t.lang.label[b.value===!0?"collapse":"expand"](f.label);return{role:"button","aria-expanded":b.value===!0?"true":"false","aria-controls":d.value,"aria-label":G}});_t(()=>f.group,G=>{n?.(),G!==void 0&&A()});function k(G){a.value!==!0&&y(G),T("click",G)}function E(G){G.keyCode===13&&j(G,!0)}function j(G,W){W!==!0&&G.qAvoidFocus!==!0&&o.value?.focus(),y(G),Fn(G)}function C(){T("afterShow")}function L(){T("afterHide")}function A(){m===void 0&&(m=_i()),b.value===!0&&(bo[f.group]=m);const G=_t(b,H=>{H===!0?bo[f.group]=m:bo[f.group]===m&&delete bo[f.group]}),W=_t(()=>bo[f.group],(H,Z)=>{Z===m&&H!==void 0&&H!==m&&p()});n=()=>{G(),W(),bo[f.group]===m&&delete bo[f.group],n=void 0}}function P(){const G={class:[`q-focusable relative-position cursor-pointer${f.denseToggle===!0&&f.switchToggleSide===!0?" items-end":""}`,f.expandIconClass],side:f.switchToggleSide!==!0,avatar:f.switchToggleSide},W=[He(Dr,{class:"q-expansion-item__toggle-icon"+(f.expandedIcon===void 0&&b.value===!0?" q-expansion-item__toggle-icon--rotated":""),name:l.value})];return g.value===!0&&(Object.assign(G,{tabindex:0,...x.value,onClick:j,onKeyup:E}),W.unshift(He("div",{ref:o,class:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",tabindex:-1}))),He(Bt,G,()=>W)}function R(){let G;return w.header!==void 0?G=[].concat(w.header(v.value)):(G=[He(Bt,()=>[He(gn,{lines:f.labelLines},()=>f.label||""),f.caption?He(gn,{lines:f.captionLines,caption:!0},()=>f.caption):null])],f.icon&&G[f.switchToggleSide===!0?"push":"unshift"](He(Bt,{side:f.switchToggleSide===!0,avatar:f.switchToggleSide!==!0},()=>He(Dr,{name:f.icon})))),f.disable!==!0&&f.hideExpandIcon!==!0&&G[f.switchToggleSide===!0?"unshift":"push"](P()),G}function I(){const G={ref:"item",style:f.headerStyle,class:f.headerClass,dark:S.value,disable:f.disable,dense:f.dense,insetLevel:f.headerInsetLevel};return u.value===!0&&(G.clickable=!0,G.onClick=k,Object.assign(G,a.value===!0?h.value:x.value)),He(sr,G,R)}function N(){return Wn(He("div",{key:"e-content",class:"q-expansion-item__content relative-position",style:c.value,id:d.value},xr(w.default)),[[yf,b.value]])}function z(){const G=[I(),He(Rp,{duration:f.duration,onShow:C,onHide:L},N)];return f.expandSeparator===!0&&G.push(He(Nn,{class:"q-expansion-item__border q-expansion-item__border--top absolute-top",dark:S.value}),He(Nn,{class:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",dark:S.value})),G}return f.group!==void 0&&A(),Hr(()=>{n?.()}),()=>He("div",{class:r.value},[He("div",{class:"q-expansion-item__container relative-position"},z())])}}),uu=150,Mc=er({name:"QDrawer",inheritAttrs:!1,props:{...Pi,...Bn,side:{type:String,default:"left",validator:f=>["left","right"].includes(f)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},noMiniAnimation:Boolean,breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:f=>["default","desktop","mobile"].includes(f),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...Li,"onLayout","miniState"],setup(f,{slots:w,emit:T,attrs:t}){const S=qt(),{proxy:{$q:b}}=S,o=Un(f,b),{preventBodyScroll:d}=yc(),{registerTimeout:s,removeTimeout:p}=po(),y=On(Is,kr);if(y===kr)return console.error("QDrawer needs to be child of QLayout"),kr;let m,n=null,r;const c=pt(f.behavior==="mobile"||f.behavior!=="desktop"&&y.totalWidth.value<=f.breakpoint),a=Pe(()=>f.mini===!0&&c.value!==!0),h=Pe(()=>a.value===!0?f.miniWidth:f.width),u=pt(f.showIfAbove===!0&&c.value===!1?!0:f.modelValue===!0),l=Pe(()=>f.persistent!==!0&&(c.value===!0||Z.value===!0));function g(je,Me){if(E(),je!==!1&&y.animate(),ge(0),c.value===!0){const Le=y.instances[z.value];Le?.belowBreakpoint===!0&&Le.hide(!1),U(1),y.isContainer.value!==!0&&d(!0)}else U(0),je!==!1&&oe(!1);s(()=>{je!==!1&&oe(!0),Me!==!0&&T("show",je)},uu)}function v(je,Me){j(),je!==!1&&y.animate(),U(0),ge(A.value*h.value),ae(),Me!==!0?s(()=>{T("hide",je)},uu):p()}const{show:x,hide:k}=Di({showing:u,hideOnRouteChange:l,handleShow:g,handleHide:v}),{addToHistory:E,removeFromHistory:j}=dc(u,k,l),C={belowBreakpoint:c,hide:k},L=Pe(()=>f.side==="right"),A=Pe(()=>(b.lang.rtl===!0?-1:1)*(L.value===!0?1:-1)),P=pt(0),R=pt(!1),I=pt(!1),N=pt(h.value*A.value),z=Pe(()=>L.value===!0?"left":"right"),G=Pe(()=>u.value===!0&&c.value===!1&&f.overlay===!1?f.miniToOverlay===!0?f.miniWidth:h.value:0),W=Pe(()=>f.overlay===!0||f.miniToOverlay===!0||y.view.value.indexOf(L.value?"R":"L")!==-1||b.platform.is.ios===!0&&y.isContainer.value===!0),H=Pe(()=>f.overlay===!1&&u.value===!0&&c.value===!1),Z=Pe(()=>f.overlay===!0&&u.value===!0&&c.value===!1),Y=Pe(()=>"fullscreen q-drawer__backdrop"+(u.value===!1&&R.value===!1?" hidden":"")),Q=Pe(()=>({backgroundColor:`rgba(0,0,0,${P.value*.4})`})),M=Pe(()=>L.value===!0?y.rows.value.top[2]==="r":y.rows.value.top[0]==="l"),B=Pe(()=>L.value===!0?y.rows.value.bottom[2]==="r":y.rows.value.bottom[0]==="l"),V=Pe(()=>{const je={};return y.header.space===!0&&M.value===!1&&(W.value===!0?je.top=`${y.header.offset}px`:y.header.space===!0&&(je.top=`${y.header.size}px`)),y.footer.space===!0&&B.value===!1&&(W.value===!0?je.bottom=`${y.footer.offset}px`:y.footer.space===!0&&(je.bottom=`${y.footer.size}px`)),je}),X=Pe(()=>{const je={width:`${h.value}px`,transform:`translateX(${N.value}px)`};return c.value===!0?je:Object.assign(je,V.value)}),re=Pe(()=>"q-drawer__content fit "+(y.isContainer.value!==!0?"scroll":"overflow-auto")),ne=Pe(()=>`q-drawer q-drawer--${f.side}`+(I.value===!0?" q-drawer--mini-animate":"")+(f.bordered===!0?" q-drawer--bordered":"")+(o.value===!0?" q-drawer--dark q-dark":"")+(R.value===!0?" no-transition":u.value===!0?"":" q-layout--prevent-focus")+(c.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${a.value===!0?"mini":"standard"}`+(W.value===!0||H.value!==!0?" fixed":"")+(f.overlay===!0||f.miniToOverlay===!0?" q-drawer--on-top":"")+(M.value===!0?" q-drawer--top-padding":""))),ce=Pe(()=>{const je=b.lang.rtl===!0?f.side:z.value;return[[bs,te,void 0,{[je]:!0,mouse:!0}]]}),be=Pe(()=>{const je=b.lang.rtl===!0?z.value:f.side;return[[bs,ee,void 0,{[je]:!0,mouse:!0}]]}),he=Pe(()=>{const je=b.lang.rtl===!0?z.value:f.side;return[[bs,ee,void 0,{[je]:!0,mouse:!0,mouseAllDir:!0}]]});function le(){Oe(c,f.behavior==="mobile"||f.behavior!=="desktop"&&y.totalWidth.value<=f.breakpoint)}_t(c,je=>{je===!0?(m=u.value,u.value===!0&&k(!1)):f.overlay===!1&&f.behavior!=="mobile"&&m!==!1&&(u.value===!0?(ge(0),U(0),ae()):x(!1))}),_t(()=>f.side,(je,Me)=>{y.instances[Me]===C&&(y.instances[Me]=void 0,y[Me].space=!1,y[Me].offset=0),y.instances[je]=C,y[je].size=h.value,y[je].space=H.value,y[je].offset=G.value}),_t(y.totalWidth,()=>{(y.isContainer.value===!0||document.qScrollPrevented!==!0)&&le()}),_t(()=>f.behavior+f.breakpoint,le),_t(y.isContainer,je=>{u.value===!0&&d(je!==!0),je===!0&&le()}),_t(y.scrollbarWidth,()=>{ge(u.value===!0?0:void 0)}),_t(G,je=>{_e("offset",je)}),_t(H,je=>{T("onLayout",je),_e("space",je)}),_t(L,()=>{ge()}),_t(h,je=>{ge(),ue(f.miniToOverlay,je)}),_t(()=>f.miniToOverlay,je=>{ue(je,h.value)}),_t(()=>b.lang.rtl,()=>{ge()}),_t(()=>f.mini,()=>{f.noMiniAnimation||f.modelValue===!0&&(fe(),y.animate())}),_t(a,je=>{T("miniState",je)});function ge(je){je===void 0?Zr(()=>{je=u.value===!0?0:h.value,ge(A.value*je)}):(y.isContainer.value===!0&&L.value===!0&&(c.value===!0||Math.abs(je)===h.value)&&(je+=A.value*y.scrollbarWidth.value),N.value=je)}function U(je){P.value=je}function oe(je){const Me=je===!0?"remove":y.isContainer.value!==!0?"add":"";Me!==""&&document.body.classList[Me]("q-body--drawer-toggle")}function fe(){n!==null&&clearTimeout(n),S.proxy&&S.proxy.$el&&S.proxy.$el.classList.add("q-drawer--mini-animate"),I.value=!0,n=setTimeout(()=>{n=null,I.value=!1,S?.proxy?.$el?.classList.remove("q-drawer--mini-animate")},150)}function te(je){if(u.value!==!1)return;const Me=h.value,Le=Hn(je.distance.x,0,Me);if(je.isFinal===!0){Le>=Math.min(75,Me)===!0?x():(y.animate(),U(0),ge(A.value*Me)),R.value=!1;return}ge((b.lang.rtl===!0?L.value!==!0:L.value)?Math.max(Me-Le,0):Math.min(0,Le-Me)),U(Hn(Le/Me,0,1)),je.isFirst===!0&&(R.value=!0)}function ee(je){if(u.value!==!0)return;const Me=h.value,Le=je.direction===f.side,qe=(b.lang.rtl===!0?Le!==!0:Le)?Hn(je.distance.x,0,Me):0;if(je.isFinal===!0){Math.abs(qe)<Math.min(75,Me)===!0?(y.animate(),U(1),ge(0)):k(),R.value=!1;return}ge(A.value*qe),U(Hn(1-qe/Me,0,1)),je.isFirst===!0&&(R.value=!0)}function ae(){d(!1),oe(!0)}function _e(je,Me){y.update(f.side,je,Me)}function Oe(je,Me){je.value!==Me&&(je.value=Me)}function ue(je,Me){_e("size",je===!0?f.miniWidth:Me)}return y.instances[f.side]=C,ue(f.miniToOverlay,h.value),_e("space",H.value),_e("offset",G.value),f.showIfAbove===!0&&f.modelValue!==!0&&u.value===!0&&f["onUpdate:modelValue"]!==void 0&&T("update:modelValue",!0),An(()=>{T("onLayout",H.value),T("miniState",a.value),m=f.showIfAbove===!0;const je=()=>{(u.value===!0?g:v)(!1,!0)};if(y.totalWidth.value!==0){Zr(je);return}r=_t(y.totalWidth,()=>{r(),r=void 0,u.value===!1&&f.showIfAbove===!0&&c.value===!1?x(!1):je()})}),Hr(()=>{r?.(),n!==null&&(clearTimeout(n),n=null),u.value===!0&&ae(),y.instances[f.side]===C&&(y.instances[f.side]=void 0,_e("size",0),_e("offset",0),_e("space",!1))}),()=>{const je=[];c.value===!0&&(f.noSwipeOpen===!1&&je.push(Wn(He("div",{key:"open",class:`q-drawer__opener fixed-${f.side}`,"aria-hidden":"true"}),ce.value)),je.push(Ss("div",{ref:"backdrop",class:Y.value,style:Q.value,"aria-hidden":"true",onClick:k},void 0,"backdrop",f.noSwipeBackdrop!==!0&&u.value===!0,()=>he.value)));const Me=a.value===!0&&w.mini!==void 0,Le=[He("div",{...t,key:""+Me,class:[re.value,t.class]},Me===!0?w.mini():xr(w.default))];return f.elevated===!0&&u.value===!0&&Le.push(He("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),je.push(Ss("aside",{ref:"content",class:ne.value,style:X.value},Le,"contentclose",f.noSwipeClose!==!0&&c.value===!0,()=>be.value)),He("div",{class:"q-drawer-container"},je)}}}),Dp={__name:"LeftDrawer",setup(f){const w=ts(),T=Rs(),{tools:t,actions:S}=Ii(T),{availableLocales:b,locale:o}=Ra();return(d,s)=>(Nt(),Br(Mc,{"model-value":!0,persistent:"",width:250,overlay:!1,behavior:"desktop"},{default:at(()=>[Ke(Wo,{padding:""},{default:at(()=>[Ke(gn,{header:""},{default:at(()=>[zr(Tr(d.$t("tools.title")),1)]),_:1}),(Nt(!0),Lr(tn,null,qn(vt(t),(p,y)=>Wn((Nt(),Br(sr,{key:y,dark:"",clickable:"",active:vt(w).tool===p.value,onClick:m=>vt(w).tool=p.value,"active-class":"bg-primary text-white"},{default:at(()=>[Ke(Bt,{avatar:""},{default:at(()=>[Ke(Dr,{name:p.icon},null,8,["name"])]),_:2},1024),Ke(Bt,null,{default:at(()=>[zr(Tr(p.label),1)]),_:2},1024)]),_:2},1032,["active","onClick"])),[[Eo]])),128)),Ke(Nn,{spaced:""}),Ke(gn,{header:""},{default:at(()=>[zr(Tr(d.$t("actions.title")),1)]),_:1}),(Nt(!0),Lr(tn,null,qn(vt(S),(p,y)=>Wn((Nt(),Br(sr,{key:y,dark:"",clickable:"",onClick:p.action},{default:at(()=>[Ke(Bt,{avatar:""},{default:at(()=>[Ke(Dr,{name:p.icon},null,8,["name"])]),_:2},1024),Ke(Bt,null,{default:at(()=>[zr(Tr(p.label),1)]),_:2},1024)]),_:2},1032,["onClick"])),[[Eo]])),128)),Ke(Nn,{spaced:""}),Ke(gn,{header:""},{default:at(()=>[zr(Tr(d.$t("settings.title")),1)]),_:1}),Ke(Lp,{icon:"mdi-translate",label:d.$t("settings.i18n.title"),dark:""},{default:at(()=>[(Nt(!0),Lr(tn,null,qn(vt(b),p=>Wn((Nt(),Br(sr,{key:p,"inset-level":1,clickable:"",active:vt(o)===p,onClick:y=>o.value=p,"active-class":"bg-primary text-white"},{default:at(()=>[Ke(Bt,null,{default:at(()=>[zr(Tr(d.$t(`settings.i18n.options.${p}`)),1)]),_:2},1024)]),_:2},1032,["active","onClick"])),[[Eo]])),128))]),_:1},8,["label"])]),_:1})]),_:1}))}};let Oc=!1;{const f=document.createElement("div");f.setAttribute("dir","rtl"),Object.assign(f.style,{width:"1px",height:"1px",overflow:"auto"});const w=document.createElement("div");Object.assign(w.style,{width:"1000px",height:"1px"}),document.body.appendChild(f),f.appendChild(w),f.scrollLeft=-1e3,Oc=f.scrollLeft>=0,f.remove()}function Np(f,w,T){const t=T===!0?["left","right"]:["top","bottom"];return`absolute-${w===!0?t[0]:t[1]}${f?` text-${f}`:""}`}const Fp=["left","center","right","justify"],cu=er({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:f=>Fp.includes(f)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(f,{slots:w,emit:T}){const{proxy:t}=qt(),{$q:S}=t,{registerTick:b}=_s(),{registerTick:o}=_s(),{registerTick:d}=_s(),{registerTimeout:s,removeTimeout:p}=po(),{registerTimeout:y,removeTimeout:m}=po(),n=pt(null),r=pt(null),c=pt(f.modelValue),a=pt(!1),h=pt(!0),u=pt(!1),l=pt(!1),g=[],v=pt(0),x=pt(!1);let k=null,E=null,j;const C=Pe(()=>({activeClass:f.activeClass,activeColor:f.activeColor,activeBgColor:f.activeBgColor,indicatorClass:Np(f.indicatorColor,f.switchIndicator,f.vertical),narrowIndicator:f.narrowIndicator,inlineLabel:f.inlineLabel,noCaps:f.noCaps})),L=Pe(()=>{const ue=v.value,je=c.value;for(let Me=0;Me<ue;Me++)if(g[Me].name.value===je)return!0;return!1}),A=Pe(()=>`q-tabs__content--align-${a.value===!0?"left":l.value===!0?"justify":f.align}`),P=Pe(()=>`q-tabs row no-wrap items-center q-tabs--${a.value===!0?"":"not-"}scrollable q-tabs--${f.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${f.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${f.mobileArrows===!0?"":"out"}-arrows`+(f.dense===!0?" q-tabs--dense":"")+(f.shrink===!0?" col-shrink":"")+(f.stretch===!0?" self-stretch":"")),R=Pe(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+A.value+(f.contentClass!==void 0?` ${f.contentClass}`:"")),I=Pe(()=>f.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),N=Pe(()=>f.vertical!==!0&&S.lang.rtl===!0),z=Pe(()=>Oc===!1&&N.value===!0);_t(N,Q),_t(()=>f.modelValue,ue=>{G({name:ue,setCurrent:!0,skipEmit:!0})}),_t(()=>f.outsideArrows,W);function G({name:ue,setCurrent:je,skipEmit:Me}){c.value!==ue&&(Me!==!0&&f["onUpdate:modelValue"]!==void 0&&T("update:modelValue",ue),(je===!0||f["onUpdate:modelValue"]===void 0)&&(Z(c.value,ue),c.value=ue))}function W(){b(()=>{n.value&&H({width:n.value.offsetWidth,height:n.value.offsetHeight})})}function H(ue){if(I.value===void 0||r.value===null)return;const je=ue[I.value.container],Me=Math.min(r.value[I.value.scroll],Array.prototype.reduce.call(r.value.children,(qe,Ye)=>qe+(Ye[I.value.content]||0),0)),Le=je>0&&Me>je;a.value=Le,Le===!0&&o(Q),l.value=je<parseInt(f.breakpoint,10)}function Z(ue,je){const Me=ue!=null&&ue!==""?g.find(qe=>qe.name.value===ue):null,Le=je!=null&&je!==""?g.find(qe=>qe.name.value===je):null;if(Oe===!0)Oe=!1;else if(Me&&Le){const qe=Me.tabIndicatorRef.value,Ye=Le.tabIndicatorRef.value;k!==null&&(clearTimeout(k),k=null),qe.style.transition="none",qe.style.transform="none",Ye.style.transition="none",Ye.style.transform="none";const Ee=qe.getBoundingClientRect(),Xe=Ye.getBoundingClientRect();Ye.style.transform=f.vertical===!0?`translate3d(0,${Ee.top-Xe.top}px,0) scale3d(1,${Xe.height?Ee.height/Xe.height:1},1)`:`translate3d(${Ee.left-Xe.left}px,0,0) scale3d(${Xe.width?Ee.width/Xe.width:1},1,1)`,d(()=>{k=setTimeout(()=>{k=null,Ye.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",Ye.style.transform="none"},70)})}Le&&a.value===!0&&Y(Le.rootRef.value)}function Y(ue){const{left:je,width:Me,top:Le,height:qe}=r.value.getBoundingClientRect(),Ye=ue.getBoundingClientRect();let Ee=f.vertical===!0?Ye.top-Le:Ye.left-je;if(Ee<0){r.value[f.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(Ee),Q();return}Ee+=f.vertical===!0?Ye.height-qe:Ye.width-Me,Ee>0&&(r.value[f.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(Ee),Q())}function Q(){const ue=r.value;if(ue===null)return;const je=ue.getBoundingClientRect(),Me=f.vertical===!0?ue.scrollTop:Math.abs(ue.scrollLeft);N.value===!0?(h.value=Math.ceil(Me+je.width)<ue.scrollWidth-1,u.value=Me>0):(h.value=Me>0,u.value=f.vertical===!0?Math.ceil(Me+je.height)<ue.scrollHeight:Math.ceil(Me+je.width)<ue.scrollWidth)}function M(ue){E!==null&&clearInterval(E),E=setInterval(()=>{ce(ue)===!0&&X()},5)}function B(){M(z.value===!0?Number.MAX_SAFE_INTEGER:0)}function V(){M(z.value===!0?0:Number.MAX_SAFE_INTEGER)}function X(){E!==null&&(clearInterval(E),E=null)}function re(ue,je){const Me=Array.prototype.filter.call(r.value.children,Xe=>Xe===je||Xe.matches&&Xe.matches(".q-tab.q-focusable")===!0),Le=Me.length;if(Le===0)return;if(ue===36)return Y(Me[0]),Me[0].focus(),!0;if(ue===35)return Y(Me[Le-1]),Me[Le-1].focus(),!0;const qe=ue===(f.vertical===!0?38:37),Ye=ue===(f.vertical===!0?40:39),Ee=qe===!0?-1:Ye===!0?1:void 0;if(Ee!==void 0){const Xe=N.value===!0?-1:1,De=Me.indexOf(je)+Ee*Xe;return De>=0&&De<Le&&(Y(Me[De]),Me[De].focus({preventScroll:!0})),!0}}const ne=Pe(()=>z.value===!0?{get:ue=>Math.abs(ue.scrollLeft),set:(ue,je)=>{ue.scrollLeft=-je}}:f.vertical===!0?{get:ue=>ue.scrollTop,set:(ue,je)=>{ue.scrollTop=je}}:{get:ue=>ue.scrollLeft,set:(ue,je)=>{ue.scrollLeft=je}});function ce(ue){const je=r.value,{get:Me,set:Le}=ne.value;let qe=!1,Ye=Me(je);const Ee=ue<Ye?-1:1;return Ye+=Ee*5,Ye<0?(qe=!0,Ye=0):(Ee===-1&&Ye<=ue||Ee===1&&Ye>=ue)&&(qe=!0,Ye=ue),Le(je,Ye),Q(),qe}function be(ue,je){for(const Me in ue)if(ue[Me]!==je[Me])return!1;return!0}function he(){let ue=null,je={matchedLen:0,queryDiff:9999,hrefLen:0};const Me=g.filter(Ee=>Ee.routeData?.hasRouterLink.value===!0),{hash:Le,query:qe}=t.$route,Ye=Object.keys(qe).length;for(const Ee of Me){const Xe=Ee.routeData.exact.value===!0;if(Ee.routeData[Xe===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:De,query:ie,matched:pe,href:$}=Ee.routeData.resolvedLink.value,de=Object.keys(ie).length;if(Xe===!0){if(De!==Le||de!==Ye||be(qe,ie)===!1)continue;ue=Ee.name.value;break}if(De!==""&&De!==Le||de!==0&&be(ie,qe)===!1)continue;const Se={matchedLen:pe.length,queryDiff:Ye-de,hrefLen:$.length-De.length};if(Se.matchedLen>je.matchedLen){ue=Ee.name.value,je=Se;continue}else if(Se.matchedLen!==je.matchedLen)continue;if(Se.queryDiff<je.queryDiff)ue=Ee.name.value,je=Se;else if(Se.queryDiff!==je.queryDiff)continue;Se.hrefLen>je.hrefLen&&(ue=Ee.name.value,je=Se)}if(ue===null&&g.some(Ee=>Ee.routeData===void 0&&Ee.name.value===c.value)===!0){Oe=!1;return}G({name:ue,setCurrent:!0})}function le(ue){if(p(),x.value!==!0&&n.value!==null&&ue.target&&typeof ue.target.closest=="function"){const je=ue.target.closest(".q-tab");je&&n.value.contains(je)===!0&&(x.value=!0,a.value===!0&&Y(je))}}function ge(){s(()=>{x.value=!1},30)}function U(){ee.avoidRouteWatcher===!1?y(he):m()}function oe(){if(j===void 0){const ue=_t(()=>t.$route.fullPath,U);j=()=>{ue(),j=void 0}}}function fe(ue){g.push(ue),v.value++,W(),ue.routeData===void 0||t.$route===void 0?y(()=>{if(a.value===!0){const je=c.value,Me=je!=null&&je!==""?g.find(Le=>Le.name.value===je):null;Me&&Y(Me.rootRef.value)}}):(oe(),ue.routeData.hasRouterLink.value===!0&&U())}function te(ue){g.splice(g.indexOf(ue),1),v.value--,W(),j!==void 0&&ue.routeData!==void 0&&(g.every(je=>je.routeData===void 0)===!0&&j(),U())}const ee={currentModel:c,tabProps:C,hasFocus:x,hasActiveTab:L,registerTab:fe,unregisterTab:te,verifyRouteModel:U,updateModel:G,onKbdNavigate:re,avoidRouteWatcher:!1};Uu(Zu,ee);function ae(){k!==null&&clearTimeout(k),X(),j?.()}let _e,Oe;return Hr(ae),Oi(()=>{_e=j!==void 0,ae()}),Yu(()=>{_e===!0&&(oe(),Oe=!0,U()),W()}),()=>He("div",{ref:n,class:P.value,role:"tablist",onFocusin:le,onFocusout:ge},[He(Oa,{onResize:H}),He("div",{ref:r,class:R.value,onScroll:Q},xr(w.default)),He(Dr,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(h.value===!0?"":" q-tabs__arrow--faded"),name:f.leftIcon||S.iconSet.tabs[f.vertical===!0?"up":"left"],onMousedownPassive:B,onTouchstartPassive:B,onMouseupPassive:X,onMouseleavePassive:X,onTouchendPassive:X}),He(Dr,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(u.value===!0?"":" q-tabs__arrow--faded"),name:f.rightIcon||S.iconSet.tabs[f.vertical===!0?"down":"right"],onMousedownPassive:V,onTouchstartPassive:V,onMouseupPassive:X,onMouseleavePassive:X,onTouchendPassive:X})])}});let Bp=0;const Up=["click","keydown"],zp={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${Bp++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function Vp(f,w,T,t){const S=On(Zu,kr);if(S===kr)return console.error("QTab/QRouteTab component needs to be child of QTabs"),kr;const{proxy:b}=qt(),o=pt(null),d=pt(null),s=pt(null),p=Pe(()=>f.disable===!0||f.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},f.ripple===!0?{}:f.ripple)),y=Pe(()=>S.currentModel.value===f.name),m=Pe(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(y.value===!0?" q-tab--active"+(S.tabProps.value.activeClass?" "+S.tabProps.value.activeClass:"")+(S.tabProps.value.activeColor?` text-${S.tabProps.value.activeColor}`:"")+(S.tabProps.value.activeBgColor?` bg-${S.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(f.icon&&f.label&&S.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(f.noCaps===!0||S.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(f.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")),n=Pe(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(S.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(f.contentClass!==void 0?` ${f.contentClass}`:"")),r=Pe(()=>f.disable===!0||S.hasFocus.value===!0||y.value===!1&&S.hasActiveTab.value===!0?-1:f.tabindex||0);function c(g,v){if(v!==!0&&g?.qAvoidFocus!==!0&&o.value?.focus(),f.disable!==!0){S.updateModel({name:f.name}),T("click",g);return}}function a(g){Mi(g,[13,32])?c(g,!0):$u(g)!==!0&&g.keyCode>=35&&g.keyCode<=40&&g.altKey!==!0&&g.metaKey!==!0&&S.onKbdNavigate(g.keyCode,b.$el)===!0&&Fn(g),T("keydown",g)}function h(){const g=S.tabProps.value.narrowIndicator,v=[],x=He("div",{ref:s,class:["q-tab__indicator",S.tabProps.value.indicatorClass]});f.icon!==void 0&&v.push(He(Dr,{class:"q-tab__icon",name:f.icon})),f.label!==void 0&&v.push(He("div",{class:"q-tab__label"},f.label)),f.alert!==!1&&v.push(f.alertIcon!==void 0?He(Dr,{class:"q-tab__alert-icon",color:f.alert!==!0?f.alert:void 0,name:f.alertIcon}):He("div",{class:"q-tab__alert"+(f.alert!==!0?` text-${f.alert}`:"")})),g===!0&&v.push(x);const k=[He("div",{class:"q-focus-helper",tabindex:-1,ref:o}),He("div",{class:n.value},Bu(w.default,v))];return g===!1&&k.push(x),k}const u={name:Pe(()=>f.name),rootRef:d,tabIndicatorRef:s,routeData:t};Hr(()=>{S.unregisterTab(u)}),An(()=>{S.registerTab(u)});function l(g,v){const x={ref:d,class:m.value,tabindex:r.value,role:"tab","aria-selected":y.value===!0?"true":"false","aria-disabled":f.disable===!0?"true":void 0,onClick:c,onKeydown:a,...v};return Wn(He(g,x,h()),[[Eo,p.value]])}return{renderTab:l,$tabs:S}}const ms=er({name:"QTab",props:zp,emits:Up,setup(f,{slots:w,emit:T}){const{renderTab:t}=Vp(f,w,T);return()=>t("div")}});function Gp(f){const w=[.06,6,50];return typeof f=="string"&&f.length&&f.split(":").forEach((T,t)=>{const S=parseFloat(T);S&&(w[t]=S)}),w}const Hp=Gu({name:"touch-swipe",beforeMount(f,{value:w,arg:T,modifiers:t}){if(t.mouse!==!0&&Fr.has.touch!==!0)return;const S=t.mouseCapture===!0?"Capture":"",b={handler:w,sensitivity:Gp(T),direction:pi(t),noop:Hu,mouseStart(o){mi(o,b)&&qu(o)&&(Vn(b,"temp",[[document,"mousemove","move",`notPassive${S}`],[document,"mouseup","end","notPassiveCapture"]]),b.start(o,!0))},touchStart(o){if(mi(o,b)){const d=o.target;Vn(b,"temp",[[d,"touchmove","move","notPassiveCapture"],[d,"touchcancel","end","notPassiveCapture"],[d,"touchend","end","notPassiveCapture"]]),b.start(o)}},start(o,d){Fr.is.firefox===!0&&qo(f,!0);const s=Oo(o);b.event={x:s.left,y:s.top,time:Date.now(),mouse:d===!0,dir:!1}},move(o){if(b.event===void 0)return;if(b.event.dir!==!1){Fn(o);return}const d=Date.now()-b.event.time;if(d===0)return;const s=Oo(o),p=s.left-b.event.x,y=Math.abs(p),m=s.top-b.event.y,n=Math.abs(m);if(b.event.mouse!==!0){if(y<b.sensitivity[1]&&n<b.sensitivity[1]){b.end(o);return}}else if(window.getSelection().toString()!==""){b.end(o);return}else if(y<b.sensitivity[2]&&n<b.sensitivity[2])return;const r=y/d,c=n/d;b.direction.vertical===!0&&y<n&&y<100&&c>b.sensitivity[0]&&(b.event.dir=m<0?"up":"down"),b.direction.horizontal===!0&&y>n&&n<100&&r>b.sensitivity[0]&&(b.event.dir=p<0?"left":"right"),b.direction.up===!0&&y<n&&m<0&&y<100&&c>b.sensitivity[0]&&(b.event.dir="up"),b.direction.down===!0&&y<n&&m>0&&y<100&&c>b.sensitivity[0]&&(b.event.dir="down"),b.direction.left===!0&&y>n&&p<0&&n<100&&r>b.sensitivity[0]&&(b.event.dir="left"),b.direction.right===!0&&y>n&&p>0&&n<100&&r>b.sensitivity[0]&&(b.event.dir="right"),b.event.dir!==!1?(Fn(o),b.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Ua(),b.styleCleanup=a=>{b.styleCleanup=void 0,document.body.classList.remove("non-selectable");const h=()=>{document.body.classList.remove("no-pointer-events--children")};a===!0?setTimeout(h,50):h()}),b.handler({evt:o,touch:b.event.mouse!==!0,mouse:b.event.mouse,direction:b.event.dir,duration:d,distance:{x:y,y:n}})):b.end(o)},end(o){b.event!==void 0&&(jo(b,"temp"),Fr.is.firefox===!0&&qo(f,!1),b.styleCleanup?.(!0),o!==void 0&&b.event.dir!==!1&&Fn(o),b.event=void 0)}};if(f.__qtouchswipe=b,t.mouse===!0){const o=t.mouseCapture===!0||t.mousecapture===!0?"Capture":"";Vn(b,"main",[[f,"mousedown","mouseStart",`passive${o}`]])}Fr.has.touch===!0&&Vn(b,"main",[[f,"touchstart","touchStart",`passive${t.capture===!0?"Capture":""}`],[f,"touchmove","noop","notPassiveCapture"]])},updated(f,w){const T=f.__qtouchswipe;T!==void 0&&(w.oldValue!==w.value&&(typeof w.value!="function"&&T.end(),T.handler=w.value),T.direction=pi(w.modifiers))},beforeUnmount(f){const w=f.__qtouchswipe;w!==void 0&&(jo(w,"main"),jo(w,"temp"),Fr.is.firefox===!0&&qo(f,!1),w.styleCleanup?.(),delete f.__qtouchswipe)}});function Ac(){let f=Object.create(null);return{getCache:(w,T)=>f[w]===void 0?f[w]=typeof T=="function"?T():T:f[w],setCache(w,T){f[w]=T},hasCache(w){return Object.hasOwnProperty.call(f,w)},clearCache(w){w!==void 0?delete f[w]:f=Object.create(null)}}}const qp={name:{required:!0},disable:Boolean},du={setup(f,{slots:w}){return()=>He("div",{class:"q-panel scroll",role:"tabpanel"},xr(w.default))}},Wp={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},Xp=["update:modelValue","beforeTransition","transition"];function Yp(){const{props:f,emit:w,proxy:T}=qt(),{getCache:t}=Ac(),{registerTimeout:S}=po();let b,o;const d=pt(null),s={value:null};function p(I){const N=f.vertical===!0?"up":"left";j((T.$q.lang.rtl===!0?-1:1)*(I.direction===N?1:-1))}const y=Pe(()=>[[Hp,p,void 0,{horizontal:f.vertical!==!0,vertical:f.vertical,mouse:!0}]]),m=Pe(()=>f.transitionPrev||`slide-${f.vertical===!0?"down":"right"}`),n=Pe(()=>f.transitionNext||`slide-${f.vertical===!0?"up":"left"}`),r=Pe(()=>`--q-transition-duration: ${f.transitionDuration}ms`),c=Pe(()=>typeof f.modelValue=="string"||typeof f.modelValue=="number"?f.modelValue:String(f.modelValue)),a=Pe(()=>({include:f.keepAliveInclude,exclude:f.keepAliveExclude,max:f.keepAliveMax})),h=Pe(()=>f.keepAliveInclude!==void 0||f.keepAliveExclude!==void 0);_t(()=>f.modelValue,(I,N)=>{const z=v(I)===!0?x(I):-1;o!==!0&&E(z===-1?0:z<x(N)?-1:1),s.value!==z&&(s.value=z,w("beforeTransition",I,N),S(()=>{w("transition",I,N)},f.transitionDuration))});function u(){j(1)}function l(){j(-1)}function g(I){w("update:modelValue",I)}function v(I){return I!=null&&I!==""}function x(I){return b.findIndex(N=>N.props.name===I&&N.props.disable!==""&&N.props.disable!==!0)}function k(){return b.filter(I=>I.props.disable!==""&&I.props.disable!==!0)}function E(I){const N=I!==0&&f.animated===!0&&s.value!==-1?"q-transition--"+(I===-1?m.value:n.value):null;d.value!==N&&(d.value=N)}function j(I,N=s.value){let z=N+I;for(;z!==-1&&z<b.length;){const G=b[z];if(G!==void 0&&G.props.disable!==""&&G.props.disable!==!0){E(I),o=!0,w("update:modelValue",G.props.name),setTimeout(()=>{o=!1});return}z+=I}f.infinite===!0&&b.length!==0&&N!==-1&&N!==b.length&&j(I,I===-1?b.length:-1)}function C(){const I=x(f.modelValue);return s.value!==I&&(s.value=I),!0}function L(){const I=v(f.modelValue)===!0&&C()&&b[s.value];return f.keepAlive===!0?[He(vf,a.value,[He(h.value===!0?t(c.value,()=>({...du,name:c.value})):du,{key:c.value,style:r.value},()=>I)])]:[He("div",{class:"q-panel scroll",style:r.value,key:c.value,role:"tabpanel"},[I])]}function A(){if(b.length!==0)return f.animated===!0?[He(Ao,{name:d.value},L)]:L()}function P(I){return b=gf(xr(I.default,[])).filter(N=>N.props!==null&&N.props.slot===void 0&&v(N.props.name)===!0),b.length}function R(){return b}return Object.assign(T,{next:u,previous:l,goTo:g}),{panelIndex:s,panelDirectives:y,updatePanelsList:P,updatePanelIndex:C,getPanelContent:A,getEnabledPanels:k,getPanels:R,isValidPanelName:v,keepAliveProps:a,needsUniqueKeepAliveWrapper:h,goToPanelByOffset:j,goToPanel:g,nextPanel:u,previousPanel:l}}const $p=er({name:"QTabPanels",props:{...Wp,...Bn},emits:Xp,setup(f,{slots:w}){const T=qt(),t=Un(f,T.proxy.$q),{updatePanelsList:S,getPanelContent:b,panelDirectives:o}=Yp(),d=Pe(()=>"q-tab-panels q-panel-parent"+(t.value===!0?" q-tab-panels--dark q-dark":""));return()=>(S(w),Ss("div",{class:d.value},b(),"pan",f.swipeable,()=>o.value))}}),ma=er({name:"QTabPanel",props:qp,setup(f,{slots:w}){return()=>He("div",{class:"q-tab-panel",role:"tabpanel"},xr(w.default))}}),Zp=/^rgb(a)?\((\d{1,3}),(\d{1,3}),(\d{1,3}),?([01]?\.?\d*?)?\)$/;function fu({r:f,g:w,b:T,a:t}){const S=t!==void 0;if(f=Math.round(f),w=Math.round(w),T=Math.round(T),f>255||w>255||T>255||S&&t>100)throw new TypeError("Expected 3 numbers below 256 (and optionally one below 100)");return t=S?(Math.round(255*t/100)|256).toString(16).slice(1):"","#"+(T|w<<8|f<<16|1<<24).toString(16).slice(1)+t}function hu({r:f,g:w,b:T,a:t}){return`rgb${t!==void 0?"a":""}(${f},${w},${T}${t!==void 0?","+t/100:""})`}function Ic(f){if(typeof f!="string")throw new TypeError("Expected a string");f=f.replace(/^#/,""),f.length===3?f=f[0]+f[0]+f[1]+f[1]+f[2]+f[2]:f.length===4&&(f=f[0]+f[0]+f[1]+f[1]+f[2]+f[2]+f[3]+f[3]);const w=parseInt(f,16);return f.length>6?{r:w>>24&255,g:w>>16&255,b:w>>8&255,a:Math.round((w&255)/2.55)}:{r:w>>16,g:w>>8&255,b:w&255}}function pu({h:f,s:w,v:T,a:t}){let S,b,o;w=w/100,T=T/100,f=f/360;const d=Math.floor(f*6),s=f*6-d,p=T*(1-w),y=T*(1-s*w),m=T*(1-(1-s)*w);switch(d%6){case 0:S=T,b=m,o=p;break;case 1:S=y,b=T,o=p;break;case 2:S=p,b=T,o=m;break;case 3:S=p,b=y,o=T;break;case 4:S=m,b=p,o=T;break;case 5:S=T,b=p,o=y;break}return{r:Math.round(S*255),g:Math.round(b*255),b:Math.round(o*255),a:t}}function ya({r:f,g:w,b:T,a:t}){const S=Math.max(f,w,T),b=Math.min(f,w,T),o=S-b,d=S===0?0:o/S,s=S/255;let p;switch(S){case b:p=0;break;case f:p=w-T+o*(w<T?6:0),p/=6*o;break;case w:p=T-f+o*2,p/=6*o;break;case T:p=f-w+o*4,p/=6*o;break}return{h:Math.round(p*360),s:Math.round(d*100),v:Math.round(s*100),a:t}}function Rc(f){if(typeof f!="string")throw new TypeError("Expected a string");const w=f.replace(/ /g,""),T=Zp.exec(w);if(T===null)return Ic(w);const t={r:Math.min(255,parseInt(T[2],10)),g:Math.min(255,parseInt(T[3],10)),b:Math.min(255,parseInt(T[4],10))};if(T[1]){const S=parseFloat(T[5]);t.a=Math.min(1,isNaN(S)===!0?1:S)*100}return t}function Kp(f){if(typeof f!="string"&&(!f||f.r===void 0))throw new TypeError("Expected a string or a {r, g, b} object as color");const w=typeof f=="string"?Rc(f):f,T=w.r/255,t=w.g/255,S=w.b/255,b=T<=.03928?T/12.92:Math.pow((T+.055)/1.055,2.4),o=t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4),d=S<=.03928?S/12.92:Math.pow((S+.055)/1.055,2.4);return .2126*b+.7152*o+.0722*d}const Qp=["rgb(255,204,204)","rgb(255,230,204)","rgb(255,255,204)","rgb(204,255,204)","rgb(204,255,230)","rgb(204,255,255)","rgb(204,230,255)","rgb(204,204,255)","rgb(230,204,255)","rgb(255,204,255)","rgb(255,153,153)","rgb(255,204,153)","rgb(255,255,153)","rgb(153,255,153)","rgb(153,255,204)","rgb(153,255,255)","rgb(153,204,255)","rgb(153,153,255)","rgb(204,153,255)","rgb(255,153,255)","rgb(255,102,102)","rgb(255,179,102)","rgb(255,255,102)","rgb(102,255,102)","rgb(102,255,179)","rgb(102,255,255)","rgb(102,179,255)","rgb(102,102,255)","rgb(179,102,255)","rgb(255,102,255)","rgb(255,51,51)","rgb(255,153,51)","rgb(255,255,51)","rgb(51,255,51)","rgb(51,255,153)","rgb(51,255,255)","rgb(51,153,255)","rgb(51,51,255)","rgb(153,51,255)","rgb(255,51,255)","rgb(255,0,0)","rgb(255,128,0)","rgb(255,255,0)","rgb(0,255,0)","rgb(0,255,128)","rgb(0,255,255)","rgb(0,128,255)","rgb(0,0,255)","rgb(128,0,255)","rgb(255,0,255)","rgb(245,0,0)","rgb(245,123,0)","rgb(245,245,0)","rgb(0,245,0)","rgb(0,245,123)","rgb(0,245,245)","rgb(0,123,245)","rgb(0,0,245)","rgb(123,0,245)","rgb(245,0,245)","rgb(214,0,0)","rgb(214,108,0)","rgb(214,214,0)","rgb(0,214,0)","rgb(0,214,108)","rgb(0,214,214)","rgb(0,108,214)","rgb(0,0,214)","rgb(108,0,214)","rgb(214,0,214)","rgb(163,0,0)","rgb(163,82,0)","rgb(163,163,0)","rgb(0,163,0)","rgb(0,163,82)","rgb(0,163,163)","rgb(0,82,163)","rgb(0,0,163)","rgb(82,0,163)","rgb(163,0,163)","rgb(92,0,0)","rgb(92,46,0)","rgb(92,92,0)","rgb(0,92,0)","rgb(0,92,46)","rgb(0,92,92)","rgb(0,46,92)","rgb(0,0,92)","rgb(46,0,92)","rgb(92,0,92)","rgb(255,255,255)","rgb(205,205,205)","rgb(178,178,178)","rgb(153,153,153)","rgb(127,127,127)","rgb(102,102,102)","rgb(76,76,76)","rgb(51,51,51)","rgb(25,25,25)","rgb(0,0,0)"],mu="M5 5 h10 v10 h-10 v-10 z",Jp="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAH0lEQVQoU2NkYGAwZkAFZ5G5jPRRgOYEVDeB3EBjBQBOZwTVugIGyAAAAABJRU5ErkJggg==",em=er({name:"QColor",props:{...Bn,...Fa,modelValue:String,defaultValue:String,defaultView:{type:String,default:"spectrum",validator:f=>["spectrum","tune","palette"].includes(f)},formatModel:{type:String,default:"auto",validator:f=>["auto","hex","rgb","hexa","rgba"].includes(f)},palette:Array,noHeader:Boolean,noHeaderTabs:Boolean,noFooter:Boolean,square:Boolean,flat:Boolean,bordered:Boolean,disable:Boolean,readonly:Boolean},emits:["update:modelValue","change"],setup(f,{emit:w}){const{proxy:T}=qt(),{$q:t}=T,S=Un(f,t),{getCache:b}=Ac(),o=pt(null),d=pt(null),s=Pe(()=>f.formatModel==="auto"?null:f.formatModel.indexOf("hex")!==-1),p=Pe(()=>f.formatModel==="auto"?null:f.formatModel.indexOf("a")!==-1),y=pt(f.formatModel==="auto"?f.modelValue===void 0||f.modelValue===null||f.modelValue===""||f.modelValue.startsWith("#")?"hex":"rgb":f.formatModel.startsWith("hex")?"hex":"rgb"),m=pt(f.defaultView),n=pt(P(f.modelValue||f.defaultValue)),r=Pe(()=>f.disable!==!0&&f.readonly!==!0),c=Pe(()=>f.modelValue===void 0||f.modelValue===null||f.modelValue===""||f.modelValue.startsWith("#")),a=Pe(()=>s.value!==null?s.value:c.value),h=Pe(()=>({type:"hidden",name:f.name,value:n.value[a.value===!0?"hex":"rgb"]})),u=uc(h),l=Pe(()=>p.value!==null?p.value:n.value.a!==void 0),g=Pe(()=>({backgroundColor:n.value.rgb||"#000"})),v=Pe(()=>`q-color-picker__header-content q-color-picker__header-content--${(n.value.a!==void 0&&n.value.a<65?!0:Kp(n.value)>.4)?"light":"dark"}`),x=Pe(()=>({background:`hsl(${n.value.h},100%,50%)`})),k=Pe(()=>({top:`${100-n.value.v}%`,[t.lang.rtl===!0?"right":"left"]:`${n.value.s}%`})),E=Pe(()=>f.palette!==void 0&&f.palette.length!==0?f.palette:Qp),j=Pe(()=>"q-color-picker"+(f.bordered===!0?" q-color-picker--bordered":"")+(f.square===!0?" q-color-picker--square no-border-radius":"")+(f.flat===!0?" q-color-picker--flat no-shadow":"")+(f.disable===!0?" disabled":"")+(S.value===!0?" q-color-picker--dark q-dark":"")),C=Pe(()=>f.disable===!0?{"aria-disabled":"true"}:{}),L=Pe(()=>[[bs,H,void 0,{prevent:!0,stop:!0,mouse:!0}]]);_t(()=>f.modelValue,le=>{const ge=P(le||f.defaultValue);ge.hex!==n.value.hex&&(n.value=ge)}),_t(()=>f.defaultValue,le=>{if(!f.modelValue&&le){const ge=P(le);ge.hex!==n.value.hex&&(n.value=ge)}});function A(le,ge){n.value.hex=fu(le),n.value.rgb=hu(le),n.value.r=le.r,n.value.g=le.g,n.value.b=le.b,n.value.a=le.a;const U=n.value[a.value===!0?"hex":"rgb"];w("update:modelValue",U),ge===!0&&w("change",U)}function P(le){const ge=p.value!==void 0?p.value:f.formatModel==="auto"?null:f.formatModel.indexOf("a")!==-1;if(typeof le!="string"||le.length===0||oi.anyColor(le.replace(/ /g,""))!==!0)return{h:0,s:0,v:0,r:0,g:0,b:0,a:ge===!0?100:void 0,hex:void 0,rgb:void 0};const U=Rc(le);return ge===!0&&U.a===void 0&&(U.a=100),U.hex=fu(U),U.rgb=hu(U),Object.assign(U,ya(U))}function R(le,ge,U){const oe=o.value;if(oe===null)return;const fe=oe.clientWidth,te=oe.clientHeight,ee=oe.getBoundingClientRect();let ae=Math.min(fe,Math.max(0,le-ee.left));t.lang.rtl===!0&&(ae=fe-ae);const _e=Math.min(te,Math.max(0,ge-ee.top)),Oe=Math.round(100*ae/fe),ue=Math.round(100*Math.max(0,Math.min(1,-(_e/te)+1))),je=pu({h:n.value.h,s:Oe,v:ue,a:l.value===!0?n.value.a:void 0});n.value.s=Oe,n.value.v=ue,A(je,U)}function I(le,ge){const U=Math.round(le),oe=pu({h:U,s:n.value.s,v:n.value.v,a:l.value===!0?n.value.a:void 0});n.value.h=U,A(oe,ge)}function N(le){I(le,!0)}function z(le,ge,U,oe,fe){if(oe!==void 0&&Cn(oe),!/^[0-9]+$/.test(le)){fe===!0&&T.$forceUpdate();return}const te=Math.floor(Number(le));if(te<0||te>U){fe===!0&&T.$forceUpdate();return}const ee={r:ge==="r"?te:n.value.r,g:ge==="g"?te:n.value.g,b:ge==="b"?te:n.value.b,a:l.value===!0?ge==="a"?te:n.value.a:void 0};if(ge!=="a"){const ae=ya(ee);n.value.h=ae.h,n.value.s=ae.s,n.value.v=ae.v}if(A(ee,fe),fe!==!0&&oe?.target.selectionEnd!==void 0){const ae=oe.target.selectionEnd;Zr(()=>{oe.target.setSelectionRange(ae,ae)})}}function G(le,ge){let U;const oe=le.target.value;if(Cn(le),y.value==="hex"){if(oe.length!==(l.value===!0?9:7)||!/^#[0-9A-Fa-f]+$/.test(oe))return!0;U=Ic(oe)}else{let te;if(oe.endsWith(")"))if(l.value!==!0&&oe.startsWith("rgb(")){if(te=oe.substring(4,oe.length-1).split(",").map(ee=>parseInt(ee,10)),te.length!==3||!/^rgb\([0-9]{1,3},[0-9]{1,3},[0-9]{1,3}\)$/.test(oe))return!0}else if(l.value===!0&&oe.startsWith("rgba(")){if(te=oe.substring(5,oe.length-1).split(","),te.length!==4||!/^rgba\([0-9]{1,3},[0-9]{1,3},[0-9]{1,3},(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/.test(oe))return!0;for(let ae=0;ae<3;ae++){const _e=parseInt(te[ae],10);if(_e<0||_e>255)return!0;te[ae]=_e}const ee=parseFloat(te[3]);if(ee<0||ee>1)return!0;te[3]=ee}else return!0;else return!0;if(te[0]<0||te[0]>255||te[1]<0||te[1]>255||te[2]<0||te[2]>255||l.value===!0&&(te[3]<0||te[3]>1))return!0;U={r:te[0],g:te[1],b:te[2],a:l.value===!0?te[3]*100:void 0}}const fe=ya(U);if(n.value.h=fe.h,n.value.s=fe.s,n.value.v=fe.v,A(U,ge),ge!==!0){const te=le.target.selectionEnd;Zr(()=>{le.target.setSelectionRange(te,te)})}}function W(le){const ge=P(le),U={r:ge.r,g:ge.g,b:ge.b,a:ge.a};U.a===void 0&&(U.a=n.value.a),n.value.h=ge.h,n.value.s=ge.s,n.value.v=ge.v,A(U,!0)}function H(le){le.isFinal?R(le.position.left,le.position.top,!0):Z(le)}const Z=bf(le=>{R(le.position.left,le.position.top)},20);function Y(le){R(le.pageX-window.pageXOffset,le.pageY-window.pageYOffset,!0)}function Q(le){R(le.pageX-window.pageXOffset,le.pageY-window.pageYOffset)}function M(le){d.value!==null&&(d.value.$el.style.opacity=le?1:0)}function B(le){y.value=le}function V(){const le=[];return f.noHeaderTabs!==!0&&le.push(He(cu,{class:"q-color-picker__header-tabs",modelValue:y.value,dense:!0,align:"justify","onUpdate:modelValue":B},()=>[He(ms,{label:"HEX"+(l.value===!0?"A":""),name:"hex",ripple:!1}),He(ms,{label:"RGB"+(l.value===!0?"A":""),name:"rgb",ripple:!1})])),le.push(He("div",{class:"q-color-picker__header-banner row flex-center no-wrap"},[He("input",{class:"fit",value:n.value[y.value],...r.value!==!0?{readonly:!0}:{},...b("topIn",{onInput:ge=>{M(G(ge)===!0)},onChange:Cn,onBlur:ge=>{G(ge,!0)===!0&&T.$forceUpdate(),M(!1)}})}),He(Dr,{ref:d,class:"q-color-picker__error-icon absolute no-pointer-events",name:t.iconSet.type.negative})])),He("div",{class:"q-color-picker__header relative-position overflow-hidden"},[He("div",{class:"q-color-picker__header-bg absolute-full"}),He("div",{class:v.value,style:g.value},le)])}function X(){return He($p,{modelValue:m.value,animated:!0},()=>[He(ma,{class:"q-color-picker__spectrum-tab overflow-hidden",name:"spectrum"},ce),He(ma,{class:"q-pa-md q-color-picker__tune-tab",name:"tune"},be),He(ma,{class:"q-color-picker__palette-tab",name:"palette"},he)])}function re(le){m.value=le}function ne(){return He("div",{class:"q-color-picker__footer relative-position overflow-hidden"},[He(cu,{class:"absolute-full",modelValue:m.value,dense:!0,align:"justify","onUpdate:modelValue":re},()=>[He(ms,{icon:t.iconSet.colorPicker.spectrum,name:"spectrum",ripple:!1}),He(ms,{icon:t.iconSet.colorPicker.tune,name:"tune",ripple:!1}),He(ms,{icon:t.iconSet.colorPicker.palette,name:"palette",ripple:!1})])])}function ce(){const le={ref:o,class:"q-color-picker__spectrum non-selectable relative-position cursor-pointer"+(r.value!==!0?" readonly":""),style:x.value,...r.value===!0?{onClick:Y,onMousedown:Q}:{}},ge=[He("div",{style:{paddingBottom:"100%"}}),He("div",{class:"q-color-picker__spectrum-white absolute-full"}),He("div",{class:"q-color-picker__spectrum-black absolute-full"}),He("div",{class:"absolute",style:k.value},[n.value.hex!==void 0?He("div",{class:"q-color-picker__spectrum-circle"}):null])],U=[He(vn,{class:"q-color-picker__hue non-selectable",modelValue:n.value.h,min:0,max:360,trackSize:"8px",innerTrackColor:"transparent",selectionColor:"transparent",readonly:r.value!==!0,thumbPath:mu,"onUpdate:modelValue":I,onChange:N})];return l.value===!0&&U.push(He(vn,{class:"q-color-picker__alpha non-selectable",modelValue:n.value.a,min:0,max:100,trackSize:"8px",trackColor:"white",innerTrackColor:"transparent",selectionColor:"transparent",trackImg:Jp,readonly:r.value!==!0,hideSelection:!0,thumbPath:mu,...b("alphaSlide",{"onUpdate:modelValue":oe=>z(oe,"a",100),onChange:oe=>z(oe,"a",100,void 0,!0)})})),[Ss("div",le,ge,"spec",r.value,()=>L.value),He("div",{class:"q-color-picker__sliders"},U)]}function be(){return[He("div",{class:"row items-center no-wrap"},[He("div","R"),He(vn,{modelValue:n.value.r,min:0,max:255,color:"red",dark:S.value,readonly:r.value!==!0,...b("rSlide",{"onUpdate:modelValue":le=>z(le,"r",255),onChange:le=>z(le,"r",255,void 0,!0)})}),He("input",{value:n.value.r,maxlength:3,readonly:r.value!==!0,onChange:Cn,...b("rIn",{onInput:le=>z(le.target.value,"r",255,le),onBlur:le=>z(le.target.value,"r",255,le,!0)})})]),He("div",{class:"row items-center no-wrap"},[He("div","G"),He(vn,{modelValue:n.value.g,min:0,max:255,color:"green",dark:S.value,readonly:r.value!==!0,...b("gSlide",{"onUpdate:modelValue":le=>z(le,"g",255),onChange:le=>z(le,"g",255,void 0,!0)})}),He("input",{value:n.value.g,maxlength:3,readonly:r.value!==!0,onChange:Cn,...b("gIn",{onInput:le=>z(le.target.value,"g",255,le),onBlur:le=>z(le.target.value,"g",255,le,!0)})})]),He("div",{class:"row items-center no-wrap"},[He("div","B"),He(vn,{modelValue:n.value.b,min:0,max:255,color:"blue",readonly:r.value!==!0,dark:S.value,...b("bSlide",{"onUpdate:modelValue":le=>z(le,"b",255),onChange:le=>z(le,"b",255,void 0,!0)})}),He("input",{value:n.value.b,maxlength:3,readonly:r.value!==!0,onChange:Cn,...b("bIn",{onInput:le=>z(le.target.value,"b",255,le),onBlur:le=>z(le.target.value,"b",255,le,!0)})})]),l.value===!0?He("div",{class:"row items-center no-wrap"},[He("div","A"),He(vn,{modelValue:n.value.a,color:"grey",readonly:r.value!==!0,dark:S.value,...b("aSlide",{"onUpdate:modelValue":le=>z(le,"a",100),onChange:le=>z(le,"a",100,void 0,!0)})}),He("input",{value:n.value.a,maxlength:3,readonly:r.value!==!0,onChange:Cn,...b("aIn",{onInput:le=>z(le.target.value,"a",100,le),onBlur:le=>z(le.target.value,"a",100,le,!0)})})]):null]}function he(){const le=ge=>He("div",{class:"q-color-picker__cube col-auto",style:{backgroundColor:ge},...r.value===!0?b("palette#"+ge,{onClick:()=>{W(ge)}}):{}});return[He("div",{class:"row items-center q-color-picker__palette-rows"+(r.value===!0?" q-color-picker__palette-rows--editable":"")},E.value.map(le))]}return()=>{const le=[X()];return f.name!==void 0&&f.disable!==!0&&u(le,"push"),f.noHeader!==!0&&le.unshift(V()),f.noFooter!==!0&&le.push(ne()),He("div",{class:j.value,...C.value},le)}}}),tm={__name:"RightDrawer",setup(f){const w=ts(),T=Rs(),{PEN_SIZE_MIN:t,PEN_SIZE_MAX:S,ERASER_SIZE_MIN:b,ERASER_SIZE_MAX:o,AVATAR_BORDER_SIZE_MAX:d,AVATAR_BORDER_SIZE_MIN:s,AVATAR_SIZE_MAX:p,AVATAR_SIZE_MIN:y,DEFAULT_AVATAR:m}=T,{penActions:n}=Ii(T),r=ws("avatarInput"),c=On("bus"),a=E=>{E<t?w.penSize=t:E>S?w.penSize=S:w.penSize=E},h=E=>{E<b?w.eraserSize=b:E>o?w.eraserSize=o:w.eraserSize=E},u=E=>{E<s?w.avatarBorderSize=s:E>d?w.avatarBorderSize=d:w.avatarBorderSize=E,c.emit("setAvatarBorderSize")},l=E=>{E<y?w.avatarSize=y:E>p?w.avatarSize=p:w.avatarSize=E,c.emit("setAvatarSize")},g=()=>{r.value.click()},v=()=>{c.emit("removeAvatar"),w.avatarImage=m},x=E=>{const j=new FileReader;j.onload=C=>{c.emit("selectAvatar",C.target.result)},j.readAsDataURL(E.target.files[0])},k=E=>{w.name=E.trim().toUpperCase(),c.emit("setName")};return(E,j)=>(Nt(),Br(Mc,{"model-value":!0,persistent:"",width:250,overlay:!1,behavior:"desktop",side:"right"},{default:at(()=>[Ke(Wo,{padding:""},{default:at(()=>[vt(w).tool==="pen"?(Nt(),Lr(tn,{key:0},[Ke(gn,{header:""},{default:at(()=>[zr(Tr(E.$t("tools.pen.size")),1)]),_:1}),Ke(sr,null,{default:at(()=>[Ke(Bt,null,{default:at(()=>[Ke(vn,{"model-value":vt(w).penSize,min:vt(t),max:vt(S),color:"primary","track-color":"white","onUpdate:modelValue":a},null,8,["model-value","min","max"])]),_:1})]),_:1}),Ke(sr,null,{default:at(()=>[Ke(Bt,null,{default:at(()=>[Ke(xo,{"model-value":vt(w).penSize,type:"number",min:vt(t),max:vt(S),color:"primary",outlined:"","onUpdate:modelValue":a},null,8,["model-value","min","max"])]),_:1})]),_:1}),Ke(Nn,{spaced:""}),(Nt(!0),Lr(tn,null,qn(vt(n),(C,L)=>Wn((Nt(),Br(sr,{key:L,dark:"",clickable:"",onClick:C.action},{default:at(()=>[Ke(Bt,{avatar:""},{default:at(()=>[Ke(Dr,{name:C.icon},null,8,["name"])]),_:2},1024),Ke(Bt,null,{default:at(()=>[zr(Tr(C.label),1)]),_:2},1024)]),_:2},1032,["onClick"])),[[Eo]])),128))],64)):vt(w).tool==="eraser"?(Nt(),Lr(tn,{key:1},[Ke(gn,{header:""},{default:at(()=>[zr(Tr(E.$t("tools.eraser.size")),1)]),_:1}),Ke(sr,null,{default:at(()=>[Ke(Bt,null,{default:at(()=>[Ke(vn,{"model-value":vt(w).eraserSize,min:vt(b),max:vt(o),color:"primary","track-color":"white","onUpdate:modelValue":h},null,8,["model-value","min","max"])]),_:1})]),_:1}),Ke(sr,null,{default:at(()=>[Ke(Bt,null,{default:at(()=>[Ke(xo,{"model-value":vt(w).eraserSize,type:"number",min:vt(b),max:vt(o),color:"primary",outlined:"","onUpdate:modelValue":h},null,8,["model-value","min","max"])]),_:1})]),_:1}),Ke(Nn,{spaced:""}),(Nt(!0),Lr(tn,null,qn(vt(n),(C,L)=>Wn((Nt(),Br(sr,{key:L,dark:"",clickable:"",onClick:C.action},{default:at(()=>[Ke(Bt,{avatar:""},{default:at(()=>[Ke(Dr,{name:C.icon},null,8,["name"])]),_:2},1024),Ke(Bt,null,{default:at(()=>[zr(Tr(C.label),1)]),_:2},1024)]),_:2},1032,["onClick"])),[[Eo]])),128))],64)):vt(w).tool==="avatar"?(Nt(),Lr(tn,{key:2},[Sn("input",{class:"hidden",ref_key:"avatarInput",ref:r,type:"file",accept:"image/png, image/jpeg",onChange:x},null,544),Ke(gn,{header:""},{default:at(()=>[zr(Tr(E.$t("tools.avatar.select")),1)]),_:1}),Ke(sr,null,{default:at(()=>[Ke(Tc,{class:"full-width",src:vt(w).avatarImage||vt(m),height:"150px",fit:"contain"},null,8,["src"])]),_:1}),Ke(sr,null,{default:at(()=>[Ke(Bt,null,{default:at(()=>[Ke(Gn,{flat:"",icon:"mdi-upload",onClick:g})]),_:1}),Ke(Bt,null,{default:at(()=>[Ke(Gn,{flat:"",icon:"mdi-delete",onClick:v})]),_:1})]),_:1}),Ke(Nn,{spaced:""}),Ke(gn,{header:""},{default:at(()=>[zr(Tr(E.$t("tools.avatar.borderSize")),1)]),_:1}),Ke(sr,null,{default:at(()=>[Ke(Bt,null,{default:at(()=>[Ke(vn,{"model-value":vt(w).avatarBorderSize,min:vt(s),max:vt(d),color:"primary","track-color":"white","onUpdate:modelValue":u},null,8,["model-value","min","max"])]),_:1})]),_:1}),Ke(sr,null,{default:at(()=>[Ke(Bt,null,{default:at(()=>[Ke(xo,{"model-value":vt(w).avatarBorderSize,type:"number",min:vt(s),max:vt(d),color:"primary",outlined:"","onUpdate:modelValue":u},null,8,["model-value","min","max"])]),_:1})]),_:1}),Ke(Nn,{spaced:""}),Ke(gn,{header:""},{default:at(()=>[zr(Tr(E.$t("tools.avatar.size")),1)]),_:1}),Ke(sr,null,{default:at(()=>[Ke(Bt,null,{default:at(()=>[Ke(vn,{"model-value":vt(w).avatarSize,min:vt(y),max:vt(p),color:"primary","track-color":"white","onUpdate:modelValue":l},null,8,["model-value","min","max"])]),_:1})]),_:1}),Ke(sr,null,{default:at(()=>[Ke(Bt,null,{default:at(()=>[Ke(xo,{"model-value":vt(w).avatarSize,type:"number",min:vt(y),max:vt(p),color:"primary",outlined:"","onUpdate:modelValue":l},null,8,["model-value","min","max"])]),_:1})]),_:1})],64)):vt(w).tool==="bg"?(Nt(),Lr(tn,{key:3},[Ke(gn,{header:""},{default:at(()=>[zr(Tr(E.$t("tools.color.color")),1)]),_:1}),Ke(sr,null,{default:at(()=>[Ke(Bt,null,{default:at(()=>[Ke(em,{modelValue:vt(w).bgColor,"onUpdate:modelValue":[j[0]||(j[0]=C=>vt(w).bgColor=C),j[1]||(j[1]=C=>vt(c).emit("setBgColor"))],flat:"",dark:"",style:{"min-height":"370px"}},null,8,["modelValue"])]),_:1})]),_:1})],64)):vt(w).tool==="name"?(Nt(),Lr(tn,{key:4},[Ke(gn,{header:""},{default:at(()=>[zr(Tr(E.$t("tools.name.title")),1)]),_:1}),Ke(sr,null,{default:at(()=>[Ke(Bt,null,{default:at(()=>[Ke(xo,{"model-value":vt(w).name,placeholder:E.$t("tools.name.placeholder"),color:"primary",outlined:"","onUpdate:modelValue":k},null,8,["model-value","placeholder"])]),_:1})]),_:1})],64)):Go("",!0)]),_:1})]),_:1}))}},rm=er({name:"QCardActions",props:{..._f,vertical:Boolean},setup(f,{slots:w}){const T=xf(f),t=Pe(()=>`q-card__actions ${T.value} q-card__actions--${f.vertical===!0?"vert column":"horiz row"}`);return()=>He("div",{class:t.value},xr(w.default))}});var ei={},ga={exports:{}},va={};/**
* @vue/compiler-core v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const $o=Symbol(""),Xo=Symbol(""),Fi=Symbol(""),Ts=Symbol(""),Va=Symbol(""),mo=Symbol(""),Ga=Symbol(""),Ha=Symbol(""),Bi=Symbol(""),Ui=Symbol(""),rs=Symbol(""),zi=Symbol(""),qa=Symbol(""),Vi=Symbol(""),Gi=Symbol(""),Hi=Symbol(""),qi=Symbol(""),Wi=Symbol(""),Xi=Symbol(""),Wa=Symbol(""),Xa=Symbol(""),Ps=Symbol(""),ks=Symbol(""),Yi=Symbol(""),$i=Symbol(""),Zo=Symbol(""),ns=Symbol(""),Zi=Symbol(""),wi=Symbol(""),Pc=Symbol(""),Si=Symbol(""),Cs=Symbol(""),Lc=Symbol(""),Dc=Symbol(""),Ki=Symbol(""),Nc=Symbol(""),Fc=Symbol(""),Qi=Symbol(""),Ya=Symbol(""),Io={[$o]:"Fragment",[Xo]:"Teleport",[Fi]:"Suspense",[Ts]:"KeepAlive",[Va]:"BaseTransition",[mo]:"openBlock",[Ga]:"createBlock",[Ha]:"createElementBlock",[Bi]:"createVNode",[Ui]:"createElementVNode",[rs]:"createCommentVNode",[zi]:"createTextVNode",[qa]:"createStaticVNode",[Vi]:"resolveComponent",[Gi]:"resolveDynamicComponent",[Hi]:"resolveDirective",[qi]:"resolveFilter",[Wi]:"withDirectives",[Xi]:"renderList",[Wa]:"renderSlot",[Xa]:"createSlots",[Ps]:"toDisplayString",[ks]:"mergeProps",[Yi]:"normalizeClass",[$i]:"normalizeStyle",[Zo]:"normalizeProps",[ns]:"guardReactiveProps",[Zi]:"toHandlers",[wi]:"camelize",[Pc]:"capitalize",[Si]:"toHandlerKey",[Cs]:"setBlockTracking",[Lc]:"pushScopeId",[Dc]:"popScopeId",[Ki]:"withCtx",[Nc]:"unref",[Fc]:"isRef",[Qi]:"withMemo",[Ya]:"isMemoSame"};function Bc(f){Object.getOwnPropertySymbols(f).forEach(w=>{Io[w]=f[w]})}const nm={HTML:0,0:"HTML",SVG:1,1:"SVG",MATH_ML:2,2:"MATH_ML"},om={ROOT:0,0:"ROOT",ELEMENT:1,1:"ELEMENT",TEXT:2,2:"TEXT",COMMENT:3,3:"COMMENT",SIMPLE_EXPRESSION:4,4:"SIMPLE_EXPRESSION",INTERPOLATION:5,5:"INTERPOLATION",ATTRIBUTE:6,6:"ATTRIBUTE",DIRECTIVE:7,7:"DIRECTIVE",COMPOUND_EXPRESSION:8,8:"COMPOUND_EXPRESSION",IF:9,9:"IF",IF_BRANCH:10,10:"IF_BRANCH",FOR:11,11:"FOR",TEXT_CALL:12,12:"TEXT_CALL",VNODE_CALL:13,13:"VNODE_CALL",JS_CALL_EXPRESSION:14,14:"JS_CALL_EXPRESSION",JS_OBJECT_EXPRESSION:15,15:"JS_OBJECT_EXPRESSION",JS_PROPERTY:16,16:"JS_PROPERTY",JS_ARRAY_EXPRESSION:17,17:"JS_ARRAY_EXPRESSION",JS_FUNCTION_EXPRESSION:18,18:"JS_FUNCTION_EXPRESSION",JS_CONDITIONAL_EXPRESSION:19,19:"JS_CONDITIONAL_EXPRESSION",JS_CACHE_EXPRESSION:20,20:"JS_CACHE_EXPRESSION",JS_BLOCK_STATEMENT:21,21:"JS_BLOCK_STATEMENT",JS_TEMPLATE_LITERAL:22,22:"JS_TEMPLATE_LITERAL",JS_IF_STATEMENT:23,23:"JS_IF_STATEMENT",JS_ASSIGNMENT_EXPRESSION:24,24:"JS_ASSIGNMENT_EXPRESSION",JS_SEQUENCE_EXPRESSION:25,25:"JS_SEQUENCE_EXPRESSION",JS_RETURN_STATEMENT:26,26:"JS_RETURN_STATEMENT"},sm={ELEMENT:0,0:"ELEMENT",COMPONENT:1,1:"COMPONENT",SLOT:2,2:"SLOT",TEMPLATE:3,3:"TEMPLATE"},im={NOT_CONSTANT:0,0:"NOT_CONSTANT",CAN_SKIP_PATCH:1,1:"CAN_SKIP_PATCH",CAN_CACHE:2,2:"CAN_CACHE",CAN_STRINGIFY:3,3:"CAN_STRINGIFY"},qr={start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0},source:""};function Uc(f,w=""){return{type:0,source:w,children:f,helpers:new Set,components:[],directives:[],hoists:[],imports:[],cached:[],temps:0,codegenNode:void 0,loc:qr}}function Ko(f,w,T,t,S,b,o,d=!1,s=!1,p=!1,y=qr){return f&&(d?(f.helper(mo),f.helper(Lo(f.inSSR,p))):f.helper(Po(f.inSSR,p)),o&&f.helper(Wi)),{type:13,tag:w,props:T,children:t,patchFlag:S,dynamicProps:b,directives:o,isBlock:d,disableTracking:s,isComponent:p,loc:y}}function ho(f,w=qr){return{type:17,loc:w,elements:f}}function En(f,w=qr){return{type:15,loc:w,properties:f}}function yr(f,w){return{type:16,loc:qr,key:Gr(f)?At(f,!0):f,value:w}}function At(f,w=!1,T=qr,t=0){return{type:4,loc:T,content:f,isStatic:w,constType:w?3:t}}function am(f,w){return{type:5,loc:w,content:Gr(f)?At(f,!1,w):f}}function Mn(f,w=qr){return{type:8,loc:w,children:f}}function Nr(f,w=[],T=qr){return{type:14,loc:T,callee:f,arguments:w}}function Ro(f,w=void 0,T=!1,t=!1,S=qr){return{type:18,params:f,returns:w,newline:T,isSlot:t,loc:S}}function ji(f,w,T,t=!0){return{type:19,test:f,consequent:w,alternate:T,newline:t,loc:qr}}function zc(f,w,T=!1,t=!1){return{type:20,index:f,value:w,needPauseTracking:T,inVOnce:t,needArraySpread:!1,loc:qr}}function Vc(f){return{type:21,body:f,loc:qr}}function lm(f){return{type:22,elements:f,loc:qr}}function um(f,w,T){return{type:23,test:f,consequent:w,alternate:T,loc:qr}}function cm(f,w){return{type:24,left:f,right:w,loc:qr}}function dm(f){return{type:25,expressions:f,loc:qr}}function fm(f){return{type:26,returns:f,loc:qr}}function Po(f,w){return f||w?Bi:Ui}function Lo(f,w){return f||w?Ga:Ha}function Ji(f,{helper:w,removeHelper:T,inSSR:t}){f.isBlock||(f.isBlock=!0,T(Po(t,f.isComponent)),w(mo),w(Lo(t,f.isComponent)))}const yu=new Uint8Array([123,123]),gu=new Uint8Array([125,125]);function vu(f){return f>=97&&f<=122||f>=65&&f<=90}function jn(f){return f===32||f===10||f===9||f===12||f===13}function io(f){return f===47||f===62||jn(f)}function Ei(f){const w=new Uint8Array(f.length);for(let T=0;T<f.length;T++)w[T]=f.charCodeAt(T);return w}const un={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])};class hm{constructor(w,T){this.stack=w,this.cbs=T,this.state=1,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=1,this.inRCDATA=!1,this.inXML=!1,this.inVPre=!1,this.newlines=[],this.mode=0,this.delimiterOpen=yu,this.delimiterClose=gu,this.delimiterIndex=-1,this.currentSequence=void 0,this.sequenceIndex=0}get inSFCRoot(){return this.mode===2&&this.stack.length===0}reset(){this.state=1,this.mode=0,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=1,this.inRCDATA=!1,this.currentSequence=void 0,this.newlines.length=0,this.delimiterOpen=yu,this.delimiterClose=gu}getPos(w){let T=1,t=w+1;for(let S=this.newlines.length-1;S>=0;S--){const b=this.newlines[S];if(w>b){T=S+2,t=w-b;break}}return{column:t,line:T,offset:w}}peek(){return this.buffer.charCodeAt(this.index+1)}stateText(w){w===60?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=5,this.sectionStart=this.index):!this.inVPre&&w===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(w))}stateInterpolationOpen(w){if(w===this.delimiterOpen[this.delimiterIndex])if(this.delimiterIndex===this.delimiterOpen.length-1){const T=this.index+1-this.delimiterOpen.length;T>this.sectionStart&&this.cbs.ontext(this.sectionStart,T),this.state=3,this.sectionStart=T}else this.delimiterIndex++;else this.inRCDATA?(this.state=32,this.stateInRCDATA(w)):(this.state=1,this.stateText(w))}stateInterpolation(w){w===this.delimiterClose[0]&&(this.state=4,this.delimiterIndex=0,this.stateInterpolationClose(w))}stateInterpolationClose(w){w===this.delimiterClose[this.delimiterIndex]?this.delimiterIndex===this.delimiterClose.length-1?(this.cbs.oninterpolation(this.sectionStart,this.index+1),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):this.delimiterIndex++:(this.state=3,this.stateInterpolation(w))}stateSpecialStartSequence(w){const T=this.sequenceIndex===this.currentSequence.length;if(!(T?io(w):(w|32)===this.currentSequence[this.sequenceIndex]))this.inRCDATA=!1;else if(!T){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=6,this.stateInTagName(w)}stateInRCDATA(w){if(this.sequenceIndex===this.currentSequence.length){if(w===62||jn(w)){const T=this.index-this.currentSequence.length;if(this.sectionStart<T){const t=this.index;this.index=T,this.cbs.ontext(this.sectionStart,T),this.index=t}this.sectionStart=T+2,this.stateInClosingTagName(w),this.inRCDATA=!1;return}this.sequenceIndex=0}(w|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===un.TitleEnd||this.currentSequence===un.TextareaEnd&&!this.inSFCRoot?!this.inVPre&&w===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(w)):this.fastForwardTo(60)&&(this.sequenceIndex=1):this.sequenceIndex=+(w===60)}stateCDATASequence(w){w===un.Cdata[this.sequenceIndex]?++this.sequenceIndex===un.Cdata.length&&(this.state=28,this.currentSequence=un.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=23,this.stateInDeclaration(w))}fastForwardTo(w){for(;++this.index<this.buffer.length;){const T=this.buffer.charCodeAt(this.index);if(T===10&&this.newlines.push(this.index),T===w)return!0}return this.index=this.buffer.length-1,!1}stateInCommentLike(w){w===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===un.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index-2):this.cbs.oncomment(this.sectionStart,this.index-2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=1):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):w!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}startSpecial(w,T){this.enterRCDATA(w,T),this.state=31}enterRCDATA(w,T){this.inRCDATA=!0,this.currentSequence=w,this.sequenceIndex=T}stateBeforeTagName(w){w===33?(this.state=22,this.sectionStart=this.index+1):w===63?(this.state=24,this.sectionStart=this.index+1):vu(w)?(this.sectionStart=this.index,this.mode===0?this.state=6:this.inSFCRoot?this.state=34:this.inXML?this.state=6:w===116?this.state=30:this.state=w===115?29:6):w===47?this.state=8:(this.state=1,this.stateText(w))}stateInTagName(w){io(w)&&this.handleTagName(w)}stateInSFCRootTagName(w){if(io(w)){const T=this.buffer.slice(this.sectionStart,this.index);T!=="template"&&this.enterRCDATA(Ei("</"+T),0),this.handleTagName(w)}}handleTagName(w){this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(w)}stateBeforeClosingTagName(w){jn(w)||(w===62?(this.state=1,this.sectionStart=this.index+1):(this.state=vu(w)?9:27,this.sectionStart=this.index))}stateInClosingTagName(w){(w===62||jn(w))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=10,this.stateAfterClosingTagName(w))}stateAfterClosingTagName(w){w===62&&(this.state=1,this.sectionStart=this.index+1)}stateBeforeAttrName(w){w===62?(this.cbs.onopentagend(this.index),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):w===47?this.state=7:w===60&&this.peek()===47?(this.cbs.onopentagend(this.index),this.state=5,this.sectionStart=this.index):jn(w)||this.handleAttrStart(w)}handleAttrStart(w){w===118&&this.peek()===45?(this.state=13,this.sectionStart=this.index):w===46||w===58||w===64||w===35?(this.cbs.ondirname(this.index,this.index+1),this.state=14,this.sectionStart=this.index+1):(this.state=12,this.sectionStart=this.index)}stateInSelfClosingTag(w){w===62?(this.cbs.onselfclosingtag(this.index),this.state=1,this.sectionStart=this.index+1,this.inRCDATA=!1):jn(w)||(this.state=11,this.stateBeforeAttrName(w))}stateInAttrName(w){(w===61||io(w))&&(this.cbs.onattribname(this.sectionStart,this.index),this.handleAttrNameEnd(w))}stateInDirName(w){w===61||io(w)?(this.cbs.ondirname(this.sectionStart,this.index),this.handleAttrNameEnd(w)):w===58?(this.cbs.ondirname(this.sectionStart,this.index),this.state=14,this.sectionStart=this.index+1):w===46&&(this.cbs.ondirname(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDirArg(w){w===61||io(w)?(this.cbs.ondirarg(this.sectionStart,this.index),this.handleAttrNameEnd(w)):w===91?this.state=15:w===46&&(this.cbs.ondirarg(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDynamicDirArg(w){w===93?this.state=14:(w===61||io(w))&&(this.cbs.ondirarg(this.sectionStart,this.index+1),this.handleAttrNameEnd(w))}stateInDirModifier(w){w===61||io(w)?(this.cbs.ondirmodifier(this.sectionStart,this.index),this.handleAttrNameEnd(w)):w===46&&(this.cbs.ondirmodifier(this.sectionStart,this.index),this.sectionStart=this.index+1)}handleAttrNameEnd(w){this.sectionStart=this.index,this.state=17,this.cbs.onattribnameend(this.index),this.stateAfterAttrName(w)}stateAfterAttrName(w){w===61?this.state=18:w===47||w===62?(this.cbs.onattribend(0,this.sectionStart),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(w)):jn(w)||(this.cbs.onattribend(0,this.sectionStart),this.handleAttrStart(w))}stateBeforeAttrValue(w){w===34?(this.state=19,this.sectionStart=this.index+1):w===39?(this.state=20,this.sectionStart=this.index+1):jn(w)||(this.sectionStart=this.index,this.state=21,this.stateInAttrValueNoQuotes(w))}handleInAttrValue(w,T){(w===T||this.fastForwardTo(T))&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(T===34?3:2,this.index+1),this.state=11)}stateInAttrValueDoubleQuotes(w){this.handleInAttrValue(w,34)}stateInAttrValueSingleQuotes(w){this.handleInAttrValue(w,39)}stateInAttrValueNoQuotes(w){jn(w)||w===62?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(1,this.index),this.state=11,this.stateBeforeAttrName(w)):(w===39||w===60||w===61||w===96)&&this.cbs.onerr(18,this.index)}stateBeforeDeclaration(w){w===91?(this.state=26,this.sequenceIndex=0):this.state=w===45?25:23}stateInDeclaration(w){(w===62||this.fastForwardTo(62))&&(this.state=1,this.sectionStart=this.index+1)}stateInProcessingInstruction(w){(w===62||this.fastForwardTo(62))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeComment(w){w===45?(this.state=28,this.currentSequence=un.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=23}stateInSpecialComment(w){(w===62||this.fastForwardTo(62))&&(this.cbs.oncomment(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeSpecialS(w){w===un.ScriptEnd[3]?this.startSpecial(un.ScriptEnd,4):w===un.StyleEnd[3]?this.startSpecial(un.StyleEnd,4):(this.state=6,this.stateInTagName(w))}stateBeforeSpecialT(w){w===un.TitleEnd[3]?this.startSpecial(un.TitleEnd,4):w===un.TextareaEnd[3]?this.startSpecial(un.TextareaEnd,4):(this.state=6,this.stateInTagName(w))}startEntity(){}stateInEntity(){}parse(w){for(this.buffer=w;this.index<this.buffer.length;){const T=this.buffer.charCodeAt(this.index);switch(T===10&&this.state!==33&&this.newlines.push(this.index),this.state){case 1:{this.stateText(T);break}case 2:{this.stateInterpolationOpen(T);break}case 3:{this.stateInterpolation(T);break}case 4:{this.stateInterpolationClose(T);break}case 31:{this.stateSpecialStartSequence(T);break}case 32:{this.stateInRCDATA(T);break}case 26:{this.stateCDATASequence(T);break}case 19:{this.stateInAttrValueDoubleQuotes(T);break}case 12:{this.stateInAttrName(T);break}case 13:{this.stateInDirName(T);break}case 14:{this.stateInDirArg(T);break}case 15:{this.stateInDynamicDirArg(T);break}case 16:{this.stateInDirModifier(T);break}case 28:{this.stateInCommentLike(T);break}case 27:{this.stateInSpecialComment(T);break}case 11:{this.stateBeforeAttrName(T);break}case 6:{this.stateInTagName(T);break}case 34:{this.stateInSFCRootTagName(T);break}case 9:{this.stateInClosingTagName(T);break}case 5:{this.stateBeforeTagName(T);break}case 17:{this.stateAfterAttrName(T);break}case 20:{this.stateInAttrValueSingleQuotes(T);break}case 18:{this.stateBeforeAttrValue(T);break}case 8:{this.stateBeforeClosingTagName(T);break}case 10:{this.stateAfterClosingTagName(T);break}case 29:{this.stateBeforeSpecialS(T);break}case 30:{this.stateBeforeSpecialT(T);break}case 21:{this.stateInAttrValueNoQuotes(T);break}case 7:{this.stateInSelfClosingTag(T);break}case 23:{this.stateInDeclaration(T);break}case 22:{this.stateBeforeDeclaration(T);break}case 25:{this.stateBeforeComment(T);break}case 24:{this.stateInProcessingInstruction(T);break}case 33:{this.stateInEntity();break}}this.index++}this.cleanup(),this.finish()}cleanup(){this.sectionStart!==this.index&&(this.state===1||this.state===32&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===19||this.state===20||this.state===21)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}finish(){this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const w=this.buffer.length;this.sectionStart>=w||(this.state===28?this.currentSequence===un.CdataEnd?this.cbs.oncdata(this.sectionStart,w):this.cbs.oncomment(this.sectionStart,w):this.state===6||this.state===11||this.state===18||this.state===17||this.state===12||this.state===13||this.state===14||this.state===15||this.state===16||this.state===20||this.state===19||this.state===21||this.state===9||this.cbs.ontext(this.sectionStart,w))}emitCodePoint(w,T){}}const pm={COMPILER_IS_ON_ELEMENT:"COMPILER_IS_ON_ELEMENT",COMPILER_V_BIND_SYNC:"COMPILER_V_BIND_SYNC",COMPILER_V_BIND_OBJECT_ORDER:"COMPILER_V_BIND_OBJECT_ORDER",COMPILER_V_ON_NATIVE:"COMPILER_V_ON_NATIVE",COMPILER_V_IF_V_FOR_PRECEDENCE:"COMPILER_V_IF_V_FOR_PRECEDENCE",COMPILER_NATIVE_TEMPLATE:"COMPILER_NATIVE_TEMPLATE",COMPILER_INLINE_TEMPLATE:"COMPILER_INLINE_TEMPLATE",COMPILER_FILTERS:"COMPILER_FILTERS"},mm={COMPILER_IS_ON_ELEMENT:{message:'Platform-native elements with "is" prop will no longer be treated as components in Vue 3 unless the "is" value is explicitly prefixed with "vue:".',link:"https://v3-migration.vuejs.org/breaking-changes/custom-elements-interop.html"},COMPILER_V_BIND_SYNC:{message:f=>`.sync modifier for v-bind has been removed. Use v-model with argument instead. \`v-bind:${f}.sync\` should be changed to \`v-model:${f}\`.`,link:"https://v3-migration.vuejs.org/breaking-changes/v-model.html"},COMPILER_V_BIND_OBJECT_ORDER:{message:'v-bind="obj" usage is now order sensitive and behaves like JavaScript object spread: it will now overwrite an existing non-mergeable attribute that appears before v-bind in the case of conflict. To retain 2.x behavior, move v-bind to make it the first attribute. You can also suppress this warning if the usage is intended.',link:"https://v3-migration.vuejs.org/breaking-changes/v-bind.html"},COMPILER_V_ON_NATIVE:{message:".native modifier for v-on has been removed as is no longer necessary.",link:"https://v3-migration.vuejs.org/breaking-changes/v-on-native-modifier-removed.html"},COMPILER_V_IF_V_FOR_PRECEDENCE:{message:"v-if / v-for precedence when used on the same element has changed in Vue 3: v-if now takes higher precedence and will no longer have access to v-for scope variables. It is best to avoid the ambiguity with <template> tags or use a computed property that filters v-for data source.",link:"https://v3-migration.vuejs.org/breaking-changes/v-if-v-for.html"},COMPILER_NATIVE_TEMPLATE:{message:"<template> with no special directives will render as a native template element instead of its inner content in Vue 3."},COMPILER_INLINE_TEMPLATE:{message:'"inline-template" has been removed in Vue 3.',link:"https://v3-migration.vuejs.org/breaking-changes/inline-template-attribute.html"},COMPILER_FILTERS:{message:'filters have been removed in Vue 3. The "|" symbol will be treated as native JavaScript bitwise OR operator. Use method calls or computed properties instead.',link:"https://v3-migration.vuejs.org/breaking-changes/filters.html"}};function Ea(f,{compatConfig:w}){const T=w&&w[f];return f==="MODE"?T||3:T}function Mo(f,w){const T=Ea("MODE",w),t=Ea(f,w);return T===3?t===!0:t!==!1}function Qo(f,w,T,...t){return Mo(f,w)}function ym(f,w,T,...t){if(Ea(f,w)==="suppress-warning")return;const{message:b,link:o}=mm[f],d=`(deprecation ${f}) ${typeof b=="function"?b(...t):b}${o?`
  Details: ${o}`:""}`,s=new SyntaxError(d);s.code=f,T&&(s.loc=T),w.onWarn(s)}function $a(f){throw f}function Gc(f){}function lr(f,w,T,t){const S=`https://vuejs.org/error-reference/#compiler-${f}`,b=new SyntaxError(String(S));return b.code=f,b.loc=w,b}const gm={ABRUPT_CLOSING_OF_EMPTY_COMMENT:0,0:"ABRUPT_CLOSING_OF_EMPTY_COMMENT",CDATA_IN_HTML_CONTENT:1,1:"CDATA_IN_HTML_CONTENT",DUPLICATE_ATTRIBUTE:2,2:"DUPLICATE_ATTRIBUTE",END_TAG_WITH_ATTRIBUTES:3,3:"END_TAG_WITH_ATTRIBUTES",END_TAG_WITH_TRAILING_SOLIDUS:4,4:"END_TAG_WITH_TRAILING_SOLIDUS",EOF_BEFORE_TAG_NAME:5,5:"EOF_BEFORE_TAG_NAME",EOF_IN_CDATA:6,6:"EOF_IN_CDATA",EOF_IN_COMMENT:7,7:"EOF_IN_COMMENT",EOF_IN_SCRIPT_HTML_COMMENT_LIKE_TEXT:8,8:"EOF_IN_SCRIPT_HTML_COMMENT_LIKE_TEXT",EOF_IN_TAG:9,9:"EOF_IN_TAG",INCORRECTLY_CLOSED_COMMENT:10,10:"INCORRECTLY_CLOSED_COMMENT",INCORRECTLY_OPENED_COMMENT:11,11:"INCORRECTLY_OPENED_COMMENT",INVALID_FIRST_CHARACTER_OF_TAG_NAME:12,12:"INVALID_FIRST_CHARACTER_OF_TAG_NAME",MISSING_ATTRIBUTE_VALUE:13,13:"MISSING_ATTRIBUTE_VALUE",MISSING_END_TAG_NAME:14,14:"MISSING_END_TAG_NAME",MISSING_WHITESPACE_BETWEEN_ATTRIBUTES:15,15:"MISSING_WHITESPACE_BETWEEN_ATTRIBUTES",NESTED_COMMENT:16,16:"NESTED_COMMENT",UNEXPECTED_CHARACTER_IN_ATTRIBUTE_NAME:17,17:"UNEXPECTED_CHARACTER_IN_ATTRIBUTE_NAME",UNEXPECTED_CHARACTER_IN_UNQUOTED_ATTRIBUTE_VALUE:18,18:"UNEXPECTED_CHARACTER_IN_UNQUOTED_ATTRIBUTE_VALUE",UNEXPECTED_EQUALS_SIGN_BEFORE_ATTRIBUTE_NAME:19,19:"UNEXPECTED_EQUALS_SIGN_BEFORE_ATTRIBUTE_NAME",UNEXPECTED_NULL_CHARACTER:20,20:"UNEXPECTED_NULL_CHARACTER",UNEXPECTED_QUESTION_MARK_INSTEAD_OF_TAG_NAME:21,21:"UNEXPECTED_QUESTION_MARK_INSTEAD_OF_TAG_NAME",UNEXPECTED_SOLIDUS_IN_TAG:22,22:"UNEXPECTED_SOLIDUS_IN_TAG",X_INVALID_END_TAG:23,23:"X_INVALID_END_TAG",X_MISSING_END_TAG:24,24:"X_MISSING_END_TAG",X_MISSING_INTERPOLATION_END:25,25:"X_MISSING_INTERPOLATION_END",X_MISSING_DIRECTIVE_NAME:26,26:"X_MISSING_DIRECTIVE_NAME",X_MISSING_DYNAMIC_DIRECTIVE_ARGUMENT_END:27,27:"X_MISSING_DYNAMIC_DIRECTIVE_ARGUMENT_END",X_V_IF_NO_EXPRESSION:28,28:"X_V_IF_NO_EXPRESSION",X_V_IF_SAME_KEY:29,29:"X_V_IF_SAME_KEY",X_V_ELSE_NO_ADJACENT_IF:30,30:"X_V_ELSE_NO_ADJACENT_IF",X_V_FOR_NO_EXPRESSION:31,31:"X_V_FOR_NO_EXPRESSION",X_V_FOR_MALFORMED_EXPRESSION:32,32:"X_V_FOR_MALFORMED_EXPRESSION",X_V_FOR_TEMPLATE_KEY_PLACEMENT:33,33:"X_V_FOR_TEMPLATE_KEY_PLACEMENT",X_V_BIND_NO_EXPRESSION:34,34:"X_V_BIND_NO_EXPRESSION",X_V_ON_NO_EXPRESSION:35,35:"X_V_ON_NO_EXPRESSION",X_V_SLOT_UNEXPECTED_DIRECTIVE_ON_SLOT_OUTLET:36,36:"X_V_SLOT_UNEXPECTED_DIRECTIVE_ON_SLOT_OUTLET",X_V_SLOT_MIXED_SLOT_USAGE:37,37:"X_V_SLOT_MIXED_SLOT_USAGE",X_V_SLOT_DUPLICATE_SLOT_NAMES:38,38:"X_V_SLOT_DUPLICATE_SLOT_NAMES",X_V_SLOT_EXTRANEOUS_DEFAULT_SLOT_CHILDREN:39,39:"X_V_SLOT_EXTRANEOUS_DEFAULT_SLOT_CHILDREN",X_V_SLOT_MISPLACED:40,40:"X_V_SLOT_MISPLACED",X_V_MODEL_NO_EXPRESSION:41,41:"X_V_MODEL_NO_EXPRESSION",X_V_MODEL_MALFORMED_EXPRESSION:42,42:"X_V_MODEL_MALFORMED_EXPRESSION",X_V_MODEL_ON_SCOPE_VARIABLE:43,43:"X_V_MODEL_ON_SCOPE_VARIABLE",X_V_MODEL_ON_PROPS:44,44:"X_V_MODEL_ON_PROPS",X_INVALID_EXPRESSION:45,45:"X_INVALID_EXPRESSION",X_KEEP_ALIVE_INVALID_CHILDREN:46,46:"X_KEEP_ALIVE_INVALID_CHILDREN",X_PREFIX_ID_NOT_SUPPORTED:47,47:"X_PREFIX_ID_NOT_SUPPORTED",X_MODULE_MODE_NOT_SUPPORTED:48,48:"X_MODULE_MODE_NOT_SUPPORTED",X_CACHE_HANDLER_NOT_SUPPORTED:49,49:"X_CACHE_HANDLER_NOT_SUPPORTED",X_SCOPE_ID_NOT_SUPPORTED:50,50:"X_SCOPE_ID_NOT_SUPPORTED",X_VNODE_HOOKS:51,51:"X_VNODE_HOOKS",X_V_BIND_INVALID_SAME_NAME_ARGUMENT:52,52:"X_V_BIND_INVALID_SAME_NAME_ARGUMENT",__EXTEND_POINT__:53,53:"__EXTEND_POINT__"},vm={0:"Illegal comment.",1:"CDATA section is allowed only in XML context.",2:"Duplicate attribute.",3:"End tag cannot have attributes.",4:"Illegal '/' in tags.",5:"Unexpected EOF in tag.",6:"Unexpected EOF in CDATA section.",7:"Unexpected EOF in comment.",8:"Unexpected EOF in script.",9:"Unexpected EOF in tag.",10:"Incorrectly closed comment.",11:"Incorrectly opened comment.",12:"Illegal tag name. Use '&lt;' to print '<'.",13:"Attribute value was expected.",14:"End tag name was expected.",15:"Whitespace was expected.",16:"Unexpected '<!--' in comment.",17:`Attribute name cannot contain U+0022 ("), U+0027 ('), and U+003C (<).`,18:"Unquoted attribute value cannot contain U+0022 (\"), U+0027 ('), U+003C (<), U+003D (=), and U+0060 (`).",19:"Attribute name cannot start with '='.",21:"'<?' is allowed only in XML context.",20:"Unexpected null character.",22:"Illegal '/' in tags.",23:"Invalid end tag.",24:"Element is missing end tag.",25:"Interpolation end sign was not found.",27:"End bracket for dynamic directive argument was not found. Note that dynamic directive argument cannot contain spaces.",26:"Legal directive name was expected.",28:"v-if/v-else-if is missing expression.",29:"v-if/else branches must use unique keys.",30:"v-else/v-else-if has no adjacent v-if or v-else-if.",31:"v-for is missing expression.",32:"v-for has invalid expression.",33:"<template v-for> key should be placed on the <template> tag.",34:"v-bind is missing expression.",52:"v-bind with same-name shorthand only allows static argument.",35:"v-on is missing expression.",36:"Unexpected custom directive on <slot> outlet.",37:"Mixed v-slot usage on both the component and nested <template>. When there are multiple named slots, all slots should use <template> syntax to avoid scope ambiguity.",38:"Duplicate slot names found. ",39:"Extraneous children found when component already has explicitly named default slot. These children will be ignored.",40:"v-slot can only be used on components or <template> tags.",41:"v-model is missing expression.",42:"v-model value must be a valid JavaScript member expression.",43:"v-model cannot be used on v-for or v-slot scope variables because they are not writable.",44:`v-model cannot be used on a prop, because local prop bindings are not writable.
Use a v-bind binding combined with a v-on listener that emits update:x event instead.`,45:"Error parsing JavaScript expression: ",46:"<KeepAlive> expects exactly one child component.",51:"@vnode-* hooks in templates are no longer supported. Use the vue: prefix instead. For example, @vnode-mounted should be changed to @vue:mounted. @vnode-* hooks support has been removed in 3.4.",47:'"prefixIdentifiers" option is not supported in this build of compiler.',48:"ES module mode is not supported in this build of compiler.",49:'"cacheHandlers" option is only supported when the "prefixIdentifiers" option is enabled.',50:'"scopeId" option is only supported in module mode.',53:""};function bm(f,w,T=!1,t=[],S=Object.create(null)){}function _m(f,w,T){return!1}function xm(f,w){if(f&&(f.type==="ObjectProperty"||f.type==="ArrayPattern")){let T=w.length;for(;T--;){const t=w[T];if(t.type==="AssignmentExpression")return!0;if(t.type!=="ObjectProperty"&&!t.type.endsWith("Pattern"))break}}return!1}function wm(f){let w=f.length;for(;w--;){const T=f[w];if(T.type==="NewExpression")return!0;if(T.type!=="MemberExpression")break}return!1}function Sm(f,w){for(const T of f.params)for(const t of Qn(T))w(t)}function jm(f,w){for(const T of f.body)if(T.type==="VariableDeclaration"){if(T.declare)continue;for(const t of T.declarations)for(const S of Qn(t.id))w(S)}else if(T.type==="FunctionDeclaration"||T.type==="ClassDeclaration"){if(T.declare||!T.id)continue;w(T.id)}else Em(T)&&Tm(T,!0,w)}function Em(f){return f.type==="ForOfStatement"||f.type==="ForInStatement"||f.type==="ForStatement"}function Tm(f,w,T){const t=f.type==="ForStatement"?f.init:f.left;if(t&&t.type==="VariableDeclaration"&&(t.kind==="var"?w:!w))for(const S of t.declarations)for(const b of Qn(S.id))T(b)}function Qn(f,w=[]){switch(f.type){case"Identifier":w.push(f);break;case"MemberExpression":let T=f;for(;T.type==="MemberExpression";)T=T.object;w.push(T);break;case"ObjectPattern":for(const t of f.properties)t.type==="RestElement"?Qn(t.argument,w):Qn(t.value,w);break;case"ArrayPattern":f.elements.forEach(t=>{t&&Qn(t,w)});break;case"RestElement":Qn(f.argument,w);break;case"AssignmentPattern":Qn(f.left,w);break}return w}const km=f=>/Function(?:Expression|Declaration)$|Method$/.test(f.type),Hc=f=>f&&(f.type==="ObjectProperty"||f.type==="ObjectMethod")&&!f.computed,Cm=(f,w)=>Hc(w)&&w.key===f,qc=["TSAsExpression","TSTypeAssertion","TSNonNullExpression","TSInstantiationExpression","TSSatisfiesExpression"];function Wc(f){return qc.includes(f.type)?Wc(f.expression):f}const mn=f=>f.type===4&&f.isStatic;function Za(f){switch(f){case"Teleport":case"teleport":return Xo;case"Suspense":case"suspense":return Fi;case"KeepAlive":case"keep-alive":return Ts;case"BaseTransition":case"base-transition":return Va}}const Mm=/^\d|[^\$\w\xA0-\uFFFF]/,Ls=f=>!Mm.test(f),Om=/[A-Za-z_$\xA0-\uFFFF]/,Am=/[\.\?\w$\xA0-\uFFFF]/,Im=/\s+[.[]\s*|\s*[.[]\s+/g,Xc=f=>f.type===4?f.content:f.loc.source,Yc=f=>{const w=Xc(f).trim().replace(Im,d=>d.trim());let T=0,t=[],S=0,b=0,o=null;for(let d=0;d<w.length;d++){const s=w.charAt(d);switch(T){case 0:if(s==="[")t.push(T),T=1,S++;else if(s==="(")t.push(T),T=2,b++;else if(!(d===0?Om:Am).test(s))return!1;break;case 1:s==="'"||s==='"'||s==="`"?(t.push(T),T=3,o=s):s==="["?S++:s==="]"&&(--S||(T=t.pop()));break;case 2:if(s==="'"||s==='"'||s==="`")t.push(T),T=3,o=s;else if(s==="(")b++;else if(s===")"){if(d===w.length-1)return!1;--b||(T=t.pop())}break;case 3:s===o&&(T=t.pop(),o=null);break}}return!S&&!b},Rm=vs,Ka=Yc,Pm=/^\s*(async\s*)?(\([^)]*?\)|[\w$_]+)\s*(:[^=]+)?=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,$c=f=>Pm.test(Xc(f)),Lm=vs,Zc=$c;function Dm(f,w,T=w.length){return Kc({offset:f.offset,line:f.line,column:f.column},w,T)}function Kc(f,w,T=w.length){let t=0,S=-1;for(let b=0;b<T;b++)w.charCodeAt(b)===10&&(t++,S=b);return f.offset+=T,f.line+=t,f.column=S===-1?f.column+T:T-S,f}function Nm(f,w){if(!f)throw new Error(w||"unexpected compiler condition")}function pn(f,w,T=!1){for(let t=0;t<f.props.length;t++){const S=f.props[t];if(S.type===7&&(T||S.exp)&&(Gr(w)?S.name===w:w.test(S.name)))return S}}function Ds(f,w,T=!1,t=!1){for(let S=0;S<f.props.length;S++){const b=f.props[S];if(b.type===6){if(T)continue;if(b.name===w&&(b.value||t))return b}else if(b.name==="bind"&&(b.exp||t)&&co(b.arg,w))return b}}function co(f,w){return!!(f&&mn(f)&&f.content===w)}function Qc(f){return f.props.some(w=>w.type===7&&w.name==="bind"&&(!w.arg||w.arg.type!==4||!w.arg.isStatic))}function si(f){return f.type===5||f.type===2}function Qa(f){return f.type===7&&f.name==="slot"}function Jo(f){return f.type===1&&f.tagType===3}function Ms(f){return f.type===1&&f.tagType===2}const Fm=new Set([Zo,ns]);function Jc(f,w=[]){if(f&&!Gr(f)&&f.type===14){const T=f.callee;if(!Gr(T)&&Fm.has(T))return Jc(f.arguments[0],w.concat(f))}return[f,w]}function Os(f,w,T){let t,S=f.type===13?f.props:f.arguments[2],b=[],o;if(S&&!Gr(S)&&S.type===14){const d=Jc(S);S=d[0],b=d[1],o=b[b.length-1]}if(S==null||Gr(S))t=En([w]);else if(S.type===14){const d=S.arguments[0];!Gr(d)&&d.type===15?bu(w,d)||d.properties.unshift(w):S.callee===Zi?t=Nr(T.helper(ks),[En([w]),S]):S.arguments.unshift(En([w])),!t&&(t=S)}else S.type===15?(bu(w,S)||S.properties.unshift(w),t=S):(t=Nr(T.helper(ks),[En([w]),S]),o&&o.callee===ns&&(o=b[b.length-2]));f.type===13?o?o.arguments[0]=t:f.props=t:o?o.arguments[0]=t:f.arguments[2]=t}function bu(f,w){let T=!1;if(f.key.type===4){const t=f.key.content;T=w.properties.some(S=>S.key.type===4&&S.key.content===t)}return T}function es(f,w){return`_${w}_${f.replace(/[^\w]/g,(T,t)=>T==="-"?"_":f.charCodeAt(t).toString())}`}function Dn(f,w){if(!f||Object.keys(w).length===0)return!1;switch(f.type){case 1:for(let T=0;T<f.props.length;T++){const t=f.props[T];if(t.type===7&&(Dn(t.arg,w)||Dn(t.exp,w)))return!0}return f.children.some(T=>Dn(T,w));case 11:return Dn(f.source,w)?!0:f.children.some(T=>Dn(T,w));case 9:return f.branches.some(T=>Dn(T,w));case 10:return Dn(f.condition,w)?!0:f.children.some(T=>Dn(T,w));case 4:return!f.isStatic&&Ls(f.content)&&!!w[f.content];case 8:return f.children.some(T=>Qu(T)&&Dn(T,w));case 5:case 12:return Dn(f.content,w);case 2:case 3:case 20:return!1;default:return!1}}function ed(f){return f.type===14&&f.callee===Qi?f.arguments[1].returns:f}const td=/([\s\S]*?)\s+(?:in|of)\s+(\S[\s\S]*)/,rd={parseMode:"base",ns:0,delimiters:["{{","}}"],getNamespace:()=>0,isVoidTag:Ws,isPreTag:Ws,isIgnoreNewlineTag:Ws,isCustomElement:Ws,onError:$a,onWarn:Gc,comments:!1,prefixIdentifiers:!1};let $t=rd,As=null,eo="",cn=null,Vt=null,yn="",$n=-1,_o=-1,Ja=0,ao=!1,Ta=null;const dr=[],_r=new hm(dr,{onerr:Yn,ontext(f,w){ti(en(f,w),f,w)},ontextentity(f,w,T){ti(f,w,T)},oninterpolation(f,w){if(ao)return ti(en(f,w),f,w);let T=f+_r.delimiterOpen.length,t=w-_r.delimiterClose.length;for(;jn(eo.charCodeAt(T));)T++;for(;jn(eo.charCodeAt(t-1));)t--;let S=en(T,t);S.includes("&")&&(S=$t.decodeEntities(S,!1)),ka({type:5,content:ai(S,!1,Er(T,t)),loc:Er(f,w)})},onopentagname(f,w){const T=en(f,w);cn={type:1,tag:T,ns:$t.getNamespace(T,dr[0],$t.ns),tagType:0,props:[],children:[],loc:Er(f-1,w),codegenNode:void 0}},onopentagend(f){xu(f)},onclosetag(f,w){const T=en(f,w);if(!$t.isVoidTag(T)){let t=!1;for(let S=0;S<dr.length;S++)if(dr[S].tag.toLowerCase()===T.toLowerCase()){t=!0,S>0&&Yn(24,dr[0].loc.start.offset);for(let o=0;o<=S;o++){const d=dr.shift();ii(d,w,o<S)}break}t||Yn(23,nd(f,60))}},onselfclosingtag(f){const w=cn.tag;cn.isSelfClosing=!0,xu(f),dr[0]&&dr[0].tag===w&&ii(dr.shift(),f)},onattribname(f,w){Vt={type:6,name:en(f,w),nameLoc:Er(f,w),value:void 0,loc:Er(f)}},ondirname(f,w){const T=en(f,w),t=T==="."||T===":"?"bind":T==="@"?"on":T==="#"?"slot":T.slice(2);if(!ao&&t===""&&Yn(26,f),ao||t==="")Vt={type:6,name:T,nameLoc:Er(f,w),value:void 0,loc:Er(f)};else if(Vt={type:7,name:t,rawName:T,exp:void 0,arg:void 0,modifiers:T==="."?[At("prop")]:[],loc:Er(f)},t==="pre"){ao=_r.inVPre=!0,Ta=cn;const S=cn.props;for(let b=0;b<S.length;b++)S[b].type===7&&(S[b]=$m(S[b]))}},ondirarg(f,w){if(f===w)return;const T=en(f,w);if(ao)Vt.name+=T,So(Vt.nameLoc,w);else{const t=T[0]!=="[";Vt.arg=ai(t?T:T.slice(1,-1),t,Er(f,w),t?3:0)}},ondirmodifier(f,w){const T=en(f,w);if(ao)Vt.name+="."+T,So(Vt.nameLoc,w);else if(Vt.name==="slot"){const t=Vt.arg;t&&(t.content+="."+T,So(t.loc,w))}else{const t=At(T,!0,Er(f,w));Vt.modifiers.push(t)}},onattribdata(f,w){yn+=en(f,w),$n<0&&($n=f),_o=w},onattribentity(f,w,T){yn+=f,$n<0&&($n=w),_o=T},onattribnameend(f){const w=Vt.loc.start.offset,T=en(w,f);Vt.type===7&&(Vt.rawName=T),cn.props.some(t=>(t.type===7?t.rawName:t.name)===T)&&Yn(2,w)},onattribend(f,w){if(cn&&Vt){if(So(Vt.loc,w),f!==0)if(yn.includes("&")&&(yn=$t.decodeEntities(yn,!0)),Vt.type===6)Vt.name==="class"&&(yn=sd(yn).trim()),f===1&&!yn&&Yn(13,w),Vt.value={type:2,content:yn,loc:f===1?Er($n,_o):Er($n-1,_o+1)},_r.inSFCRoot&&cn.tag==="template"&&Vt.name==="lang"&&yn&&yn!=="html"&&_r.enterRCDATA(Ei("</template"),0);else{let T=0;Vt.exp=ai(yn,!1,Er($n,_o),0,T),Vt.name==="for"&&(Vt.forParseResult=Um(Vt.exp));let t=-1;Vt.name==="bind"&&(t=Vt.modifiers.findIndex(S=>S.content==="sync"))>-1&&Qo("COMPILER_V_BIND_SYNC",$t,Vt.loc,Vt.arg.loc.source)&&(Vt.name="model",Vt.modifiers.splice(t,1))}(Vt.type!==7||Vt.name!=="pre")&&cn.props.push(Vt)}yn="",$n=_o=-1},oncomment(f,w){$t.comments&&ka({type:3,content:en(f,w),loc:Er(f-4,w+3)})},onend(){const f=eo.length;for(let w=0;w<dr.length;w++)ii(dr[w],f-1),Yn(24,dr[w].loc.start.offset)},oncdata(f,w){dr[0].ns!==0?ti(en(f,w),f,w):Yn(1,f-9)},onprocessinginstruction(f){(dr[0]?dr[0].ns:$t.ns)===0&&Yn(21,f-1)}}),_u=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,Bm=/^\(|\)$/g;function Um(f){const w=f.loc,T=f.content,t=T.match(td);if(!t)return;const[,S,b]=t,o=(m,n,r=!1)=>{const c=w.start.offset+n,a=c+m.length;return ai(m,!1,Er(c,a),0,r?1:0)},d={source:o(b.trim(),T.indexOf(b,S.length)),value:void 0,key:void 0,index:void 0,finalized:!1};let s=S.trim().replace(Bm,"").trim();const p=S.indexOf(s),y=s.match(_u);if(y){s=s.replace(_u,"").trim();const m=y[1].trim();let n;if(m&&(n=T.indexOf(m,p+s.length),d.key=o(m,n,!0)),y[2]){const r=y[2].trim();r&&(d.index=o(r,T.indexOf(r,d.key?n+m.length:p+s.length),!0))}}return s&&(d.value=o(s,p,!0)),d}function en(f,w){return eo.slice(f,w)}function xu(f){_r.inSFCRoot&&(cn.innerLoc=Er(f+1,f+1)),ka(cn);const{tag:w,ns:T}=cn;T===0&&$t.isPreTag(w)&&Ja++,$t.isVoidTag(w)?ii(cn,f):(dr.unshift(cn),(T===1||T===2)&&(_r.inXML=!0)),cn=null}function ti(f,w,T){{const b=dr[0]&&dr[0].tag;b!=="script"&&b!=="style"&&f.includes("&")&&(f=$t.decodeEntities(f,!1))}const t=dr[0]||As,S=t.children[t.children.length-1];S&&S.type===2?(S.content+=f,So(S.loc,T)):t.children.push({type:2,content:f,loc:Er(w,T)})}function ii(f,w,T=!1){T?So(f.loc,nd(w,60)):So(f.loc,zm(w,62)+1),_r.inSFCRoot&&(f.children.length?f.innerLoc.end=Jn({},f.children[f.children.length-1].loc.end):f.innerLoc.end=Jn({},f.innerLoc.start),f.innerLoc.source=en(f.innerLoc.start.offset,f.innerLoc.end.offset));const{tag:t,ns:S,children:b}=f;if(ao||(t==="slot"?f.tagType=2:wu(f)?f.tagType=3:Gm(f)&&(f.tagType=1)),_r.inRCDATA||(f.children=od(b)),S===0&&$t.isIgnoreNewlineTag(t)){const o=b[0];o&&o.type===2&&(o.content=o.content.replace(/^\r?\n/,""))}S===0&&$t.isPreTag(t)&&Ja--,Ta===f&&(ao=_r.inVPre=!1,Ta=null),_r.inXML&&(dr[0]?dr[0].ns:$t.ns)===0&&(_r.inXML=!1);{const o=f.props;if(!_r.inSFCRoot&&Mo("COMPILER_NATIVE_TEMPLATE",$t)&&f.tag==="template"&&!wu(f)){const s=dr[0]||As,p=s.children.indexOf(f);s.children.splice(p,1,...f.children)}const d=o.find(s=>s.type===6&&s.name==="inline-template");d&&Qo("COMPILER_INLINE_TEMPLATE",$t,d.loc)&&f.children.length&&(d.value={type:2,content:en(f.children[0].loc.start.offset,f.children[f.children.length-1].loc.end.offset),loc:d.loc})}}function zm(f,w){let T=f;for(;eo.charCodeAt(T)!==w&&T<eo.length-1;)T++;return T}function nd(f,w){let T=f;for(;eo.charCodeAt(T)!==w&&T>=0;)T--;return T}const Vm=new Set(["if","else","else-if","for","slot"]);function wu({tag:f,props:w}){if(f==="template"){for(let T=0;T<w.length;T++)if(w[T].type===7&&Vm.has(w[T].name))return!0}return!1}function Gm({tag:f,props:w}){if($t.isCustomElement(f))return!1;if(f==="component"||Hm(f.charCodeAt(0))||Za(f)||$t.isBuiltInComponent&&$t.isBuiltInComponent(f)||$t.isNativeTag&&!$t.isNativeTag(f))return!0;for(let T=0;T<w.length;T++){const t=w[T];if(t.type===6){if(t.name==="is"&&t.value){if(t.value.content.startsWith("vue:"))return!0;if(Qo("COMPILER_IS_ON_ELEMENT",$t,t.loc))return!0}}else if(t.name==="bind"&&co(t.arg,"is")&&Qo("COMPILER_IS_ON_ELEMENT",$t,t.loc))return!0}return!1}function Hm(f){return f>64&&f<91}const qm=/\r\n/g;function od(f){const w=$t.whitespace!=="preserve";let T=!1;for(let t=0;t<f.length;t++){const S=f[t];if(S.type===2)if(Ja)S.content=S.content.replace(qm,`
`);else if(Wm(S.content)){const b=f[t-1]&&f[t-1].type,o=f[t+1]&&f[t+1].type;!b||!o||w&&(b===3&&(o===3||o===1)||b===1&&(o===3||o===1&&Xm(S.content)))?(T=!0,f[t]=null):S.content=" "}else w&&(S.content=sd(S.content))}return T?f.filter(Boolean):f}function Wm(f){for(let w=0;w<f.length;w++)if(!jn(f.charCodeAt(w)))return!1;return!0}function Xm(f){for(let w=0;w<f.length;w++){const T=f.charCodeAt(w);if(T===10||T===13)return!0}return!1}function sd(f){let w="",T=!1;for(let t=0;t<f.length;t++)jn(f.charCodeAt(t))?T||(w+=" ",T=!0):(w+=f[t],T=!1);return w}function ka(f){(dr[0]||As).children.push(f)}function Er(f,w){return{start:_r.getPos(f),end:w==null?w:_r.getPos(w),source:w==null?w:en(f,w)}}function Ym(f){return Er(f.start.offset,f.end.offset)}function So(f,w){f.end=_r.getPos(w),f.source=en(f.start.offset,w)}function $m(f){const w={type:6,name:f.rawName,nameLoc:Er(f.loc.start.offset,f.loc.start.offset+f.rawName.length),value:void 0,loc:f.loc};if(f.exp){const T=f.exp.loc;T.end.offset<f.loc.end.offset&&(T.start.offset--,T.start.column--,T.end.offset++,T.end.column++),w.value={type:2,content:f.exp.content,loc:T}}return w}function ai(f,w=!1,T,t=0,S=0){return At(f,w,T,t)}function Yn(f,w,T){$t.onError(lr(f,Er(w,w)))}function Zm(){_r.reset(),cn=null,Vt=null,yn="",$n=-1,_o=-1,dr.length=0}function el(f,w){if(Zm(),eo=f,$t=Jn({},rd),w){let S;for(S in w)w[S]!=null&&($t[S]=w[S])}_r.mode=$t.parseMode==="html"?1:$t.parseMode==="sfc"?2:0,_r.inXML=$t.ns===1||$t.ns===2;const T=w&&w.delimiters;T&&(_r.delimiterOpen=Ei(T[0]),_r.delimiterClose=Ei(T[1]));const t=As=Uc([],f);return _r.parse(eo),t.loc=Er(0,f.length),t.children=od(t.children),As=null,t}function Km(f,w){li(f,void 0,w,!!id(f))}function id(f){const w=f.children.filter(T=>T.type!==3);return w.length===1&&w[0].type===1&&!Ms(w[0])?w[0]:null}function li(f,w,T,t=!1,S=!1){const{children:b}=f,o=[];for(let m=0;m<b.length;m++){const n=b[m];if(n.type===1&&n.tagType===0){const r=t?0:bn(n,T);if(r>0){if(r>=2){n.codegenNode.patchFlag=-1,o.push(n);continue}}else{const c=n.codegenNode;if(c.type===13){const a=c.patchFlag;if((a===void 0||a===512||a===1)&&ld(n,T)>=2){const h=ud(n);h&&(c.props=T.hoist(h))}c.dynamicProps&&(c.dynamicProps=T.hoist(c.dynamicProps))}}}else if(n.type===12&&(t?0:bn(n,T))>=2){o.push(n);continue}if(n.type===1){const r=n.tagType===1;r&&T.scopes.vSlot++,li(n,f,T,!1,S),r&&T.scopes.vSlot--}else if(n.type===11)li(n,f,T,n.children.length===1,!0);else if(n.type===9)for(let r=0;r<n.branches.length;r++)li(n.branches[r],f,T,n.branches[r].children.length===1,S)}let d=!1;const s=[];if(o.length===b.length&&f.type===1){if(f.tagType===0&&f.codegenNode&&f.codegenNode.type===13&&Kn(f.codegenNode.children))f.codegenNode.children=p(ho(f.codegenNode.children)),d=!0;else if(f.tagType===1&&f.codegenNode&&f.codegenNode.type===13&&f.codegenNode.children&&!Kn(f.codegenNode.children)&&f.codegenNode.children.type===15){const m=y(f.codegenNode,"default");m&&(s.push(T.cached.length),m.returns=p(ho(m.returns)),d=!0)}else if(f.tagType===3&&w&&w.type===1&&w.tagType===1&&w.codegenNode&&w.codegenNode.type===13&&w.codegenNode.children&&!Kn(w.codegenNode.children)&&w.codegenNode.children.type===15){const m=pn(f,"slot",!0),n=m&&m.arg&&y(w.codegenNode,m.arg);n&&(s.push(T.cached.length),n.returns=p(ho(n.returns)),d=!0)}}if(!d)for(const m of o)s.push(T.cached.length),m.codegenNode=T.cache(m.codegenNode);s.length&&f.type===1&&f.tagType===1&&f.codegenNode&&f.codegenNode.type===13&&f.codegenNode.children&&!Kn(f.codegenNode.children)&&f.codegenNode.children.type===15&&f.codegenNode.children.properties.push(yr("__",At(JSON.stringify(s),!1)));function p(m){const n=T.cache(m);return S&&T.hmr&&(n.needArraySpread=!0),n}function y(m,n){if(m.children&&!Kn(m.children)&&m.children.type===15){const r=m.children.properties.find(c=>c.key===n||c.key.content===n);return r&&r.value}}o.length&&T.transformHoist&&T.transformHoist(b,T,f)}function bn(f,w){const{constantCache:T}=w;switch(f.type){case 1:if(f.tagType!==0)return 0;const t=T.get(f);if(t!==void 0)return t;const S=f.codegenNode;if(S.type!==13||S.isBlock&&f.tag!=="svg"&&f.tag!=="foreignObject"&&f.tag!=="math")return 0;if(S.patchFlag===void 0){let o=3;const d=ld(f,w);if(d===0)return T.set(f,0),0;d<o&&(o=d);for(let s=0;s<f.children.length;s++){const p=bn(f.children[s],w);if(p===0)return T.set(f,0),0;p<o&&(o=p)}if(o>1)for(let s=0;s<f.props.length;s++){const p=f.props[s];if(p.type===7&&p.name==="bind"&&p.exp){const y=bn(p.exp,w);if(y===0)return T.set(f,0),0;y<o&&(o=y)}}if(S.isBlock){for(let s=0;s<f.props.length;s++)if(f.props[s].type===7)return T.set(f,0),0;w.removeHelper(mo),w.removeHelper(Lo(w.inSSR,S.isComponent)),S.isBlock=!1,w.helper(Po(w.inSSR,S.isComponent))}return T.set(f,o),o}else return T.set(f,0),0;case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return bn(f.content,w);case 4:return f.constType;case 8:let b=3;for(let o=0;o<f.children.length;o++){const d=f.children[o];if(Gr(d)||La(d))continue;const s=bn(d,w);if(s===0)return 0;s<b&&(b=s)}return b;case 20:return 2;default:return 0}}const Qm=new Set([Yi,$i,Zo,ns]);function ad(f,w){if(f.type===14&&!Gr(f.callee)&&Qm.has(f.callee)){const T=f.arguments[0];if(T.type===4)return bn(T,w);if(T.type===14)return ad(T,w)}return 0}function ld(f,w){let T=3;const t=ud(f);if(t&&t.type===15){const{properties:S}=t;for(let b=0;b<S.length;b++){const{key:o,value:d}=S[b],s=bn(o,w);if(s===0)return s;s<T&&(T=s);let p;if(d.type===4?p=bn(d,w):d.type===14?p=ad(d,w):p=0,p===0)return p;p<T&&(T=p)}}return T}function ud(f){const w=f.codegenNode;if(w.type===13)return w.props}function cd(f,{filename:w="",prefixIdentifiers:T=!1,hoistStatic:t=!1,hmr:S=!1,cacheHandlers:b=!1,nodeTransforms:o=[],directiveTransforms:d={},transformHoist:s=null,isBuiltInComponent:p=vs,isCustomElement:y=vs,expressionPlugins:m=[],scopeId:n=null,slotted:r=!0,ssr:c=!1,inSSR:a=!1,ssrCssVars:h="",bindingMetadata:u=Sf,inline:l=!1,isTS:g=!1,onError:v=$a,onWarn:x=Gc,compatConfig:k}){const E=w.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),j={filename:w,selfName:E&&Ku(fo(E[1])),prefixIdentifiers:T,hoistStatic:t,hmr:S,cacheHandlers:b,nodeTransforms:o,directiveTransforms:d,transformHoist:s,isBuiltInComponent:p,isCustomElement:y,expressionPlugins:m,scopeId:n,slotted:r,ssr:c,inSSR:a,ssrCssVars:h,bindingMetadata:u,inline:l,isTS:g,onError:v,onWarn:x,compatConfig:k,root:f,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],cached:[],constantCache:new WeakMap,temps:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,grandParent:null,currentNode:f,childIndex:0,inVOnce:!1,helper(C){const L=j.helpers.get(C)||0;return j.helpers.set(C,L+1),C},removeHelper(C){const L=j.helpers.get(C);if(L){const A=L-1;A?j.helpers.set(C,A):j.helpers.delete(C)}},helperString(C){return`_${Io[j.helper(C)]}`},replaceNode(C){j.parent.children[j.childIndex]=j.currentNode=C},removeNode(C){const L=j.parent.children,A=C?L.indexOf(C):j.currentNode?j.childIndex:-1;!C||C===j.currentNode?(j.currentNode=null,j.onNodeRemoved()):j.childIndex>A&&(j.childIndex--,j.onNodeRemoved()),j.parent.children.splice(A,1)},onNodeRemoved:vs,addIdentifiers(C){},removeIdentifiers(C){},hoist(C){Gr(C)&&(C=At(C)),j.hoists.push(C);const L=At(`_hoisted_${j.hoists.length}`,!1,C.loc,2);return L.hoisted=C,L},cache(C,L=!1,A=!1){const P=zc(j.cached.length,C,L,A);return j.cached.push(P),P}};return j.filters=new Set,j}function dd(f,w){const T=cd(f,w);Ns(f,T),w.hoistStatic&&Km(f,T),w.ssr||Jm(f,T),f.helpers=new Set([...T.helpers.keys()]),f.components=[...T.components],f.directives=[...T.directives],f.imports=T.imports,f.hoists=T.hoists,f.temps=T.temps,f.cached=T.cached,f.transformed=!0,f.filters=[...T.filters]}function Jm(f,w){const{helper:T}=w,{children:t}=f;if(t.length===1){const S=id(f);if(S&&S.codegenNode){const b=S.codegenNode;b.type===13&&Ji(b,w),f.codegenNode=b}else f.codegenNode=t[0]}else if(t.length>1){let S=64;f.codegenNode=Ko(w,T($o),void 0,f.children,S,void 0,void 0,!0,void 0,!1)}}function ey(f,w){let T=0;const t=()=>{T--};for(;T<f.children.length;T++){const S=f.children[T];Gr(S)||(w.grandParent=w.parent,w.parent=f,w.childIndex=T,w.onNodeRemoved=t,Ns(S,w))}}function Ns(f,w){w.currentNode=f;const{nodeTransforms:T}=w,t=[];for(let b=0;b<T.length;b++){const o=T[b](f,w);if(o&&(Kn(o)?t.push(...o):t.push(o)),w.currentNode)f=w.currentNode;else return}switch(f.type){case 3:w.ssr||w.helper(rs);break;case 5:w.ssr||w.helper(Ps);break;case 9:for(let b=0;b<f.branches.length;b++)Ns(f.branches[b],w);break;case 10:case 11:case 1:case 0:ey(f,w);break}w.currentNode=f;let S=t.length;for(;S--;)t[S]()}function tl(f,w){const T=Gr(f)?t=>t===f:t=>f.test(t);return(t,S)=>{if(t.type===1){const{props:b}=t;if(t.tagType===3&&b.some(Qa))return;const o=[];for(let d=0;d<b.length;d++){const s=b[d];if(s.type===7&&T(s.name)){b.splice(d,1),d--;const p=w(t,s,S);p&&o.push(p)}}return o}}}const ea="/*@__PURE__*/",fd=f=>`${Io[f]}: _${Io[f]}`;function ty(f,{mode:w="function",prefixIdentifiers:T=w==="module",sourceMap:t=!1,filename:S="template.vue.html",scopeId:b=null,optimizeImports:o=!1,runtimeGlobalName:d="Vue",runtimeModuleName:s="vue",ssrRuntimeModuleName:p="vue/server-renderer",ssr:y=!1,isTS:m=!1,inSSR:n=!1}){const r={mode:w,prefixIdentifiers:T,sourceMap:t,filename:S,scopeId:b,optimizeImports:o,runtimeGlobalName:d,runtimeModuleName:s,ssrRuntimeModuleName:p,ssr:y,isTS:m,inSSR:n,source:f.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(a){return`_${Io[a]}`},push(a,h=-2,u){r.code+=a},indent(){c(++r.indentLevel)},deindent(a=!1){a?--r.indentLevel:c(--r.indentLevel)},newline(){c(r.indentLevel)}};function c(a){r.push(`
`+"  ".repeat(a),0)}return r}function hd(f,w={}){const T=ty(f,w);w.onContextCreated&&w.onContextCreated(T);const{mode:t,push:S,prefixIdentifiers:b,indent:o,deindent:d,newline:s,scopeId:p,ssr:y}=T,m=Array.from(f.helpers),n=m.length>0,r=!b&&t!=="module";ry(f,T);const a=y?"ssrRender":"render",u=(y?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(S(`function ${a}(${u}) {`),o(),r&&(S("with (_ctx) {"),o(),n&&(S(`const { ${m.map(fd).join(", ")} } = _Vue
`,-1),s())),f.components.length&&(ba(f.components,"component",T),(f.directives.length||f.temps>0)&&s()),f.directives.length&&(ba(f.directives,"directive",T),f.temps>0&&s()),f.filters&&f.filters.length&&(s(),ba(f.filters,"filter",T),s()),f.temps>0){S("let ");for(let l=0;l<f.temps;l++)S(`${l>0?", ":""}_temp${l}`)}return(f.components.length||f.directives.length||f.temps)&&(S(`
`,0),s()),y||S("return "),f.codegenNode?dn(f.codegenNode,T):S("null"),r&&(d(),S("}")),d(),S("}"),{ast:f,code:T.code,preamble:"",map:T.map?T.map.toJSON():void 0}}function ry(f,w){const{ssr:T,prefixIdentifiers:t,push:S,newline:b,runtimeModuleName:o,runtimeGlobalName:d,ssrRuntimeModuleName:s}=w,p=d,y=Array.from(f.helpers);if(y.length>0&&(S(`const _Vue = ${p}
`,-1),f.hoists.length)){const m=[Bi,Ui,rs,zi,qa].filter(n=>y.includes(n)).map(fd).join(", ");S(`const { ${m} } = _Vue
`,-1)}ny(f.hoists,w),b(),S("return ")}function ba(f,w,{helper:T,push:t,newline:S,isTS:b}){const o=T(w==="filter"?qi:w==="component"?Vi:Hi);for(let d=0;d<f.length;d++){let s=f[d];const p=s.endsWith("__self");p&&(s=s.slice(0,-6)),t(`const ${es(s,w)} = ${o}(${JSON.stringify(s)}${p?", true":""})${b?"!":""}`),d<f.length-1&&S()}}function ny(f,w){if(!f.length)return;w.pure=!0;const{push:T,newline:t}=w;t();for(let S=0;S<f.length;S++){const b=f[S];b&&(T(`const _hoisted_${S+1} = `),dn(b,w),t())}w.pure=!1}function rl(f,w){const T=f.length>3||!1;w.push("["),T&&w.indent(),Fs(f,w,T),T&&w.deindent(),w.push("]")}function Fs(f,w,T=!1,t=!0){const{push:S,newline:b}=w;for(let o=0;o<f.length;o++){const d=f[o];Gr(d)?S(d,-3):Kn(d)?rl(d,w):dn(d,w),o<f.length-1&&(T?(t&&S(","),b()):t&&S(", "))}}function dn(f,w){if(Gr(f)){w.push(f,-3);return}if(La(f)){w.push(w.helper(f));return}switch(f.type){case 1:case 9:case 11:dn(f.codegenNode,w);break;case 2:oy(f,w);break;case 4:pd(f,w);break;case 5:sy(f,w);break;case 12:dn(f.codegenNode,w);break;case 8:md(f,w);break;case 3:ay(f,w);break;case 13:ly(f,w);break;case 14:cy(f,w);break;case 15:dy(f,w);break;case 17:fy(f,w);break;case 18:hy(f,w);break;case 19:py(f,w);break;case 20:my(f,w);break;case 21:Fs(f.body,w,!0,!1);break}}function oy(f,w){w.push(JSON.stringify(f.content),-3,f)}function pd(f,w){const{content:T,isStatic:t}=f;w.push(t?JSON.stringify(T):T,-3,f)}function sy(f,w){const{push:T,helper:t,pure:S}=w;S&&T(ea),T(`${t(Ps)}(`),dn(f.content,w),T(")")}function md(f,w){for(let T=0;T<f.children.length;T++){const t=f.children[T];Gr(t)?w.push(t,-3):dn(t,w)}}function iy(f,w){const{push:T}=w;if(f.type===8)T("["),md(f,w),T("]");else if(f.isStatic){const t=Ls(f.content)?f.content:JSON.stringify(f.content);T(t,-2,f)}else T(`[${f.content}]`,-3,f)}function ay(f,w){const{push:T,helper:t,pure:S}=w;S&&T(ea),T(`${t(rs)}(${JSON.stringify(f.content)})`,-3,f)}function ly(f,w){const{push:T,helper:t,pure:S}=w,{tag:b,props:o,children:d,patchFlag:s,dynamicProps:p,directives:y,isBlock:m,disableTracking:n,isComponent:r}=f;let c;s&&(c=String(s)),y&&T(t(Wi)+"("),m&&T(`(${t(mo)}(${n?"true":""}), `),S&&T(ea);const a=m?Lo(w.inSSR,r):Po(w.inSSR,r);T(t(a)+"(",-2,f),Fs(uy([b,o,d,c,p]),w),T(")"),m&&T(")"),y&&(T(", "),dn(y,w),T(")"))}function uy(f){let w=f.length;for(;w--&&f[w]==null;);return f.slice(0,w+1).map(T=>T||"null")}function cy(f,w){const{push:T,helper:t,pure:S}=w,b=Gr(f.callee)?f.callee:t(f.callee);S&&T(ea),T(b+"(",-2,f),Fs(f.arguments,w),T(")")}function dy(f,w){const{push:T,indent:t,deindent:S,newline:b}=w,{properties:o}=f;if(!o.length){T("{}",-2,f);return}const d=o.length>1||!1;T(d?"{":"{ "),d&&t();for(let s=0;s<o.length;s++){const{key:p,value:y}=o[s];iy(p,w),T(": "),dn(y,w),s<o.length-1&&(T(","),b())}d&&S(),T(d?"}":" }")}function fy(f,w){rl(f.elements,w)}function hy(f,w){const{push:T,indent:t,deindent:S}=w,{params:b,returns:o,body:d,newline:s,isSlot:p}=f;p&&T(`_${Io[Ki]}(`),T("(",-2,f),Kn(b)?Fs(b,w):b&&dn(b,w),T(") => "),(s||d)&&(T("{"),t()),o?(s&&T("return "),Kn(o)?rl(o,w):dn(o,w)):d&&dn(d,w),(s||d)&&(S(),T("}")),p&&(f.isNonScopedSlot&&T(", undefined, true"),T(")"))}function py(f,w){const{test:T,consequent:t,alternate:S,newline:b}=f,{push:o,indent:d,deindent:s,newline:p}=w;if(T.type===4){const m=!Ls(T.content);m&&o("("),pd(T,w),m&&o(")")}else o("("),dn(T,w),o(")");b&&d(),w.indentLevel++,b||o(" "),o("? "),dn(t,w),w.indentLevel--,b&&p(),b||o(" "),o(": ");const y=S.type===19;y||w.indentLevel++,dn(S,w),y||w.indentLevel--,b&&s(!0)}function my(f,w){const{push:T,helper:t,indent:S,deindent:b,newline:o}=w,{needPauseTracking:d,needArraySpread:s}=f;s&&T("[...("),T(`_cache[${f.index}] || (`),d&&(S(),T(`${t(Cs)}(-1`),f.inVOnce&&T(", true"),T("),"),o(),T("(")),T(`_cache[${f.index}] = `),dn(f.value,w),d&&(T(`).cacheIndex = ${f.index},`),o(),T(`${t(Cs)}(1),`),o(),T(`_cache[${f.index}]`),b()),T(")"),s&&T(")]")}new RegExp("\\b"+"arguments,await,break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,let,new,return,super,switch,throw,try,var,void,while,with,yield".split(",").join("\\b|\\b")+"\\b");const yy=(f,w)=>{if(f.type===5)f.content=ui(f.content,w);else if(f.type===1){const T=pn(f,"memo");for(let t=0;t<f.props.length;t++){const S=f.props[t];if(S.type===7&&S.name!=="for"){const b=S.exp,o=S.arg;b&&b.type===4&&!(S.name==="on"&&o)&&!(T&&o&&o.type===4&&o.content==="key")&&(S.exp=ui(b,w,S.name==="slot")),o&&o.type===4&&!o.isStatic&&(S.arg=ui(o,w))}}}};function ui(f,w,T=!1,t=!1,S=Object.create(w.identifiers)){return f}function yd(f){return Gr(f)?f:f.type===4?f.content:f.children.map(yd).join("")}const gy=tl(/^(if|else|else-if)$/,(f,w,T)=>gd(f,w,T,(t,S,b)=>{const o=T.parent.children;let d=o.indexOf(t),s=0;for(;d-->=0;){const p=o[d];p&&p.type===9&&(s+=p.branches.length)}return()=>{if(b)t.codegenNode=ju(S,s,T);else{const p=vy(t.codegenNode);p.alternate=ju(S,s+t.branches.length-1,T)}}}));function gd(f,w,T,t){if(w.name!=="else"&&(!w.exp||!w.exp.content.trim())){const S=w.exp?w.exp.loc:f.loc;T.onError(lr(28,w.loc)),w.exp=At("true",!1,S)}if(w.name==="if"){const S=Su(f,w),b={type:9,loc:Ym(f.loc),branches:[S]};if(T.replaceNode(b),t)return t(b,S,!0)}else{const S=T.parent.children;let b=S.indexOf(f);for(;b-->=-1;){const o=S[b];if(o&&o.type===3){T.removeNode(o);continue}if(o&&o.type===2&&!o.content.trim().length){T.removeNode(o);continue}if(o&&o.type===9){w.name==="else-if"&&o.branches[o.branches.length-1].condition===void 0&&T.onError(lr(30,f.loc)),T.removeNode();const d=Su(f,w);o.branches.push(d);const s=t&&t(o,d,!1);Ns(d,T),s&&s(),T.currentNode=null}else T.onError(lr(30,f.loc));break}}}function Su(f,w){const T=f.tagType===3;return{type:10,loc:f.loc,condition:w.name==="else"?void 0:w.exp,children:T&&!pn(f,"for")?f.children:[f],userKey:Ds(f,"key"),isTemplateIf:T}}function ju(f,w,T){return f.condition?ji(f.condition,Eu(f,w,T),Nr(T.helper(rs),['""',"true"])):Eu(f,w,T)}function Eu(f,w,T){const{helper:t}=T,S=yr("key",At(`${w}`,!1,qr,2)),{children:b}=f,o=b[0];if(b.length!==1||o.type!==1)if(b.length===1&&o.type===11){const s=o.codegenNode;return Os(s,S,T),s}else return Ko(T,t($o),En([S]),b,64,void 0,void 0,!0,!1,!1,f.loc);else{const s=o.codegenNode,p=ed(s);return p.type===13&&Ji(p,T),Os(p,S,T),s}}function vy(f){for(;;)if(f.type===19)if(f.alternate.type===19)f=f.alternate;else return f;else f.type===20&&(f=f.value)}const vd=(f,w,T)=>{const{modifiers:t,loc:S}=f,b=f.arg;let{exp:o}=f;if(o&&o.type===4&&!o.content.trim()&&(o=void 0),!o){if(b.type!==4||!b.isStatic)return T.onError(lr(52,b.loc)),{props:[yr(b,At("",!0,S))]};bd(f),o=f.exp}return b.type!==4?(b.children.unshift("("),b.children.push(') || ""')):b.isStatic||(b.content=`${b.content} || ""`),t.some(d=>d.content==="camel")&&(b.type===4?b.isStatic?b.content=fo(b.content):b.content=`${T.helperString(wi)}(${b.content})`:(b.children.unshift(`${T.helperString(wi)}(`),b.children.push(")"))),T.inSSR||(t.some(d=>d.content==="prop")&&Tu(b,"."),t.some(d=>d.content==="attr")&&Tu(b,"^")),{props:[yr(b,o)]}},bd=(f,w)=>{const T=f.arg,t=fo(T.content);f.exp=At(t,!1,T.loc)},Tu=(f,w)=>{f.type===4?f.isStatic?f.content=w+f.content:f.content=`\`${w}\${${f.content}}\``:(f.children.unshift(`'${w}' + (`),f.children.push(")"))},by=tl("for",(f,w,T)=>{const{helper:t,removeHelper:S}=T;return _d(f,w,T,b=>{const o=Nr(t(Xi),[b.source]),d=Jo(f),s=pn(f,"memo"),p=Ds(f,"key",!1,!0);p&&p.type===7&&!p.exp&&bd(p);let m=p&&(p.type===6?p.value?At(p.value.content,!0):void 0:p.exp);const n=p&&m?yr("key",m):null,r=b.source.type===4&&b.source.constType>0,c=r?64:p?128:256;return b.codegenNode=Ko(T,t($o),void 0,o,c,void 0,void 0,!0,!r,!1,f.loc),()=>{let a;const{children:h}=b,u=h.length!==1||h[0].type!==1,l=Ms(f)?f:d&&f.children.length===1&&Ms(f.children[0])?f.children[0]:null;if(l?(a=l.codegenNode,d&&n&&Os(a,n,T)):u?a=Ko(T,t($o),n?En([n]):void 0,f.children,64,void 0,void 0,!0,void 0,!1):(a=h[0].codegenNode,d&&n&&Os(a,n,T),a.isBlock!==!r&&(a.isBlock?(S(mo),S(Lo(T.inSSR,a.isComponent))):S(Po(T.inSSR,a.isComponent))),a.isBlock=!r,a.isBlock?(t(mo),t(Lo(T.inSSR,a.isComponent))):t(Po(T.inSSR,a.isComponent))),s){const g=Ro(Ti(b.parseResult,[At("_cached")]));g.body=Vc([Mn(["const _memo = (",s.exp,")"]),Mn(["if (_cached",...m?[" && _cached.key === ",m]:[],` && ${T.helperString(Ya)}(_cached, _memo)) return _cached`]),Mn(["const _item = ",a]),At("_item.memo = _memo"),At("return _item")]),o.arguments.push(g,At("_cache"),At(String(T.cached.length))),T.cached.push(null)}else o.arguments.push(Ro(Ti(b.parseResult),a,!0))}})});function _d(f,w,T,t){if(!w.exp){T.onError(lr(31,w.loc));return}const S=w.forParseResult;if(!S){T.onError(lr(32,w.loc));return}nl(S);const{addIdentifiers:b,removeIdentifiers:o,scopes:d}=T,{source:s,value:p,key:y,index:m}=S,n={type:11,loc:w.loc,source:s,valueAlias:p,keyAlias:y,objectIndexAlias:m,parseResult:S,children:Jo(f)?f.children:[f]};T.replaceNode(n),d.vFor++;const r=t&&t(n);return()=>{d.vFor--,r&&r()}}function nl(f,w){f.finalized||(f.finalized=!0)}function Ti({value:f,key:w,index:T},t=[]){return _y([f,w,T,...t])}function _y(f){let w=f.length;for(;w--&&!f[w];);return f.slice(0,w+1).map((T,t)=>T||At("_".repeat(t+1),!1))}const ku=At("undefined",!1),xd=(f,w)=>{if(f.type===1&&(f.tagType===1||f.tagType===3)){const T=pn(f,"slot");if(T)return T.exp,w.scopes.vSlot++,()=>{w.scopes.vSlot--}}},xy=(f,w)=>{let T;if(Jo(f)&&f.props.some(Qa)&&(T=pn(f,"for"))){const t=T.forParseResult;if(t){nl(t);const{value:S,key:b,index:o}=t,{addIdentifiers:d,removeIdentifiers:s}=w;return S&&d(S),b&&d(b),o&&d(o),()=>{S&&s(S),b&&s(b),o&&s(o)}}}},wy=(f,w,T,t)=>Ro(f,T,!1,!0,T.length?T[0].loc:t);function wd(f,w,T=wy){w.helper(Ki);const{children:t,loc:S}=f,b=[],o=[];let d=w.scopes.vSlot>0||w.scopes.vFor>0;const s=pn(f,"slot",!0);if(s){const{arg:h,exp:u}=s;h&&!mn(h)&&(d=!0),b.push(yr(h||At("default",!0),T(u,void 0,t,S)))}let p=!1,y=!1;const m=[],n=new Set;let r=0;for(let h=0;h<t.length;h++){const u=t[h];let l;if(!Jo(u)||!(l=pn(u,"slot",!0))){u.type!==3&&m.push(u);continue}if(s){w.onError(lr(37,l.loc));break}p=!0;const{children:g,loc:v}=u,{arg:x=At("default",!0),exp:k,loc:E}=l;let j;mn(x)?j=x?x.content:"default":d=!0;const C=pn(u,"for"),L=T(k,C,g,v);let A,P;if(A=pn(u,"if"))d=!0,o.push(ji(A.exp,ri(x,L,r++),ku));else if(P=pn(u,/^else(-if)?$/,!0)){let R=h,I;for(;R--&&(I=t[R],!(I.type!==3&&Ca(I))););if(I&&Jo(I)&&pn(I,/^(else-)?if$/)){let N=o[o.length-1];for(;N.alternate.type===19;)N=N.alternate;N.alternate=P.exp?ji(P.exp,ri(x,L,r++),ku):ri(x,L,r++)}else w.onError(lr(30,P.loc))}else if(C){d=!0;const R=C.forParseResult;R?(nl(R),o.push(Nr(w.helper(Xi),[R.source,Ro(Ti(R),ri(x,L),!0)]))):w.onError(lr(32,C.loc))}else{if(j){if(n.has(j)){w.onError(lr(38,E));continue}n.add(j),j==="default"&&(y=!0)}b.push(yr(x,L))}}if(!s){const h=(u,l)=>{const g=T(u,void 0,l,S);return w.compatConfig&&(g.isNonScopedSlot=!0),yr("default",g)};p?m.length&&m.some(u=>Ca(u))&&(y?w.onError(lr(39,m[0].loc)):b.push(h(void 0,m))):b.push(h(void 0,t))}const c=d?2:ci(f.children)?3:1;let a=En(b.concat(yr("_",At(c+"",!1))),S);return o.length&&(a=Nr(w.helper(Xa),[a,ho(o)])),{slots:a,hasDynamicSlots:d}}function ri(f,w,T){const t=[yr("name",f),yr("fn",w)];return T!=null&&t.push(yr("key",At(String(T),!0))),En(t)}function ci(f){for(let w=0;w<f.length;w++){const T=f[w];switch(T.type){case 1:if(T.tagType===2||ci(T.children))return!0;break;case 9:if(ci(T.branches))return!0;break;case 10:case 11:if(ci(T.children))return!0;break}}return!1}function Ca(f){return f.type!==2&&f.type!==12?!0:f.type===2?!!f.content.trim():Ca(f.content)}const Sd=new WeakMap,jd=(f,w)=>function(){if(f=w.currentNode,!(f.type===1&&(f.tagType===0||f.tagType===1)))return;const{tag:t,props:S}=f,b=f.tagType===1;let o=b?Ed(f,w):`"${t}"`;const d=Qu(o)&&o.callee===Gi;let s,p,y=0,m,n,r,c=d||o===Xo||o===Fi||!b&&(t==="svg"||t==="foreignObject"||t==="math");if(S.length>0){const a=ol(f,w,void 0,b,d);s=a.props,y=a.patchFlag,n=a.dynamicPropNames;const h=a.directives;r=h&&h.length?ho(h.map(u=>Td(u,w))):void 0,a.shouldUseBlock&&(c=!0)}if(f.children.length>0)if(o===Ts&&(c=!0,y|=1024),b&&o!==Xo&&o!==Ts){const{slots:h,hasDynamicSlots:u}=wd(f,w);p=h,u&&(y|=1024)}else if(f.children.length===1&&o!==Xo){const h=f.children[0],u=h.type,l=u===5||u===8;l&&bn(h,w)===0&&(y|=1),l||u===2?p=h:p=f.children}else p=f.children;n&&n.length&&(m=jy(n)),f.codegenNode=Ko(w,o,s,p,y===0?void 0:y,m,r,!!c,!1,b,f.loc)};function Ed(f,w,T=!1){let{tag:t}=f;const S=Ma(t),b=Ds(f,"is",!1,!0);if(b)if(S||Mo("COMPILER_IS_ON_ELEMENT",w)){let d;if(b.type===6?d=b.value&&At(b.value.content,!0):(d=b.exp,d||(d=At("is",!1,b.arg.loc))),d)return Nr(w.helper(Gi),[d])}else b.type===6&&b.value.content.startsWith("vue:")&&(t=b.value.content.slice(4));const o=Za(t)||w.isBuiltInComponent(t);return o?(T||w.helper(o),o):(w.helper(Vi),w.components.add(t),es(t,"component"))}function ol(f,w,T=f.props,t,S,b=!1){const{tag:o,loc:d,children:s}=f;let p=[];const y=[],m=[],n=s.length>0;let r=!1,c=0,a=!1,h=!1,u=!1,l=!1,g=!1,v=!1;const x=[],k=L=>{p.length&&(y.push(En(Cu(p),d)),p=[]),L&&y.push(L)},E=()=>{w.scopes.vFor>0&&p.push(yr(At("ref_for",!0),At("true")))},j=({key:L,value:A})=>{if(mn(L)){const P=L.content,R=Ju(P);if(R&&(!t||S)&&P.toLowerCase()!=="onclick"&&P!=="onUpdate:modelValue"&&!Al(P)&&(l=!0),R&&Al(P)&&(v=!0),R&&A.type===14&&(A=A.arguments[0]),A.type===20||(A.type===4||A.type===8)&&bn(A,w)>0)return;P==="ref"?a=!0:P==="class"?h=!0:P==="style"?u=!0:P!=="key"&&!x.includes(P)&&x.push(P),t&&(P==="class"||P==="style")&&!x.includes(P)&&x.push(P)}else g=!0};for(let L=0;L<T.length;L++){const A=T[L];if(A.type===6){const{loc:P,name:R,nameLoc:I,value:N}=A;let z=!0;if(R==="ref"&&(a=!0,E()),R==="is"&&(Ma(o)||N&&N.content.startsWith("vue:")||Mo("COMPILER_IS_ON_ELEMENT",w)))continue;p.push(yr(At(R,!0,I),At(N?N.content:"",z,N?N.loc:P)))}else{const{name:P,arg:R,exp:I,loc:N,modifiers:z}=A,G=P==="bind",W=P==="on";if(P==="slot"){t||w.onError(lr(40,N));continue}if(P==="once"||P==="memo"||P==="is"||G&&co(R,"is")&&(Ma(o)||Mo("COMPILER_IS_ON_ELEMENT",w))||W&&b)continue;if((G&&co(R,"key")||W&&n&&co(R,"vue:before-update"))&&(r=!0),G&&co(R,"ref")&&E(),!R&&(G||W)){if(g=!0,I)if(G){if(k(),Mo("COMPILER_V_BIND_OBJECT_ORDER",w)){y.unshift(I);continue}E(),k(),y.push(I)}else k({type:14,loc:N,callee:w.helper(Zi),arguments:t?[I]:[I,"true"]});else w.onError(lr(G?34:35,N));continue}G&&z.some(Z=>Z.content==="prop")&&(c|=32);const H=w.directiveTransforms[P];if(H){const{props:Z,needRuntime:Y}=H(A,f,w);!b&&Z.forEach(j),W&&R&&!mn(R)?k(En(Z,d)):p.push(...Z),Y&&(m.push(A),La(Y)&&Sd.set(A,Y))}else wf(P)||(m.push(A),n&&(r=!0))}}let C;if(y.length?(k(),y.length>1?C=Nr(w.helper(ks),y,d):C=y[0]):p.length&&(C=En(Cu(p),d)),g?c|=16:(h&&!t&&(c|=2),u&&!t&&(c|=4),x.length&&(c|=8),l&&(c|=32)),!r&&(c===0||c===32)&&(a||v||m.length>0)&&(c|=512),!w.inSSR&&C)switch(C.type){case 15:let L=-1,A=-1,P=!1;for(let N=0;N<C.properties.length;N++){const z=C.properties[N].key;mn(z)?z.content==="class"?L=N:z.content==="style"&&(A=N):z.isHandlerKey||(P=!0)}const R=C.properties[L],I=C.properties[A];P?C=Nr(w.helper(Zo),[C]):(R&&!mn(R.value)&&(R.value=Nr(w.helper(Yi),[R.value])),I&&(u||I.value.type===4&&I.value.content.trim()[0]==="["||I.value.type===17)&&(I.value=Nr(w.helper($i),[I.value])));break;case 14:break;default:C=Nr(w.helper(Zo),[Nr(w.helper(ns),[C])]);break}return{props:C,directives:m,patchFlag:c,dynamicPropNames:x,shouldUseBlock:r}}function Cu(f){const w=new Map,T=[];for(let t=0;t<f.length;t++){const S=f[t];if(S.key.type===8||!S.key.isStatic){T.push(S);continue}const b=S.key.content,o=w.get(b);o?(b==="style"||b==="class"||Ju(b))&&Sy(o,S):(w.set(b,S),T.push(S))}return T}function Sy(f,w){f.value.type===17?f.value.elements.push(w.value):f.value=ho([f.value,w.value],f.loc)}function Td(f,w){const T=[],t=Sd.get(f);t?T.push(w.helperString(t)):(w.helper(Hi),w.directives.add(f.name),T.push(es(f.name,"directive")));const{loc:S}=f;if(f.exp&&T.push(f.exp),f.arg&&(f.exp||T.push("void 0"),T.push(f.arg)),Object.keys(f.modifiers).length){f.arg||(f.exp||T.push("void 0"),T.push("void 0"));const b=At("true",!1,S);T.push(En(f.modifiers.map(o=>yr(o,b)),S))}return ho(T,f.loc)}function jy(f){let w="[";for(let T=0,t=f.length;T<t;T++)w+=JSON.stringify(f[T]),T<t-1&&(w+=", ");return w+"]"}function Ma(f){return f==="component"||f==="Component"}const Ey=(f,w)=>{if(Ms(f)){const{children:T,loc:t}=f,{slotName:S,slotProps:b}=kd(f,w),o=[w.prefixIdentifiers?"_ctx.$slots":"$slots",S,"{}","undefined","true"];let d=2;b&&(o[2]=b,d=3),T.length&&(o[3]=Ro([],T,!1,!1,t),d=4),w.scopeId&&!w.slotted&&(d=5),o.splice(d),f.codegenNode=Nr(w.helper(Wa),o,t)}};function kd(f,w){let T='"default"',t;const S=[];for(let b=0;b<f.props.length;b++){const o=f.props[b];if(o.type===6)o.value&&(o.name==="name"?T=JSON.stringify(o.value.content):(o.name=fo(o.name),S.push(o)));else if(o.name==="bind"&&co(o.arg,"name")){if(o.exp)T=o.exp;else if(o.arg&&o.arg.type===4){const d=fo(o.arg.content);T=o.exp=At(d,!1,o.arg.loc)}}else o.name==="bind"&&o.arg&&mn(o.arg)&&(o.arg.content=fo(o.arg.content)),S.push(o)}if(S.length>0){const{props:b,directives:o}=ol(f,w,S,!1,!1);t=b,o.length&&w.onError(lr(36,o[0].loc))}return{slotName:T,slotProps:t}}const sl=(f,w,T,t)=>{const{loc:S,modifiers:b,arg:o}=f;!f.exp&&!b.length&&T.onError(lr(35,S));let d;if(o.type===4)if(o.isStatic){let m=o.content;m.startsWith("vue:")&&(m=`vnode-${m.slice(4)}`);const n=w.tagType!==0||m.startsWith("vnode")||!/[A-Z]/.test(m)?jf(fo(m)):`on:${m}`;d=At(n,!0,o.loc)}else d=Mn([`${T.helperString(Si)}(`,o,")"]);else d=o,d.children.unshift(`${T.helperString(Si)}(`),d.children.push(")");let s=f.exp;s&&!s.content.trim()&&(s=void 0);let p=T.cacheHandlers&&!s&&!T.inVOnce;if(s){const m=Ka(s),n=!(m||Zc(s)),r=s.content.includes(";");(n||p&&m)&&(s=Mn([`${n?"$event":"(...args)"} => ${r?"{":"("}`,s,r?"}":")"]))}let y={props:[yr(d,s||At("() => {}",!1,S))]};return t&&(y=t(y)),p&&(y.props[0].value=T.cache(y.props[0].value)),y.props.forEach(m=>m.key.isHandlerKey=!0),y},Ty=(f,w)=>{if(f.type===0||f.type===1||f.type===11||f.type===10)return()=>{const T=f.children;let t,S=!1;for(let b=0;b<T.length;b++){const o=T[b];if(si(o)){S=!0;for(let d=b+1;d<T.length;d++){const s=T[d];if(si(s))t||(t=T[b]=Mn([o],o.loc)),t.children.push(" + ",s),T.splice(d,1),d--;else{t=void 0;break}}}}if(!(!S||T.length===1&&(f.type===0||f.type===1&&f.tagType===0&&!f.props.find(b=>b.type===7&&!w.directiveTransforms[b.name])&&f.tag!=="template")))for(let b=0;b<T.length;b++){const o=T[b];if(si(o)||o.type===8){const d=[];(o.type!==2||o.content!==" ")&&d.push(o),!w.ssr&&bn(o,w)===0&&d.push("1"),T[b]={type:12,content:o,loc:o.loc,codegenNode:Nr(w.helper(zi),d)}}}}},Mu=new WeakSet,ky=(f,w)=>{if(f.type===1&&pn(f,"once",!0))return Mu.has(f)||w.inVOnce||w.inSSR?void 0:(Mu.add(f),w.inVOnce=!0,w.helper(Cs),()=>{w.inVOnce=!1;const T=w.currentNode;T.codegenNode&&(T.codegenNode=w.cache(T.codegenNode,!0,!0))})},il=(f,w,T)=>{const{exp:t,arg:S}=f;if(!t)return T.onError(lr(41,f.loc)),ni();const b=t.loc.source.trim(),o=t.type===4?t.content:b,d=T.bindingMetadata[b];if(d==="props"||d==="props-aliased")return T.onError(lr(44,t.loc)),ni();if(!o.trim()||!Ka(t))return T.onError(lr(42,t.loc)),ni();const s=S||At("modelValue",!0),p=S?mn(S)?`onUpdate:${fo(S.content)}`:Mn(['"onUpdate:" + ',S]):"onUpdate:modelValue";let y;const m=T.isTS?"($event: any)":"$event";y=Mn([`${m} => ((`,t,") = $event)"]);const n=[yr(s,f.exp),yr(p,y)];if(f.modifiers.length&&w.tagType===1){const r=f.modifiers.map(a=>a.content).map(a=>(Ls(a)?a:JSON.stringify(a))+": true").join(", "),c=S?mn(S)?`${S.content}Modifiers`:Mn([S,' + "Modifiers"']):"modelModifiers";n.push(yr(c,At(`{ ${r} }`,!1,f.loc,2)))}return ni(n)};function ni(f=[]){return{props:f}}const Cy=/[\w).+\-_$\]]/,My=(f,w)=>{Mo("COMPILER_FILTERS",w)&&(f.type===5?ki(f.content,w):f.type===1&&f.props.forEach(T=>{T.type===7&&T.name!=="for"&&T.exp&&ki(T.exp,w)}))};function ki(f,w){if(f.type===4)Ou(f,w);else for(let T=0;T<f.children.length;T++){const t=f.children[T];typeof t=="object"&&(t.type===4?Ou(t,w):t.type===8?ki(f,w):t.type===5&&ki(t.content,w))}}function Ou(f,w){const T=f.content;let t=!1,S=!1,b=!1,o=!1,d=0,s=0,p=0,y=0,m,n,r,c,a=[];for(r=0;r<T.length;r++)if(n=m,m=T.charCodeAt(r),t)m===39&&n!==92&&(t=!1);else if(S)m===34&&n!==92&&(S=!1);else if(b)m===96&&n!==92&&(b=!1);else if(o)m===47&&n!==92&&(o=!1);else if(m===124&&T.charCodeAt(r+1)!==124&&T.charCodeAt(r-1)!==124&&!d&&!s&&!p)c===void 0?(y=r+1,c=T.slice(0,r).trim()):h();else{switch(m){case 34:S=!0;break;case 39:t=!0;break;case 96:b=!0;break;case 40:p++;break;case 41:p--;break;case 91:s++;break;case 93:s--;break;case 123:d++;break;case 125:d--;break}if(m===47){let u=r-1,l;for(;u>=0&&(l=T.charAt(u),l===" ");u--);(!l||!Cy.test(l))&&(o=!0)}}c===void 0?c=T.slice(0,r).trim():y!==0&&h();function h(){a.push(T.slice(y,r).trim()),y=r+1}if(a.length){for(r=0;r<a.length;r++)c=Oy(c,a[r],w);f.content=c,f.ast=void 0}}function Oy(f,w,T){T.helper(qi);const t=w.indexOf("(");if(t<0)return T.filters.add(w),`${es(w,"filter")}(${f})`;{const S=w.slice(0,t),b=w.slice(t+1);return T.filters.add(S),`${es(S,"filter")}(${f}${b!==")"?","+b:b}`}}const Au=new WeakSet,Ay=(f,w)=>{if(f.type===1){const T=pn(f,"memo");return!T||Au.has(f)?void 0:(Au.add(f),()=>{const t=f.codegenNode||w.currentNode.codegenNode;t&&t.type===13&&(f.tagType!==1&&Ji(t,w),f.codegenNode=Nr(w.helper(Qi),[T.exp,Ro(void 0,t),"_cache",String(w.cached.length)]),w.cached.push(null))})}};function Cd(f){return[[ky,gy,Ay,by,My,Ey,jd,xd,Ty],{on:sl,bind:vd,model:il}]}function Md(f,w={}){const T=w.onError||$a,t=w.mode==="module";w.prefixIdentifiers===!0?T(lr(47)):t&&T(lr(48));const S=!1;w.cacheHandlers&&T(lr(49)),w.scopeId&&!t&&T(lr(50));const b=Jn({},w,{prefixIdentifiers:S}),o=Gr(f)?el(f,b):f,[d,s]=Cd();return dd(o,Jn({},b,{nodeTransforms:[...d,...w.nodeTransforms||[]],directiveTransforms:Jn({},s,w.directiveTransforms||{})})),hd(o,b)}const Iy={DATA:"data",PROPS:"props",PROPS_ALIASED:"props-aliased",SETUP_LET:"setup-let",SETUP_CONST:"setup-const",SETUP_REACTIVE_CONST:"setup-reactive-const",SETUP_MAYBE_REF:"setup-maybe-ref",SETUP_REF:"setup-ref",OPTIONS:"options",LITERAL_CONST:"literal-const"},Od=()=>({props:[]});/**
* @vue/compiler-dom v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const al=Symbol(""),ll=Symbol(""),ul=Symbol(""),cl=Symbol(""),Ci=Symbol(""),dl=Symbol(""),fl=Symbol(""),hl=Symbol(""),pl=Symbol(""),ml=Symbol("");Bc({[al]:"vModelRadio",[ll]:"vModelCheckbox",[ul]:"vModelText",[cl]:"vModelSelect",[Ci]:"vModelDynamic",[dl]:"withModifiers",[fl]:"withKeys",[hl]:"vShow",[pl]:"Transition",[ml]:"TransitionGroup"});let zo;function Ry(f,w=!1){return zo||(zo=document.createElement("div")),w?(zo.innerHTML=`<div foo="${f.replace(/"/g,"&quot;")}">`,zo.children[0].getAttribute("foo")):(zo.innerHTML=f,zo.textContent)}const yl={parseMode:"html",isVoidTag:Cf,isNativeTag:f=>Ef(f)||Tf(f)||kf(f),isPreTag:f=>f==="pre",isIgnoreNewlineTag:f=>f==="pre"||f==="textarea",decodeEntities:Ry,isBuiltInComponent:f=>{if(f==="Transition"||f==="transition")return pl;if(f==="TransitionGroup"||f==="transition-group")return ml},getNamespace(f,w,T){let t=w?w.ns:T;if(w&&t===2)if(w.tag==="annotation-xml"){if(f==="svg")return 1;w.props.some(S=>S.type===6&&S.name==="encoding"&&S.value!=null&&(S.value.content==="text/html"||S.value.content==="application/xhtml+xml"))&&(t=0)}else/^m(?:[ions]|text)$/.test(w.tag)&&f!=="mglyph"&&f!=="malignmark"&&(t=0);else w&&t===1&&(w.tag==="foreignObject"||w.tag==="desc"||w.tag==="title")&&(t=0);if(t===0){if(f==="svg")return 1;if(f==="math")return 2}return t}},Ad=f=>{f.type===1&&f.props.forEach((w,T)=>{w.type===6&&w.name==="style"&&w.value&&(f.props[T]={type:7,name:"bind",arg:At("style",!0,w.loc),exp:Py(w.value.content,w.loc),modifiers:[],loc:w.loc})})},Py=(f,w)=>{const T=Mf(f);return At(JSON.stringify(T),!1,w,3)};function to(f,w){return lr(f,w)}const Ly={X_V_HTML_NO_EXPRESSION:53,53:"X_V_HTML_NO_EXPRESSION",X_V_HTML_WITH_CHILDREN:54,54:"X_V_HTML_WITH_CHILDREN",X_V_TEXT_NO_EXPRESSION:55,55:"X_V_TEXT_NO_EXPRESSION",X_V_TEXT_WITH_CHILDREN:56,56:"X_V_TEXT_WITH_CHILDREN",X_V_MODEL_ON_INVALID_ELEMENT:57,57:"X_V_MODEL_ON_INVALID_ELEMENT",X_V_MODEL_ARG_ON_ELEMENT:58,58:"X_V_MODEL_ARG_ON_ELEMENT",X_V_MODEL_ON_FILE_INPUT_ELEMENT:59,59:"X_V_MODEL_ON_FILE_INPUT_ELEMENT",X_V_MODEL_UNNECESSARY_VALUE:60,60:"X_V_MODEL_UNNECESSARY_VALUE",X_V_SHOW_NO_EXPRESSION:61,61:"X_V_SHOW_NO_EXPRESSION",X_TRANSITION_INVALID_CHILDREN:62,62:"X_TRANSITION_INVALID_CHILDREN",X_IGNORED_SIDE_EFFECT_TAG:63,63:"X_IGNORED_SIDE_EFFECT_TAG",__EXTEND_POINT__:64,64:"__EXTEND_POINT__"},Dy={53:"v-html is missing expression.",54:"v-html will override element children.",55:"v-text is missing expression.",56:"v-text will override element children.",57:"v-model can only be used on <input>, <textarea> and <select> elements.",58:"v-model argument is not supported on plain elements.",59:"v-model cannot be used on file inputs since they are read-only. Use a v-on:change listener instead.",60:"Unnecessary value binding used alongside v-model. It will interfere with v-model's behavior.",61:"v-show is missing expression.",62:"<Transition> expects exactly one child element or component.",63:"Tags with side effect (<script> and <style>) are ignored in client component templates."},Ny=(f,w,T)=>{const{exp:t,loc:S}=f;return t||T.onError(to(53,S)),w.children.length&&(T.onError(to(54,S)),w.children.length=0),{props:[yr(At("innerHTML",!0,S),t||At("",!0))]}},Fy=(f,w,T)=>{const{exp:t,loc:S}=f;return t||T.onError(to(55,S)),w.children.length&&(T.onError(to(56,S)),w.children.length=0),{props:[yr(At("textContent",!0),t?bn(t,T)>0?t:Nr(T.helperString(Ps),[t],S):At("",!0))]}},By=(f,w,T)=>{const t=il(f,w,T);if(!t.props.length||w.tagType===1)return t;f.arg&&T.onError(to(58,f.arg.loc));const{tag:S}=w,b=T.isCustomElement(S);if(S==="input"||S==="textarea"||S==="select"||b){let o=ul,d=!1;if(S==="input"||b){const s=Ds(w,"type");if(s){if(s.type===7)o=Ci;else if(s.value)switch(s.value.content){case"radio":o=al;break;case"checkbox":o=ll;break;case"file":d=!0,T.onError(to(59,f.loc));break}}else Qc(w)&&(o=Ci)}else S==="select"&&(o=cl);d||(t.needRuntime=T.helper(o))}else T.onError(to(57,f.loc));return t.props=t.props.filter(o=>!(o.key.type===4&&o.key.content==="modelValue")),t},Uy=Ri("passive,once,capture"),zy=Ri("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),Vy=Ri("left,right"),Id=Ri("onkeyup,onkeydown,onkeypress"),Gy=(f,w,T,t)=>{const S=[],b=[],o=[];for(let d=0;d<w.length;d++){const s=w[d].content;s==="native"&&Qo("COMPILER_V_ON_NATIVE",T)||Uy(s)?o.push(s):Vy(s)?mn(f)?Id(f.content.toLowerCase())?S.push(s):b.push(s):(S.push(s),b.push(s)):zy(s)?b.push(s):S.push(s)}return{keyModifiers:S,nonKeyModifiers:b,eventOptionModifiers:o}},Iu=(f,w)=>mn(f)&&f.content.toLowerCase()==="onclick"?At(w,!0):f.type!==4?Mn(["(",f,`) === "onClick" ? "${w}" : (`,f,")"]):f,Hy=(f,w,T)=>sl(f,w,T,t=>{const{modifiers:S}=f;if(!S.length)return t;let{key:b,value:o}=t.props[0];const{keyModifiers:d,nonKeyModifiers:s,eventOptionModifiers:p}=Gy(b,S,T,f.loc);if(s.includes("right")&&(b=Iu(b,"onContextmenu")),s.includes("middle")&&(b=Iu(b,"onMouseup")),s.length&&(o=Nr(T.helper(dl),[o,JSON.stringify(s)])),d.length&&(!mn(b)||Id(b.content.toLowerCase()))&&(o=Nr(T.helper(fl),[o,JSON.stringify(d)])),p.length){const y=p.map(Ku).join("");b=mn(b)?At(`${b.content}${y}`,!0):Mn(["(",b,`) + "${y}"`])}return{props:[yr(b,o)]}}),qy=(f,w,T)=>{const{exp:t,loc:S}=f;return t||T.onError(to(61,S)),{props:[],needRuntime:T.helper(hl)}},Wy=(f,w)=>{f.type===1&&f.tagType===0&&(f.tag==="script"||f.tag==="style")&&w.removeNode()},Rd=[Ad],Pd={cloak:Od,html:Ny,text:Fy,model:By,on:Hy,show:qy};function Xy(f,w={}){return Md(f,Jn({},yl,w,{nodeTransforms:[Wy,...Rd,...w.nodeTransforms||[]],directiveTransforms:Jn({},Pd,w.directiveTransforms||{}),transformHoist:null}))}function Yy(f,w={}){return el(f,Jn({},yl,w))}const $y=Object.freeze(Object.defineProperty({__proto__:null,BASE_TRANSITION:Va,BindingTypes:Iy,CAMELIZE:wi,CAPITALIZE:Pc,CREATE_BLOCK:Ga,CREATE_COMMENT:rs,CREATE_ELEMENT_BLOCK:Ha,CREATE_ELEMENT_VNODE:Ui,CREATE_SLOTS:Xa,CREATE_STATIC:qa,CREATE_TEXT:zi,CREATE_VNODE:Bi,CompilerDeprecationTypes:pm,ConstantTypes:im,DOMDirectiveTransforms:Pd,DOMErrorCodes:Ly,DOMErrorMessages:Dy,DOMNodeTransforms:Rd,ElementTypes:sm,ErrorCodes:gm,FRAGMENT:$o,GUARD_REACTIVE_PROPS:ns,IS_MEMO_SAME:Ya,IS_REF:Fc,KEEP_ALIVE:Ts,MERGE_PROPS:ks,NORMALIZE_CLASS:Yi,NORMALIZE_PROPS:Zo,NORMALIZE_STYLE:$i,Namespaces:nm,NodeTypes:om,OPEN_BLOCK:mo,POP_SCOPE_ID:Dc,PUSH_SCOPE_ID:Lc,RENDER_LIST:Xi,RENDER_SLOT:Wa,RESOLVE_COMPONENT:Vi,RESOLVE_DIRECTIVE:Hi,RESOLVE_DYNAMIC_COMPONENT:Gi,RESOLVE_FILTER:qi,SET_BLOCK_TRACKING:Cs,SUSPENSE:Fi,TELEPORT:Xo,TO_DISPLAY_STRING:Ps,TO_HANDLERS:Zi,TO_HANDLER_KEY:Si,TRANSITION:pl,TRANSITION_GROUP:ml,TS_NODE_TYPES:qc,UNREF:Nc,V_MODEL_CHECKBOX:ll,V_MODEL_DYNAMIC:Ci,V_MODEL_RADIO:al,V_MODEL_SELECT:cl,V_MODEL_TEXT:ul,V_ON_WITH_KEYS:fl,V_ON_WITH_MODIFIERS:dl,V_SHOW:hl,WITH_CTX:Ki,WITH_DIRECTIVES:Wi,WITH_MEMO:Qi,advancePositionWithClone:Dm,advancePositionWithMutation:Kc,assert:Nm,baseCompile:Md,baseParse:el,buildDirectiveArgs:Td,buildProps:ol,buildSlots:wd,checkCompatEnabled:Qo,compile:Xy,convertToBlock:Ji,createArrayExpression:ho,createAssignmentExpression:cm,createBlockStatement:Vc,createCacheExpression:zc,createCallExpression:Nr,createCompilerError:lr,createCompoundExpression:Mn,createConditionalExpression:ji,createDOMCompilerError:to,createForLoopParams:Ti,createFunctionExpression:Ro,createIfStatement:um,createInterpolation:am,createObjectExpression:En,createObjectProperty:yr,createReturnStatement:fm,createRoot:Uc,createSequenceExpression:dm,createSimpleExpression:At,createStructuralDirectiveTransform:tl,createTemplateLiteral:lm,createTransformContext:cd,createVNodeCall:Ko,errorMessages:vm,extractIdentifiers:Qn,findDir:pn,findProp:Ds,forAliasRE:td,generate:hd,generateCodeFrame:Of,getBaseTransformPreset:Cd,getConstantType:bn,getMemoedVNodeCall:ed,getVNodeBlockHelper:Lo,getVNodeHelper:Po,hasDynamicKeyVBind:Qc,hasScopeRef:Dn,helperNameMap:Io,injectProp:Os,isCoreComponent:Za,isFnExpression:Zc,isFnExpressionBrowser:$c,isFnExpressionNode:Lm,isFunctionType:km,isInDestructureAssignment:xm,isInNewExpression:wm,isMemberExpression:Ka,isMemberExpressionBrowser:Yc,isMemberExpressionNode:Rm,isReferencedIdentifier:_m,isSimpleIdentifier:Ls,isSlotOutlet:Ms,isStaticArgOf:co,isStaticExp:mn,isStaticProperty:Hc,isStaticPropertyKey:Cm,isTemplateNode:Jo,isText:si,isVSlot:Qa,locStub:qr,noopDirectiveTransform:Od,parse:Yy,parserOptions:yl,processExpression:ui,processFor:_d,processIf:gd,processSlotOutlet:kd,registerRuntimeHelpers:Bc,resolveComponentType:Ed,stringifyExpression:yd,toValidAssetId:es,trackSlotScopes:xd,trackVForSlotScopes:xy,transform:dd,transformBind:vd,transformElement:jd,transformExpression:yy,transformModel:il,transformOn:sl,transformStyle:Ad,traverseNode:Ns,unwrapTSNode:Wc,walkBlockDeclarations:jm,walkFunctionParams:Sm,walkIdentifiers:bm,warnDeprecation:ym},Symbol.toStringTag,{value:"Module"})),Zy=Na($y),Ky=Na(Af),Qy=Na(If);/**
* vue v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/var Ru;function Jy(){return Ru||(Ru=1,function(f){Object.defineProperty(f,"__esModule",{value:!0});var w=Zy,T=Ky,t=Qy;function S(s){var p=Object.create(null);if(s)for(var y in s)p[y]=s[y];return p.default=s,Object.freeze(p)}var b=S(T);const o=Object.create(null);function d(s,p){if(!t.isString(s))if(s.nodeType)s=s.innerHTML;else return t.NOOP;const y=t.genCacheKey(s,p),m=o[y];if(m)return m;if(s[0]==="#"){const a=document.querySelector(s);s=a?a.innerHTML:""}const n=t.extend({hoistStatic:!0,onError:void 0,onWarn:t.NOOP},p);!n.isCustomElement&&typeof customElements<"u"&&(n.isCustomElement=a=>!!customElements.get(a));const{code:r}=w.compile(s,n),c=new Function("Vue",r)(b);return c._rc=!0,o[y]=c}T.registerRuntimeCompiler(d),f.compile=d,Object.keys(T).forEach(function(s){s!=="default"&&!Object.prototype.hasOwnProperty.call(f,s)&&(f[s]=T[s])})}(va)),va}var Pu;function eg(){return Pu||(Pu=1,ga.exports=Jy()),ga.exports}var di={exports:{}};/*!
 * Cropper.js v1.6.2
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2024-04-21T07:43:05.335Z
 */var tg=di.exports,Lu;function rg(){return Lu||(Lu=1,function(f,w){(function(T,t){f.exports=t()})(tg,function(){function T(Ce,se){var ve=Object.keys(Ce);if(Object.getOwnPropertySymbols){var ye=Object.getOwnPropertySymbols(Ce);se&&(ye=ye.filter(function(Be){return Object.getOwnPropertyDescriptor(Ce,Be).enumerable})),ve.push.apply(ve,ye)}return ve}function t(Ce){for(var se=1;se<arguments.length;se++){var ve=arguments[se]!=null?arguments[se]:{};se%2?T(Object(ve),!0).forEach(function(ye){y(Ce,ye,ve[ye])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(ve)):T(Object(ve)).forEach(function(ye){Object.defineProperty(Ce,ye,Object.getOwnPropertyDescriptor(ve,ye))})}return Ce}function S(Ce,se){if(typeof Ce!="object"||!Ce)return Ce;var ve=Ce[Symbol.toPrimitive];if(ve!==void 0){var ye=ve.call(Ce,se);if(typeof ye!="object")return ye;throw new TypeError("@@toPrimitive must return a primitive value.")}return(se==="string"?String:Number)(Ce)}function b(Ce){var se=S(Ce,"string");return typeof se=="symbol"?se:se+""}function o(Ce){"@babel/helpers - typeof";return o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(se){return typeof se}:function(se){return se&&typeof Symbol=="function"&&se.constructor===Symbol&&se!==Symbol.prototype?"symbol":typeof se},o(Ce)}function d(Ce,se){if(!(Ce instanceof se))throw new TypeError("Cannot call a class as a function")}function s(Ce,se){for(var ve=0;ve<se.length;ve++){var ye=se[ve];ye.enumerable=ye.enumerable||!1,ye.configurable=!0,"value"in ye&&(ye.writable=!0),Object.defineProperty(Ce,b(ye.key),ye)}}function p(Ce,se,ve){return se&&s(Ce.prototype,se),ve&&s(Ce,ve),Object.defineProperty(Ce,"prototype",{writable:!1}),Ce}function y(Ce,se,ve){return se=b(se),se in Ce?Object.defineProperty(Ce,se,{value:ve,enumerable:!0,configurable:!0,writable:!0}):Ce[se]=ve,Ce}function m(Ce){return n(Ce)||r(Ce)||c(Ce)||h()}function n(Ce){if(Array.isArray(Ce))return a(Ce)}function r(Ce){if(typeof Symbol<"u"&&Ce[Symbol.iterator]!=null||Ce["@@iterator"]!=null)return Array.from(Ce)}function c(Ce,se){if(Ce){if(typeof Ce=="string")return a(Ce,se);var ve=Object.prototype.toString.call(Ce).slice(8,-1);if(ve==="Object"&&Ce.constructor&&(ve=Ce.constructor.name),ve==="Map"||ve==="Set")return Array.from(Ce);if(ve==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ve))return a(Ce,se)}}function a(Ce,se){(se==null||se>Ce.length)&&(se=Ce.length);for(var ve=0,ye=new Array(se);ve<se;ve++)ye[ve]=Ce[ve];return ye}function h(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u=typeof window<"u"&&typeof window.document<"u",l=u?window:{},g=u&&l.document.documentElement?"ontouchstart"in l.document.documentElement:!1,v=u?"PointerEvent"in l:!1,x="cropper",k="all",E="crop",j="move",C="zoom",L="e",A="w",P="s",R="n",I="ne",N="nw",z="se",G="sw",W="".concat(x,"-crop"),H="".concat(x,"-disabled"),Z="".concat(x,"-hidden"),Y="".concat(x,"-hide"),Q="".concat(x,"-invisible"),M="".concat(x,"-modal"),B="".concat(x,"-move"),V="".concat(x,"Action"),X="".concat(x,"Preview"),re="crop",ne="move",ce="none",be="crop",he="cropend",le="cropmove",ge="cropstart",U="dblclick",oe=g?"touchstart":"mousedown",fe=g?"touchmove":"mousemove",te=g?"touchend touchcancel":"mouseup",ee=v?"pointerdown":oe,ae=v?"pointermove":fe,_e=v?"pointerup pointercancel":te,Oe="ready",ue="resize",je="wheel",Me="zoom",Le="image/jpeg",qe=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,Ye=/^data:/,Ee=/^data:image\/jpeg;base64,/,Xe=/^img|canvas$/i,De=200,ie=100,pe={viewMode:0,dragMode:re,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:De,minContainerHeight:ie,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},$='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',de=Number.isNaN||l.isNaN;function Se(Ce){return typeof Ce=="number"&&!de(Ce)}var Ie=function(se){return se>0&&se<1/0};function Ue(Ce){return typeof Ce>"u"}function et(Ce){return o(Ce)==="object"&&Ce!==null}var lt=Object.prototype.hasOwnProperty;function it(Ce){if(!et(Ce))return!1;try{var se=Ce.constructor,ve=se.prototype;return se&&ve&&lt.call(ve,"isPrototypeOf")}catch{return!1}}function ct(Ce){return typeof Ce=="function"}var Ct=Array.prototype.slice;function wt(Ce){return Array.from?Array.from(Ce):Ct.call(Ce)}function ht(Ce,se){return Ce&&ct(se)&&(Array.isArray(Ce)||Se(Ce.length)?wt(Ce).forEach(function(ve,ye){se.call(Ce,ve,ye,Ce)}):et(Ce)&&Object.keys(Ce).forEach(function(ve){se.call(Ce,Ce[ve],ve,Ce)})),Ce}var bt=Object.assign||function(se){for(var ve=arguments.length,ye=new Array(ve>1?ve-1:0),Be=1;Be<ve;Be++)ye[Be-1]=arguments[Be];return et(se)&&ye.length>0&&ye.forEach(function(Ae){et(Ae)&&Object.keys(Ae).forEach(function(Fe){se[Fe]=Ae[Fe]})}),se},kt=/\.\d*(?:0|9){12}\d*$/;function Gt(Ce){var se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return kt.test(Ce)?Math.round(Ce*se)/se:Ce}var Wr=/^width|height|left|top|marginLeft|marginTop$/;function Qt(Ce,se){var ve=Ce.style;ht(se,function(ye,Be){Wr.test(Be)&&Se(ye)&&(ye="".concat(ye,"px")),ve[Be]=ye})}function Wt(Ce,se){return Ce.classList?Ce.classList.contains(se):Ce.className.indexOf(se)>-1}function It(Ce,se){if(se){if(Se(Ce.length)){ht(Ce,function(ye){It(ye,se)});return}if(Ce.classList){Ce.classList.add(se);return}var ve=Ce.className.trim();ve?ve.indexOf(se)<0&&(Ce.className="".concat(ve," ").concat(se)):Ce.className=se}}function Rt(Ce,se){if(se){if(Se(Ce.length)){ht(Ce,function(ve){Rt(ve,se)});return}if(Ce.classList){Ce.classList.remove(se);return}Ce.className.indexOf(se)>=0&&(Ce.className=Ce.className.replace(se,""))}}function ur(Ce,se,ve){if(se){if(Se(Ce.length)){ht(Ce,function(ye){ur(ye,se,ve)});return}ve?It(Ce,se):Rt(Ce,se)}}var Mr=/([a-z\d])([A-Z])/g;function Xt(Ce){return Ce.replace(Mr,"$1-$2").toLowerCase()}function wr(Ce,se){return et(Ce[se])?Ce[se]:Ce.dataset?Ce.dataset[se]:Ce.getAttribute("data-".concat(Xt(se)))}function In(Ce,se,ve){et(ve)?Ce[se]=ve:Ce.dataset?Ce.dataset[se]=ve:Ce.setAttribute("data-".concat(Xt(se)),ve)}function yo(Ce,se){if(et(Ce[se]))try{delete Ce[se]}catch{Ce[se]=void 0}else if(Ce.dataset)try{delete Ce.dataset[se]}catch{Ce.dataset[se]=void 0}else Ce.removeAttribute("data-".concat(Xt(se)))}var ro=/\s\s*/,go=function(){var Ce=!1;if(u){var se=!1,ve=function(){},ye=Object.defineProperty({},"once",{get:function(){return Ce=!0,se},set:function(Ae){se=Ae}});l.addEventListener("test",ve,ye),l.removeEventListener("test",ve,ye)}return Ce}();function Kr(Ce,se,ve){var ye=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},Be=ve;se.trim().split(ro).forEach(function(Ae){if(!go){var Fe=Ce.listeners;Fe&&Fe[Ae]&&Fe[Ae][ve]&&(Be=Fe[Ae][ve],delete Fe[Ae][ve],Object.keys(Fe[Ae]).length===0&&delete Fe[Ae],Object.keys(Fe).length===0&&delete Ce.listeners)}Ce.removeEventListener(Ae,Be,ye)})}function Xr(Ce,se,ve){var ye=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},Be=ve;se.trim().split(ro).forEach(function(Ae){if(ye.once&&!go){var Fe=Ce.listeners,$e=Fe===void 0?{}:Fe;Be=function(){delete $e[Ae][ve],Ce.removeEventListener(Ae,Be,ye);for(var ot=arguments.length,Qe=new Array(ot),Je=0;Je<ot;Je++)Qe[Je]=arguments[Je];ve.apply(Ce,Qe)},$e[Ae]||($e[Ae]={}),$e[Ae][ve]&&Ce.removeEventListener(Ae,$e[Ae][ve],ye),$e[Ae][ve]=Be,Ce.listeners=$e}Ce.addEventListener(Ae,Be,ye)})}function Te(Ce,se,ve){var ye;return ct(Event)&&ct(CustomEvent)?ye=new CustomEvent(se,{detail:ve,bubbles:!0,cancelable:!0}):(ye=document.createEvent("CustomEvent"),ye.initCustomEvent(se,!0,!0,ve)),Ce.dispatchEvent(ye)}function st(Ce){var se=Ce.getBoundingClientRect();return{left:se.left+(window.pageXOffset-document.documentElement.clientLeft),top:se.top+(window.pageYOffset-document.documentElement.clientTop)}}var yt=l.location,nt=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function Pt(Ce){var se=Ce.match(nt);return se!==null&&(se[1]!==yt.protocol||se[2]!==yt.hostname||se[3]!==yt.port)}function tt(Ce){var se="timestamp=".concat(new Date().getTime());return Ce+(Ce.indexOf("?")===-1?"?":"&")+se}function Ft(Ce){var se=Ce.rotate,ve=Ce.scaleX,ye=Ce.scaleY,Be=Ce.translateX,Ae=Ce.translateY,Fe=[];Se(Be)&&Be!==0&&Fe.push("translateX(".concat(Be,"px)")),Se(Ae)&&Ae!==0&&Fe.push("translateY(".concat(Ae,"px)")),Se(se)&&se!==0&&Fe.push("rotate(".concat(se,"deg)")),Se(ve)&&ve!==1&&Fe.push("scaleX(".concat(ve,")")),Se(ye)&&ye!==1&&Fe.push("scaleY(".concat(ye,")"));var $e=Fe.length?Fe.join(" "):"none";return{WebkitTransform:$e,msTransform:$e,transform:$e}}function mt(Ce){var se=t({},Ce),ve=0;return ht(Ce,function(ye,Be){delete se[Be],ht(se,function(Ae){var Fe=Math.abs(ye.startX-Ae.startX),$e=Math.abs(ye.startY-Ae.startY),dt=Math.abs(ye.endX-Ae.endX),ot=Math.abs(ye.endY-Ae.endY),Qe=Math.sqrt(Fe*Fe+$e*$e),Je=Math.sqrt(dt*dt+ot*ot),ut=(Je-Qe)/Qe;Math.abs(ut)>Math.abs(ve)&&(ve=ut)})}),ve}function Lt(Ce,se){var ve=Ce.pageX,ye=Ce.pageY,Be={endX:ve,endY:ye};return se?Be:t({startX:ve,startY:ye},Be)}function gt(Ce){var se=0,ve=0,ye=0;return ht(Ce,function(Be){var Ae=Be.startX,Fe=Be.startY;se+=Ae,ve+=Fe,ye+=1}),se/=ye,ve/=ye,{pageX:se,pageY:ve}}function Zt(Ce){var se=Ce.aspectRatio,ve=Ce.height,ye=Ce.width,Be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",Ae=Ie(ye),Fe=Ie(ve);if(Ae&&Fe){var $e=ve*se;Be==="contain"&&$e>ye||Be==="cover"&&$e<ye?ve=ye/se:ye=ve*se}else Ae?ve=ye/se:Fe&&(ye=ve*se);return{width:ye,height:ve}}function Sr(Ce){var se=Ce.width,ve=Ce.height,ye=Ce.degree;if(ye=Math.abs(ye)%180,ye===90)return{width:ve,height:se};var Be=ye%90*Math.PI/180,Ae=Math.sin(Be),Fe=Math.cos(Be),$e=se*Fe+ve*Ae,dt=se*Ae+ve*Fe;return ye>90?{width:dt,height:$e}:{width:$e,height:dt}}function cr(Ce,se,ve,ye){var Be=se.aspectRatio,Ae=se.naturalWidth,Fe=se.naturalHeight,$e=se.rotate,dt=$e===void 0?0:$e,ot=se.scaleX,Qe=ot===void 0?1:ot,Je=se.scaleY,ut=Je===void 0?1:Je,Ut=ve.aspectRatio,zt=ve.naturalWidth,nr=ve.naturalHeight,Ht=ye.fillColor,gr=Ht===void 0?"transparent":Ht,Ar=ye.imageSmoothingEnabled,hr=Ar===void 0?!0:Ar,Rn=ye.imageSmoothingQuality,hn=Rn===void 0?"low":Rn,ft=ye.maxWidth,Yt=ft===void 0?1/0:ft,vr=ye.maxHeight,pr=vr===void 0?1/0:vr,Ur=ye.minWidth,xn=Ur===void 0?0:Ur,wn=ye.minHeight,Yr=wn===void 0?0:wn,rn=document.createElement("canvas"),nn=rn.getContext("2d"),on=Zt({aspectRatio:Ut,width:Yt,height:pr}),Xn=Zt({aspectRatio:Ut,width:xn,height:Yr},"cover"),No=Math.min(on.width,Math.max(Xn.width,zt)),Fo=Math.min(on.height,Math.max(Xn.height,nr)),is=Zt({aspectRatio:Be,width:Yt,height:pr}),as=Zt({aspectRatio:Be,width:xn,height:Yr},"cover"),ls=Math.min(is.width,Math.max(as.width,Ae)),us=Math.min(is.height,Math.max(as.height,Fe)),cs=[-ls/2,-us/2,ls,us];return rn.width=Gt(No),rn.height=Gt(Fo),nn.fillStyle=gr,nn.fillRect(0,0,No,Fo),nn.save(),nn.translate(No/2,Fo/2),nn.rotate(dt*Math.PI/180),nn.scale(Qe,ut),nn.imageSmoothingEnabled=hr,nn.imageSmoothingQuality=hn,nn.drawImage.apply(nn,[Ce].concat(m(cs.map(function(Hs){return Math.floor(Gt(Hs))})))),nn.restore(),rn}var jr=String.fromCharCode;function Tn(Ce,se,ve){var ye="";ve+=se;for(var Be=se;Be<ve;Be+=1)ye+=jr(Ce.getUint8(Be));return ye}var fn=/^data:.*,/;function kn(Ce){var se=Ce.replace(fn,""),ve=atob(se),ye=new ArrayBuffer(ve.length),Be=new Uint8Array(ye);return ht(Be,function(Ae,Fe){Be[Fe]=ve.charCodeAt(Fe)}),ye}function Or(Ce,se){for(var ve=[],ye=8192,Be=new Uint8Array(Ce);Be.length>0;)ve.push(jr.apply(null,wt(Be.subarray(0,ye)))),Be=Be.subarray(ye);return"data:".concat(se,";base64,").concat(btoa(ve.join("")))}function Bs(Ce){var se=new DataView(Ce),ve;try{var ye,Be,Ae;if(se.getUint8(0)===255&&se.getUint8(1)===216)for(var Fe=se.byteLength,$e=2;$e+1<Fe;){if(se.getUint8($e)===255&&se.getUint8($e+1)===225){Be=$e;break}$e+=1}if(Be){var dt=Be+4,ot=Be+10;if(Tn(se,dt,4)==="Exif"){var Qe=se.getUint16(ot);if(ye=Qe===18761,(ye||Qe===19789)&&se.getUint16(ot+2,ye)===42){var Je=se.getUint32(ot+4,ye);Je>=8&&(Ae=ot+Je)}}}if(Ae){var ut=se.getUint16(Ae,ye),Ut,zt;for(zt=0;zt<ut;zt+=1)if(Ut=Ae+zt*12+2,se.getUint16(Ut,ye)===274){Ut+=8,ve=se.getUint16(Ut,ye),se.setUint16(Ut,1,ye);break}}}catch{ve=1}return ve}function _n(Ce){var se=0,ve=1,ye=1;switch(Ce){case 2:ve=-1;break;case 3:se=-180;break;case 4:ye=-1;break;case 5:se=90,ye=-1;break;case 6:se=90;break;case 7:se=90,ve=-1;break;case 8:se=-90;break}return{rotate:se,scaleX:ve,scaleY:ye}}var no={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var se=this.element,ve=this.options,ye=this.container,Be=this.cropper,Ae=Number(ve.minContainerWidth),Fe=Number(ve.minContainerHeight);It(Be,Z),Rt(se,Z);var $e={width:Math.max(ye.offsetWidth,Ae>=0?Ae:De),height:Math.max(ye.offsetHeight,Fe>=0?Fe:ie)};this.containerData=$e,Qt(Be,{width:$e.width,height:$e.height}),It(se,Z),Rt(Be,Z)},initCanvas:function(){var se=this.containerData,ve=this.imageData,ye=this.options.viewMode,Be=Math.abs(ve.rotate)%180===90,Ae=Be?ve.naturalHeight:ve.naturalWidth,Fe=Be?ve.naturalWidth:ve.naturalHeight,$e=Ae/Fe,dt=se.width,ot=se.height;se.height*$e>se.width?ye===3?dt=se.height*$e:ot=se.width/$e:ye===3?ot=se.width/$e:dt=se.height*$e;var Qe={aspectRatio:$e,naturalWidth:Ae,naturalHeight:Fe,width:dt,height:ot};this.canvasData=Qe,this.limited=ye===1||ye===2,this.limitCanvas(!0,!0),Qe.width=Math.min(Math.max(Qe.width,Qe.minWidth),Qe.maxWidth),Qe.height=Math.min(Math.max(Qe.height,Qe.minHeight),Qe.maxHeight),Qe.left=(se.width-Qe.width)/2,Qe.top=(se.height-Qe.height)/2,Qe.oldLeft=Qe.left,Qe.oldTop=Qe.top,this.initialCanvasData=bt({},Qe)},limitCanvas:function(se,ve){var ye=this.options,Be=this.containerData,Ae=this.canvasData,Fe=this.cropBoxData,$e=ye.viewMode,dt=Ae.aspectRatio,ot=this.cropped&&Fe;if(se){var Qe=Number(ye.minCanvasWidth)||0,Je=Number(ye.minCanvasHeight)||0;$e>1?(Qe=Math.max(Qe,Be.width),Je=Math.max(Je,Be.height),$e===3&&(Je*dt>Qe?Qe=Je*dt:Je=Qe/dt)):$e>0&&(Qe?Qe=Math.max(Qe,ot?Fe.width:0):Je?Je=Math.max(Je,ot?Fe.height:0):ot&&(Qe=Fe.width,Je=Fe.height,Je*dt>Qe?Qe=Je*dt:Je=Qe/dt));var ut=Zt({aspectRatio:dt,width:Qe,height:Je});Qe=ut.width,Je=ut.height,Ae.minWidth=Qe,Ae.minHeight=Je,Ae.maxWidth=1/0,Ae.maxHeight=1/0}if(ve)if($e>(ot?0:1)){var Ut=Be.width-Ae.width,zt=Be.height-Ae.height;Ae.minLeft=Math.min(0,Ut),Ae.minTop=Math.min(0,zt),Ae.maxLeft=Math.max(0,Ut),Ae.maxTop=Math.max(0,zt),ot&&this.limited&&(Ae.minLeft=Math.min(Fe.left,Fe.left+(Fe.width-Ae.width)),Ae.minTop=Math.min(Fe.top,Fe.top+(Fe.height-Ae.height)),Ae.maxLeft=Fe.left,Ae.maxTop=Fe.top,$e===2&&(Ae.width>=Be.width&&(Ae.minLeft=Math.min(0,Ut),Ae.maxLeft=Math.max(0,Ut)),Ae.height>=Be.height&&(Ae.minTop=Math.min(0,zt),Ae.maxTop=Math.max(0,zt))))}else Ae.minLeft=-Ae.width,Ae.minTop=-Ae.height,Ae.maxLeft=Be.width,Ae.maxTop=Be.height},renderCanvas:function(se,ve){var ye=this.canvasData,Be=this.imageData;if(ve){var Ae=Sr({width:Be.naturalWidth*Math.abs(Be.scaleX||1),height:Be.naturalHeight*Math.abs(Be.scaleY||1),degree:Be.rotate||0}),Fe=Ae.width,$e=Ae.height,dt=ye.width*(Fe/ye.naturalWidth),ot=ye.height*($e/ye.naturalHeight);ye.left-=(dt-ye.width)/2,ye.top-=(ot-ye.height)/2,ye.width=dt,ye.height=ot,ye.aspectRatio=Fe/$e,ye.naturalWidth=Fe,ye.naturalHeight=$e,this.limitCanvas(!0,!1)}(ye.width>ye.maxWidth||ye.width<ye.minWidth)&&(ye.left=ye.oldLeft),(ye.height>ye.maxHeight||ye.height<ye.minHeight)&&(ye.top=ye.oldTop),ye.width=Math.min(Math.max(ye.width,ye.minWidth),ye.maxWidth),ye.height=Math.min(Math.max(ye.height,ye.minHeight),ye.maxHeight),this.limitCanvas(!1,!0),ye.left=Math.min(Math.max(ye.left,ye.minLeft),ye.maxLeft),ye.top=Math.min(Math.max(ye.top,ye.minTop),ye.maxTop),ye.oldLeft=ye.left,ye.oldTop=ye.top,Qt(this.canvas,bt({width:ye.width,height:ye.height},Ft({translateX:ye.left,translateY:ye.top}))),this.renderImage(se),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(se){var ve=this.canvasData,ye=this.imageData,Be=ye.naturalWidth*(ve.width/ve.naturalWidth),Ae=ye.naturalHeight*(ve.height/ve.naturalHeight);bt(ye,{width:Be,height:Ae,left:(ve.width-Be)/2,top:(ve.height-Ae)/2}),Qt(this.image,bt({width:ye.width,height:ye.height},Ft(bt({translateX:ye.left,translateY:ye.top},ye)))),se&&this.output()},initCropBox:function(){var se=this.options,ve=this.canvasData,ye=se.aspectRatio||se.initialAspectRatio,Be=Number(se.autoCropArea)||.8,Ae={width:ve.width,height:ve.height};ye&&(ve.height*ye>ve.width?Ae.height=Ae.width/ye:Ae.width=Ae.height*ye),this.cropBoxData=Ae,this.limitCropBox(!0,!0),Ae.width=Math.min(Math.max(Ae.width,Ae.minWidth),Ae.maxWidth),Ae.height=Math.min(Math.max(Ae.height,Ae.minHeight),Ae.maxHeight),Ae.width=Math.max(Ae.minWidth,Ae.width*Be),Ae.height=Math.max(Ae.minHeight,Ae.height*Be),Ae.left=ve.left+(ve.width-Ae.width)/2,Ae.top=ve.top+(ve.height-Ae.height)/2,Ae.oldLeft=Ae.left,Ae.oldTop=Ae.top,this.initialCropBoxData=bt({},Ae)},limitCropBox:function(se,ve){var ye=this.options,Be=this.containerData,Ae=this.canvasData,Fe=this.cropBoxData,$e=this.limited,dt=ye.aspectRatio;if(se){var ot=Number(ye.minCropBoxWidth)||0,Qe=Number(ye.minCropBoxHeight)||0,Je=$e?Math.min(Be.width,Ae.width,Ae.width+Ae.left,Be.width-Ae.left):Be.width,ut=$e?Math.min(Be.height,Ae.height,Ae.height+Ae.top,Be.height-Ae.top):Be.height;ot=Math.min(ot,Be.width),Qe=Math.min(Qe,Be.height),dt&&(ot&&Qe?Qe*dt>ot?Qe=ot/dt:ot=Qe*dt:ot?Qe=ot/dt:Qe&&(ot=Qe*dt),ut*dt>Je?ut=Je/dt:Je=ut*dt),Fe.minWidth=Math.min(ot,Je),Fe.minHeight=Math.min(Qe,ut),Fe.maxWidth=Je,Fe.maxHeight=ut}ve&&($e?(Fe.minLeft=Math.max(0,Ae.left),Fe.minTop=Math.max(0,Ae.top),Fe.maxLeft=Math.min(Be.width,Ae.left+Ae.width)-Fe.width,Fe.maxTop=Math.min(Be.height,Ae.top+Ae.height)-Fe.height):(Fe.minLeft=0,Fe.minTop=0,Fe.maxLeft=Be.width-Fe.width,Fe.maxTop=Be.height-Fe.height))},renderCropBox:function(){var se=this.options,ve=this.containerData,ye=this.cropBoxData;(ye.width>ye.maxWidth||ye.width<ye.minWidth)&&(ye.left=ye.oldLeft),(ye.height>ye.maxHeight||ye.height<ye.minHeight)&&(ye.top=ye.oldTop),ye.width=Math.min(Math.max(ye.width,ye.minWidth),ye.maxWidth),ye.height=Math.min(Math.max(ye.height,ye.minHeight),ye.maxHeight),this.limitCropBox(!1,!0),ye.left=Math.min(Math.max(ye.left,ye.minLeft),ye.maxLeft),ye.top=Math.min(Math.max(ye.top,ye.minTop),ye.maxTop),ye.oldLeft=ye.left,ye.oldTop=ye.top,se.movable&&se.cropBoxMovable&&In(this.face,V,ye.width>=ve.width&&ye.height>=ve.height?j:k),Qt(this.cropBox,bt({width:ye.width,height:ye.height},Ft({translateX:ye.left,translateY:ye.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),Te(this.element,be,this.getData())}},Do={initPreview:function(){var se=this.element,ve=this.crossOrigin,ye=this.options.preview,Be=ve?this.crossOriginUrl:this.url,Ae=se.alt||"The image to preview",Fe=document.createElement("img");if(ve&&(Fe.crossOrigin=ve),Fe.src=Be,Fe.alt=Ae,this.viewBox.appendChild(Fe),this.viewBoxImage=Fe,!!ye){var $e=ye;typeof ye=="string"?$e=se.ownerDocument.querySelectorAll(ye):ye.querySelector&&($e=[ye]),this.previews=$e,ht($e,function(dt){var ot=document.createElement("img");In(dt,X,{width:dt.offsetWidth,height:dt.offsetHeight,html:dt.innerHTML}),ve&&(ot.crossOrigin=ve),ot.src=Be,ot.alt=Ae,ot.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',dt.innerHTML="",dt.appendChild(ot)})}},resetPreview:function(){ht(this.previews,function(se){var ve=wr(se,X);Qt(se,{width:ve.width,height:ve.height}),se.innerHTML=ve.html,yo(se,X)})},preview:function(){var se=this.imageData,ve=this.canvasData,ye=this.cropBoxData,Be=ye.width,Ae=ye.height,Fe=se.width,$e=se.height,dt=ye.left-ve.left-se.left,ot=ye.top-ve.top-se.top;!this.cropped||this.disabled||(Qt(this.viewBoxImage,bt({width:Fe,height:$e},Ft(bt({translateX:-dt,translateY:-ot},se)))),ht(this.previews,function(Qe){var Je=wr(Qe,X),ut=Je.width,Ut=Je.height,zt=ut,nr=Ut,Ht=1;Be&&(Ht=ut/Be,nr=Ae*Ht),Ae&&nr>Ut&&(Ht=Ut/Ae,zt=Be*Ht,nr=Ut),Qt(Qe,{width:zt,height:nr}),Qt(Qe.getElementsByTagName("img")[0],bt({width:Fe*Ht,height:$e*Ht},Ft(bt({translateX:-dt*Ht,translateY:-ot*Ht},se))))}))}},Us={bind:function(){var se=this.element,ve=this.options,ye=this.cropper;ct(ve.cropstart)&&Xr(se,ge,ve.cropstart),ct(ve.cropmove)&&Xr(se,le,ve.cropmove),ct(ve.cropend)&&Xr(se,he,ve.cropend),ct(ve.crop)&&Xr(se,be,ve.crop),ct(ve.zoom)&&Xr(se,Me,ve.zoom),Xr(ye,ee,this.onCropStart=this.cropStart.bind(this)),ve.zoomable&&ve.zoomOnWheel&&Xr(ye,je,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),ve.toggleDragModeOnDblclick&&Xr(ye,U,this.onDblclick=this.dblclick.bind(this)),Xr(se.ownerDocument,ae,this.onCropMove=this.cropMove.bind(this)),Xr(se.ownerDocument,_e,this.onCropEnd=this.cropEnd.bind(this)),ve.responsive&&Xr(window,ue,this.onResize=this.resize.bind(this))},unbind:function(){var se=this.element,ve=this.options,ye=this.cropper;ct(ve.cropstart)&&Kr(se,ge,ve.cropstart),ct(ve.cropmove)&&Kr(se,le,ve.cropmove),ct(ve.cropend)&&Kr(se,he,ve.cropend),ct(ve.crop)&&Kr(se,be,ve.crop),ct(ve.zoom)&&Kr(se,Me,ve.zoom),Kr(ye,ee,this.onCropStart),ve.zoomable&&ve.zoomOnWheel&&Kr(ye,je,this.onWheel,{passive:!1,capture:!0}),ve.toggleDragModeOnDblclick&&Kr(ye,U,this.onDblclick),Kr(se.ownerDocument,ae,this.onCropMove),Kr(se.ownerDocument,_e,this.onCropEnd),ve.responsive&&Kr(window,ue,this.onResize)}},zs={resize:function(){if(!this.disabled){var se=this.options,ve=this.container,ye=this.containerData,Be=ve.offsetWidth/ye.width,Ae=ve.offsetHeight/ye.height,Fe=Math.abs(Be-1)>Math.abs(Ae-1)?Be:Ae;if(Fe!==1){var $e,dt;se.restore&&($e=this.getCanvasData(),dt=this.getCropBoxData()),this.render(),se.restore&&(this.setCanvasData(ht($e,function(ot,Qe){$e[Qe]=ot*Fe})),this.setCropBoxData(ht(dt,function(ot,Qe){dt[Qe]=ot*Fe})))}}},dblclick:function(){this.disabled||this.options.dragMode===ce||this.setDragMode(Wt(this.dragBox,W)?ne:re)},wheel:function(se){var ve=this,ye=Number(this.options.wheelZoomRatio)||.1,Be=1;this.disabled||(se.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){ve.wheeling=!1},50),se.deltaY?Be=se.deltaY>0?1:-1:se.wheelDelta?Be=-se.wheelDelta/120:se.detail&&(Be=se.detail>0?1:-1),this.zoom(-Be*ye,se)))},cropStart:function(se){var ve=se.buttons,ye=se.button;if(!(this.disabled||(se.type==="mousedown"||se.type==="pointerdown"&&se.pointerType==="mouse")&&(Se(ve)&&ve!==1||Se(ye)&&ye!==0||se.ctrlKey))){var Be=this.options,Ae=this.pointers,Fe;se.changedTouches?ht(se.changedTouches,function($e){Ae[$e.identifier]=Lt($e)}):Ae[se.pointerId||0]=Lt(se),Object.keys(Ae).length>1&&Be.zoomable&&Be.zoomOnTouch?Fe=C:Fe=wr(se.target,V),qe.test(Fe)&&Te(this.element,ge,{originalEvent:se,action:Fe})!==!1&&(se.preventDefault(),this.action=Fe,this.cropping=!1,Fe===E&&(this.cropping=!0,It(this.dragBox,M)))}},cropMove:function(se){var ve=this.action;if(!(this.disabled||!ve)){var ye=this.pointers;se.preventDefault(),Te(this.element,le,{originalEvent:se,action:ve})!==!1&&(se.changedTouches?ht(se.changedTouches,function(Be){bt(ye[Be.identifier]||{},Lt(Be,!0))}):bt(ye[se.pointerId||0]||{},Lt(se,!0)),this.change(se))}},cropEnd:function(se){if(!this.disabled){var ve=this.action,ye=this.pointers;se.changedTouches?ht(se.changedTouches,function(Be){delete ye[Be.identifier]}):delete ye[se.pointerId||0],ve&&(se.preventDefault(),Object.keys(ye).length||(this.action=""),this.cropping&&(this.cropping=!1,ur(this.dragBox,M,this.cropped&&this.options.modal)),Te(this.element,he,{originalEvent:se,action:ve}))}}},Vs={change:function(se){var ve=this.options,ye=this.canvasData,Be=this.containerData,Ae=this.cropBoxData,Fe=this.pointers,$e=this.action,dt=ve.aspectRatio,ot=Ae.left,Qe=Ae.top,Je=Ae.width,ut=Ae.height,Ut=ot+Je,zt=Qe+ut,nr=0,Ht=0,gr=Be.width,Ar=Be.height,hr=!0,Rn;!dt&&se.shiftKey&&(dt=Je&&ut?Je/ut:1),this.limited&&(nr=Ae.minLeft,Ht=Ae.minTop,gr=nr+Math.min(Be.width,ye.width,ye.left+ye.width),Ar=Ht+Math.min(Be.height,ye.height,ye.top+ye.height));var hn=Fe[Object.keys(Fe)[0]],ft={x:hn.endX-hn.startX,y:hn.endY-hn.startY},Yt=function(pr){switch(pr){case L:Ut+ft.x>gr&&(ft.x=gr-Ut);break;case A:ot+ft.x<nr&&(ft.x=nr-ot);break;case R:Qe+ft.y<Ht&&(ft.y=Ht-Qe);break;case P:zt+ft.y>Ar&&(ft.y=Ar-zt);break}};switch($e){case k:ot+=ft.x,Qe+=ft.y;break;case L:if(ft.x>=0&&(Ut>=gr||dt&&(Qe<=Ht||zt>=Ar))){hr=!1;break}Yt(L),Je+=ft.x,Je<0&&($e=A,Je=-Je,ot-=Je),dt&&(ut=Je/dt,Qe+=(Ae.height-ut)/2);break;case R:if(ft.y<=0&&(Qe<=Ht||dt&&(ot<=nr||Ut>=gr))){hr=!1;break}Yt(R),ut-=ft.y,Qe+=ft.y,ut<0&&($e=P,ut=-ut,Qe-=ut),dt&&(Je=ut*dt,ot+=(Ae.width-Je)/2);break;case A:if(ft.x<=0&&(ot<=nr||dt&&(Qe<=Ht||zt>=Ar))){hr=!1;break}Yt(A),Je-=ft.x,ot+=ft.x,Je<0&&($e=L,Je=-Je,ot-=Je),dt&&(ut=Je/dt,Qe+=(Ae.height-ut)/2);break;case P:if(ft.y>=0&&(zt>=Ar||dt&&(ot<=nr||Ut>=gr))){hr=!1;break}Yt(P),ut+=ft.y,ut<0&&($e=R,ut=-ut,Qe-=ut),dt&&(Je=ut*dt,ot+=(Ae.width-Je)/2);break;case I:if(dt){if(ft.y<=0&&(Qe<=Ht||Ut>=gr)){hr=!1;break}Yt(R),ut-=ft.y,Qe+=ft.y,Je=ut*dt}else Yt(R),Yt(L),ft.x>=0?Ut<gr?Je+=ft.x:ft.y<=0&&Qe<=Ht&&(hr=!1):Je+=ft.x,ft.y<=0?Qe>Ht&&(ut-=ft.y,Qe+=ft.y):(ut-=ft.y,Qe+=ft.y);Je<0&&ut<0?($e=G,ut=-ut,Je=-Je,Qe-=ut,ot-=Je):Je<0?($e=N,Je=-Je,ot-=Je):ut<0&&($e=z,ut=-ut,Qe-=ut);break;case N:if(dt){if(ft.y<=0&&(Qe<=Ht||ot<=nr)){hr=!1;break}Yt(R),ut-=ft.y,Qe+=ft.y,Je=ut*dt,ot+=Ae.width-Je}else Yt(R),Yt(A),ft.x<=0?ot>nr?(Je-=ft.x,ot+=ft.x):ft.y<=0&&Qe<=Ht&&(hr=!1):(Je-=ft.x,ot+=ft.x),ft.y<=0?Qe>Ht&&(ut-=ft.y,Qe+=ft.y):(ut-=ft.y,Qe+=ft.y);Je<0&&ut<0?($e=z,ut=-ut,Je=-Je,Qe-=ut,ot-=Je):Je<0?($e=I,Je=-Je,ot-=Je):ut<0&&($e=G,ut=-ut,Qe-=ut);break;case G:if(dt){if(ft.x<=0&&(ot<=nr||zt>=Ar)){hr=!1;break}Yt(A),Je-=ft.x,ot+=ft.x,ut=Je/dt}else Yt(P),Yt(A),ft.x<=0?ot>nr?(Je-=ft.x,ot+=ft.x):ft.y>=0&&zt>=Ar&&(hr=!1):(Je-=ft.x,ot+=ft.x),ft.y>=0?zt<Ar&&(ut+=ft.y):ut+=ft.y;Je<0&&ut<0?($e=I,ut=-ut,Je=-Je,Qe-=ut,ot-=Je):Je<0?($e=z,Je=-Je,ot-=Je):ut<0&&($e=N,ut=-ut,Qe-=ut);break;case z:if(dt){if(ft.x>=0&&(Ut>=gr||zt>=Ar)){hr=!1;break}Yt(L),Je+=ft.x,ut=Je/dt}else Yt(P),Yt(L),ft.x>=0?Ut<gr?Je+=ft.x:ft.y>=0&&zt>=Ar&&(hr=!1):Je+=ft.x,ft.y>=0?zt<Ar&&(ut+=ft.y):ut+=ft.y;Je<0&&ut<0?($e=N,ut=-ut,Je=-Je,Qe-=ut,ot-=Je):Je<0?($e=G,Je=-Je,ot-=Je):ut<0&&($e=I,ut=-ut,Qe-=ut);break;case j:this.move(ft.x,ft.y),hr=!1;break;case C:this.zoom(mt(Fe),se),hr=!1;break;case E:if(!ft.x||!ft.y){hr=!1;break}Rn=st(this.cropper),ot=hn.startX-Rn.left,Qe=hn.startY-Rn.top,Je=Ae.minWidth,ut=Ae.minHeight,ft.x>0?$e=ft.y>0?z:I:ft.x<0&&(ot-=Je,$e=ft.y>0?G:N),ft.y<0&&(Qe-=ut),this.cropped||(Rt(this.cropBox,Z),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}hr&&(Ae.width=Je,Ae.height=ut,Ae.left=ot,Ae.top=Qe,this.action=$e,this.renderCropBox()),ht(Fe,function(vr){vr.startX=vr.endX,vr.startY=vr.endY})}},os={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&It(this.dragBox,M),Rt(this.cropBox,Z),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=bt({},this.initialImageData),this.canvasData=bt({},this.initialCanvasData),this.cropBoxData=bt({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(bt(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),Rt(this.dragBox,M),It(this.cropBox,Z)),this},replace:function(se){var ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&se&&(this.isImg&&(this.element.src=se),ve?(this.url=se,this.image.src=se,this.ready&&(this.viewBoxImage.src=se,ht(this.previews,function(ye){ye.getElementsByTagName("img")[0].src=se}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(se))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,Rt(this.cropper,H)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,It(this.cropper,H)),this},destroy:function(){var se=this.element;return se[x]?(se[x]=void 0,this.isImg&&this.replaced&&(se.src=this.originalUrl),this.uncreate(),this):this},move:function(se){var ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:se,ye=this.canvasData,Be=ye.left,Ae=ye.top;return this.moveTo(Ue(se)?se:Be+Number(se),Ue(ve)?ve:Ae+Number(ve))},moveTo:function(se){var ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:se,ye=this.canvasData,Be=!1;return se=Number(se),ve=Number(ve),this.ready&&!this.disabled&&this.options.movable&&(Se(se)&&(ye.left=se,Be=!0),Se(ve)&&(ye.top=ve,Be=!0),Be&&this.renderCanvas(!0)),this},zoom:function(se,ve){var ye=this.canvasData;return se=Number(se),se<0?se=1/(1-se):se=1+se,this.zoomTo(ye.width*se/ye.naturalWidth,null,ve)},zoomTo:function(se,ve,ye){var Be=this.options,Ae=this.canvasData,Fe=Ae.width,$e=Ae.height,dt=Ae.naturalWidth,ot=Ae.naturalHeight;if(se=Number(se),se>=0&&this.ready&&!this.disabled&&Be.zoomable){var Qe=dt*se,Je=ot*se;if(Te(this.element,Me,{ratio:se,oldRatio:Fe/dt,originalEvent:ye})===!1)return this;if(ye){var ut=this.pointers,Ut=st(this.cropper),zt=ut&&Object.keys(ut).length?gt(ut):{pageX:ye.pageX,pageY:ye.pageY};Ae.left-=(Qe-Fe)*((zt.pageX-Ut.left-Ae.left)/Fe),Ae.top-=(Je-$e)*((zt.pageY-Ut.top-Ae.top)/$e)}else it(ve)&&Se(ve.x)&&Se(ve.y)?(Ae.left-=(Qe-Fe)*((ve.x-Ae.left)/Fe),Ae.top-=(Je-$e)*((ve.y-Ae.top)/$e)):(Ae.left-=(Qe-Fe)/2,Ae.top-=(Je-$e)/2);Ae.width=Qe,Ae.height=Je,this.renderCanvas(!0)}return this},rotate:function(se){return this.rotateTo((this.imageData.rotate||0)+Number(se))},rotateTo:function(se){return se=Number(se),Se(se)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=se%360,this.renderCanvas(!0,!0)),this},scaleX:function(se){var ve=this.imageData.scaleY;return this.scale(se,Se(ve)?ve:1)},scaleY:function(se){var ve=this.imageData.scaleX;return this.scale(Se(ve)?ve:1,se)},scale:function(se){var ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:se,ye=this.imageData,Be=!1;return se=Number(se),ve=Number(ve),this.ready&&!this.disabled&&this.options.scalable&&(Se(se)&&(ye.scaleX=se,Be=!0),Se(ve)&&(ye.scaleY=ve,Be=!0),Be&&this.renderCanvas(!0,!0)),this},getData:function(){var se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,ve=this.options,ye=this.imageData,Be=this.canvasData,Ae=this.cropBoxData,Fe;if(this.ready&&this.cropped){Fe={x:Ae.left-Be.left,y:Ae.top-Be.top,width:Ae.width,height:Ae.height};var $e=ye.width/ye.naturalWidth;if(ht(Fe,function(Qe,Je){Fe[Je]=Qe/$e}),se){var dt=Math.round(Fe.y+Fe.height),ot=Math.round(Fe.x+Fe.width);Fe.x=Math.round(Fe.x),Fe.y=Math.round(Fe.y),Fe.width=ot-Fe.x,Fe.height=dt-Fe.y}}else Fe={x:0,y:0,width:0,height:0};return ve.rotatable&&(Fe.rotate=ye.rotate||0),ve.scalable&&(Fe.scaleX=ye.scaleX||1,Fe.scaleY=ye.scaleY||1),Fe},setData:function(se){var ve=this.options,ye=this.imageData,Be=this.canvasData,Ae={};if(this.ready&&!this.disabled&&it(se)){var Fe=!1;ve.rotatable&&Se(se.rotate)&&se.rotate!==ye.rotate&&(ye.rotate=se.rotate,Fe=!0),ve.scalable&&(Se(se.scaleX)&&se.scaleX!==ye.scaleX&&(ye.scaleX=se.scaleX,Fe=!0),Se(se.scaleY)&&se.scaleY!==ye.scaleY&&(ye.scaleY=se.scaleY,Fe=!0)),Fe&&this.renderCanvas(!0,!0);var $e=ye.width/ye.naturalWidth;Se(se.x)&&(Ae.left=se.x*$e+Be.left),Se(se.y)&&(Ae.top=se.y*$e+Be.top),Se(se.width)&&(Ae.width=se.width*$e),Se(se.height)&&(Ae.height=se.height*$e),this.setCropBoxData(Ae)}return this},getContainerData:function(){return this.ready?bt({},this.containerData):{}},getImageData:function(){return this.sized?bt({},this.imageData):{}},getCanvasData:function(){var se=this.canvasData,ve={};return this.ready&&ht(["left","top","width","height","naturalWidth","naturalHeight"],function(ye){ve[ye]=se[ye]}),ve},setCanvasData:function(se){var ve=this.canvasData,ye=ve.aspectRatio;return this.ready&&!this.disabled&&it(se)&&(Se(se.left)&&(ve.left=se.left),Se(se.top)&&(ve.top=se.top),Se(se.width)?(ve.width=se.width,ve.height=se.width/ye):Se(se.height)&&(ve.height=se.height,ve.width=se.height*ye),this.renderCanvas(!0)),this},getCropBoxData:function(){var se=this.cropBoxData,ve;return this.ready&&this.cropped&&(ve={left:se.left,top:se.top,width:se.width,height:se.height}),ve||{}},setCropBoxData:function(se){var ve=this.cropBoxData,ye=this.options.aspectRatio,Be,Ae;return this.ready&&this.cropped&&!this.disabled&&it(se)&&(Se(se.left)&&(ve.left=se.left),Se(se.top)&&(ve.top=se.top),Se(se.width)&&se.width!==ve.width&&(Be=!0,ve.width=se.width),Se(se.height)&&se.height!==ve.height&&(Ae=!0,ve.height=se.height),ye&&(Be?ve.height=ve.width/ye:Ae&&(ve.width=ve.height*ye)),this.renderCropBox()),this},getCroppedCanvas:function(){var se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var ve=this.canvasData,ye=cr(this.image,this.imageData,ve,se);if(!this.cropped)return ye;var Be=this.getData(se.rounded),Ae=Be.x,Fe=Be.y,$e=Be.width,dt=Be.height,ot=ye.width/Math.floor(ve.naturalWidth);ot!==1&&(Ae*=ot,Fe*=ot,$e*=ot,dt*=ot);var Qe=$e/dt,Je=Zt({aspectRatio:Qe,width:se.maxWidth||1/0,height:se.maxHeight||1/0}),ut=Zt({aspectRatio:Qe,width:se.minWidth||0,height:se.minHeight||0},"cover"),Ut=Zt({aspectRatio:Qe,width:se.width||(ot!==1?ye.width:$e),height:se.height||(ot!==1?ye.height:dt)}),zt=Ut.width,nr=Ut.height;zt=Math.min(Je.width,Math.max(ut.width,zt)),nr=Math.min(Je.height,Math.max(ut.height,nr));var Ht=document.createElement("canvas"),gr=Ht.getContext("2d");Ht.width=Gt(zt),Ht.height=Gt(nr),gr.fillStyle=se.fillColor||"transparent",gr.fillRect(0,0,zt,nr);var Ar=se.imageSmoothingEnabled,hr=Ar===void 0?!0:Ar,Rn=se.imageSmoothingQuality;gr.imageSmoothingEnabled=hr,Rn&&(gr.imageSmoothingQuality=Rn);var hn=ye.width,ft=ye.height,Yt=Ae,vr=Fe,pr,Ur,xn,wn,Yr,rn;Yt<=-$e||Yt>hn?(Yt=0,pr=0,xn=0,Yr=0):Yt<=0?(xn=-Yt,Yt=0,pr=Math.min(hn,$e+Yt),Yr=pr):Yt<=hn&&(xn=0,pr=Math.min($e,hn-Yt),Yr=pr),pr<=0||vr<=-dt||vr>ft?(vr=0,Ur=0,wn=0,rn=0):vr<=0?(wn=-vr,vr=0,Ur=Math.min(ft,dt+vr),rn=Ur):vr<=ft&&(wn=0,Ur=Math.min(dt,ft-vr),rn=Ur);var nn=[Yt,vr,pr,Ur];if(Yr>0&&rn>0){var on=zt/$e;nn.push(xn*on,wn*on,Yr*on,rn*on)}return gr.drawImage.apply(gr,[ye].concat(m(nn.map(function(Xn){return Math.floor(Gt(Xn))})))),Ht},setAspectRatio:function(se){var ve=this.options;return!this.disabled&&!Ue(se)&&(ve.aspectRatio=Math.max(0,se)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(se){var ve=this.options,ye=this.dragBox,Be=this.face;if(this.ready&&!this.disabled){var Ae=se===re,Fe=ve.movable&&se===ne;se=Ae||Fe?se:ce,ve.dragMode=se,In(ye,V,se),ur(ye,W,Ae),ur(ye,B,Fe),ve.cropBoxMovable||(In(Be,V,se),ur(Be,W,Ae),ur(Be,B,Fe))}return this}},Gs=l.Cropper,ss=function(){function Ce(se){var ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(d(this,Ce),!se||!Xe.test(se.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=se,this.options=bt({},pe,it(ve)&&ve),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return p(Ce,[{key:"init",value:function(){var ve=this.element,ye=ve.tagName.toLowerCase(),Be;if(!ve[x]){if(ve[x]=this,ye==="img"){if(this.isImg=!0,Be=ve.getAttribute("src")||"",this.originalUrl=Be,!Be)return;Be=ve.src}else ye==="canvas"&&window.HTMLCanvasElement&&(Be=ve.toDataURL());this.load(Be)}}},{key:"load",value:function(ve){var ye=this;if(ve){this.url=ve,this.imageData={};var Be=this.element,Ae=this.options;if(!Ae.rotatable&&!Ae.scalable&&(Ae.checkOrientation=!1),!Ae.checkOrientation||!window.ArrayBuffer){this.clone();return}if(Ye.test(ve)){Ee.test(ve)?this.read(kn(ve)):this.clone();return}var Fe=new XMLHttpRequest,$e=this.clone.bind(this);this.reloading=!0,this.xhr=Fe,Fe.onabort=$e,Fe.onerror=$e,Fe.ontimeout=$e,Fe.onprogress=function(){Fe.getResponseHeader("content-type")!==Le&&Fe.abort()},Fe.onload=function(){ye.read(Fe.response)},Fe.onloadend=function(){ye.reloading=!1,ye.xhr=null},Ae.checkCrossOrigin&&Pt(ve)&&Be.crossOrigin&&(ve=tt(ve)),Fe.open("GET",ve,!0),Fe.responseType="arraybuffer",Fe.withCredentials=Be.crossOrigin==="use-credentials",Fe.send()}}},{key:"read",value:function(ve){var ye=this.options,Be=this.imageData,Ae=Bs(ve),Fe=0,$e=1,dt=1;if(Ae>1){this.url=Or(ve,Le);var ot=_n(Ae);Fe=ot.rotate,$e=ot.scaleX,dt=ot.scaleY}ye.rotatable&&(Be.rotate=Fe),ye.scalable&&(Be.scaleX=$e,Be.scaleY=dt),this.clone()}},{key:"clone",value:function(){var ve=this.element,ye=this.url,Be=ve.crossOrigin,Ae=ye;this.options.checkCrossOrigin&&Pt(ye)&&(Be||(Be="anonymous"),Ae=tt(ye)),this.crossOrigin=Be,this.crossOriginUrl=Ae;var Fe=document.createElement("img");Be&&(Fe.crossOrigin=Be),Fe.src=Ae||ye,Fe.alt=ve.alt||"The image to crop",this.image=Fe,Fe.onload=this.start.bind(this),Fe.onerror=this.stop.bind(this),It(Fe,Y),ve.parentNode.insertBefore(Fe,ve.nextSibling)}},{key:"start",value:function(){var ve=this,ye=this.image;ye.onload=null,ye.onerror=null,this.sizing=!0;var Be=l.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(l.navigator.userAgent),Ae=function(ot,Qe){bt(ve.imageData,{naturalWidth:ot,naturalHeight:Qe,aspectRatio:ot/Qe}),ve.initialImageData=bt({},ve.imageData),ve.sizing=!1,ve.sized=!0,ve.build()};if(ye.naturalWidth&&!Be){Ae(ye.naturalWidth,ye.naturalHeight);return}var Fe=document.createElement("img"),$e=document.body||document.documentElement;this.sizingImage=Fe,Fe.onload=function(){Ae(Fe.width,Fe.height),Be||$e.removeChild(Fe)},Fe.src=ye.src,Be||(Fe.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",$e.appendChild(Fe))}},{key:"stop",value:function(){var ve=this.image;ve.onload=null,ve.onerror=null,ve.parentNode.removeChild(ve),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var ve=this.element,ye=this.options,Be=this.image,Ae=ve.parentNode,Fe=document.createElement("div");Fe.innerHTML=$;var $e=Fe.querySelector(".".concat(x,"-container")),dt=$e.querySelector(".".concat(x,"-canvas")),ot=$e.querySelector(".".concat(x,"-drag-box")),Qe=$e.querySelector(".".concat(x,"-crop-box")),Je=Qe.querySelector(".".concat(x,"-face"));this.container=Ae,this.cropper=$e,this.canvas=dt,this.dragBox=ot,this.cropBox=Qe,this.viewBox=$e.querySelector(".".concat(x,"-view-box")),this.face=Je,dt.appendChild(Be),It(ve,Z),Ae.insertBefore($e,ve.nextSibling),Rt(Be,Y),this.initPreview(),this.bind(),ye.initialAspectRatio=Math.max(0,ye.initialAspectRatio)||NaN,ye.aspectRatio=Math.max(0,ye.aspectRatio)||NaN,ye.viewMode=Math.max(0,Math.min(3,Math.round(ye.viewMode)))||0,It(Qe,Z),ye.guides||It(Qe.getElementsByClassName("".concat(x,"-dashed")),Z),ye.center||It(Qe.getElementsByClassName("".concat(x,"-center")),Z),ye.background&&It($e,"".concat(x,"-bg")),ye.highlight||It(Je,Q),ye.cropBoxMovable&&(It(Je,B),In(Je,V,k)),ye.cropBoxResizable||(It(Qe.getElementsByClassName("".concat(x,"-line")),Z),It(Qe.getElementsByClassName("".concat(x,"-point")),Z)),this.render(),this.ready=!0,this.setDragMode(ye.dragMode),ye.autoCrop&&this.crop(),this.setData(ye.data),ct(ye.ready)&&Xr(ve,Oe,ye.ready,{once:!0}),Te(ve,Oe)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var ve=this.cropper.parentNode;ve&&ve.removeChild(this.cropper),Rt(this.element,Z)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=Gs,Ce}},{key:"setDefaults",value:function(ve){bt(pe,it(ve)&&ve)}}])}();return bt(ss.prototype,no,Do,Us,zs,Vs,os),ss})}(di)),di.exports}var Du;function ng(){if(Du)return ei;Du=1,Object.defineProperty(ei,"__esModule",{value:!0});var f=eg(),w=rg(),T=t(w);function t(o){return o&&o.__esModule?o:{default:o}}function S(o,d){var s={};for(var p in o)d.indexOf(p)>=0||Object.prototype.hasOwnProperty.call(o,p)&&(s[p]=o[p]);return s}var b=typeof window>"u"?[String,Array]:[String,Array,Element,NodeList];return ei.default={render:function(){var d=this.crossorigin||void 0;return(0,f.h)("div",{style:this.containerStyle},[(0,f.h)("img",{ref:"img",src:this.src,alt:this.alt||"image",style:[{"max-width":"100%"},this.imgStyle],crossorigin:d})])},props:{containerStyle:Object,src:{type:String,default:""},alt:String,imgStyle:Object,viewMode:Number,dragMode:String,initialAspectRatio:Number,aspectRatio:Number,data:Object,preview:b,responsive:{type:Boolean,default:!0},restore:{type:Boolean,default:!0},checkCrossOrigin:{type:Boolean,default:!0},checkOrientation:{type:Boolean,default:!0},crossorigin:{type:String},modal:{type:Boolean,default:!0},guides:{type:Boolean,default:!0},center:{type:Boolean,default:!0},highlight:{type:Boolean,default:!0},background:{type:Boolean,default:!0},autoCrop:{type:Boolean,default:!0},autoCropArea:Number,movable:{type:Boolean,default:!0},rotatable:{type:Boolean,default:!0},scalable:{type:Boolean,default:!0},zoomable:{type:Boolean,default:!0},zoomOnTouch:{type:Boolean,default:!0},zoomOnWheel:{type:Boolean,default:!0},wheelZoomRatio:Number,cropBoxMovable:{type:Boolean,default:!0},cropBoxResizable:{type:Boolean,default:!0},toggleDragModeOnDblclick:{type:Boolean,default:!0},minCanvasWidth:Number,minCanvasHeight:Number,minCropBoxWidth:Number,minCropBoxHeight:Number,minContainerWidth:Number,minContainerHeight:Number,ready:Function,cropstart:Function,cropmove:Function,cropend:Function,crop:Function,zoom:Function},mounted:function(){var d=this.$options.props;d.containerStyle,d.src,d.alt,d.imgStyle;var s=S(d,["containerStyle","src","alt","imgStyle"]),p={};for(var y in s)this[y]!==void 0&&(p[y]=this[y]);this.cropper=new T.default(this.$refs.img,p)},methods:{reset:function(){return this.cropper.reset()},clear:function(){return this.cropper.clear()},initCrop:function(){return this.cropper.crop()},replace:function(d){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.cropper.replace(d,s)},enable:function(){return this.cropper.enable()},disable:function(){return this.cropper.disable()},destroy:function(){return this.cropper.destroy()},move:function(d,s){return this.cropper.move(d,s)},moveTo:function(d){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d;return this.cropper.moveTo(d,s)},relativeZoom:function(d,s){return this.cropper.zoom(d,s)},zoomTo:function(d,s){return this.cropper.zoomTo(d,s)},rotate:function(d){return this.cropper.rotate(d)},rotateTo:function(d){return this.cropper.rotateTo(d)},scaleX:function(d){return this.cropper.scaleX(d)},scaleY:function(d){return this.cropper.scaleY(d)},scale:function(d){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d;return this.cropper.scale(d,s)},getData:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this.cropper.getData(d)},setData:function(d){return this.cropper.setData(d)},getContainerData:function(){return this.cropper.getContainerData()},getImageData:function(){return this.cropper.getImageData()},getCanvasData:function(){return this.cropper.getCanvasData()},setCanvasData:function(d){return this.cropper.setCanvasData(d)},getCropBoxData:function(){return this.cropper.getCropBoxData()},setCropBoxData:function(d){return this.cropper.setCropBoxData(d)},getCroppedCanvas:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.cropper.getCroppedCanvas(d)},setAspectRatio:function(d){return this.cropper.setAspectRatio(d)},setDragMode:function(d){return this.cropper.setDragMode(d)}}},ei}var og=ng();const sg=Da(og),ig={class:"text-h6"},ag={__name:"DialogCropper",setup(f){const w=ts(),T=On("bus"),t=pt(!1),S=ws("cropper"),b=pt(null);T.on("selectAvatar",d=>{t.value=!0,b.value=d});const o=()=>{const d=S.value.getCroppedCanvas().toDataURL("image/png");w.avatarImage=d,T.emit("cropAvatar"),t.value=!1};return(d,s)=>(Nt(),Br(xc,{modelValue:t.value,"onUpdate:modelValue":s[1]||(s[1]=p=>t.value=p),persistent:"",maximized:""},{default:at(()=>[Ke(za,{class:"full-height",flat:""},{default:at(()=>[Ke(yi,{class:"q-pb-sm"},{default:at(()=>[Sn("div",ig,Tr(d.$t("dialog.crop.title")),1)]),_:1}),Ke(yi,{class:"q-pa-none",id:"cropper"},{default:at(()=>[Ke(vt(sg),{class:"vue-cropper",ref_key:"cropper",ref:S,src:b.value,"view-mode":2,"auto-crop-area":1},null,8,["src"])]),_:1}),Ke(rm,{align:"right"},{default:at(()=>[Ke(Gn,{flat:"",label:d.$t("dialog.crop.cancel"),onClick:s[0]||(s[0]=p=>t.value=!1)},null,8,["label"]),Ke(Gn,{flat:"",label:d.$t("dialog.crop.confirm"),onClick:o},null,8,["label"])]),_:1})]),_:1})]),_:1},8,["modelValue"]))}},lg=Aa(ag,[["__scopeId","data-v-0778a316"]]),ug={__name:"IndexPage",setup(f){const w=Rf(),T=Pe(()=>w.screen.lt.md);return(t,S)=>(Nt(),Br(Nf,null,{default:at(()=>[T.value?(Nt(),Br(Pf,{key:0,class:"bg-dark"},{default:at(()=>[Ke(Op)]),_:1})):Go("",!0),T.value?Go("",!0):(Nt(),Br(Dp,{key:1})),T.value?Go("",!0):(Nt(),Br(tm,{key:2})),Ke(Lf,{class:"bg-black"},{default:at(()=>[Ke(yh)]),_:1}),T.value?(Nt(),Br(Df,{key:3,class:"bg-dark"},{default:at(()=>[Ke(Ip)]),_:1})):Go("",!0),Ke(lg)]),_:1}))}},fg=Aa(ug,[["__scopeId","data-v-9bc602bc"]]);export{fg as default};
